(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1774:(rn,rt,z)=>{"use strict";z.d(rt,{c:()=>ft});var E=z(6225),m=z(839);let de;const De=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=Re=>(void 0===de&&(de=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),de),le=(Re,ae,qe)=>{const tt=ae.startsWith("animation")?_e(Re):"";Re.style.setProperty(tt+ae,qe)},x=(Re,ae)=>{const qe=ae.startsWith("animation")?_e(Re):"";Re.style.removeProperty(qe+ae)},fe=[],Pe=(Re=[],ae)=>{if(void 0!==ae){const qe=Array.isArray(ae)?ae:[ae];return[...Re,...qe]}return Re},ft=Re=>{let ae,qe,tt,Oe,Me,ke,je,ee,te,ue,ve,Zt,Mt,Ee=[],Te=[],Ce=[],st=!1,be={},it=[],Ae=[],gt={},kt=0,_n=!1,dt=!1,We=!0,Ge=!1,zt=!0,ce=!1;const Ze=Re,lt=[],ht=[],Rt=[],yt=[],mt=[],En=[],wn=[],Bn=[],mn=[],Ln=[],Zr="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zr,On=()=>Ln,ln=(j,J)=>((null!=J&&J.oneTimeCallback?ht:lt).push({c:j,o:J}),Mt),et=()=>{if(er)Ln.forEach(j=>{j.cancel()}),Ln.length=0;else{const j=Rt.slice();(0,m.r)(()=>{j.forEach(J=>{x(J,"animation-name"),x(J,"animation-duration"),x(J,"animation-timing-function"),x(J,"animation-iteration-count"),x(J,"animation-delay"),x(J,"animation-play-state"),x(J,"animation-fill-mode"),x(J,"animation-direction")})})}},Un=()=>{mt.forEach(j=>{null!=j&&j.parentNode&&j.parentNode.removeChild(j)}),mt.length=0},Fr=()=>void 0!==Me?Me:je?je.getFill():"both",zr=()=>void 0!==te?te:void 0!==ke?ke:je?je.getDirection():"normal",Ni=()=>_n?"linear":void 0!==tt?tt:je?je.getEasing():"linear",Je=()=>dt?0:void 0!==ue?ue:void 0!==qe?qe:je?je.getDuration():0,ge=()=>void 0!==Oe?Oe:je?je.getIterations():1,Ke=()=>void 0!==ve?ve:void 0!==ae?ae:je?je.getDelay():0,Pr=()=>{0!==kt&&(kt--,0===kt&&((()=>{Us(),Bn.forEach(Se=>Se()),mn.forEach(Se=>Se());const j=We?1:0,J=it,re=Ae,Le=gt;Rt.forEach(Se=>{const Ye=Se.classList;J.forEach(_t=>Ye.add(_t)),re.forEach(_t=>Ye.remove(_t));for(const _t in Le)Le.hasOwnProperty(_t)&&le(Se,_t,Le[_t])}),lt.forEach(Se=>Se.c(j,Mt)),ht.forEach(Se=>Se.c(j,Mt)),ht.length=0,zt=!0,We&&(Ge=!0),We=!0})(),je&&je.animationFinish()))},xo=(j=!0)=>{Un();const J=(Re=>(Re.forEach(ae=>{for(const qe in ae)if(ae.hasOwnProperty(qe)){const tt=ae[qe];if("easing"===qe)ae["animation-timing-function"]=tt,delete ae[qe];else{const Oe=De(qe);Oe!==qe&&(ae[Oe]=tt,delete ae[qe])}}}),Re))(Ee);Rt.forEach(re=>{if(J.length>0){const Le=((Re=[])=>Re.map(ae=>{const qe=ae.offset,tt=[];for(const Oe in ae)ae.hasOwnProperty(Oe)&&"offset"!==Oe&&tt.push(`${Oe}: ${ae[Oe]};`);return`${100*qe}% { ${tt.join(" ")} }`}).join(" "))(J);Zt=void 0!==Re?Re:(Re=>{let ae=fe.indexOf(Re);return ae<0&&(ae=fe.push(Re)-1),`ion-animation-${ae}`})(Le);const Se=((Re,ae,qe)=>{var tt;const Oe=(Re=>{const ae=void 0!==Re.getRootNode?Re.getRootNode():Re;return ae.head||ae})(qe),Me=_e(qe),ke=Oe.querySelector("#"+Re);if(ke)return ke;const Ee=(null!==(tt=qe.ownerDocument)&&void 0!==tt?tt:document).createElement("style");return Ee.id=Re,Ee.textContent=`@${Me}keyframes ${Re} { ${ae} } @${Me}keyframes ${Re}-alt { ${ae} }`,Oe.appendChild(Ee),Ee})(Zt,Le,re);mt.push(Se),le(re,"animation-duration",`${Je()}ms`),le(re,"animation-timing-function",Ni()),le(re,"animation-delay",`${Ke()}ms`),le(re,"animation-fill-mode",Fr()),le(re,"animation-direction",zr());const Ye=ge()===1/0?"infinite":ge().toString();le(re,"animation-iteration-count",Ye),le(re,"animation-play-state","paused"),j&&le(re,"animation-name",`${Se.id}-alt`),(0,m.r)(()=>{le(re,"animation-name",Se.id||null)})}})},ti=(j=!0)=>{(()=>{En.forEach(Le=>Le()),wn.forEach(Le=>Le());const j=Te,J=Ce,re=be;Rt.forEach(Le=>{const Se=Le.classList;j.forEach(Ye=>Se.add(Ye)),J.forEach(Ye=>Se.remove(Ye));for(const Ye in re)re.hasOwnProperty(Ye)&&le(Le,Ye,re[Ye])})})(),Ee.length>0&&(er?(Rt.forEach(j=>{const J=j.animate(Ee,{id:Ze,delay:Ke(),duration:Je(),easing:Ni(),iterations:ge(),fill:Fr(),direction:zr()});J.pause(),Ln.push(J)}),Ln.length>0&&(Ln[0].onfinish=()=>{Pr()})):xo(j)),st=!0},wi=j=>{if(j=Math.min(Math.max(j,0),.9999),er)Ln.forEach(J=>{J.currentTime=J.effect.getComputedTiming().delay+Je()*j,J.pause()});else{const J=`-${Je()*j}ms`;Rt.forEach(re=>{Ee.length>0&&(le(re,"animation-delay",J),le(re,"animation-play-state","paused"))})}},Es=j=>{Ln.forEach(J=>{J.effect.updateTiming({delay:Ke(),duration:Je(),easing:Ni(),iterations:ge(),fill:Fr(),direction:zr()})}),void 0!==j&&wi(j)},Lr=(j=!0,J)=>{(0,m.r)(()=>{Rt.forEach(re=>{le(re,"animation-name",Zt||null),le(re,"animation-duration",`${Je()}ms`),le(re,"animation-timing-function",Ni()),le(re,"animation-delay",void 0!==J?`-${J*Je()}ms`:`${Ke()}ms`),le(re,"animation-fill-mode",Fr()||null),le(re,"animation-direction",zr()||null);const Le=ge()===1/0?"infinite":ge().toString();le(re,"animation-iteration-count",Le),j&&le(re,"animation-name",`${Zt}-alt`),(0,m.r)(()=>{le(re,"animation-name",Zt||null)})})})},Vr=(j=!1,J=!0,re)=>(j&&yt.forEach(Le=>{Le.update(j,J,re)}),er?Es(re):Lr(J,re),Mt),ws=()=>{st&&(er?Ln.forEach(j=>{j.pause()}):Rt.forEach(j=>{le(j,"animation-play-state","paused")}),ce=!0)},uo=()=>{ee=void 0,Pr()},Us=()=>{ee&&clearTimeout(ee)},Ds=j=>new Promise(J=>{null!=j&&j.sync&&(dt=!0,ln(()=>dt=!1,{oneTimeCallback:!0})),st||ti(),Ge&&(er?(wi(0),Es()):Lr(),Ge=!1),zt&&(kt=yt.length+1,zt=!1),ln(()=>J(),{oneTimeCallback:!0}),yt.forEach(re=>{re.play()}),er?(Ln.forEach(j=>{j.play()}),(0===Ee.length||0===Rt.length)&&Pr()):(()=>{if(Us(),(0,m.r)(()=>{Rt.forEach(j=>{Ee.length>0&&le(j,"animation-play-state","running")})}),0===Ee.length||0===Rt.length)Pr();else{const j=Ke()||0,J=Je()||0,re=ge()||1;isFinite(re)&&(ee=setTimeout(uo,j+J*re+100)),((Re,ae)=>{let qe;const tt={passive:!0},Me=ke=>{Re===ke.target&&(qe&&qe(),Us(),(0,m.r)(()=>{Rt.forEach(j=>{x(j,"animation-duration"),x(j,"animation-delay"),x(j,"animation-play-state")}),(0,m.r)(Pr)}))};Re&&(Re.addEventListener("webkitAnimationEnd",Me,tt),Re.addEventListener("animationend",Me,tt),qe=()=>{Re.removeEventListener("webkitAnimationEnd",Me,tt),Re.removeEventListener("animationend",Me,tt)})})(Rt[0])}})(),ce=!1}),qr=(j,J)=>{const re=Ee[0];return void 0===re||void 0!==re.offset&&0!==re.offset?Ee=[{offset:0,[j]:J},...Ee]:re[j]=J,Mt};return Mt={parentAnimation:je,elements:Rt,childAnimations:yt,id:Ze,animationFinish:Pr,from:qr,to:(j,J)=>{const re=Ee[Ee.length-1];return void 0===re||void 0!==re.offset&&1!==re.offset?Ee=[...Ee,{offset:1,[j]:J}]:re[j]=J,Mt},fromTo:(j,J,re)=>qr(j,J).to(j,re),parent:j=>(je=j,Mt),play:Ds,pause:()=>(yt.forEach(j=>{j.pause()}),ws(),Mt),stop:()=>{yt.forEach(j=>{j.stop()}),st&&(et(),st=!1),_n=!1,dt=!1,zt=!0,te=void 0,ue=void 0,ve=void 0,kt=0,Ge=!1,We=!0,ce=!1},destroy:j=>(yt.forEach(J=>{J.destroy(j)}),(j=>{et(),j&&Un()})(j),Rt.length=0,yt.length=0,Ee.length=0,lt.length=0,ht.length=0,st=!1,zt=!0,Mt),keyframes:j=>{const J=Ee!==j;return Ee=j,J&&(j=>{er?On().forEach(J=>{if(J.effect.setKeyframes)J.effect.setKeyframes(j);else{const re=new KeyframeEffect(J.effect.target,j,J.effect.getTiming());J.effect=re}}):xo()})(Ee),Mt},addAnimation:j=>{if(null!=j)if(Array.isArray(j))for(const J of j)J.parent(Mt),yt.push(J);else j.parent(Mt),yt.push(j);return Mt},addElement:j=>{if(null!=j)if(1===j.nodeType)Rt.push(j);else if(j.length>=0)for(let J=0;J<j.length;J++)Rt.push(j[J]);else console.error("Invalid addElement value");return Mt},update:Vr,fill:j=>(Me=j,Vr(!0),Mt),direction:j=>(ke=j,Vr(!0),Mt),iterations:j=>(Oe=j,Vr(!0),Mt),duration:j=>(!er&&0===j&&(j=1),qe=j,Vr(!0),Mt),easing:j=>(tt=j,Vr(!0),Mt),delay:j=>(ae=j,Vr(!0),Mt),getWebAnimations:On,getKeyframes:()=>Ee,getFill:Fr,getDirection:zr,getDelay:Ke,getIterations:ge,getEasing:Ni,getDuration:Je,afterAddRead:j=>(Bn.push(j),Mt),afterAddWrite:j=>(mn.push(j),Mt),afterClearStyles:(j=[])=>{for(const J of j)gt[J]="";return Mt},afterStyles:(j={})=>(gt=j,Mt),afterRemoveClass:j=>(Ae=Pe(Ae,j),Mt),afterAddClass:j=>(it=Pe(it,j),Mt),beforeAddRead:j=>(En.push(j),Mt),beforeAddWrite:j=>(wn.push(j),Mt),beforeClearStyles:(j=[])=>{for(const J of j)be[J]="";return Mt},beforeStyles:(j={})=>(be=j,Mt),beforeRemoveClass:j=>(Ce=Pe(Ce,j),Mt),beforeAddClass:j=>(Te=Pe(Te,j),Mt),onFinish:ln,isRunning:()=>0!==kt&&!ce,progressStart:(j=!1,J)=>(yt.forEach(re=>{re.progressStart(j,J)}),ws(),_n=j,st||ti(),Vr(!1,!0,J),Mt),progressStep:j=>(yt.forEach(J=>{J.progressStep(j)}),wi(j),Mt),progressEnd:(j,J,re)=>(_n=!1,yt.forEach(Le=>{Le.progressEnd(j,J,re)}),void 0!==re&&(ue=re),Ge=!1,We=!0,0===j?(te="reverse"===zr()?"normal":"reverse","reverse"===te&&(We=!1),er?(Vr(),wi(1-J)):(ve=(1-J)*Je()*-1,Vr(!1,!1))):1===j&&(er?(Vr(),wi(J)):(ve=J*Je()*-1,Vr(!1,!1))),void 0!==j&&(ln(()=>{ue=void 0,te=void 0,ve=void 0},{oneTimeCallback:!0}),je||Ds()),Mt)}}},3365:(rn,rt,z)=>{"use strict";z.d(rt,{E:()=>Ue,a:()=>E,s:()=>x});const E=fe=>{try{if(fe instanceof le)return fe.value;if(!ie()||"string"!=typeof fe||""===fe)return fe;if(fe.includes("onload="))return"";const we=document.createDocumentFragment(),me=document.createElement("div");we.appendChild(me),me.innerHTML=fe,_e.forEach(Re=>{const ae=we.querySelectorAll(Re);for(let qe=ae.length-1;qe>=0;qe--){const tt=ae[qe];tt.parentNode?tt.parentNode.removeChild(tt):we.removeChild(tt);const Oe=de(tt);for(let Me=0;Me<Oe.length;Me++)m(Oe[Me])}});const pe=de(we);for(let Re=0;Re<pe.length;Re++)m(pe[Re]);const Pe=document.createElement("div");Pe.appendChild(we);const ft=Pe.querySelector("div");return null!==ft?ft.innerHTML:Pe.innerHTML}catch(we){return console.error(we),""}},m=fe=>{if(fe.nodeType&&1!==fe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(fe.attributes instanceof NamedNodeMap))return void fe.remove();for(let me=fe.attributes.length-1;me>=0;me--){const pe=fe.attributes.item(me),Pe=pe.name;if(!De.includes(Pe.toLowerCase())){fe.removeAttribute(Pe);continue}const ft=pe.value,Re=fe[Pe];(null!=ft&&ft.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&fe.removeAttribute(Pe)}const we=de(fe);for(let me=0;me<we.length;me++)m(we[me])},de=fe=>null!=fe.children?fe.children:fe.childNodes,ie=()=>{var fe;const we=window,me=null===(fe=null==we?void 0:we.Ionic)||void 0===fe?void 0:fe.config;return!me||(me.get?me.get("sanitizerEnabled",!0):!0===me.sanitizerEnabled||void 0===me.sanitizerEnabled)},De=["class","id","href","src","name","slot"],_e=["script","style","iframe","meta","link","object","embed"];class le{constructor(we){this.value=we}}const x=fe=>{const we=window,me=we.Ionic;if(!me||!me.config||"Object"===me.config.constructor.name)return we.Ionic=we.Ionic||{},we.Ionic.config=Object.assign(Object.assign({},we.Ionic.config),fe),we.Ionic.config},Ue=!1},6559:(rn,rt,z)=>{"use strict";z.d(rt,{C:()=>De,a:()=>de,d:()=>ie});var E=z(5861),m=z(839);const de=function(){var _e=(0,E.Z)(function*(le,x,Ne,Ue,fe,we){var me;if(le)return le.attachViewToDom(x,Ne,fe,Ue);if(!(we||"string"==typeof Ne||Ne instanceof HTMLElement))throw new Error("framework delegate is missing");const pe="string"==typeof Ne?null===(me=x.ownerDocument)||void 0===me?void 0:me.createElement(Ne):Ne;return Ue&&Ue.forEach(Pe=>pe.classList.add(Pe)),fe&&Object.assign(pe,fe),x.appendChild(pe),yield new Promise(Pe=>(0,m.c)(pe,Pe)),pe});return function(x,Ne,Ue,fe,we,me){return _e.apply(this,arguments)}}(),ie=(_e,le)=>{if(le){if(_e)return _e.removeViewFromDom(le.parentElement,le);le.remove()}return Promise.resolve()},De=()=>{let _e,le;return{attachViewToDom:function(){var Ue=(0,E.Z)(function*(fe,we,me={},pe=[]){var Pe,ft;let Re;if(_e=fe,we){const qe="string"==typeof we?null===(Pe=_e.ownerDocument)||void 0===Pe?void 0:Pe.createElement(we):we;pe.forEach(tt=>qe.classList.add(tt)),Object.assign(qe,me),_e.appendChild(qe),Re=qe,yield new Promise(tt=>(0,m.c)(qe,tt))}else if(_e.children.length>0&&("ION-MODAL"===_e.tagName||"ION-POPOVER"===_e.tagName)&&!(Re=_e.children[0]).classList.contains("ion-delegate-host")){const tt=null===(ft=_e.ownerDocument)||void 0===ft?void 0:ft.createElement("div");tt.classList.add("ion-delegate-host"),pe.forEach(Oe=>tt.classList.add(Oe)),tt.append(..._e.children),_e.appendChild(tt),Re=tt}const ae=document.querySelector("ion-app")||document.body;return le=document.createComment("ionic teleport"),_e.parentNode.insertBefore(le,_e),ae.appendChild(_e),null!=Re?Re:_e});return function(we,me){return Ue.apply(this,arguments)}}(),removeViewFromDom:()=>(_e&&le&&(le.parentNode.insertBefore(_e,le),le.remove()),Promise.resolve())}}},619:(rn,rt,z)=>{"use strict";z.d(rt,{G:()=>De});class m{constructor(le,x,Ne,Ue,fe){this.id=x,this.name=Ne,this.disableScroll=fe,this.priority=1e6*Ue+x,this.ctrl=le}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const le=this.ctrl.capture(this.name,this.id,this.priority);return le&&this.disableScroll&&this.ctrl.disableScroll(this.id),le}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class de{constructor(le,x,Ne,Ue){this.id=x,this.disable=Ne,this.disableScroll=Ue,this.ctrl=le}block(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.disableGesture(le,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const le of this.disable)this.ctrl.enableGesture(le,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",De=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(le){var x;return new m(this,this.newID(),le.name,null!==(x=le.priority)&&void 0!==x?x:0,!!le.disableScroll)}createBlocker(le={}){return new de(this,this.newID(),le.disable,!!le.disableScroll)}start(le,x,Ne){return this.canStart(le)?(this.requestedStart.set(x,Ne),!0):(this.requestedStart.delete(x),!1)}capture(le,x,Ne){if(!this.start(le,x,Ne))return!1;const Ue=this.requestedStart;let fe=-1e4;if(Ue.forEach(we=>{fe=Math.max(fe,we)}),fe===Ne){this.capturedId=x,Ue.clear();const we=new CustomEvent("ionGestureCaptured",{detail:{gestureName:le}});return document.dispatchEvent(we),!0}return Ue.delete(x),!1}release(le){this.requestedStart.delete(le),this.capturedId===le&&(this.capturedId=void 0)}disableGesture(le,x){let Ne=this.disabledGestures.get(le);void 0===Ne&&(Ne=new Set,this.disabledGestures.set(le,Ne)),Ne.add(x)}enableGesture(le,x){const Ne=this.disabledGestures.get(le);void 0!==Ne&&Ne.delete(x)}disableScroll(le){this.disabledScroll.add(le),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(le){this.disabledScroll.delete(le),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(le){return!(void 0!==this.capturedId||this.isDisabled(le))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(le){const x=this.disabledGestures.get(le);return!!(x&&x.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(rn,rt,z)=>{"use strict";z.r(rt),z.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>De,OVERLAY_BACK_BUTTON_PRIORITY:()=>ie,blockHardwareBackButton:()=>m,startHardwareBackButton:()=>de});var E=z(5861);const m=()=>{document.addEventListener("backbutton",()=>{})},de=()=>{const _e=document;let le=!1;_e.addEventListener("backbutton",()=>{if(le)return;let x=0,Ne=[];const Ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(me,pe){Ne.push({priority:me,handler:pe,id:x++})}}});_e.dispatchEvent(Ue);const fe=function(){var me=(0,E.Z)(function*(pe){try{if(null!=pe&&pe.handler){const Pe=pe.handler(we);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return me.apply(this,arguments)}}(),we=()=>{if(Ne.length>0){let me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(pe=>{pe.priority>=me.priority&&(me=pe)}),le=!0,Ne=Ne.filter(pe=>pe.id!==me.id),fe(me).then(()=>le=!1)}};we()})},ie=100,De=99},839:(rn,rt,z)=>{"use strict";z.d(rt,{a:()=>x,b:()=>Ne,c:()=>de,d:()=>ft,e:()=>Pe,f:()=>pe,g:()=>Ue,h:()=>me,i:()=>le,j:()=>Me,k:()=>De,l:()=>Re,m:()=>ie,n:()=>we,o:()=>ae,p:()=>Oe,q:()=>ke,r:()=>fe,s:()=>Ee,t:()=>E,u:()=>qe,v:()=>tt});const E=(Te,Ce=0)=>new Promise(st=>{m(Te,Ce,st)}),m=(Te,Ce=0,st)=>{let je,be;const it={passive:!0},gt=()=>{je&&je()},kt=_n=>{(void 0===_n||Te===_n.target)&&(gt(),st(_n))};return Te&&(Te.addEventListener("webkitTransitionEnd",kt,it),Te.addEventListener("transitionend",kt,it),be=setTimeout(kt,Ce+500),je=()=>{be&&(clearTimeout(be),be=void 0),Te.removeEventListener("webkitTransitionEnd",kt,it),Te.removeEventListener("transitionend",kt,it)}),gt},de=(Te,Ce)=>{Te.componentOnReady?Te.componentOnReady().then(st=>Ce(st)):fe(()=>Ce(Te))},ie=Te=>void 0!==Te.componentOnReady,De=(Te,Ce=[])=>{const st={};return Ce.forEach(je=>{Te.hasAttribute(je)&&(null!==Te.getAttribute(je)&&(st[je]=Te.getAttribute(je)),Te.removeAttribute(je))}),st},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],le=(Te,Ce)=>{let st=_e;return Ce&&Ce.length>0&&(st=st.filter(je=>!Ce.includes(je))),De(Te,st)},x=(Te,Ce,st,je)=>{var be;if(typeof window<"u"){const it=window,Ae=null===(be=null==it?void 0:it.Ionic)||void 0===be?void 0:be.config;if(Ae){const gt=Ae.get("_ael");if(gt)return gt(Te,Ce,st,je);if(Ae._ael)return Ae._ael(Te,Ce,st,je)}}return Te.addEventListener(Ce,st,je)},Ne=(Te,Ce,st,je)=>{var be;if(typeof window<"u"){const it=window,Ae=null===(be=null==it?void 0:it.Ionic)||void 0===be?void 0:be.config;if(Ae){const gt=Ae.get("_rel");if(gt)return gt(Te,Ce,st,je);if(Ae._rel)return Ae._rel(Te,Ce,st,je)}}return Te.removeEventListener(Ce,st,je)},Ue=(Te,Ce=Te)=>Te.shadowRoot||Ce,fe=Te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Te):"function"==typeof requestAnimationFrame?requestAnimationFrame(Te):setTimeout(Te),we=Te=>!!Te.shadowRoot&&!!Te.attachShadow,me=Te=>{const Ce=Te.closest("ion-item");return Ce?Ce.querySelector("ion-label"):null},pe=Te=>{if(Te.focus(),Te.classList.contains("ion-focusable")){const Ce=Te.closest("ion-app");Ce&&Ce.setFocus([Te])}},Pe=(Te,Ce)=>{let st;const je=Te.getAttribute("aria-labelledby"),be=Te.id;let it=null!==je&&""!==je.trim()?je:Ce+"-lbl",Ae=null!==je&&""!==je.trim()?document.getElementById(je):me(Te);return Ae?(null===je&&(Ae.id=it),st=Ae.textContent,Ae.setAttribute("aria-hidden","true")):""!==be.trim()&&(Ae=document.querySelector(`label[for="${be}"]`),Ae&&(""!==Ae.id?it=Ae.id:Ae.id=it=`${be}-lbl`,st=Ae.textContent)),{label:Ae,labelId:it,labelText:st}},ft=(Te,Ce,st,je,be)=>{if(Te||we(Ce)){let it=Ce.querySelector("input.aux-input");it||(it=Ce.ownerDocument.createElement("input"),it.type="hidden",it.classList.add("aux-input"),Ce.appendChild(it)),it.disabled=be,it.name=st,it.value=je||""}},Re=(Te,Ce,st)=>Math.max(Te,Math.min(Ce,st)),ae=(Te,Ce)=>{if(!Te){const st="ASSERT: "+Ce;throw console.error(st),new Error(st)}},qe=Te=>Te.timeStamp||Date.now(),tt=Te=>{if(Te){const Ce=Te.changedTouches;if(Ce&&Ce.length>0){const st=Ce[0];return{x:st.clientX,y:st.clientY}}if(void 0!==Te.pageX)return{x:Te.pageX,y:Te.pageY}}return{x:0,y:0}},Oe=Te=>{const Ce="rtl"===document.dir;switch(Te){case"start":return Ce;case"end":return!Ce;default:throw new Error(`"${Te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Me=(Te,Ce)=>{const st=Te._original||Te;return{_original:Te,emit:ke(st.emit.bind(st),Ce)}},ke=(Te,Ce=0)=>{let st;return(...je)=>{clearTimeout(st),st=setTimeout(Te,Ce,...je)}},Ee=(Te,Ce)=>{if(null!=Te||(Te={}),null!=Ce||(Ce={}),Te===Ce)return!0;const st=Object.keys(Te);if(st.length!==Object.keys(Ce).length)return!1;for(const je of st)if(!(je in Ce)||Te[je]!==Ce[je])return!1;return!0}},6710:(rn,rt,z)=>{"use strict";z.d(rt,{a:()=>m,b:()=>de,p:()=>E});const E=(ie,...De)=>console.warn(`[Ionic Warning]: ${ie}`,...De),m=(ie,...De)=>console.error(`[Ionic Error]: ${ie}`,...De),de=(ie,...De)=>console.error(`<${ie.tagName.toLowerCase()}> must be used inside ${De.join(" or ")}.`)},1651:(rn,rt,z)=>{"use strict";z.d(rt,{L:()=>ie,a:()=>De,b:()=>_e,c:()=>le,d:()=>x,e:()=>Te,g:()=>je,l:()=>ke,s:()=>Ce,t:()=>fe,w:()=>Ee});var E=z(5861),m=z(1688),de=z(839);const ie="ionViewWillEnter",De="ionViewDidEnter",_e="ionViewWillLeave",le="ionViewDidLeave",x="ionViewWillUnload",fe=be=>new Promise((it,Ae)=>{(0,m.w)(()=>{we(be),me(be).then(gt=>{gt.animation&&gt.animation.destroy(),pe(be),it(gt)},gt=>{pe(be),Ae(gt)})})}),we=be=>{const it=be.enteringEl,Ae=be.leavingEl;st(it,Ae,be.direction),be.showGoBack?it.classList.add("can-go-back"):it.classList.remove("can-go-back"),Ce(it,!1),it.style.setProperty("pointer-events","none"),Ae&&(Ce(Ae,!1),Ae.style.setProperty("pointer-events","none"))},me=function(){var be=(0,E.Z)(function*(it){const Ae=yield Pe(it);return Ae&&m.B.isBrowser?ft(Ae,it):Re(it)});return function(Ae){return be.apply(this,arguments)}}(),pe=be=>{const it=be.enteringEl,Ae=be.leavingEl;it.classList.remove("ion-page-invisible"),it.style.removeProperty("pointer-events"),void 0!==Ae&&(Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"))},Pe=function(){var be=(0,E.Z)(function*(it){return it.leavingEl&&it.animated&&0!==it.duration?it.animationBuilder?it.animationBuilder:"ios"===it.mode?(yield Promise.resolve().then(z.bind(z,2650))).iosTransitionAnimation:(yield Promise.resolve().then(z.bind(z,1904))).mdTransitionAnimation:void 0});return function(Ae){return be.apply(this,arguments)}}(),ft=function(){var be=(0,E.Z)(function*(it,Ae){yield ae(Ae,!0);const gt=it(Ae.baseEl,Ae);Oe(Ae.enteringEl,Ae.leavingEl);const kt=yield tt(gt,Ae);return Ae.progressCallback&&Ae.progressCallback(void 0),kt&&Me(Ae.enteringEl,Ae.leavingEl),{hasCompleted:kt,animation:gt}});return function(Ae,gt){return be.apply(this,arguments)}}(),Re=function(){var be=(0,E.Z)(function*(it){const Ae=it.enteringEl,gt=it.leavingEl;return yield ae(it,!1),Oe(Ae,gt),Me(Ae,gt),{hasCompleted:!0}});return function(Ae){return be.apply(this,arguments)}}(),ae=function(){var be=(0,E.Z)(function*(it,Ae){(void 0!==it.deepWait?it.deepWait:Ae)&&(yield Promise.all([Te(it.enteringEl),Te(it.leavingEl)])),yield qe(it.viewIsReady,it.enteringEl)});return function(Ae,gt){return be.apply(this,arguments)}}(),qe=function(){var be=(0,E.Z)(function*(it,Ae){it&&(yield it(Ae))});return function(Ae,gt){return be.apply(this,arguments)}}(),tt=(be,it)=>{const Ae=it.progressCallback,gt=new Promise(kt=>{be.onFinish(_n=>kt(1===_n))});return Ae?(be.progressStart(!0),Ae(be)):be.play(),gt},Oe=(be,it)=>{ke(it,_e),ke(be,ie)},Me=(be,it)=>{ke(be,De),ke(it,le)},ke=(be,it)=>{if(be){const Ae=new CustomEvent(it,{bubbles:!1,cancelable:!1});be.dispatchEvent(Ae)}},Ee=()=>new Promise(be=>(0,de.r)(()=>(0,de.r)(()=>be()))),Te=function(){var be=(0,E.Z)(function*(it){const Ae=it;if(Ae){if(null!=Ae.componentOnReady){if(null!=(yield Ae.componentOnReady()))return}else if(null!=Ae.__registerHost)return void(yield new Promise(kt=>(0,de.r)(kt)));yield Promise.all(Array.from(Ae.children).map(Te))}});return function(Ae){return be.apply(this,arguments)}}(),Ce=(be,it)=>{it?(be.setAttribute("aria-hidden","true"),be.classList.add("ion-page-hidden")):(be.hidden=!1,be.removeAttribute("aria-hidden"),be.classList.remove("ion-page-hidden"))},st=(be,it,Ae)=>{void 0!==be&&(be.style.zIndex="back"===Ae?"99":"101"),void 0!==it&&(it.style.zIndex="100")},je=be=>be.classList.contains("ion-page")?be:be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||be},6225:(rn,rt,z)=>{"use strict";z.d(rt,{d:()=>m,w:()=>E});const E=typeof window<"u"?window:void 0,m=typeof document<"u"?document:void 0},1688:(rn,rt,z)=>{"use strict";z.d(rt,{B:()=>fe,H:()=>gt,a:()=>ws,b:()=>pr,c:()=>Ge,d:()=>ce,e:()=>qr,f:()=>Mt,g:()=>zt,h:()=>it,i:()=>ao,j:()=>we,r:()=>Pr,w:()=>gr});var E=z(5861);let de,ie,De,_e=!1,le=!1,x=!1,Ne=!1,Ue=!1;const fe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},we=H=>{const j=new URL(H,Qt.$resourcesUrl$);return j.origin!==Hr.location.origin?j.href:j.pathname},qe="s-id",tt="sty-id",ke="http://www.w3.org/1999/xlink",Ee={},je=H=>"object"==(H=typeof H)||"function"===H;function be(H){var j,J,re;return null!==(re=null===(J=null===(j=H.head)||void 0===j?void 0:j.querySelector('meta[name="csp-nonce"]'))||void 0===J?void 0:J.getAttribute("content"))&&void 0!==re?re:void 0}const it=(H,j,...J)=>{let re=null,Le=null,Se=null,Ye=!1,_t=!1;const at=[],vt=vn=>{for(let Tn=0;Tn<vn.length;Tn++)re=vn[Tn],Array.isArray(re)?vt(re):null!=re&&"boolean"!=typeof re&&((Ye="function"!=typeof H&&!je(re))&&(re=String(re)),Ye&&_t?at[at.length-1].$text$+=re:at.push(Ye?Ae(null,re):re),_t=Ye)};if(vt(J),j){j.key&&(Le=j.key),j.name&&(Se=j.name);{const vn=j.className||j.class;vn&&(j.class="object"!=typeof vn?vn:Object.keys(vn).filter(Tn=>vn[Tn]).join(" "))}}if("function"==typeof H)return H(null===j?{}:j,at,_n);const Wt=Ae(H,null);return Wt.$attrs$=j,at.length>0&&(Wt.$children$=at),Wt.$key$=Le,Wt.$name$=Se,Wt},Ae=(H,j)=>({$flags$:0,$tag$:H,$text$:j,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),gt={},_n={forEach:(H,j)=>H.map(dt).forEach(j),map:(H,j)=>H.map(dt).map(j).map(ee)},dt=H=>({vattrs:H.$attrs$,vchildren:H.$children$,vkey:H.$key$,vname:H.$name$,vtag:H.$tag$,vtext:H.$text$}),ee=H=>{if("function"==typeof H.vtag){const J=Object.assign({},H.vattrs);return H.vkey&&(J.key=H.vkey),H.vname&&(J.name=H.vname),it(H.vtag,J,...H.vchildren||[])}const j=Ae(H.vtag,H.vtext);return j.$attrs$=H.vattrs,j.$children$=H.vchildren,j.$key$=H.vkey,j.$name$=H.vname,j},ue=(H,j,J,re,Le,Se,Ye)=>{let _t,at,vt,Wt;if(1===Se.nodeType){for(_t=Se.getAttribute("c-id"),_t&&(at=_t.split("."),(at[0]===Ye||"0"===at[0])&&(vt={$flags$:0,$hostId$:at[0],$nodeId$:at[1],$depth$:at[2],$index$:at[3],$tag$:Se.tagName.toLowerCase(),$elm$:Se,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},j.push(vt),Se.removeAttribute("c-id"),H.$children$||(H.$children$=[]),H.$children$[vt.$index$]=vt,H=vt,re&&"0"===vt.$depth$&&(re[vt.$index$]=vt.$elm$))),Wt=Se.childNodes.length-1;Wt>=0;Wt--)ue(H,j,J,re,Le,Se.childNodes[Wt],Ye);if(Se.shadowRoot)for(Wt=Se.shadowRoot.childNodes.length-1;Wt>=0;Wt--)ue(H,j,J,re,Le,Se.shadowRoot.childNodes[Wt],Ye)}else if(8===Se.nodeType)at=Se.nodeValue.split("."),(at[1]===Ye||"0"===at[1])&&(_t=at[0],vt={$flags$:0,$hostId$:at[1],$nodeId$:at[2],$depth$:at[3],$index$:at[4],$elm$:Se,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_t?(vt.$elm$=Se.nextSibling,vt.$elm$&&3===vt.$elm$.nodeType&&(vt.$text$=vt.$elm$.textContent,j.push(vt),Se.remove(),H.$children$||(H.$children$=[]),H.$children$[vt.$index$]=vt,re&&"0"===vt.$depth$&&(re[vt.$index$]=vt.$elm$))):vt.$hostId$===Ye&&("s"===_t?(vt.$tag$="slot",Se["s-sn"]=at[5]?vt.$name$=at[5]:"",Se["s-sr"]=!0,re&&(vt.$elm$=Wn.createElement(vt.$tag$),vt.$name$&&vt.$elm$.setAttribute("name",vt.$name$),Se.parentNode.insertBefore(vt.$elm$,Se),Se.remove(),"0"===vt.$depth$&&(re[vt.$index$]=vt.$elm$)),J.push(vt),H.$children$||(H.$children$=[]),H.$children$[vt.$index$]=vt):"r"===_t&&(re?Se.remove():(Le["s-cr"]=Se,Se["s-cn"]=!0))));else if(H&&"style"===H.$tag$){const vn=Ae(null,Se.textContent);vn.$elm$=Se,vn.$index$="0",H.$children$=[vn]}},ve=(H,j)=>{if(1===H.nodeType){let J=0;for(;J<H.childNodes.length;J++)ve(H.childNodes[J],j);if(H.shadowRoot)for(J=0;J<H.shadowRoot.childNodes.length;J++)ve(H.shadowRoot.childNodes[J],j)}else if(8===H.nodeType){const J=H.nodeValue.split(".");"o"===J[0]&&(j.set(J[1]+"."+J[2],H),H.nodeValue="",H["s-en"]=J[3])}},Ge=H=>Vr.push(H),zt=H=>Dn(H).$modeName$,Mt=H=>Dn(H).$hostElement$,ce=(H,j,J)=>{const re=Mt(H);return{emit:Le=>Ze(re,j,{bubbles:!!(4&J),composed:!!(2&J),cancelable:!!(1&J),detail:Le})}},Ze=(H,j,J)=>{const re=Qt.ce(j,J);return H.dispatchEvent(re),re},lt=new WeakMap,ht=(H,j,J)=>{let re=Lr.get(H);Us&&J?(re=re||new CSSStyleSheet,"string"==typeof re?re=j:re.replaceSync(j)):re=j,Lr.set(H,re)},Rt=(H,j,J)=>{var re;const Le=mt(j,J),Se=Lr.get(Le);if(H=11===H.nodeType?H:Wn,Se)if("string"==typeof Se){let _t,Ye=lt.get(H=H.head||H);if(Ye||lt.set(H,Ye=new Set),!Ye.has(Le)){if(H.host&&(_t=H.querySelector(`[${tt}="${Le}"]`)))_t.innerHTML=Se;else{_t=Wn.createElement("style"),_t.innerHTML=Se;const at=null!==(re=Qt.$nonce$)&&void 0!==re?re:be(Wn);null!=at&&_t.setAttribute("nonce",at),H.insertBefore(_t,H.querySelector("link"))}Ye&&Ye.add(Le)}}else H.adoptedStyleSheets.includes(Se)||(H.adoptedStyleSheets=[...H.adoptedStyleSheets,Se]);return Le},mt=(H,j)=>"sc-"+(j&&32&H.$flags$?H.$tagName$+"-"+j:H.$tagName$),En=H=>H.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),wn=(H,j,J,re,Le,Se)=>{if(J!==re){let Ye=Mr(H,j),_t=j.toLowerCase();if("class"===j){const at=H.classList,vt=mn(J),Wt=mn(re);at.remove(...vt.filter(vn=>vn&&!Wt.includes(vn))),at.add(...Wt.filter(vn=>vn&&!vt.includes(vn)))}else if("style"===j){for(const at in J)(!re||null==re[at])&&(at.includes("-")?H.style.removeProperty(at):H.style[at]="");for(const at in re)(!J||re[at]!==J[at])&&(at.includes("-")?H.style.setProperty(at,re[at]):H.style[at]=re[at])}else if("key"!==j)if("ref"===j)re&&re(H);else if(Ye||"o"!==j[0]||"n"!==j[1]){const at=je(re);if((Ye||at&&null!==re)&&!Le)try{if(H.tagName.includes("-"))H[j]=re;else{const Wt=null==re?"":re;"list"===j?Ye=!1:(null==J||H[j]!=Wt)&&(H[j]=Wt)}}catch{}let vt=!1;_t!==(_t=_t.replace(/^xlink\:?/,""))&&(j=_t,vt=!0),null==re||!1===re?(!1!==re||""===H.getAttribute(j))&&(vt?H.removeAttributeNS(ke,j):H.removeAttribute(j)):(!Ye||4&Se||Le)&&!at&&(re=!0===re?"":re,vt?H.setAttributeNS(ke,j,re):H.setAttribute(j,re))}else j="-"===j[2]?j.slice(3):Mr(Hr,_t)?_t.slice(2):_t[2]+j.slice(3),J&&Qt.rel(H,j,J,!1),re&&Qt.ael(H,j,re,!1)}},Bn=/\s/,mn=H=>H?H.split(Bn):[],Ln=(H,j,J,re)=>{const Le=11===j.$elm$.nodeType&&j.$elm$.host?j.$elm$.host:j.$elm$,Se=H&&H.$attrs$||Ee,Ye=j.$attrs$||Ee;for(re in Se)re in Ye||wn(Le,re,Se[re],void 0,J,j.$flags$);for(re in Ye)wn(Le,re,Se[re],Ye[re],J,j.$flags$)},Zr=(H,j,J,re)=>{const Le=j.$children$[J];let Ye,_t,at,Se=0;if(_e||(x=!0,"slot"===Le.$tag$&&(de&&re.classList.add(de+"-s"),Le.$flags$|=Le.$children$?2:1)),null!==Le.$text$)Ye=Le.$elm$=Wn.createTextNode(Le.$text$);else if(1&Le.$flags$)Ye=Le.$elm$=Wn.createTextNode("");else{if(Ne||(Ne="svg"===Le.$tag$),Ye=Le.$elm$=Wn.createElementNS(Ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Le.$flags$?"slot-fb":Le.$tag$),Ne&&"foreignObject"===Le.$tag$&&(Ne=!1),Ln(null,Le,Ne),(H=>null!=H)(de)&&Ye["s-si"]!==de&&Ye.classList.add(Ye["s-si"]=de),Le.$children$)for(Se=0;Se<Le.$children$.length;++Se)_t=Zr(H,Le,Se,Ye),_t&&Ye.appendChild(_t);"svg"===Le.$tag$?Ne=!1:"foreignObject"===Ye.tagName&&(Ne=!0)}return Ye["s-hn"]=De,3&Le.$flags$&&(Ye["s-sr"]=!0,Ye["s-cr"]=ie,Ye["s-sn"]=Le.$name$||"",at=H&&H.$children$&&H.$children$[J],at&&at.$tag$===Le.$tag$&&H.$elm$&&er(H.$elm$,!1)),Ye},er=(H,j)=>{Qt.$flags$|=1;const J=H.childNodes;for(let re=J.length-1;re>=0;re--){const Le=J[re];Le["s-hn"]!==De&&Le["s-ol"]&&(Qr(Le).insertBefore(Le,Ar(Le)),Le["s-ol"].remove(),Le["s-ol"]=void 0,x=!0),j&&er(Le,j)}Qt.$flags$&=-2},Cr=(H,j,J,re,Le,Se)=>{let _t,Ye=H["s-cr"]&&H["s-cr"].parentNode||H;for(Ye.shadowRoot&&Ye.tagName===De&&(Ye=Ye.shadowRoot);Le<=Se;++Le)re[Le]&&(_t=Zr(null,J,Le,H),_t&&(re[Le].$elm$=_t,Ye.insertBefore(_t,Ar(j))))},On=(H,j,J)=>{for(let re=j;re<=J;++re){const Le=H[re];if(Le){const Se=Le.$elm$;Gt(Le),Se&&(le=!0,Se["s-ol"]?Se["s-ol"].remove():er(Se,!0),Se.remove())}}},di=(H,j)=>H.$tag$===j.$tag$&&("slot"===H.$tag$?H.$name$===j.$name$:H.$key$===j.$key$),Ar=H=>H&&H["s-ol"]||H,Qr=H=>(H["s-ol"]?H["s-ol"]:H).parentNode,ln=(H,j)=>{const J=j.$elm$=H.$elm$,re=H.$children$,Le=j.$children$,Se=j.$tag$,Ye=j.$text$;let _t;null===Ye?(Ne="svg"===Se||"foreignObject"!==Se&&Ne,"slot"===Se||Ln(H,j,Ne),null!==re&&null!==Le?((H,j,J,re)=>{let hi,fi,Le=0,Se=0,Ye=0,_t=0,at=j.length-1,vt=j[0],Wt=j[at],vn=re.length-1,Tn=re[0],Zn=re[vn];for(;Le<=at&&Se<=vn;)if(null==vt)vt=j[++Le];else if(null==Wt)Wt=j[--at];else if(null==Tn)Tn=re[++Se];else if(null==Zn)Zn=re[--vn];else if(di(vt,Tn))ln(vt,Tn),vt=j[++Le],Tn=re[++Se];else if(di(Wt,Zn))ln(Wt,Zn),Wt=j[--at],Zn=re[--vn];else if(di(vt,Zn))("slot"===vt.$tag$||"slot"===Zn.$tag$)&&er(vt.$elm$.parentNode,!1),ln(vt,Zn),H.insertBefore(vt.$elm$,Wt.$elm$.nextSibling),vt=j[++Le],Zn=re[--vn];else if(di(Wt,Tn))("slot"===vt.$tag$||"slot"===Zn.$tag$)&&er(Wt.$elm$.parentNode,!1),ln(Wt,Tn),H.insertBefore(Wt.$elm$,vt.$elm$),Wt=j[--at],Tn=re[++Se];else{for(Ye=-1,_t=Le;_t<=at;++_t)if(j[_t]&&null!==j[_t].$key$&&j[_t].$key$===Tn.$key$){Ye=_t;break}Ye>=0?(fi=j[Ye],fi.$tag$!==Tn.$tag$?hi=Zr(j&&j[Se],J,Ye,H):(ln(fi,Tn),j[Ye]=void 0,hi=fi.$elm$),Tn=re[++Se]):(hi=Zr(j&&j[Se],J,Se,H),Tn=re[++Se]),hi&&Qr(vt.$elm$).insertBefore(hi,Ar(vt.$elm$))}Le>at?Cr(H,null==re[vn+1]?null:re[vn+1].$elm$,J,re,Se,vn):Se>vn&&On(j,Le,at)})(J,re,j,Le):null!==Le?(null!==H.$text$&&(J.textContent=""),Cr(J,null,j,Le,0,Le.length-1)):null!==re&&On(re,0,re.length-1),Ne&&"svg"===Se&&(Ne=!1)):(_t=J["s-cr"])?_t.parentNode.textContent=Ye:H.$text$!==Ye&&(J.data=Ye)},dr=H=>{const j=H.childNodes;let J,re,Le,Se,Ye,_t;for(re=0,Le=j.length;re<Le;re++)if(J=j[re],1===J.nodeType){if(J["s-sr"])for(Ye=J["s-sn"],J.hidden=!1,Se=0;Se<Le;Se++)if(_t=j[Se].nodeType,j[Se]["s-hn"]!==J["s-hn"]||""!==Ye){if(1===_t&&Ye===j[Se].getAttribute("slot")){J.hidden=!0;break}}else if(1===_t||3===_t&&""!==j[Se].textContent.trim()){J.hidden=!0;break}dr(J)}},et=[],Un=H=>{let j,J,re,Le,Se,Ye,_t=0;const at=H.childNodes,vt=at.length;for(;_t<vt;_t++){if(j=at[_t],j["s-sr"]&&(J=j["s-cr"])&&J.parentNode)for(re=J.parentNode.childNodes,Le=j["s-sn"],Ye=re.length-1;Ye>=0;Ye--)J=re[Ye],!J["s-cn"]&&!J["s-nr"]&&J["s-hn"]!==j["s-hn"]&&(ys(J,Le)?(Se=et.find(Wt=>Wt.$nodeToRelocate$===J),le=!0,J["s-sn"]=J["s-sn"]||Le,Se?Se.$slotRefNode$=j:et.push({$slotRefNode$:j,$nodeToRelocate$:J}),J["s-sr"]&&et.map(Wt=>{ys(Wt.$nodeToRelocate$,J["s-sn"])&&(Se=et.find(vn=>vn.$nodeToRelocate$===J),Se&&!Wt.$slotRefNode$&&(Wt.$slotRefNode$=Se.$slotRefNode$))})):et.some(Wt=>Wt.$nodeToRelocate$===J)||et.push({$nodeToRelocate$:J}));1===j.nodeType&&Un(j)}},ys=(H,j)=>1===H.nodeType?null===H.getAttribute("slot")&&""===j||H.getAttribute("slot")===j:H["s-sn"]===j||""===j,Gt=H=>{H.$attrs$&&H.$attrs$.ref&&H.$attrs$.ref(null),H.$children$&&H.$children$.map(Gt)},Ao=(H,j)=>{j&&!H.$onRenderResolve$&&j["s-p"]&&j["s-p"].push(new Promise(J=>H.$onRenderResolve$=J))},qn=(H,j)=>{if(H.$flags$|=16,!(4&H.$flags$))return Ao(H,H.$ancestorComponent$),gr(()=>Bs(H,j));H.$flags$|=512},Bs=(H,j)=>{const re=H.$lazyInstance$;let Le;return j&&(H.$flags$|=256,H.$queuedListeners$&&(H.$queuedListeners$.map(([Se,Ye])=>zr(re,Se,Ye)),H.$queuedListeners$=void 0),Le=zr(re,"componentWillLoad")),Le=is(Le,()=>zr(re,"componentWillRender")),is(Le,()=>So(H,re,j))},is=(H,j)=>ki(H)?H.then(j):j(),ki=H=>H instanceof Promise||H&&H.then&&"function"==typeof H.then,So=function(){var H=(0,E.Z)(function*(j,J,re){var Le;const Se=j.$hostElement$,_t=Se["s-rc"];re&&(H=>{const j=H.$cmpMeta$,J=H.$hostElement$,re=j.$flags$,Se=Rt(J.shadowRoot?J.shadowRoot:J.getRootNode(),j,H.$modeName$);10&re&&(J["s-sc"]=Se,J.classList.add(Se+"-h"),2&re&&J.classList.add(Se+"-s"))})(j);vs(j,J,Se,re),_t&&(_t.map(vt=>vt()),Se["s-rc"]=void 0);{const vt=null!==(Le=Se["s-p"])&&void 0!==Le?Le:[],Wt=()=>ai(j);0===vt.length?Wt():(Promise.all(vt).then(Wt),j.$flags$|=4,vt.length=0)}});return function(J,re,Le){return H.apply(this,arguments)}}(),vs=(H,j,J,re)=>{try{j=j.render&&j.render(),H.$flags$&=-17,H.$flags$|=2,((H,j,J=!1)=>{const re=H.$hostElement$,Le=H.$cmpMeta$,Se=H.$vnode$||Ae(null,null),Ye=(H=>H&&H.$tag$===gt)(j)?j:it(null,null,j);if(De=re.tagName,Le.$attrsToReflect$&&(Ye.$attrs$=Ye.$attrs$||{},Le.$attrsToReflect$.map(([_t,at])=>Ye.$attrs$[at]=re[_t])),J&&Ye.$attrs$)for(const _t of Object.keys(Ye.$attrs$))re.hasAttribute(_t)&&!["key","ref","style","class"].includes(_t)&&(Ye.$attrs$[_t]=re[_t]);if(Ye.$tag$=null,Ye.$flags$|=4,H.$vnode$=Ye,Ye.$elm$=Se.$elm$=re.shadowRoot||re,de=re["s-sc"],ie=re["s-cr"],_e=0!=(1&Le.$flags$),le=!1,ln(Se,Ye),Qt.$flags$|=1,x){Un(Ye.$elm$);let _t,at,vt,Wt,vn,Tn,Zn=0;for(;Zn<et.length;Zn++)_t=et[Zn],at=_t.$nodeToRelocate$,at["s-ol"]||(vt=Wn.createTextNode(""),vt["s-nr"]=at,at.parentNode.insertBefore(at["s-ol"]=vt,at));for(Zn=0;Zn<et.length;Zn++)if(_t=et[Zn],at=_t.$nodeToRelocate$,_t.$slotRefNode$){for(Wt=_t.$slotRefNode$.parentNode,vn=_t.$slotRefNode$.nextSibling,vt=at["s-ol"];vt=vt.previousSibling;)if(Tn=vt["s-nr"],Tn&&Tn["s-sn"]===at["s-sn"]&&Wt===Tn.parentNode&&(Tn=Tn.nextSibling,!Tn||!Tn["s-nr"])){vn=Tn;break}(!vn&&Wt!==at.parentNode||at.nextSibling!==vn)&&at!==vn&&(!at["s-hn"]&&at["s-ol"]&&(at["s-hn"]=at["s-ol"].parentNode.nodeName),Wt.insertBefore(at,vn))}else 1===at.nodeType&&(at.hidden=!0)}le&&dr(Ye.$elm$),Qt.$flags$&=-2,et.length=0})(H,j,re)}catch(Le){ti(Le,H.$hostElement$)}return null},ai=H=>{const J=H.$hostElement$,Le=H.$lazyInstance$,Se=H.$ancestorComponent$;zr(Le,"componentDidRender"),64&H.$flags$?zr(Le,"componentDidUpdate"):(H.$flags$|=64,Ni(J),zr(Le,"componentDidLoad"),H.$onReadyResolve$(J),Se||Fr()),H.$onInstanceResolve$(J),H.$onRenderResolve$&&(H.$onRenderResolve$(),H.$onRenderResolve$=void 0),512&H.$flags$&&co(()=>qn(H,!1)),H.$flags$&=-517},ao=H=>{{const j=Dn(H),J=j.$hostElement$.isConnected;return J&&2==(18&j.$flags$)&&qn(j,!1),J}},Fr=H=>{Ni(Wn.documentElement),co(()=>Ze(Hr,"appload",{detail:{namespace:"ionic"}}))},zr=(H,j,J)=>{if(H&&H[j])try{return H[j](J)}catch(re){ti(re)}},Ni=H=>H.classList.add("hydrated"),Ke=(H,j,J)=>{if(j.$members$){H.watchers&&(j.$watchers$=H.watchers);const re=Object.entries(j.$members$),Le=H.prototype;if(re.map(([Se,[Ye]])=>{31&Ye||2&J&&32&Ye?Object.defineProperty(Le,Se,{get(){return((H,j)=>Dn(this).$instanceValues$.get(j))(0,Se)},set(_t){((H,j,J,re)=>{const Le=Dn(H),Se=Le.$hostElement$,Ye=Le.$instanceValues$.get(j),_t=Le.$flags$,at=Le.$lazyInstance$;J=((H,j)=>null==H||je(H)?H:4&j?"false"!==H&&(""===H||!!H):2&j?parseFloat(H):1&j?String(H):H)(J,re.$members$[j][0]);const vt=Number.isNaN(Ye)&&Number.isNaN(J);if((!(8&_t)||void 0===Ye)&&J!==Ye&&!vt&&(Le.$instanceValues$.set(j,J),at)){if(re.$watchers$&&128&_t){const vn=re.$watchers$[j];vn&&vn.map(Tn=>{try{at[Tn](J,Ye,j)}catch(Zn){ti(Zn,Se)}})}2==(18&_t)&&qn(Le,!1)}})(this,Se,_t,j)},configurable:!0,enumerable:!0}):1&J&&64&Ye&&Object.defineProperty(Le,Se,{value(..._t){const at=Dn(this);return at.$onInstancePromise$.then(()=>at.$lazyInstance$[Se](..._t))}})}),1&J){const Se=new Map;Le.attributeChangedCallback=function(Ye,_t,at){Qt.jmp(()=>{const vt=Se.get(Ye);if(this.hasOwnProperty(vt))at=this[vt],delete this[vt];else if(Le.hasOwnProperty(vt)&&"number"==typeof this[vt]&&this[vt]==at)return;this[vt]=(null!==at||"boolean"!=typeof this[vt])&&at})},H.observedAttributes=re.filter(([Ye,_t])=>15&_t[0]).map(([Ye,_t])=>{const at=_t[1]||Ye;return Se.set(at,Ye),512&_t[0]&&j.$attrsToReflect$.push([Ye,at]),at})}}return H},he=function(){var H=(0,E.Z)(function*(j,J,re,Le,Se){if(!(32&J.$flags$)){J.$flags$|=32;{if((Se=Es(re)).then){const vt=()=>{};Se=yield Se,vt()}Se.isProxied||(re.$watchers$=Se.watchers,Ke(Se,re,2),Se.isProxied=!0);const at=()=>{};J.$flags$|=8;try{new Se(J)}catch(vt){ti(vt)}J.$flags$&=-9,J.$flags$|=128,at(),ze(J.$lazyInstance$)}if(Se.style){let at=Se.style;"string"!=typeof at&&(at=at[J.$modeName$=(H=>Vr.map(j=>j(H)).find(j=>!!j))(j)]);const vt=mt(re,J.$modeName$);if(!Lr.has(vt)){const Wt=()=>{};ht(vt,at,!!(1&re.$flags$)),Wt()}}}const Ye=J.$ancestorComponent$,_t=()=>qn(J,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(_t):_t()});return function(J,re,Le,Se,Ye){return H.apply(this,arguments)}}(),ze=H=>{zr(H,"connectedCallback")},Xe=H=>{const j=H["s-cr"]=Wn.createComment("");j["s-cn"]=!0,H.insertBefore(j,H.firstChild)},Ht=H=>{zr(H,"disconnectedCallback")},Sn=function(){var H=(0,E.Z)(function*(j){if(!(1&Qt.$flags$)){const J=Dn(j);J.$rmListeners$&&(J.$rmListeners$.map(re=>re()),J.$rmListeners$=void 0),null!=J&&J.$lazyInstance$?Ht(J.$lazyInstance$):null!=J&&J.$onReadyPromise$&&J.$onReadyPromise$.then(()=>Ht(J.$lazyInstance$))}});return function(J){return H.apply(this,arguments)}}(),pr=(H,j={})=>{var J;const Le=[],Se=j.exclude||[],Ye=Hr.customElements,_t=Wn.head,at=_t.querySelector("meta[charset]"),vt=Wn.createElement("style"),Wt=[],vn=Wn.querySelectorAll(`[${tt}]`);let Tn,Zn=!0,hi=0;for(Object.assign(Qt,j),Qt.$resourcesUrl$=new URL(j.resourcesUrl||"./",Wn.baseURI).href,Qt.$flags$|=2;hi<vn.length;hi++)ht(vn[hi].getAttribute(tt),En(vn[hi].innerHTML),!0);H.map(fi=>{fi[1].map(lo=>{const Ti={$flags$:lo[0],$tagName$:lo[1],$members$:lo[2],$listeners$:lo[3]};Ti.$members$=lo[2],Ti.$listeners$=lo[3],Ti.$attrsToReflect$=[],Ti.$watchers$={};const ho=Ti.$tagName$,ou=class extends HTMLElement{constructor(wa){super(wa),xo(wa=this,Ti),1&Ti.$flags$&&wa.attachShadow({mode:"open",delegatesFocus:!!(16&Ti.$flags$)})}connectedCallback(){Tn&&(clearTimeout(Tn),Tn=null),Zn?Wt.push(this):Qt.jmp(()=>(H=>{if(!(1&Qt.$flags$)){const j=Dn(H),J=j.$cmpMeta$,re=()=>{};if(1&j.$flags$)Sr(H,j,J.$listeners$),null!=j&&j.$lazyInstance$?ze(j.$lazyInstance$):null!=j&&j.$onReadyPromise$&&j.$onReadyPromise$.then(()=>ze(j.$lazyInstance$));else{let Le;if(j.$flags$|=1,Le=H.getAttribute(qe),Le){if(1&J.$flags$){const Se=Rt(H.shadowRoot,J,H.getAttribute("s-mode"));H.classList.remove(Se+"-h",Se+"-s")}((H,j,J,re)=>{const Se=H.shadowRoot,Ye=[],at=Se?[]:null,vt=re.$vnode$=Ae(j,null);Qt.$orgLocNodes$||ve(Wn.body,Qt.$orgLocNodes$=new Map),H[qe]=J,H.removeAttribute(qe),ue(vt,Ye,[],at,H,H,J),Ye.map(Wt=>{const vn=Wt.$hostId$+"."+Wt.$nodeId$,Tn=Qt.$orgLocNodes$.get(vn),Zn=Wt.$elm$;Tn&&$s&&""===Tn["s-en"]&&Tn.parentNode.insertBefore(Zn,Tn.nextSibling),Se||(Zn["s-hn"]=j,Tn&&(Zn["s-ol"]=Tn,Zn["s-ol"]["s-nr"]=Zn)),Qt.$orgLocNodes$.delete(vn)}),Se&&at.map(Wt=>{Wt&&Se.appendChild(Wt)})})(H,J.$tagName$,Le,j)}Le||12&J.$flags$&&Xe(H);{let Se=H;for(;Se=Se.parentNode||Se.host;)if(1===Se.nodeType&&Se.hasAttribute("s-id")&&Se["s-p"]||Se["s-p"]){Ao(j,j.$ancestorComponent$=Se);break}}J.$members$&&Object.entries(J.$members$).map(([Se,[Ye]])=>{if(31&Ye&&H.hasOwnProperty(Se)){const _t=H[Se];delete H[Se],H[Se]=_t}}),he(H,j,J)}re()}})(this))}disconnectedCallback(){Qt.jmp(()=>Sn(this))}componentOnReady(){return Dn(this).$onReadyPromise$}};Ti.$lazyBundleId$=fi[0],!Se.includes(ho)&&!Ye.get(ho)&&(Le.push(ho),Ye.define(ho,Ke(ou,Ti,1)))})});{vt.innerHTML=Le+"{visibility:hidden}.hydrated{visibility:inherit}",vt.setAttribute("data-styles","");const fi=null!==(J=Qt.$nonce$)&&void 0!==J?J:be(Wn);null!=fi&&vt.setAttribute("nonce",fi),_t.insertBefore(vt,at?at.nextSibling:_t.firstChild)}Zn=!1,Wt.length?Wt.map(fi=>fi.connectedCallback()):Qt.jmp(()=>Tn=setTimeout(Fr,30))},Sr=(H,j,J,re)=>{J&&J.map(([Le,Se,Ye])=>{const _t=Er(H,Le),at=Oi(j,Ye),vt=Is(Le);Qt.ael(_t,Se,at,vt),(j.$rmListeners$=j.$rmListeners$||[]).push(()=>Qt.rel(_t,Se,at,vt))})},Oi=(H,j)=>J=>{try{256&H.$flags$?H.$lazyInstance$[j](J):(H.$queuedListeners$=H.$queuedListeners$||[]).push([j,J])}catch(re){ti(re)}},Er=(H,j)=>4&j?Wn:8&j?Hr:16&j?Wn.body:H,Is=H=>0!=(2&H),Fi=new WeakMap,Dn=H=>Fi.get(H),Pr=(H,j)=>Fi.set(j.$lazyInstance$=H,j),xo=(H,j)=>{const J={$flags$:0,$hostElement$:H,$cmpMeta$:j,$instanceValues$:new Map};return J.$onInstancePromise$=new Promise(re=>J.$onInstanceResolve$=re),J.$onReadyPromise$=new Promise(re=>J.$onReadyResolve$=re),H["s-p"]=[],H["s-rc"]=[],Sr(H,J,j.$listeners$),Fi.set(H,J)},Mr=(H,j)=>j in H,ti=(H,j)=>(0,console.error)(H,j),wi=new Map,Es=(H,j,J)=>{const re=H.$tagName$.replace(/-/g,"_"),Le=H.$lazyBundleId$,Se=wi.get(Le);return Se?Se[re]:z(863)(`./${Le}.entry.js`).then(Ye=>(wi.set(Le,Ye),Ye[re]),ti)},Lr=new Map,Vr=[],Hr=typeof window<"u"?window:{},Wn=Hr.document||{head:{}},Qt={$flags$:0,$resourcesUrl$:"",jmp:H=>H(),raf:H=>requestAnimationFrame(H),ael:(H,j,J,re)=>H.addEventListener(j,J,re),rel:(H,j,J,re)=>H.removeEventListener(j,J,re),ce:(H,j)=>new CustomEvent(H,j)},ws=H=>{Object.assign(Qt,H)},$s=!0,Us=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Br=[],Ts=[],bs=(H,j)=>J=>{H.push(J),Ue||(Ue=!0,j&&4&Qt.$flags$?co(Ds):Qt.raf(Ds))},js=H=>{for(let j=0;j<H.length;j++)try{H[j](performance.now())}catch(J){ti(J)}H.length=0},Ds=()=>{js(Br),js(Ts),(Ue=Br.length>0)&&Qt.raf(Ds)},co=H=>Promise.resolve(void 0).then(H),qr=bs(Br,!1),gr=bs(Ts,!0)},5662:(rn,rt,z)=>{"use strict";z.d(rt,{m:()=>fe});var E=z(5861),m=z(2124),de=z(839),ie=z(2085),De=z(1774);const _e=we=>(0,De.c)().duration(we?400:300),le=we=>{let me,pe;const Pe=we.width+8,ft=(0,De.c)(),Re=(0,De.c)();we.isEndSide?(me=Pe+"px",pe="0px"):(me=-Pe+"px",pe="0px"),ft.addElement(we.menuInnerEl).fromTo("transform",`translateX(${me})`,`translateX(${pe})`);const qe="ios"===(0,ie.b)(we),tt=qe?.2:.25;return Re.addElement(we.backdropEl).fromTo("opacity",.01,tt),_e(qe).addAnimation([ft,Re])},x=we=>{let me,pe;const Pe=(0,ie.b)(we),ft=we.width;we.isEndSide?(me=-ft+"px",pe=ft+"px"):(me=ft+"px",pe=-ft+"px");const Re=(0,De.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${pe})`,"translateX(0px)"),ae=(0,De.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${me})`),qe=(0,De.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return _e("ios"===Pe).addAnimation([Re,ae,qe])},Ne=we=>{const me=(0,ie.b)(we),pe=we.width*(we.isEndSide?-1:1)+"px",Pe=(0,De.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`);return _e("ios"===me).addAnimation(Pe)},fe=(()=>{const we=new Map,me=[],pe=function(){var ee=(0,E.Z)(function*(te){const ue=yield Oe(te);return!!ue&&ue.open()});return function(ue){return ee.apply(this,arguments)}}(),Pe=function(){var ee=(0,E.Z)(function*(te){const ue=yield void 0!==te?Oe(te):Me();return void 0!==ue&&ue.close()});return function(ue){return ee.apply(this,arguments)}}(),ft=function(){var ee=(0,E.Z)(function*(te){const ue=yield Oe(te);return!!ue&&ue.toggle()});return function(ue){return ee.apply(this,arguments)}}(),Re=function(){var ee=(0,E.Z)(function*(te,ue){const ve=yield Oe(ue);return ve&&(ve.disabled=!te),ve});return function(ue,ve){return ee.apply(this,arguments)}}(),ae=function(){var ee=(0,E.Z)(function*(te,ue){const ve=yield Oe(ue);return ve&&(ve.swipeGesture=te),ve});return function(ue,ve){return ee.apply(this,arguments)}}(),qe=function(){var ee=(0,E.Z)(function*(te){if(null!=te){const ue=yield Oe(te);return void 0!==ue&&ue.isOpen()}return void 0!==(yield Me())});return function(ue){return ee.apply(this,arguments)}}(),tt=function(){var ee=(0,E.Z)(function*(te){const ue=yield Oe(te);return!!ue&&!ue.disabled});return function(ue){return ee.apply(this,arguments)}}(),Oe=function(){var ee=(0,E.Z)(function*(te){return yield dt(),"start"===te||"end"===te?_n(We=>We.side===te&&!We.disabled)||_n(We=>We.side===te):null!=te?_n(ve=>ve.menuId===te):_n(ve=>!ve.disabled)||(me.length>0?me[0].el:void 0)});return function(ue){return ee.apply(this,arguments)}}(),Me=function(){var ee=(0,E.Z)(function*(){return yield dt(),Ae()});return function(){return ee.apply(this,arguments)}}(),ke=function(){var ee=(0,E.Z)(function*(){return yield dt(),gt()});return function(){return ee.apply(this,arguments)}}(),Ee=function(){var ee=(0,E.Z)(function*(){return yield dt(),kt()});return function(){return ee.apply(this,arguments)}}(),Te=(ee,te)=>{we.set(ee,te)},je=ee=>{const te=ee.side;me.filter(ue=>ue.side===te&&ue!==ee).forEach(ue=>ue.disabled=!0)},be=function(){var ee=(0,E.Z)(function*(te,ue,ve){if(kt())return!1;if(ue){const We=yield Me();We&&te.el!==We&&(yield We.setOpen(!1,!1))}return te._setOpen(ue,ve)});return function(ue,ve,We){return ee.apply(this,arguments)}}(),Ae=()=>_n(ee=>ee._isOpen),gt=()=>me.map(ee=>ee.el),kt=()=>me.some(ee=>ee.isAnimating),_n=ee=>{const te=me.find(ee);if(void 0!==te)return te.el},dt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ee=>new Promise(te=>(0,de.c)(ee,te))));return Te("reveal",Ne),Te("push",x),Te("overlay",le),typeof document<"u"&&document.addEventListener("ionBackButton",ee=>{const te=Ae();te&&ee.detail.register(m.MENU_BACK_BUTTON_PRIORITY,()=>te.close())}),{registerAnimation:Te,get:Oe,getMenus:ke,getOpen:Me,isEnabled:tt,swipeGesture:ae,isAnimating:Ee,isOpen:qe,enable:Re,toggle:ft,close:Pe,open:pe,_getOpenSync:Ae,_createAnimation:(ee,te)=>{const ue=we.get(ee);if(!ue)throw new Error("animation not registered");return ue(te)},_register:ee=>{me.indexOf(ee)<0&&(ee.disabled||je(ee),me.push(ee))},_unregister:ee=>{const te=me.indexOf(ee);te>-1&&me.splice(te,1)},_setOpen:be,_setActiveMenu:je}})()},9203:(rn,rt,z)=>{"use strict";z.r(rt),z.d(rt,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>Ne});var E=z(619);const m=(me,pe,Pe,ft)=>{const Re=de(me)?{capture:!!ft.capture,passive:!!ft.passive}:!!ft.capture;let ae,qe;return me.__zone_symbol__addEventListener?(ae="__zone_symbol__addEventListener",qe="__zone_symbol__removeEventListener"):(ae="addEventListener",qe="removeEventListener"),me[ae](pe,Pe,Re),()=>{me[qe](pe,Pe,Re)}},de=me=>{if(void 0===ie)try{const pe=Object.defineProperty({},"passive",{get:()=>{ie=!0}});me.addEventListener("optsTest",()=>{},pe)}catch{ie=!1}return!!ie};let ie;const le=me=>me instanceof Document?me:me.ownerDocument,Ne=me=>{let pe=!1,Pe=!1,ft=!0,Re=!1;const ae=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},me),qe=ae.canStart,tt=ae.onWillStart,Oe=ae.onStart,Me=ae.onEnd,ke=ae.notCaptured,Ee=ae.onMove,Te=ae.threshold,Ce=ae.passive,st=ae.blurOnStart,je={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},be=((me,pe,Pe)=>{const ft=Pe*(Math.PI/180),Re="x"===me,ae=Math.cos(ft),qe=pe*pe;let tt=0,Oe=0,Me=!1,ke=0;return{start(Ee,Te){tt=Ee,Oe=Te,ke=0,Me=!0},detect(Ee,Te){if(!Me)return!1;const Ce=Ee-tt,st=Te-Oe,je=Ce*Ce+st*st;if(je<qe)return!1;const be=Math.sqrt(je),it=(Re?Ce:st)/be;return ke=it>ae?1:it<-ae?-1:0,Me=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(ae.direction,ae.threshold,ae.maxAngle),it=E.G.createGesture({name:me.gestureName,priority:me.gesturePriority,disableScroll:me.disableScroll}),kt=()=>{pe&&(Re=!1,Ee&&Ee(je))},_n=()=>!!it.capture()&&(pe=!0,ft=!1,je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime,tt?tt(je).then(ee):ee(),!0),ee=()=>{st&&(()=>{if(typeof document<"u"){const Ge=document.activeElement;null!=Ge&&Ge.blur&&Ge.blur()}})(),Oe&&Oe(je),ft=!0},te=()=>{pe=!1,Pe=!1,Re=!1,ft=!0,it.release()},ue=Ge=>{const zt=pe,Zt=ft;if(te(),Zt){if(Ue(je,Ge),zt)return void(Me&&Me(je));ke&&ke(je)}},ve=((me,pe,Pe,ft,Re)=>{let ae,qe,tt,Oe,Me,ke,Ee,Te=0;const Ce=dt=>{Te=Date.now()+2e3,pe(dt)&&(!qe&&Pe&&(qe=m(me,"touchmove",Pe,Re)),tt||(tt=m(dt.target,"touchend",je,Re)),Oe||(Oe=m(dt.target,"touchcancel",je,Re)))},st=dt=>{Te>Date.now()||pe(dt)&&(!ke&&Pe&&(ke=m(le(me),"mousemove",Pe,Re)),Ee||(Ee=m(le(me),"mouseup",be,Re)))},je=dt=>{it(),ft&&ft(dt)},be=dt=>{Ae(),ft&&ft(dt)},it=()=>{qe&&qe(),tt&&tt(),Oe&&Oe(),qe=tt=Oe=void 0},Ae=()=>{ke&&ke(),Ee&&Ee(),ke=Ee=void 0},gt=()=>{it(),Ae()},kt=(dt=!0)=>{dt?(ae||(ae=m(me,"touchstart",Ce,Re)),Me||(Me=m(me,"mousedown",st,Re))):(ae&&ae(),Me&&Me(),ae=Me=void 0,gt())};return{enable:kt,stop:gt,destroy:()=>{kt(!1),ft=Pe=pe=void 0}}})(ae.el,Ge=>{const zt=we(Ge);return!(Pe||!ft||(fe(Ge,je),je.startX=je.currentX,je.startY=je.currentY,je.startTime=je.currentTime=zt,je.velocityX=je.velocityY=je.deltaX=je.deltaY=0,je.event=Ge,qe&&!1===qe(je))||(it.release(),!it.start()))&&(Pe=!0,0===Te?_n():(be.start(je.startX,je.startY),!0))},Ge=>{pe?!Re&&ft&&(Re=!0,Ue(je,Ge),requestAnimationFrame(kt)):(Ue(je,Ge),be.detect(je.currentX,je.currentY)&&(!be.isGesture()||!_n())&&We())},ue,{capture:!1,passive:Ce}),We=()=>{te(),ve.stop(),ke&&ke(je)};return{enable(Ge=!0){Ge||(pe&&ue(void 0),te()),ve.enable(Ge)},destroy(){it.destroy(),ve.destroy()}}},Ue=(me,pe)=>{if(!pe)return;const Pe=me.currentX,ft=me.currentY,Re=me.currentTime;fe(pe,me);const ae=me.currentX,qe=me.currentY,Oe=(me.currentTime=we(pe))-Re;if(Oe>0&&Oe<100){const ke=(qe-ft)/Oe;me.velocityX=(ae-Pe)/Oe*.7+.3*me.velocityX,me.velocityY=.7*ke+.3*me.velocityY}me.deltaX=ae-me.startX,me.deltaY=qe-me.startY,me.event=pe},fe=(me,pe)=>{let Pe=0,ft=0;if(me){const Re=me.changedTouches;if(Re&&Re.length>0){const ae=Re[0];Pe=ae.clientX,ft=ae.clientY}else void 0!==me.pageX&&(Pe=me.pageX,ft=me.pageY)}pe.currentX=Pe,pe.currentY=ft},we=me=>me.timeStamp||Date.now()},2085:(rn,rt,z)=>{"use strict";z.d(rt,{a:()=>fe,b:()=>kt,c:()=>de,g:()=>Ue,i:()=>_n});var E=z(1688);class m{constructor(){this.m=new Map}reset(ee){this.m=new Map(Object.entries(ee))}get(ee,te){const ue=this.m.get(ee);return void 0!==ue?ue:te}getBoolean(ee,te=!1){const ue=this.m.get(ee);return void 0===ue?te:"string"==typeof ue?"true"===ue:!!ue}getNumber(ee,te){const ue=parseFloat(this.m.get(ee));return isNaN(ue)?void 0!==te?te:NaN:ue}set(ee,te){this.m.set(ee,te)}}const de=new m,x="ionic:",Ne="ionic-persist-config",Ue=dt=>we(dt),fe=(dt,ee)=>("string"==typeof dt&&(ee=dt,dt=void 0),Ue(dt).includes(ee)),we=(dt=window)=>{if(typeof dt>"u")return[];dt.Ionic=dt.Ionic||{};let ee=dt.Ionic.platforms;return null==ee&&(ee=dt.Ionic.platforms=me(dt),ee.forEach(te=>dt.document.documentElement.classList.add(`plt-${te}`))),ee},me=dt=>{const ee=de.get("platform");return Object.keys(Ae).filter(te=>{const ue=null==ee?void 0:ee[te];return"function"==typeof ue?ue(dt):Ae[te](dt)})},Pe=dt=>!!(be(dt,/iPad/i)||be(dt,/Macintosh/i)&&Me(dt)),ae=dt=>be(dt,/android|sink/i),Me=dt=>it(dt,"(any-pointer:coarse)"),Ee=dt=>Te(dt)||Ce(dt),Te=dt=>!!(dt.cordova||dt.phonegap||dt.PhoneGap),Ce=dt=>{const ee=dt.Capacitor;return!(null==ee||!ee.isNative)},be=(dt,ee)=>ee.test(dt.navigator.userAgent),it=(dt,ee)=>{var te;return null===(te=dt.matchMedia)||void 0===te?void 0:te.call(dt,ee).matches},Ae={ipad:Pe,iphone:dt=>be(dt,/iPhone/i),ios:dt=>be(dt,/iPhone|iPod/i)||Pe(dt),android:ae,phablet:dt=>{const ee=dt.innerWidth,te=dt.innerHeight,ue=Math.min(ee,te),ve=Math.max(ee,te);return ue>390&&ue<520&&ve>620&&ve<800},tablet:dt=>{const ee=dt.innerWidth,te=dt.innerHeight,ue=Math.min(ee,te),ve=Math.max(ee,te);return Pe(dt)||(dt=>ae(dt)&&!be(dt,/mobile/i))(dt)||ue>460&&ue<820&&ve>780&&ve<1400},cordova:Te,capacitor:Ce,electron:dt=>be(dt,/electron/i),pwa:dt=>{var ee;return!!(null!==(ee=dt.matchMedia)&&void 0!==ee&&ee.call(dt,"(display-mode: standalone)").matches||dt.navigator.standalone)},mobile:Me,mobileweb:dt=>Me(dt)&&!Ee(dt),desktop:dt=>!Me(dt),hybrid:Ee};let gt;const kt=dt=>dt&&(0,E.g)(dt)||gt,_n=(dt={})=>{if(typeof window>"u")return;const ee=window.document,te=window,ue=te.Ionic=te.Ionic||{},ve={};dt._ael&&(ve.ael=dt._ael),dt._rel&&(ve.rel=dt._rel),dt._ce&&(ve.ce=dt._ce),(0,E.a)(ve);const We=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(dt=>{try{const ee=dt.sessionStorage.getItem(Ne);return null!==ee?JSON.parse(ee):{}}catch{return{}}})(te)),{persistConfig:!1}),ue.config),(dt=>{const ee={};return dt.location.search.slice(1).split("&").map(te=>te.split("=")).map(([te,ue])=>[decodeURIComponent(te),decodeURIComponent(ue)]).filter(([te])=>((dt,ee)=>dt.substr(0,ee.length)===ee)(te,x)).map(([te,ue])=>[te.slice(6),ue]).forEach(([te,ue])=>{ee[te]=ue}),ee})(te)),dt);de.reset(We),de.getBoolean("persistConfig")&&((dt,ee)=>{try{dt.sessionStorage.setItem(Ne,JSON.stringify(ee))}catch{return}})(te,We),we(te),ue.config=de,ue.mode=gt=de.get("mode",ee.documentElement.getAttribute("mode")||(fe(te,"ios")?"ios":"md")),de.set("mode",gt),ee.documentElement.setAttribute("mode",gt),ee.documentElement.classList.add(gt),de.getBoolean("_testing")&&de.set("animated",!1);const Ge=Zt=>{var Mt;return null===(Mt=Zt.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},zt=Zt=>["ios","md"].includes(Zt);(0,E.c)(Zt=>{for(;Zt;){const Mt=Zt.mode||Zt.getAttribute("mode");if(Mt){if(zt(Mt))return Mt;Ge(Zt)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}Zt=Zt.parentElement}return gt})}},2650:(rn,rt,z)=>{"use strict";z.r(rt),z.d(rt,{iosTransitionAnimation:()=>me,shadow:()=>le});var E=z(1774),m=z(1651);z(6225),z(1688);const _e=pe=>document.querySelector(`${pe}.ion-cloned-element`),le=pe=>pe.shadowRoot||pe,x=pe=>{const Pe="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),ft="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const Re=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Re?Re.querySelector(ft):null}return pe.querySelector(ft)},Ne=(pe,Pe)=>{const ft="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let Re=[];if(null!=ft){const ae=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ae&&(Re=ae.querySelectorAll("ion-buttons"))}else Re=pe.querySelectorAll("ion-buttons");for(const ae of Re){const qe=ae.closest("ion-header"),tt=qe&&!qe.classList.contains("header-collapse-condense-inactive"),Oe=ae.querySelector("ion-back-button"),Me=ae.classList.contains("buttons-collapse");if(null!==Oe&&("start"===ae.slot||""===ae.slot)&&(Me&&tt&&Pe||!Me))return Oe}return null},fe=(pe,Pe,ft,Re,ae,qe)=>{const tt=Pe?`calc(100% - ${qe.right+4}px)`:qe.left-4+"px",Oe=Pe?"7px":"-7px",Me=Pe?"-4px":"4px",ke=Pe?"-4px":"4px",Ee=Pe?"right":"left",Te=Pe?"left":"right",je=ft?[{offset:0,opacity:1,transform:`translate3d(${Me}, ${qe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Oe}, ${ae.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Oe}, ${ae.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Me}, ${qe.top-46}px, 0) scale(1)`}],Ae=ft?[{offset:0,opacity:1,transform:`translate3d(${ke}, ${qe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ke}, ${qe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ke}, ${qe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ke}, ${qe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ke}, ${qe.top-46}px, 0) scale(1)`}],gt=(0,E.c)(),kt=(0,E.c)(),_n=_e("ion-back-button"),dt=le(_n).querySelector(".button-text"),ee=le(_n).querySelector("ion-icon");_n.text=Re.text,_n.mode=Re.mode,_n.icon=Re.icon,_n.color=Re.color,_n.disabled=Re.disabled,_n.style.setProperty("display","block"),_n.style.setProperty("position","fixed"),kt.addElement(ee),gt.addElement(dt),gt.beforeStyles({"transform-origin":`${Ee} center`}).beforeAddWrite(()=>{Re.style.setProperty("display","none"),_n.style.setProperty(Ee,tt)}).afterAddWrite(()=>{Re.style.setProperty("display",""),_n.style.setProperty("display","none"),_n.style.removeProperty(Ee)}).keyframes(je),kt.beforeStyles({"transform-origin":`${Te} center`}).keyframes(Ae),pe.addAnimation([gt,kt])},we=(pe,Pe,ft,Re,ae,qe)=>{const tt=Pe?`calc(100% - ${ae.right}px)`:`${ae.left}px`,Oe=Pe?"-18px":"18px",Me=Pe?"right":"left",Te=ft?[{offset:0,opacity:0,transform:`translate3d(${Oe}, ${qe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ae.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ae.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Oe}, ${qe.top-4}px, 0) scale(0.5)`}],Ce=_e("ion-title"),st=(0,E.c)();Ce.innerText=Re.innerText,Ce.size=Re.size,Ce.color=Re.color,st.addElement(Ce),st.beforeStyles({"transform-origin":`${Me} center`,height:"46px",display:"",position:"relative",[Me]:tt}).beforeAddWrite(()=>{Re.style.setProperty("display","none")}).afterAddWrite(()=>{Re.style.setProperty("display",""),Ce.style.setProperty("display","none")}).keyframes(Te),pe.addAnimation(st)},me=(pe,Pe)=>{var ft;try{const Re="cubic-bezier(0.32,0.72,0,1)",ae="opacity",qe="transform",tt="0%",Me="rtl"===pe.ownerDocument.dir,ke=Me?"-99.5%":"99.5%",Ee=Me?"33%":"-33%",Te=Pe.enteringEl,Ce=Pe.leavingEl,st="back"===Pe.direction,je=Te.querySelector(":scope > ion-content"),be=Te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),it=Te.querySelectorAll(":scope > ion-header > ion-toolbar"),Ae=(0,E.c)(),gt=(0,E.c)();if(Ae.addElement(Te).duration((null!==(ft=Pe.duration)&&void 0!==ft?ft:0)||540).easing(Pe.easing||Re).fill("both").beforeRemoveClass("ion-page-invisible"),Ce&&null!=pe){const ee=(0,E.c)();ee.addElement(pe),Ae.addAnimation(ee)}if(je||0!==it.length||0!==be.length?(gt.addElement(je),gt.addElement(be)):gt.addElement(Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(gt),st?gt.beforeClearStyles([ae]).fromTo("transform",`translateX(${Ee})`,`translateX(${tt})`).fromTo(ae,.8,1):gt.beforeClearStyles([ae]).fromTo("transform",`translateX(${ke})`,`translateX(${tt})`),je){const ee=le(je).querySelector(".transition-effect");if(ee){const te=ee.querySelector(".transition-cover"),ue=ee.querySelector(".transition-shadow"),ve=(0,E.c)(),We=(0,E.c)(),Ge=(0,E.c)();ve.addElement(ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),We.addElement(te).beforeClearStyles([ae]).fromTo(ae,0,.1),Ge.addElement(ue).beforeClearStyles([ae]).fromTo(ae,.03,.7),ve.addAnimation([We,Ge]),gt.addAnimation([ve])}}const kt=Te.querySelector("ion-header.header-collapse-condense"),{forward:_n,backward:dt}=((pe,Pe,ft,Re,ae)=>{const qe=Ne(Re,ft),tt=x(ae),Oe=x(Re),Me=Ne(ae,ft),ke=null!==qe&&null!==tt&&!ft,Ee=null!==Oe&&null!==Me&&ft;if(ke){const Te=tt.getBoundingClientRect(),Ce=qe.getBoundingClientRect();we(pe,Pe,ft,tt,Te,Ce),fe(pe,Pe,ft,qe,Te,Ce)}else if(Ee){const Te=Oe.getBoundingClientRect(),Ce=Me.getBoundingClientRect();we(pe,Pe,ft,Oe,Te,Ce),fe(pe,Pe,ft,Me,Te,Ce)}return{forward:ke,backward:Ee}})(Ae,Me,st,Te,Ce);if(it.forEach(ee=>{const te=(0,E.c)();te.addElement(ee),Ae.addAnimation(te);const ue=(0,E.c)();ue.addElement(ee.querySelector("ion-title"));const ve=(0,E.c)(),We=Array.from(ee.querySelectorAll("ion-buttons,[menuToggle]")),Ge=ee.closest("ion-header"),zt=null==Ge?void 0:Ge.classList.contains("header-collapse-condense-inactive");let Zt;Zt=We.filter(st?ht=>{const Rt=ht.classList.contains("buttons-collapse");return Rt&&!zt||!Rt}:ht=>!ht.classList.contains("buttons-collapse")),ve.addElement(Zt);const Mt=(0,E.c)();Mt.addElement(ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ce=(0,E.c)();ce.addElement(le(ee).querySelector(".toolbar-background"));const Ze=(0,E.c)(),lt=ee.querySelector("ion-back-button");if(lt&&Ze.addElement(lt),te.addAnimation([ue,ve,Mt,ce,Ze]),ve.fromTo(ae,.01,1),Mt.fromTo(ae,.01,1),st)zt||ue.fromTo("transform",`translateX(${Ee})`,`translateX(${tt})`).fromTo(ae,.01,1),Mt.fromTo("transform",`translateX(${Ee})`,`translateX(${tt})`),Ze.fromTo(ae,.01,1);else if(kt||ue.fromTo("transform",`translateX(${ke})`,`translateX(${tt})`).fromTo(ae,.01,1),Mt.fromTo("transform",`translateX(${ke})`,`translateX(${tt})`),ce.beforeClearStyles([ae,"transform"]),(null==Ge?void 0:Ge.translucent)?ce.fromTo("transform",Me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ce.fromTo(ae,.01,"var(--opacity)"),_n||Ze.fromTo(ae,.01,1),lt&&!_n){const Rt=(0,E.c)();Rt.addElement(le(lt).querySelector(".button-text")).fromTo("transform",Me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),te.addAnimation(Rt)}}),Ce){const ee=(0,E.c)(),te=Ce.querySelector(":scope > ion-content"),ue=Ce.querySelectorAll(":scope > ion-header > ion-toolbar"),ve=Ce.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(te||0!==ue.length||0!==ve.length?(ee.addElement(te),ee.addElement(ve)):ee.addElement(Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ae.addAnimation(ee),st){ee.beforeClearStyles([ae]).fromTo("transform",`translateX(${tt})`,Me?"translateX(-100%)":"translateX(100%)");const We=(0,m.g)(Ce);Ae.afterAddWrite(()=>{"normal"===Ae.getDirection()&&We.style.setProperty("display","none")})}else ee.fromTo("transform",`translateX(${tt})`,`translateX(${Ee})`).fromTo(ae,1,.8);if(te){const We=le(te).querySelector(".transition-effect");if(We){const Ge=We.querySelector(".transition-cover"),zt=We.querySelector(".transition-shadow"),Zt=(0,E.c)(),Mt=(0,E.c)(),ce=(0,E.c)();Zt.addElement(We).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Mt.addElement(Ge).beforeClearStyles([ae]).fromTo(ae,.1,0),ce.addElement(zt).beforeClearStyles([ae]).fromTo(ae,.7,.03),Zt.addAnimation([Mt,ce]),ee.addAnimation([Zt])}}ue.forEach(We=>{const Ge=(0,E.c)();Ge.addElement(We);const zt=(0,E.c)();zt.addElement(We.querySelector("ion-title"));const Zt=(0,E.c)(),Mt=We.querySelectorAll("ion-buttons,[menuToggle]"),ce=We.closest("ion-header"),Ze=null==ce?void 0:ce.classList.contains("header-collapse-condense-inactive"),lt=Array.from(Mt).filter(wn=>{const Bn=wn.classList.contains("buttons-collapse");return Bn&&!Ze||!Bn});Zt.addElement(lt);const ht=(0,E.c)(),Rt=We.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Rt.length>0&&ht.addElement(Rt);const yt=(0,E.c)();yt.addElement(le(We).querySelector(".toolbar-background"));const mt=(0,E.c)(),En=We.querySelector("ion-back-button");if(En&&mt.addElement(En),Ge.addAnimation([zt,Zt,ht,mt,yt]),Ae.addAnimation(Ge),mt.fromTo(ae,.99,0),Zt.fromTo(ae,.99,0),ht.fromTo(ae,.99,0),st){if(Ze||zt.fromTo("transform",`translateX(${tt})`,Me?"translateX(-100%)":"translateX(100%)").fromTo(ae,.99,0),ht.fromTo("transform",`translateX(${tt})`,Me?"translateX(-100%)":"translateX(100%)"),yt.beforeClearStyles([ae,"transform"]),(null==ce?void 0:ce.translucent)?yt.fromTo("transform","translateX(0px)",Me?"translateX(-100%)":"translateX(100%)"):yt.fromTo(ae,"var(--opacity)",0),En&&!dt){const Bn=(0,E.c)();Bn.addElement(le(En).querySelector(".button-text")).fromTo("transform",`translateX(${tt})`,`translateX(${(Me?-124:124)+"px"})`),Ge.addAnimation(Bn)}}else Ze||zt.fromTo("transform",`translateX(${tt})`,`translateX(${Ee})`).fromTo(ae,.99,0).afterClearStyles([qe,ae]),ht.fromTo("transform",`translateX(${tt})`,`translateX(${Ee})`).afterClearStyles([qe,ae]),mt.afterClearStyles([ae]),zt.afterClearStyles([ae]),Zt.afterClearStyles([ae])})}return Ae}catch(Re){throw Re}}},1904:(rn,rt,z)=>{"use strict";z.r(rt),z.d(rt,{mdTransitionAnimation:()=>De});var E=z(1774),m=z(1651);z(6225),z(1688);const De=(_e,le)=>{var x,Ne,Ue;const me="back"===le.direction,Pe=le.leavingEl,ft=(0,m.g)(le.enteringEl),Re=ft.querySelector("ion-toolbar"),ae=(0,E.c)();if(ae.addElement(ft).fill("both").beforeRemoveClass("ion-page-invisible"),me?ae.duration((null!==(x=le.duration)&&void 0!==x?x:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ae.duration((null!==(Ne=le.duration)&&void 0!==Ne?Ne:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Re){const qe=(0,E.c)();qe.addElement(Re),ae.addAnimation(qe)}if(Pe&&me){ae.duration((null!==(Ue=le.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const qe=(0,E.c)();qe.addElement((0,m.g)(Pe)).onFinish(tt=>{1===tt&&qe.elements.length>0&&qe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ae.addAnimation(qe)}return ae}},1647:(rn,rt,z)=>{"use strict";z.d(rt,{B:()=>Ge,G:()=>zt,a:()=>fe,b:()=>we,c:()=>ft,d:()=>Zt,e:()=>Mt,f:()=>Ae,g:()=>kt,h:()=>ee,i:()=>ue,j:()=>ae,k:()=>qe,m:()=>pe,n:()=>Ne,o:()=>Me,q:()=>be,s:()=>We});var E=z(5861),m=z(2085),de=z(6559),ie=z(2124),De=z(839),_e=z(6710);let le=0,x=0;const Ne=new WeakMap,Ue=ce=>({create:Ze=>tt(ce,Ze),dismiss:(Ze,lt,ht)=>st(document,Ze,lt,ce,ht),getTop:()=>(0,E.Z)(function*(){return be(document,ce)})()}),fe=Ue("ion-alert"),we=Ue("ion-action-sheet"),pe=Ue("ion-modal"),ft=Ue("ion-popover"),ae=ce=>{typeof document<"u"&&Ce(document);const Ze=le++;ce.overlayIndex=Ze},qe=ce=>(ce.hasAttribute("id")||(ce.id="ion-overlay-"+ ++x),ce.id),tt=(ce,Ze)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ce).then(()=>{const lt=document.createElement(ce);return lt.classList.add("overlay-hidden"),Object.assign(lt,Object.assign(Object.assign({},Ze),{hasController:!0})),_n(document).appendChild(lt),new Promise(ht=>(0,De.c)(lt,ht))}):Promise.resolve(),Oe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Me=(ce,Ze)=>{let lt=ce.querySelector(Oe);const ht=null==lt?void 0:lt.shadowRoot;ht&&(lt=ht.querySelector(Oe)||lt),lt?(0,De.f)(lt):Ze.focus()},Ee=(ce,Ze)=>{const lt=Array.from(ce.querySelectorAll(Oe));let ht=lt.length>0?lt[lt.length-1]:null;const Rt=null==ht?void 0:ht.shadowRoot;Rt&&(ht=Rt.querySelector(Oe)||ht),ht?ht.focus():Ze.focus()},Ce=ce=>{0===le&&(le=1,ce.addEventListener("focus",Ze=>{((ce,Ze)=>{const lt=be(Ze,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ht=ce.target;lt&&ht&&!lt.classList.contains("ion-disable-focus-trap")&&(lt.shadowRoot?(()=>{if(lt.contains(ht))lt.lastFocus=ht;else{const mt=lt.lastFocus;Me(lt,lt),mt===Ze.activeElement&&Ee(lt,lt),lt.lastFocus=Ze.activeElement}})():(()=>{if(lt===ht)lt.lastFocus=void 0;else{const mt=(0,De.g)(lt);if(!mt.contains(ht))return;const En=mt.querySelector(".ion-overlay-wrapper");if(!En)return;if(En.contains(ht)||ht===mt.querySelector("ion-backdrop"))lt.lastFocus=ht;else{const wn=lt.lastFocus;Me(En,lt),wn===Ze.activeElement&&Ee(En,lt),lt.lastFocus=Ze.activeElement}}})())})(Ze,ce)},!0),ce.addEventListener("ionBackButton",Ze=>{const lt=be(ce);null!=lt&&lt.backdropDismiss&&Ze.detail.register(ie.OVERLAY_BACK_BUTTON_PRIORITY,()=>lt.dismiss(void 0,Ge))}),ce.addEventListener("keydown",Ze=>{if("Escape"===Ze.key){const lt=be(ce);null!=lt&&lt.backdropDismiss&&lt.dismiss(void 0,Ge)}}))},st=(ce,Ze,lt,ht,Rt)=>{const yt=be(ce,ht,Rt);return yt?yt.dismiss(Ze,lt):Promise.reject("overlay does not exist")},be=(ce,Ze,lt)=>{const ht=((ce,Ze)=>(void 0===Ze&&(Ze="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ce.querySelectorAll(Ze)).filter(lt=>lt.overlayIndex>0)))(ce,Ze).filter(Rt=>!(ce=>ce.classList.contains("overlay-hidden"))(Rt));return void 0===lt?ht[ht.length-1]:ht.find(Rt=>Rt.id===lt)},it=(ce=!1)=>{const lt=_n(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");lt&&(ce?lt.setAttribute("aria-hidden","true"):lt.removeAttribute("aria-hidden"))},Ae=function(){var ce=(0,E.Z)(function*(Ze,lt,ht,Rt,yt){var mt,En;if(Ze.presented)return;it(!0),Ze.presented=!0,Ze.willPresent.emit(),null===(mt=Ze.willPresentShorthand)||void 0===mt||mt.emit();const wn=(0,m.b)(Ze),Bn=Ze.enterAnimation?Ze.enterAnimation:m.c.get(lt,"ios"===wn?ht:Rt);(yield dt(Ze,Bn,Ze.el,yt))&&(Ze.didPresent.emit(),null===(En=Ze.didPresentShorthand)||void 0===En||En.emit()),"ION-TOAST"!==Ze.el.tagName&&gt(Ze.el),Ze.keyboardClose&&(null===document.activeElement||!Ze.el.contains(document.activeElement))&&Ze.el.focus()});return function(lt,ht,Rt,yt,mt){return ce.apply(this,arguments)}}(),gt=function(){var ce=(0,E.Z)(function*(Ze){let lt=document.activeElement;if(!lt)return;const ht=null==lt?void 0:lt.shadowRoot;ht&&(lt=ht.querySelector(Oe)||lt),yield Ze.onDidDismiss(),lt.focus()});return function(lt){return ce.apply(this,arguments)}}(),kt=function(){var ce=(0,E.Z)(function*(Ze,lt,ht,Rt,yt,mt,En){var wn,Bn;if(!Ze.presented)return!1;it(!1),Ze.presented=!1;try{Ze.el.style.setProperty("pointer-events","none"),Ze.willDismiss.emit({data:lt,role:ht}),null===(wn=Ze.willDismissShorthand)||void 0===wn||wn.emit({data:lt,role:ht});const mn=(0,m.b)(Ze),Ln=Ze.leaveAnimation?Ze.leaveAnimation:m.c.get(Rt,"ios"===mn?yt:mt);ht!==zt&&(yield dt(Ze,Ln,Ze.el,En)),Ze.didDismiss.emit({data:lt,role:ht}),null===(Bn=Ze.didDismissShorthand)||void 0===Bn||Bn.emit({data:lt,role:ht}),Ne.delete(Ze),Ze.el.classList.add("overlay-hidden"),Ze.el.style.removeProperty("pointer-events"),void 0!==Ze.el.lastFocus&&(Ze.el.lastFocus=void 0)}catch(mn){console.error(mn)}return Ze.el.remove(),!0});return function(lt,ht,Rt,yt,mt,En,wn){return ce.apply(this,arguments)}}(),_n=ce=>ce.querySelector("ion-app")||ce.body,dt=function(){var ce=(0,E.Z)(function*(Ze,lt,ht,Rt){ht.classList.remove("overlay-hidden");const mt=lt(Ze.el,Rt);(!Ze.animated||!m.c.getBoolean("animated",!0))&&mt.duration(0),Ze.keyboardClose&&mt.beforeAddWrite(()=>{const wn=ht.ownerDocument.activeElement;null!=wn&&wn.matches("input,ion-input, ion-textarea")&&wn.blur()});const En=Ne.get(Ze)||[];return Ne.set(Ze,[...En,mt]),yield mt.play(),!0});return function(lt,ht,Rt,yt){return ce.apply(this,arguments)}}(),ee=(ce,Ze)=>{let lt;const ht=new Promise(Rt=>lt=Rt);return te(ce,Ze,Rt=>{lt(Rt.detail)}),ht},te=(ce,Ze,lt)=>{const ht=Rt=>{(0,De.b)(ce,Ze,ht),lt(Rt)};(0,De.a)(ce,Ze,ht)},ue=ce=>"cancel"===ce||ce===Ge,ve=ce=>ce(),We=(ce,Ze)=>{if("function"==typeof ce)return m.c.get("_zoneGate",ve)(()=>{try{return ce(Ze)}catch(ht){throw ht}})},Ge="backdrop",zt="gesture",Zt=ce=>{let lt,Ze=!1;const ht=(0,de.C)(),Rt=(En=!1)=>{if(lt&&!En)return{delegate:lt,inline:Ze};const{el:wn,hasController:Bn,delegate:mn}=ce;return Ze=null!==wn.parentNode&&!Bn,lt=Ze?mn||ht:mn,{inline:Ze,delegate:lt}};return{attachViewToDom:function(){var En=(0,E.Z)(function*(wn){const{delegate:Bn}=Rt(!0);if(Bn)return yield Bn.attachViewToDom(ce.el,wn);const{hasController:mn}=ce;if(mn&&void 0!==wn)throw new Error("framework delegate is missing");return null});return function(Bn){return En.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:En}=Rt();En&&void 0!==ce.el&&En.removeViewFromDom(ce.el.parentElement,ce.el)}}},Mt=()=>{let ce;const Ze=()=>{ce&&(ce(),ce=void 0)};return{addClickListener:(ht,Rt)=>{Ze();const yt=void 0!==Rt?document.getElementById(Rt):null;yt?ce=((En,wn)=>{const Bn=()=>{wn.present()};return En.addEventListener("click",Bn),()=>{En.removeEventListener("click",Bn)}})(yt,ht):(0,_e.p)(`A trigger element with the ID "${Rt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ht)},removeClickListener:Ze}}},6939:(rn,rt,z)=>{"use strict";var E={};z.r(E),z.d(E,{FirebaseError:()=>ht,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>tr,_addComponent:()=>Li,_addOrOverwriteComponent:()=>Hs,_apps:()=>dn,_clearComponents:()=>jo,_components:()=>Jn,_getProvider:()=>ss,_registerComponent:()=>Kn,_removeServiceInstance:()=>mr,deleteApp:()=>po,getApp:()=>ir,getApps:()=>Ro,initializeApp:()=>Cs,onLog:()=>cu,registerVersion:()=>_r,setLogLevel:()=>As});var m=z(6593),de=z(6689),ie=z(9599),De=z(7027);const _e=[{path:"",loadChildren:()=>z.e(4054).then(z.bind(z,4054)).then(n=>n.TabsPageModule)}];let le=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=de.oAB({type:n}),n.\u0275inj=de.cJS({imports:[ie.Bz.forRoot(_e,{preloadingStrategy:ie.wm}),ie.Bz]}),e})();var x=z(5861);const we=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],u=i+1<n.length,d=u?n[i+1]:0,f=i+2<n.length,g=f?n[i+2]:0;let U=(15&d)<<2|g>>6,Z=63&g;f||(Z=64,u||(U=64)),r.push(t[s>>2],t[(3&s)<<4|d>>4],t[U],t[Z])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(we(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const f=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(1023&f))}else{const s=n[t++],u=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const A=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==d||null==g||null==A)throw new Pe;r.push(s<<2|d>>4),64!==g&&(r.push(d<<4&240|g>>2),64!==A&&r.push(g<<6&192|A))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(n){return function(n){const e=we(n);return pe.encodeByteArray(e,!0)}(n).replace(/\./g,"")},ae=function(n){try{return pe.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tt(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Oe(t)||(n[t]=tt(n[t],e[t]));return n}function Oe(n){return"__proto__"!==n}const Ce=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ae(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},st=n=>{var e,t;return null===(t=null===(e=Ce())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},je=n=>{const e=st(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},be=()=>{var n;return null===(n=Ce())||void 0===n?void 0:n.config},it=n=>{var e;return null===(e=Ce())||void 0===e?void 0:e[`_${n}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function gt(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(u)),""].join(".")}function kt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _n(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function dt(){var n;const e=null===(n=Ce())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function te(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Mt(){try{return"object"==typeof indexedDB}catch{return!1}}function ce(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],u=s?function yt(n,e){return n.replace(mt,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ht(i,`${this.serviceName}: ${u} (${i}).`,r)}}const mt=/\{\$([^}]+)}/g;function Cr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Pn(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ar(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],u=e[i];if(Qr(s)&&Qr(u)){if(!Ar(s,u))return!1}else if(s!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Qr(n){return null!==n&&"object"==typeof n}function dr(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function et(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Un(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Gt(n,e){const t=new Vs(n,e);return t.subscribe.bind(t)}class Vs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function qn(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Bs),void 0===i.error&&(i.error=Bs),void 0===i.complete&&(i.complete=Bs);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bs(){}const Ni=1e3,Je=2,ge=144e5,Ke=.5;function he(n,e=Ni,t=Je){const r=e*Math.pow(t,n),i=Math.round(Ke*r*(Math.random()-.5)*2);return Math.min(ge,r+i)}function Xe(n){return n&&n._delegate?n._delegate:n}class Ht{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sn="[DEFAULT]";class pr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ae;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Oi(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,x.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Sn){return this.instances.has(e)}getOptions(e=Sn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,u]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&u.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const u=this.instances.get(i);return u&&e(u,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Sn?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Sn){return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Er{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Is=[];var en=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(en||{});const Fi={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},Dn=en.INFO,Pr={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},xo=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Pr[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Mr{constructor(e){this.name=e,this._logLevel=Dn,this._logHandler=xo,this._userLogHandler=null,Is.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Fi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...e),this._logHandler(this,en.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...e),this._logHandler(this,en.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,en.INFO,...e),this._logHandler(this,en.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,en.WARN,...e),this._logHandler(this,en.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...e),this._logHandler(this,en.ERROR,...e)}}const Es=(n,e)=>e.some(t=>n instanceof t);let Lr,Vr;const Qt=new WeakMap,ws=new WeakMap,$s=new WeakMap,uo=new WeakMap,Us=new WeakMap;let bs={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ws.get(n);if("objectStoreNames"===e)return n.objectStoreNames||$s.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function co(n){return"function"==typeof n?function Ds(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wn(){return Vr||(Vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gr(this),e),qr(Qt.get(this))}:function(...e){return qr(n.apply(gr(this),e))}:function(e,...t){const r=n.call(gr(this),e,...t);return $s.set(r,e.sort?e.sort():[e]),qr(r)}}(n):(n instanceof IDBTransaction&&function Ts(n){if(ws.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",u),n.removeEventListener("abort",u)},s=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",u),n.addEventListener("abort",u)});ws.set(n,e)}(n),Es(n,function Hr(){return Lr||(Lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bs):n)}function qr(n){if(n instanceof IDBRequest)return function Br(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",u)},s=()=>{t(qr(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Qt.set(t,n)}).catch(()=>{}),Us.set(e,n),e}(n);if(uo.has(n))return uo.get(n);const e=co(n);return e!==n&&(uo.set(n,e),Us.set(e,n)),e}const gr=n=>Us.get(n);function H(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const u=indexedDB.open(n,e),d=qr(u);return r&&u.addEventListener("upgradeneeded",f=>{r(qr(u.result),f.oldVersion,f.newVersion,qr(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const J=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],Le=new Map;function Se(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Le.get(e))return Le.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=re.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!J.includes(t))return;const s=function(){var u=(0,x.Z)(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let I=g.store;return r&&(I=I.index(f.shift())),(yield Promise.all([I[t](...f),i&&g.done]))[0]});return function(f){return u.apply(this,arguments)}}();return Le.set(e,s),s}!function js(n){bs=n(bs)}(n=>({...n,get:(e,t,r)=>Se(e,t)||n.get(e,t,r),has:(e,t)=>!!Se(e,t)||n.has(e,t)}));class Ye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function _t(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const at="@firebase/app",Wt=new Mr("@firebase/app"),tr="[DEFAULT]",$t={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Jn=new Map;function Li(n,e){try{n.container.addComponent(e)}catch(t){Wt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hs(n,e){n.container.addOrOverwriteComponent(e)}function Kn(n){const e=n.name;if(Jn.has(e))return Wt.debug(`There were multiple attempts to register component ${e}.`),!1;Jn.set(e,n);for(const t of dn.values())Li(t,n);return!0}function ss(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mr(n,e,t=tr){ss(n,e).clearInstance(t)}function jo(){Jn.clear()}const on=new Rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ua{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const os="10.3.1";function Cs(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:tr,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw on.create("bad-app-name",{appName:String(i)});if(t||(t=be()),!t)throw on.create("no-options");const s=dn.get(i);if(s){if(Ar(t,s.options)&&Ar(r,s.config))return s;throw on.create("duplicate-app",{appName:i})}const u=new Er(i);for(const f of Jn.values())u.addComponent(f);const d=new ua(t,r,u);return dn.set(i,d),d}function ir(n=tr){const e=dn.get(n);if(!e&&n===tr&&be())return Cs();if(!e)throw on.create("no-app",{appName:n});return e}function Ro(){return Array.from(dn.values())}function po(n){return bi.apply(this,arguments)}function bi(){return(bi=(0,x.Z)(function*(n){const e=n.name;dn.has(e)&&(dn.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function _r(n,e,t){var r;let i=null!==(r=$t[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const d=[`Unable to register library "${i}" with version "${e}":`];return s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wt.warn(d.join(" "))}Kn(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function cu(n,e){if(null!==n&&"function"!=typeof n)throw on.create("invalid-log-argument");!function wi(n,e){for(const t of Is){let r=null;e&&e.level&&(r=Fi[e.level]),t.userLogHandler=null===n?null:(i,s,...u)=>{const d=u.map(f=>{if(null==f)return null;if("string"==typeof f)return f;if("number"==typeof f||"boolean"==typeof f)return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");s>=(null!=r?r:i.logLevel)&&n({level:en[s].toLowerCase(),message:d,args:u,type:i.name})}}}(n,e)}function As(n){!function ti(n){Is.forEach(e=>{e.setLogLevel(n)})}(n)}const as="firebase-heartbeat-database",Ua=1,go="firebase-heartbeat-store";let kn=null;function Vu(){return kn||(kn=H(as,Ua,{upgrade:(n,e)=>{0===e&&n.createObjectStore(go)}}).catch(n=>{throw on.create("idb-open",{originalErrorMessage:n.message})})),kn}function ja(){return(ja=(0,x.Z)(function*(n){try{return yield(yield Vu()).transaction(go).objectStore(go).get(zo(n))}catch(e){if(e instanceof ht)Wt.warn(e.message);else{const t=on.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Wt.warn(t.message)}}})).apply(this,arguments)}function pi(n,e){return ca.apply(this,arguments)}function ca(){return(ca=(0,x.Z)(function*(n,e){try{const r=(yield Vu()).transaction(go,"readwrite");yield r.objectStore(go).put(e,zo(n)),yield r.done}catch(t){if(t instanceof ht)Wt.warn(t.message);else{const r=on.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Wt.warn(r.message)}}})).apply(this,arguments)}function zo(n){return`${n.name}!${n.options.appId}`}class fc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ba(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,x.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vi();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,x.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Vi(),{heartbeatsToSend:r,unsentEntries:i}=function Ki(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(u=>u.agent===i.agent);if(s){if(s.dates.push(i.date),qs(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qs(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Re(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Vi(){return(new Date).toISOString().substring(0,10)}class ba{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.Z)(function*(){return!!Mt()&&ce().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,x.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Wi(n){return ja.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,x.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return pi(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,x.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return pi(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qs(n){return Re(JSON.stringify({version:2,heartbeats:n})).length}!function lu(n){Kn(new Ht("platform-logger",e=>new Ye(e),"PRIVATE")),Kn(new Ht("heartbeat",e=>new fc(e),"PRIVATE")),_r(at,"0.9.18",n),_r(at,"0.9.18","esm2017"),_r("fire-js","")}("");var jt,Ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bi={},kr=kr||{},xn=Ws||self;function pc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function V(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var K="closure_uid_"+(1e9*Math.random()>>>0),B=0;function X(n,e,t){return n.call.apply(n.bind,arguments)}function Ct(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function y(n,e,t){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:Ct).apply(null,arguments)}function F(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function v(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[i].apply(r,u)}}function N(){this.s=this.s,this.o=this.o}N.prototype.s=!1,N.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function P(n){Object.prototype.hasOwnProperty.call(n,K)&&n[K]||(n[K]=++B)}(this)},N.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ot=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Vt(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qt(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pc(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function hn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var nr=function(){if(!xn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xn.addEventListener("test",()=>{},e),xn.removeEventListener("test",()=>{},e)}catch{}return n}();function $i(n){return/^[\s\xa0]*$/.test(n)}function Ks(){var n=xn.navigator;return n&&(n=n.userAgent)?n:""}function wr(n){return-1!=Ks().indexOf(n)}function gi(n){return gi[" "](n),n}gi[" "]=function(){};var gc,n,mo=wr("Opera"),Wr=wr("Trident")||wr("MSIE"),Jc=wr("Edge"),_o=Jc||Wr,el=wr("Gecko")&&!(-1!=Ks().toLowerCase().indexOf("webkit")&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),td=-1!=Ks().toLowerCase().indexOf("webkit")&&!wr("Edge");function Mh(){var n=xn.document;return n?n.documentMode:void 0}e:{var mc="",tl=(n=Ks(),el?/rv:([^\);]+)(\)|;)/.exec(n):Jc?/Edge\/([\d\.]+)/.exec(n):Wr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):td?/WebKit\/(\S+)/.exec(n):mo?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tl&&(mc=tl?tl[1]:""),Wr){var _c=Mh();if(null!=_c&&_c>parseFloat(mc)){gc=String(_c);break e}}gc=mc}var nl=xn.document&&Wr&&(Mh()||parseInt(gc,10))||void 0;function yc(n,e){if(hn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(el){e:{try{gi(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rd[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yc.$.h.call(this)}}v(yc,hn);var rd={2:"touch",3:"pen",4:"mouse"};yc.prototype.h=function(){yc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),vc=0;function Ep(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++vc,this.fa=this.ia=!1}function kh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ic(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ec(n){const e={};for(const t in n)e[t]=n[t];return e}const $u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<$u.length;s++)t=$u[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function D(n){this.src=n,this.g={},this.h=0}function L(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=ot(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ne(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}D.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=ne(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new Ep(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var k="closure_lm_"+(1e6*Math.random()|0),Y={};function se(n,e,t,r,i){if(r&&r.once)return Nn(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)se(n,e[s],t,r,i);return null}return t=Ho(t),n&&n[za]?n.O(e,t,V(r)?!!r.capture:!!r,i):ct(n,e,t,!1,r,i)}function ct(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=V(i)?!!i.capture:!!i,d=hr(n);if(d||(n[k]=d=new D(n)),(t=d.add(e,t,r,u,s)).proxy)return t;if(r=function St(){const e=Nr;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nr||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Rn(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Nn(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nn(n,e[s],t,r,i);return null}return t=Ho(t),n&&n[za]?n.P(e,t,V(r)?!!r.capture:!!r,i):ct(n,e,t,!0,r,i)}function Yn(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Yn(n,e[s],t,r,i);else r=V(r)?!!r.capture:!!r,t=Ho(t),n&&n[za]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ne(s=n.g[e],t,r,i))&&(kh(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=hr(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ne(e,t,r,i)),(t=-1<n?e[n]:null)&&zn(t))}function zn(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[za])L(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Rn(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hr(e))?(L(t,n),0==t.h&&(t.src=null,e[k]=null)):kh(n)}}}function Rn(n){return n in Y?Y[n]:Y[n]="on"+n}function Nr(n,e){if(n.fa)n=!0;else{e=new yc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&zn(n),n=t.call(r,e)}return n}function hr(n){return(n=n[k])instanceof D?n:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(n){return"function"==typeof n?n:(n[ui]||(n[ui]=function(e){return n.handleEvent(e)}),n[ui])}function Ur(){N.call(this),this.i=new D(this),this.S=this,this.J=null}function ii(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hn(e,n);else if(e instanceof hn)e.target=e.target||n;else{var i=e;b_(e=new hn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=Di(u,r,!0,e)&&i}if(i=Di(u=e.g=n,r,!0,e)&&i,i=Di(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Di(u=e.g=t[s],r,!1,e)&&i}function Di(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var d=u.listener,f=u.la||u.src;u.ia&&L(n.i,u),i=!1!==d.call(f,r)&&i}}return i&&!r.defaultPrevented}v(Ur,N),Ur.prototype[za]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){Yn(this,n,e,t,r)},Ur.prototype.N=function(){if(Ur.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kh(t[r]);delete n.g[e],n.h--}}this.J=null},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var la=xn.JSON.stringify;function da(){var n=id;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bp=new class du{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new VI,n=>n.reset());class VI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Dp(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function BI(n){xn.setTimeout(()=>{throw n},0)}let Kr,rl=!1,id=new class Tp{constructor(){this.h=this.g=null}add(e,t){const r=bp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Tr=()=>{const n=xn.Promise.resolve(void 0);Kr=()=>{n.then(Cp)}};var Cp=()=>{for(var n;n=da();){try{n.h.call(n.g)}catch(t){BI(t)}var e=bp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}rl=!1};function wc(n,e){Ur.call(this),this.h=n||1,this.g=e||xn,this.j=y(this.qb,this),this.l=Date.now()}function Ss(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ap(n,e,t){if("function"==typeof n)t&&(n=y(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=y(n.handleEvent,n)}return 2147483647<Number(e)?-1:xn.setTimeout(n,e||0)}function D_(n){n.g=Ap(()=>{n.g=null,n.i&&(n.i=!1,D_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}v(wc,Ur),(jt=wc.prototype).ga=!1,jt.T=null,jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ii(this,"tick"),this.ga&&(Ss(this),this.start()))}},jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jt.N=function(){wc.$.N.call(this),Ss(this),delete this.g};class il extends N{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D_(this)}N(){super.N(),this.g&&(xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(n){N.call(this),this.h=n,this.g={}}v(Yi,N);var Sp=[];function $I(n,e,t,r){Array.isArray(t)||(t&&(Sp[0]=t.toString()),t=Sp);for(var i=0;i<t.length;i++){var s=se(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function xp(n){Ic(n.g,function(e,t){this.g.hasOwnProperty(t)&&zn(e)},n),n.g={}}function Zi(){this.g=!0}function sl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return la(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Yi.prototype.N=function(){Yi.$.N.call(this),xp(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Ea=function(){this.g=!1},Zi.prototype.info=function(){};var Uu={},bn=null;function sd(){return bn=bn||new Ur}function jI(n){hn.call(this,Uu.Ta,n)}function Nh(n){const e=sd();ii(e,new jI(e))}function Pp(n,e){hn.call(this,Uu.STAT_EVENT,n),this.stat=e}function yo(n){const e=sd();ii(e,new Pp(e,n))}function A_(n,e){hn.call(this,Uu.Ua,n),this.size=e}function hu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xn.setTimeout(function(){n()},e)}Uu.Ta="serverreachability",v(jI,hn),Uu.STAT_EVENT="statevent",v(Pp,hn),Uu.Ua="timingevent",v(A_,hn);var Mp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},S_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function x_(){}function R_(){}x_.prototype.h=null;var Op,It={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rr(){hn.call(this,"d")}function Np(){hn.call(this,"c")}function Ui(){}function ol(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Yi(this),this.P=Da,this.V=new wc(n=_o?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}v(rr,hn),v(Np,hn),v(Ui,x_),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},Op=new Ui;var Da=45e3,od={},ad={};function P_(n,e,t){n.L=1,n.v=fu(sr(e)),n.s=t,n.S=!0,SD(n,null)}function SD(n,e){n.G=Date.now(),w(n),n.A=sr(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Vp(t.i,"t",r),n.C=0,t=n.l.J,n.h=new al,n.g=fd(n.l,t?e:null,!n.s),0<n.O&&(n.M=new il(y(n.Pa,n,n.g),n.O)),$I(n.U,n.g,"readystatechange",n.nb),e=n.I?Ec(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Nh(),function C_(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var I=g[0];g=g[1];var A=I.split("_");u=2<=A.length&&"type"==A[1]?u+(I+"=")+g+"&":u+(I+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function M_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function vo(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=ju(n,t),i==ad){4==e&&(n.o=4,yo(14),r=!1),sl(n.j,n.m,null,"[Incomplete Response]");break}if(i==od){n.o=4,yo(15),sl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}sl(n.j,n.m,i,null),G(n,i)}M_(n)&&i!=ad&&i!=od&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),XI(e),e.M=!0,yo(11))):(sl(n.j,n.m,t,"[Invalid Chunked Response]"),M(n),b(n))}function ju(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ad:(t=Number(e.substring(t,r)),isNaN(t)?od:(r+=1)+t>e.length?ad:(e=e.slice(r,r+t),n.C=r+t,e))}function w(n){n.Y=Date.now()+n.P,C(n,n.P)}function C(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hu(y(n.lb,n),e)}function R(n){n.B&&(xn.clearTimeout(n.B),n.B=null)}function b(n){0==n.l.H||n.J||FD(n.l,n)}function M(n){R(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ss(n.V),xp(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function G(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||F_(t.i,n)))if(!n.K&&F_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bh(t),j_(t)}Io(t),yo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=hu(y(t.ib,t),6e3));if(1>=HI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else bc(t,11)}else if((n.K||t.g==n)&&Bh(t),!$i(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const I=g[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const A=g[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const U=g[5];null!=U&&"number"==typeof U&&0<U&&(t.L=r=1.5*U,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ye=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var s=r.i;s.g||-1==ye.indexOf("spdy")&&-1==ye.indexOf("quic")&&-1==ye.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(qI(s,s.h),s.h=null))}if(r.F){const Fe=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.Da=Fe,fr(r.I,r.F,Fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=hd(r,r.J?r.pa:null,r.Y),u.K){cd(r.i,u);var d=u,f=r.L;f&&d.setTimeout(f),d.B&&(R(d),w(d)),r.g=u}else OD(r);0<t.j.length&&Gu(t)}else"stop"!=g[0]&&"close"!=g[0]||bc(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?bc(t,7):U_(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}Nh()}catch{}}function Dt(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Q(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(jt=ol.prototype).setTimeout=function(n){this.P=n},jt.nb=function(n){n=n.target;const e=this.M;e&&3==mu(n)?e.l():this.Pa(n)},jt.Pa=function(n){try{if(n==this.g)e:{const I=mu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||_o||this.g&&(this.h.h||this.g.ja()||zp(this.g)))){this.J||4!=I||7==e||Nh(),R(this);var t=this.g.da();this.ca=t;t:if(M_(this)){var r=zp(this.g);n="";var i=r.length,s=4==mu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){M(this),b(this);var u="";break t}this.h.i=new xn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function AD(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$i(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,yo(12),M(this),b(this);break e}sl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,G(this,t)}this.S?(vo(this,I,u),_o&&this.i&&3==I&&($I(this.U,this.V,"tick",this.mb),this.V.start())):(sl(this.j,this.m,u,null),G(this,u)),4==I&&M(this),this.i&&!this.J&&(4==I?FD(this.l,this):(this.i=!1,w(this)))}else(function YI(n){const e={};n=(n.g&&2<=mu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if($i(n[r]))continue;var t=Dp(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function wp(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),M(this),b(this)}}}catch{}},jt.mb=function(){if(this.g){var n=mu(this.g),e=this.g.ja();this.C<e.length&&(R(this),vo(this,n,e),this.i&&4!=n&&w(this))}},jt.cancel=function(){this.J=!0,M(this)},jt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Nh(),yo(17)),M(this),this.o=2,b(this)):C(this,this.Y-n)};var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function un(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof un){this.h=n.h,Ci(this,n.j),this.s=n.s,this.g=n.g,ur(this,n.m),this.l=n.l;var e=n.i,t=new Lp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Qi(this,t),this.o=n.o}else n&&(e=String(n).match($e))?(this.h=!1,Ci(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),ur(this,e[4]),this.l=Ca(e[5]||"",!0),Qi(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new Lp(null,this.h))}function sr(n){return new un(n)}function Ci(n,e,t){n.j=t?Ca(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ur(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Qi(n,e,t){e instanceof Lp?(n.i=e,function Z1(n,e){e&&!n.j&&(ul(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(GI(this,r),Vp(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pu(e,K1)),n.i=new Lp(e,n.h))}function fr(n,e,t){n.i.set(e,t)}function fu(n){return fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ca(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Fp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Fp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}un.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pu(e,Xi,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pu(e,Xi,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pu(t,"/"==t.charAt(0)?Ai:ud,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pu(t,Y1)),n.join("")};var Xi=/[#\/\?@]/g,ud=/[#\?:]/g,Ai=/[#\?]/g,K1=/[#\?@]/g,Y1=/#/g;function Lp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ul(n){n.g||(n.g=new Map,n.h=0,n.i&&function Lt(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function GI(n,e){ul(n),e=Aa(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zI(n,e){return ul(n),e=Aa(n,e),n.g.has(e)}function Vp(n,e,t){GI(n,e),0<t.length&&(n.i=null,n.g.set(Aa(n,e),Vt(t)),n.h+=t.length)}function Aa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Bp(n){this.l=n||N_,n=xn.PerformanceNavigationTiming?0<(n=xn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xn.g&&xn.g.Ka&&xn.g.Ka()&&xn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(jt=Lp.prototype).add=function(n,e){ul(this),this.i=null,n=Aa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},jt.forEach=function(n,e){ul(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},jt.ta=function(){ul(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},jt.Z=function(n){ul(this);let e=[];if("string"==typeof n)zI(this,n)&&(e=e.concat(this.g.get(Aa(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},jt.set=function(n,e){return ul(this),this.i=null,zI(this,n=Aa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var N_=10;function O_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HI(n){return n.h?1:n.g?n.g.size:0}function F_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qI(n,e){n.g?n.g.add(e):n.h=e}function cd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Oh(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Vt(n.i)}Bp.prototype.cancel=function(){if(this.i=Oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Q1=class{stringify(n){return xn.JSON.stringify(n,void 0)}parse(n){return xn.JSON.parse(n,void 0)}};function b$(){this.g=new Q1}function WI(n,e,t){const r=t||"";try{Dt(n,function(i,s){let u=i;V(i)&&(u=la(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $p(n){this.l=n.fc||null,this.j=n.ob||!1}function KI(n,e){Ur.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=xD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}v($p,x_),$p.prototype.g=function(){return new KI(this.l,this.j)},$p.prototype.i=function(n){return function(){return n}}({}),v(KI,Ur);var xD=0;function V_(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Tc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Up(n)}function Up(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(jt=KI.prototype).open=function(n,e){if(this.readyState!=xD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Up(this)},jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||xn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tc(this)),this.readyState=xD},jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Up(this)),this.g&&(this.readyState=3,Up(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V_(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Tc(this):Up(this),3==this.readyState&&V_(this)}},jt.Za=function(n){this.g&&(this.response=this.responseText=n,Tc(this))},jt.Ya=function(n){this.g&&(this.response=n,Tc(this))},jt.ka=function(){this.g&&Tc(this)},jt.setRequestHeader=function(n,e){this.v.append(n,e)},jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(KI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jp=xn.JSON.parse;function mi(n){Ur.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gp,this.L=this.M=!1}v(mi,Ur);var Gp="",C$=/^https?$/i,RD=["POST","PUT"];function MD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gu(n),ld(n)}function gu(n){n.F||(n.F=!0,ii(n,"complete"),ii(n,"error"))}function kD(n){if(n.h&&typeof kr<"u"&&(!n.C[1]||4!=mu(n)||2!=n.da()))if(n.v&&4==mu(n))Ap(n.La,0,n);else if(ii(n,"readystatechange"),4==mu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match($e)[1]||null;!i&&xn.self&&xn.self.location&&(i=xn.self.location.protocol.slice(0,-1)),r=!C$.test(i?i.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var s=2<mu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gu(n)}}finally{ld(n)}}}function ld(n,e){if(n.g){B_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function B_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(xn.clearTimeout(n.A),n.A=null)}function mu(n){return n.g?n.g.readyState:0}function zp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Gp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ND(n){let e="";return Ic(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ND(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fr(n,e,t))}function Fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ZI(n){this.Ga=0,this.j=[],this.l=new Zi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fh("baseRetryDelayMs",5e3,n),this.hb=Fh("retryDelaySeedMs",1e4,n),this.eb=Fh("forwardChannelMaxRetries",2,n),this.xa=Fh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Bp(n&&n.concurrentRequestLimit),this.Ja=new b$,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function U_(n){if(Hp(n),3==n.H){var e=n.W++,t=sr(n.I);if(fr(t,"SID",n.K),fr(t,"RID",e),fr(t,"TYPE","terminate"),Lh(n,t),(e=new ol(n,n.l,e)).L=2,e.v=fu(sr(t)),t=!1,xn.navigator&&xn.navigator.sendBeacon)try{t=xn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&xn.Image&&((new Image).src=e.v,t=!0),t||(e.g=fd(e.l,null),e.g.ha(e.v)),e.G=Date.now(),w(e)}dd(n)}function j_(n){n.g&&(XI(n),n.g.cancel(),n.g=null)}function Hp(n){j_(n),n.u&&(xn.clearTimeout(n.u),n.u=null),Bh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xn.clearTimeout(n.m),n.m=null)}function Gu(n){if(!O_(n.i)&&!n.m){n.m=!0;var e=n.Na;Kr||Tr(),rl||(Kr(),rl=!0),id.add(e,n),n.C=0}}function QI(n,e){var t;t=e?e.m:n.W++;const r=sr(n.I);fr(r,"SID",n.K),fr(r,"RID",t),fr(r,"AID",n.V),Lh(n,r),n.o&&n.s&&$_(r,n.o,n.s),t=new ol(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Vh(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),qI(n.i,t),P_(t,r,e)}function Lh(n,e){n.na&&Ic(n.na,function(t,r){fr(e,r,t)}),n.h&&Dt({},function(t,r){fr(e,r,t)})}function Vh(n,e,t){t=Math.min(n.j.length,t);var r=n.h?y(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=i[f].g;const I=i[f].map;if(g-=s,0>g)s=Math.max(0,i[f].g-100),d=!1;else try{WI(I,u,"req"+g+"_")}catch{r&&r(I)}}if(d){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function OD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Kr||Tr(),rl||(Kr(),rl=!0),id.add(e,n),n.A=0}}function Io(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hu(y(n.Ma,n),e0(n,n.A)),n.A++,0))}function XI(n){null!=n.B&&(xn.clearTimeout(n.B),n.B=null)}function JI(n){n.g=new ol(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=sr(n.wa);fr(e,"RID","rpc"),fr(e,"SID",n.K),fr(e,"AID",n.V),fr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&fr(e,"TO",n.qa),fr(e,"TYPE","xmlhttp"),Lh(n,e),n.o&&n.s&&$_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=fu(sr(e)),t.s=null,t.S=!0,SD(t,n)}function Bh(n){null!=n.v&&(xn.clearTimeout(n.v),n.v=null)}function FD(n,e){var t=null;if(n.g==e){Bh(n),XI(n),n.g=null;var r=2}else{if(!F_(n.i,e))return;t=e.F,cd(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ii(r=sd(),new A_(r,t)),Gu(n)}else OD(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function X1(n,e){return!(HI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hu(y(n.Na,n,e),e0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Io(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:bc(n,5);break;case 4:bc(n,10);break;case 3:bc(n,6);break;default:bc(n,2)}}function e0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function bc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=y(n.pb,n);t||(t=new un("//www.google.com/images/cleardot.gif"),xn.location&&"http"==xn.location.protocol||Ci(t,"https"),fu(t)),function D$(n,e){const t=new Zi;if(xn.Image){const r=new Image;r.onload=F(L_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=F(L_,t,r,"TestLoadImage: error",!1,e),r.onabort=F(L_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=F(L_,t,r,"TestLoadImage: timeout",!1,e),xn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yo(2);n.H=0,n.h&&n.h.za(e),dd(n),Hp(n)}function dd(n){if(n.H=0,n.ma=[],n.h){const e=Oh(n.i);(0!=e.length||0!=n.j.length)&&(qt(n.ma,e),qt(n.ma,n.j),n.i.i.length=0,Vt(n.j),n.j.length=0),n.h.ya()}}function hd(n,e,t){var r=t instanceof un?sr(t):new un(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ur(r,r.m);else{var i=xn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new un(null);r&&Ci(s,r),e&&(s.g=e),i&&ur(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&fr(r,t,e),fr(r,"VER",n.ra),Lh(n,r),r}function fd(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mi(t&&n.Ha&&!n.va?new $p({ob:!0}):n.va)).Oa(n.J),e}function t0(){}function $h(){if(Wr&&!(10<=Number(nl)))throw Error("Environmental error: no available transport.")}function Ys(n,e){Ur.call(this),this.g=new ZI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!$i(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$i(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qp(this)}function J1(n){rr.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LD(){Np.call(this),this.status=1}function qp(n){this.g=n}function zu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function VD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;u=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=s+((u=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Yr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(jt=mi.prototype).Oa=function(n){this.M=n},jt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Op.g(),this.C=function kp(n){return n.h||(n.h=n.i())}(this.u?this.u:Op),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void MD(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=xn.FormData&&n instanceof xn.FormData,!(0<=ot(RD,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{B_(this),0<this.B&&((this.L=function PD(n){return Wr&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=Ap(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){MD(this,s)}},jt.ua=function(){typeof kr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),ld(this))},jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ld(this,!0)),mi.$.N.call(this)},jt.La=function(){this.s||(this.G||this.v||this.l?kD(this):this.kb())},jt.kb=function(){kD(this)},jt.isActive=function(){return!!this.g},jt.da=function(){try{return 2<mu(this)?this.g.status:-1}catch{return-1}},jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jp(e)}},jt.Ia=function(){return this.m},jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(jt=ZI.prototype).ra=8,jt.H=1,jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new ol(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Ec(s),b_(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vh(this,i,e),fr(t=sr(this.I),"RID",n),fr(t,"CVER",22),this.F&&fr(t,"X-HTTP-Session-Id",this.F),Lh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(ND(s)))+"&"+e:this.o&&$_(t,this.o,s)),qI(this.i,i),this.bb&&fr(t,"TYPE","init"),this.P?(fr(t,"$req",e),fr(t,"SID","null"),i.aa=!0,P_(i,t,null)):P_(i,t,e),this.H=2}}else 3==this.H&&(n?QI(this,n):0==this.j.length||O_(this.i)||QI(this))},jt.Ma=function(){if(this.u=null,JI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=hu(y(this.jb,this),n)}},jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yo(10),j_(this),JI(this))},jt.ib=function(){null!=this.v&&(this.v=null,j_(this),Io(this),yo(19))},jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yo(2)):(this.l.info("Failed to ping google.com"),yo(1))},jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(jt=t0.prototype).Ba=function(){},jt.Aa=function(){},jt.za=function(){},jt.ya=function(){},jt.isActive=function(){return!0},jt.Va=function(){},$h.prototype.g=function(n,e){return new Ys(n,e)},v(Ys,Ur),Ys.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=hd(n,null,n.Y),Gu(n)},Ys.prototype.close=function(){U_(this.g)},Ys.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=la(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Gu(e)},Ys.prototype.N=function(){this.g.h=null,delete this.j,U_(this.g),delete this.g,Ys.$.N.call(this)},v(J1,rr),v(LD,Np),v(qp,t0),qp.prototype.Ba=function(){ii(this.g,"a")},qp.prototype.Aa=function(n){ii(this.g,new J1(n))},qp.prototype.za=function(n){ii(this.g,new LD)},qp.prototype.ya=function(){ii(this.g,"b")},v(zu,function A$(){this.blockSize=-1}),zu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)VD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){VD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){VD(this,r),i=0;break}}this.h=i,this.i+=e},zu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var S$={};function cl(n){return-128<=n&&128>n?function Po(n,e){var t=S$;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Yr([0|e],0>e?-1:0)}):new Yr([0|n],0>n?-1:0)}function Hu(n){if(isNaN(n)||!isFinite(n))return Uh;if(0>n)return Zs(Hu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ji;return new Yr(e,0)}var Ji=4294967296,Uh=cl(0),pd=cl(1),$D=cl(16777216);function us(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Eo(n){return-1==n.h}function Zs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Yr(t,~n.h).add(pd)}function gd(n,e){return n.add(Zs(e))}function ll(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Wp(n,e){this.g=n,this.h=e}function n0(n,e){if(us(e))throw Error("division by zero");if(us(n))return new Wp(Uh,Uh);if(Eo(n))return e=n0(Zs(n),e),new Wp(Zs(e.g),Zs(e.h));if(Eo(e))return e=n0(n,Zs(e)),new Wp(Zs(e.g),e.h);if(30<n.g.length){if(Eo(n)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pd,r=e;0>=r.X(n);)t=UD(t),r=UD(r);var i=Kp(t,1),s=Kp(r,1);for(r=Kp(r,2),t=Kp(t,2);!us(r);){var u=s.add(r);0>=u.X(n)&&(i=i.add(t),s=u),r=Kp(r,1),t=Kp(t,1)}return e=gd(n,i.R(e)),new Wp(i,e)}for(i=Uh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(s=Hu(t)).R(e);Eo(u)||0<u.X(n);)u=(s=Hu(t-=r)).R(e);us(s)&&(s=pd),i=i.add(s),n=gd(n,u)}return new Wp(i,n)}function UD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Yr(t,n.h)}function Kp(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Yr(i,n.h)}(jt=Yr.prototype).ea=function(){if(Eo(this))return-Zs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ji+r)*e,e*=Ji}return n},jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(us(this))return"0";if(Eo(this))return"-"+Zs(this).toString(n);for(var e=Hu(Math.pow(n,6)),t=this,r="";;){var i=n0(t,e).g,s=((0<(t=gd(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(us(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},jt.X=function(n){return Eo(n=gd(this,n))?-1:us(n)?0:1},jt.abs=function(){return Eo(this)?Zs(this):this},jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),u=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(s&=65535)}return new Yr(t,-2147483648&t[t.length-1]?-1:0)},jt.R=function(n){if(us(this)||us(n))return Uh;if(Eo(this))return Eo(n)?Zs(this).R(Zs(n)):Zs(Zs(this).R(n));if(Eo(n))return Zs(this.R(Zs(n)));if(0>this.X($D)&&0>n.X($D))return Hu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,u=65535&this.D(r),d=n.D(i)>>>16,f=65535&n.D(i);t[2*r+2*i]+=u*f,ll(t,2*r+2*i),t[2*r+2*i+1]+=s*f,ll(t,2*r+2*i+1),t[2*r+2*i+1]+=u*d,ll(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,ll(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Yr(t,0)},jt.gb=function(n){return n0(this,n).h},jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Yr(t,this.h&n.h)},jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Yr(t,this.h|n.h)},jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Yr(t,this.h^n.h)},$h.prototype.createWebChannel=$h.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,Mp.NO_ERROR=0,Mp.TIMEOUT=8,Mp.HTTP_ERROR=6,S_.COMPLETE="complete",R_.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",Ur.prototype.listen=Ur.prototype.O,mi.prototype.listenOnce=mi.prototype.P,mi.prototype.getLastError=mi.prototype.Sa,mi.prototype.getLastErrorCode=mi.prototype.Ia,mi.prototype.getStatus=mi.prototype.da,mi.prototype.getResponseJson=mi.prototype.Wa,mi.prototype.getResponseText=mi.prototype.ja,mi.prototype.send=mi.prototype.ha,mi.prototype.setWithCredentials=mi.prototype.Oa,zu.prototype.digest=zu.prototype.l,zu.prototype.reset=zu.prototype.reset,zu.prototype.update=zu.prototype.j,Yr.prototype.add=Yr.prototype.add,Yr.prototype.multiply=Yr.prototype.R,Yr.prototype.modulo=Yr.prototype.gb,Yr.prototype.compare=Yr.prototype.X,Yr.prototype.toNumber=Yr.prototype.ea,Yr.prototype.toString=Yr.prototype.toString,Yr.prototype.getBits=Yr.prototype.D,Yr.fromNumber=Hu,Yr.fromString=function BD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zs(BD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Hu(Math.pow(e,8)),r=Uh,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+s),e);8>s?(s=Hu(Math.pow(e,s)),r=r.R(s).add(Hu(u))):r=(r=r.R(t)).add(Hu(u))}return r};var Sa=Bi.createWebChannelTransport=function(){return new $h},r0=Bi.getStatEventTarget=function(){return sd()},dl=Bi.ErrorCode=Mp,x$=Bi.EventType=S_,jD=Bi.Event=Uu,GD=Bi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},G_=(Bi.FetchXmlHttpFactory=$p,Bi.WebChannel=R_),eP=Bi.XhrIo=mi,tP=Bi.Md5=zu,jh=Bi.Integer=Yr;const z_="@firebase/firestore";class es{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");let Gh="10.3.1";const _u=new Mr("@firebase/firestore");function zh(){return _u.logLevel}function At(n,...e){if(_u.logLevel<=en.DEBUG){const t=e.map(Hh);_u.debug(`Firestore (${Gh}): ${n}`,...t)}}function ji(n,...e){if(_u.logLevel<=en.ERROR){const t=e.map(Hh);_u.error(`Firestore (${Gh}): ${n}`,...t)}}function Mo(n,...e){if(_u.logLevel<=en.WARN){const t=e.map(Hh);_u.warn(`Firestore (${Gh}): ${n}`,...t)}}function Hh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function sn(n="Unexpected state"){const e=`FIRESTORE (${Gh}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function pn(n,e){n||sn()}function Ut(n,e){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class s0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(es.UNAUTHENTICATED))}shutdown(){}}class P${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iP{constructor(e){this.t=e,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable((0,x.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},f=g=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn("string"==typeof r.accessToken),new s0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new es(e)}}class sP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=es.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.R;return this.R=s.token,At("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.R=t.token,new Yp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class aP{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=HD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Fn(n,e){return n<e?-1:n>e?1:0}function Zp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qD(n){return n+"\0"}class _i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _i(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fn(e)}static min(){return new fn(new _i(0,0))}static max(){return new fn(new _i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class q_{constructor(e,t,r){void 0===t?t=0:t>e.length&&sn(),void 0===r?r=e.length-t:r>e.length-t&&sn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===q_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof q_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yr extends q_{construct(e,t,r){return new yr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new wt(Qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yr(t)}static emptyPath(){return new yr([])}}const o0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends q_{construct(e,t,r){return new Gi(e,t,r)}static isValidIdentifier(e){return o0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new wt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new wt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new wt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else"`"===d?(u=!u,i++):"."!==d||u?(r+=d,i++):(s(),i++)}if(s(),u)throw new wt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gi(t)}static emptyPath(){return new Gi([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(yr.fromString(e))}static fromName(e){return new Yt(yr.fromString(e).popFirst(5))}static empty(){return new Yt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new yr(e.slice()))}}class Qp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function WD(n){return n.fields.find(e=>2===e.kind)}function qh(n){return n.fields.filter(e=>2!==e.kind)}Qp.UNKNOWN_ID=-1;class qu{constructor(e,t){this.fieldPath=e,this.kind=t}}class md{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new md(0,Xs.min())}}function a0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fn.fromTimestamp(1e9===r?new _i(t+1,0):new _i(t,r));return new Xs(i,Yt.empty(),e)}function u0(n){return new Xs(n.readTime,n.key,-1)}class Xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xs(fn.min(),Yt.empty(),-1)}static max(){return new Xs(fn.max(),Yt.empty(),-1)}}function K_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(n.documentKey,e.documentKey),0!==t?t:Fn(n.largestBatchId,e.largestBatchId))}const c0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yu(n){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,x.Z)(function*(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==c0)throw n;At("LocalStore","Unexpectedly lost primary lease")}),Wh.apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,r)=>{t(e)})}static reject(e){return new Be((t,r)=>{r(e)})}static waitFor(e){return new Be((t,r)=>{let i=0,s=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++s,u&&s===i&&t()},f=>r(f))}),u=!0,s===i&&t()})}static or(e){let t=Be.resolve(!1);for(const r of e)t=t.next(i=>i?Be.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Be((r,i)=>{const s=e.length,u=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(I=>{u[g]=I,++d,d===s&&r(u)},I=>i(I))}})}static doWhile(e,t){return new Be((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Y_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Qs,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new _d(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=d0(r.target.error);this.m.reject(new _d(e,i))}}static open(e,t,r,i){try{return new Y_(t,e.transaction(i,r))}catch(s){throw new _d(t,s)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(At("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cP(t)}}class vu{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===vu.D(kt())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return At("SimpleDb","Removing database:",e),yd(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Mt())return!1;if(vu.v())return!0;const e=kt(),t=vu.D(e),r=0<t&&t<10,i=vu.F(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}N(e){var t=this;return(0,x.Z)(function*(){return t.db||(At("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new _d(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const d=u.target.error;i("VersionError"===d.name?new wt(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new wt(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new _d(e,d))},s.onupgradeneeded=u=>{At("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.B(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{At("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.L&&(t.db.onversionchange=r=>t.L(r)),t.db})()}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,x.Z)(function*(){const u="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.N(e);const f=Y_.open(s.db,e,u?"readonly":"readwrite",r),g=i(f).next(I=>(f.p(),I)).catch(I=>(f.abort(I),Be.reject(I))).toPromise();return g.catch(()=>{}),yield f.g,g}catch(f){const g=f,I="FirebaseError"!==g.name&&d<3;if(At("SimpleDb","Transaction failed with error:",g.message,"Retrying:",I),s.close(),!I)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KD{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return yd(this.q.delete())}}class _d extends wt{constructor(e,t){super(Qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hl(n){return"IndexedDbTransactionError"===n.name}class cP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(At("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yd(r)}add(e){return At("SimpleDb","ADD",this.store.name,e,e),yd(this.store.add(e))}get(e){return yd(this.store.get(e)).next(t=>(void 0===t&&(t=null),At("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return At("SimpleDb","DELETE",this.store.name,e),yd(this.store.delete(e))}count(){return At("SimpleDb","COUNT",this.store.name),yd(this.store.count())}G(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.j(i,(u,d)=>{s.push(d)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Be((s,u)=>{i.onerror=d=>{u(d.target.error)},i.onsuccess=d=>{s(d.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Be((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){At("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,u,d)=>d.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new Be((r,i)=>{t.onerror=s=>{const u=d0(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(d=>{d?u.continue():r()}):r()}})}j(e,t){const r=[];return new Be((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const d=u.target.result;if(!d)return void i();const f=new KD(d),g=t(d.primaryKey,d.value,f);if(g instanceof Be){const I=g.catch(A=>(f.done(),Be.reject(A)));r.push(I)}f.isDone?i():null===f.U?d.continue():d.continue(f.U)}}).next(()=>Be.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yd(n){return new Be((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=d0(r.target.error);t(i)}})}let l0=!1;function d0(n){const e=vu.D(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l0||(l0=!0,setTimeout(()=>{throw r},0)),r}}return n}class lP{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){var t=this;At("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,x.Z)(function*(){t.task=null;try{At("IndexBackiller",`Documents written: ${yield t.ee.ne()}`)}catch(r){hl(r)?At("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield yu(r)}yield t.te(6e4)}))}}class ha{constructor(e,t){this.localStore=e,this.persistence=t}ne(e=50){var t=this;return(0,x.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.re(r,e))})()}re(e,t){const r=new Set;let i=t,s=!0;return Be.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return At("IndexBackiller",`Processing collection: ${u}`),this.ie(e,u,i).next(d=>{i-=d,r.add(u)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,s)).next(d=>(At("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const u=u0(s);K_(u,r)>0&&(r=u)}),new Xs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let qo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function Kh(n){return null==n}function vd(n){return 0===n&&1/n==-1/0}function wo(n){return"number"==typeof n&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h0(e)),e=YD(n.get(t),e);return h0(e)}function YD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function h0(n){return n+"\x01\x01"}function Wu(n){const e=n.length;if(pn(e>=2),2===e)return pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yr.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&sn(),n.charAt(u+1)){case"\x01":const d=n.substring(s,u);let f;0===i.length?f=d:(i+=d,f=i,i=""),r.push(f);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:sn()}s=u+2}return new yr(r)}const f0=["userId","batchId"];function Z_(n,e){return[n,cs(e)]}function p0(n,e,t){return[n,cs(e),t]}const dP={},ZD=["prefixPath","collectionGroup","readTime","documentId"],hP=["prefixPath","collectionGroup","documentId"],fP=["collectionGroup","readTime","prefixPath","documentId"],g0=["canonicalId","targetId"],m0=["targetId","path"],pP=["path","targetId"],Jp=["collectionId","parent"],gP=["indexId","uid"],mP=["uid","sequenceNumber"],QD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XD=["indexId","uid","orderedDocumentKey"],JD=["userId","collectionPath","documentId"],Yh=["userId","collectionPath","largestBatchId"],Q_=["userId","collectionGroup","largestBatchId"],_0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],y0=[..._0,"documentOverlays"],eg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eC=eg,_P=[...eC,"indexConfiguration","indexState","indexEntries"];class v0 extends Xp{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function Js(n,e){const t=Ut(n);return vu.O(t.ue,e)}function tC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class jr{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:xs.RED,this.left=null!=i?i:xs.EMPTY,this.right=null!=s?s:xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new xs(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const e=this.left.check();if(e!==this.right.check())throw sn();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(e,t,r,i,s){return this}insert(e,t,r){return new xs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nC(this.data.getIterator())}getIteratorFrom(e){return new nC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new si(this.comparator);return t.data=e,t}}class nC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(n){return n.hasNext()?n.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(Gi.comparator)}static empty(){return new Wo([])}unionWith(e){let t=new si(Gi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gl("Invalid base64 string: "+s):s}}(e);return new ls(t)}static fromUint8Array(e){const t=function(i){let s="";for(let u=0;u<i.length;++u)s+=String.fromCharCode(i[u]);return s}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const yP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Id(n){if(pn(!!n),"string"==typeof n){let e=0;const t=yP.exec(n);if(pn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ci(n.seconds),nanos:ci(n.nanos)}}function ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dc(n){return"string"==typeof n?ls.fromBase64String(n):ls.fromUint8Array(n)}function tg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ng(n){const e=n.mapValue.fields.__previous_value__;return tg(e)?ng(e):e}function Qh(n){const e=Id(n.mapValue.fields.__local_write_time__.timestampValue);return new _i(e.seconds,e.nanos)}class E0{constructor(e,t,r,i,s,u,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class Cc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ml={nullValue:"NULL_VALUE"};function Ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tg(n)?4:bd(n)?9007199254740991:10:sn()}function Ha(n,e){if(n===e)return!0;const t=Ac(n);if(t!==Ac(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qh(n).isEqual(Qh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const u=Id(i.timestampValue),d=Id(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Dc(n.bytesValue).isEqual(Dc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ci(i.geoPointValue.latitude)===ci(s.geoPointValue.latitude)&&ci(i.geoPointValue.longitude)===ci(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ci(i.integerValue)===ci(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const u=ci(i.doubleValue),d=ci(s.doubleValue);return u===d?vd(u)===vd(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Zp(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(i,s){const u=i.mapValue.fields||{},d=s.mapValue.fields||{};if(tC(u)!==tC(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!Ha(u[f],d[f])))return!1;return!0}(n,e);default:return sn()}var s}function _l(n,e){return void 0!==(n.values||[]).find(t=>Ha(t,e))}function Sc(n,e){if(n===e)return 0;const t=Ac(n),r=Ac(e);if(t!==r)return Fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=ci(s.integerValue||s.doubleValue),f=ci(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return X_(n.timestampValue,e.timestampValue);case 4:return X_(Qh(n),Qh(e));case 5:return Fn(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Dc(s),f=Dc(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),f=u.split("/");for(let g=0;g<d.length&&g<f.length;g++){const I=Fn(d[g],f[g]);if(0!==I)return I}return Fn(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Fn(ci(s.latitude),ci(u.latitude));return 0!==d?d:Fn(ci(s.longitude),ci(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],f=u.values||[];for(let g=0;g<d.length&&g<f.length;++g){const I=Sc(d[g],f[g]);if(I)return I}return Fn(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Iu.mapValue&&u===Iu.mapValue)return 0;if(s===Iu.mapValue)return 1;if(u===Iu.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),g=u.fields||{},I=Object.keys(g);f.sort(),I.sort();for(let A=0;A<f.length&&A<I.length;++A){const U=Fn(f[A],I[A]);if(0!==U)return U;const Z=Sc(d[f[A]],g[I[A]]);if(0!==Z)return Z}return Fn(f.length,I.length)}(n.mapValue,e.mapValue);default:throw sn()}}function X_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Fn(n,e);const t=Id(n),r=Id(e),i=Fn(t.seconds,r.seconds);return 0!==i?i:Fn(t.nanos,r.nanos)}function Ku(n){return w0(n)}function w0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Id(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dc(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=w0(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const u of r)s?s=!1:i+=",",i+=`${u}:${w0(t.fields[u])}`;return i+"}"}(n.mapValue):sn()}function Ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T0(n){return!!n&&"integerValue"in n}function ig(n){return!!n&&"arrayValue"in n}function b0(n){return!!n&&"nullValue"in n}function D0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wd(n){return!!n&&"mapValue"in n}function Td(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Td(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Td(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bd(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vP(n){return"nullValue"in n?ml:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ed(Cc.empty(),Yt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:sn()}function IP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ed(Cc.empty(),Yt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Iu:sn()}function EP(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iC(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Rs{constructor(e){this.value=e}static empty(){return new Rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(t)}setAll(e){let t=Gi.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=Td(u):i.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fl(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rs(Td(this.value))}}function sC(n){const e=[];return fl(n.fields,(t,r)=>{const i=new Gi([t]);if(wd(r)){const s=sC(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new Wo(e)}class Or{constructor(e,t,r,i,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Or(e,0,fn.min(),fn.min(),fn.min(),Rs.empty(),0)}static newFoundDocument(e,t,r,i){return new Or(e,1,t,fn.min(),r,i,0)}static newNoDocument(e,t){return new Or(e,2,t,fn.min(),fn.min(),Rs.empty(),0)}static newUnknownDocument(e,t){return new Or(e,3,t,fn.min(),fn.min(),Rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eu{constructor(e,t){this.position=e,this.inclusive=t}}function J_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?Yt.comparator(Yt.fromName(u.referenceValue),t.key):Sc(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function C0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}class Dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function oC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A0{}class cr extends A0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new k$(e,t,r):"array-contains"===t?new bP(e,r):"in"===t?new uC(e,r):"not-in"===t?new DP(e,r):"array-contains-any"===t?new CP(e,r):new cr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new N$(e,r):new O$(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sc(t,this.value)):null!==t&&Ac(this.value)===Ac(t)&&this.matchesComparison(Sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gr extends A0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Gr(e,t)}matches(e){return Xh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xh(n){return"and"===n.op}function S0(n){return"or"===n.op}function x0(n){return xc(n)&&Xh(n)}function xc(n){for(const e of n.filters)if(e instanceof Gr)return!1;return!0}function Cd(n){if(n instanceof cr)return n.field.canonicalString()+n.op.toString()+Ku(n.value);if(x0(n))return n.filters.map(e=>Cd(e)).join(",");{const e=n.filters.map(t=>Cd(t)).join(",");return`${n.op}(${e})`}}function aC(n,e){return n instanceof cr?(r=n,(i=e)instanceof cr&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)):n instanceof Gr?function(r,i){return i instanceof Gr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,u,d)=>s&&aC(u,i.filters[d]),!0)}(n,e):void sn();var r,i}function wP(n,e){const t=n.filters.concat(e);return Gr.create(t,n.op)}function TP(n){return n instanceof cr?`${(t=n).field.canonicalString()} ${t.op} ${Ku(t.value)}`:n instanceof Gr?function(t){return t.op.toString()+" {"+t.getFilters().map(TP).join(" ,")+"}"}(n):"Filter";var t}class k$ extends cr{constructor(e,t,r){super(e,t,r),this.key=Yt.fromName(r.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class N$ extends cr{constructor(e,t){super(e,"in",t),this.keys=R0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class O$ extends cr{constructor(e,t){super(e,"not-in",t),this.keys=R0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class bP extends cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&_l(t.arrayValue,this.value)}}class uC extends cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_l(this.value.arrayValue,t)}}class DP extends cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_l(this.value.arrayValue,t)}}class CP extends cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_l(this.value.arrayValue,r))}}class P0{constructor(e,t=null,r=[],i=[],s=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=d,this.he=null}}function wu(n,e=null,t=[],r=[],i=null,s=null,u=null){return new P0(n,e,t,r,i,s,u)}function Tu(n){const e=Ut(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cd(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ku(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ku(r)).join(",")),e.he=t}return e.he}function Jh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C0(n.startAt,e.startAt)&&C0(n.endAt,e.endAt)}function sg(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function og(n,e){return n.filters.filter(t=>t instanceof cr&&t.field.isEqual(e))}function AP(n,e,t){let r=ml,i=!0;for(const s of og(n,e)){let u=ml,d=!0;switch(s.op){case"<":case"<=":u=vP(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,d=!1;break;case"!=":case"not-in":u=ml}EP({value:r,inclusive:i},{value:u,inclusive:d})<0&&(r=u,i=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];EP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function SP(n,e,t){let r=Iu,i=!0;for(const s of og(n,e)){let u=Iu,d=!0;switch(s.op){case">=":case">":u=IP(s.value),d=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,d=!1;break;case"!=":case"not-in":u=Iu}iC({value:r,inclusive:i},{value:u,inclusive:d})>0&&(r=u,i=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];iC({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class yl{constructor(e,t=null,r=[],i=[],s=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=f,this.Pe=null,this.Ie=null,this.de=null}}function ey(n,e,t,r,i,s,u,d){return new yl(n,e,t,r,i,s,u,d)}function vl(n){return new yl(n)}function xP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ag(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function M0(n){return null!==n.collectionGroup}function ef(n){const e=Ut(n);if(null===e.Pe){e.Pe=[];const t=ag(e),r=cC(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new Dd(t)),e.Pe.push(new Dd(Gi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Dd(Gi.keyField(),s))}}}return e.Pe}function Ko(n){const e=Ut(n);return e.Ie||(e.Ie=function lC(n,e){if("F"===n.limitType)return wu(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Dd(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Eu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eu(n.startAt.position,n.startAt.inclusive):null;return wu(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ef(n))),e.Ie}function ty(n,e){e.getFirstInequalityField(),ag(n);const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ad(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ug(n,e){return Jh(Ko(n),Ko(e))&&n.limitType===e.limitType}function ny(n){return`${Tu(Ko(n))}|lt:${n.limitType}`}function tf(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TP(i)).join(", ")}]`),Kh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(u=i).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ku(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ku(i)).join(",")),`Target(${r})`}(Ko(n))}; limitType=${n.limitType})`}function Yu(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Yt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ef(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(u,d,f){const g=J_(u,d,f);return u.inclusive?g<=0:g<0}(r.startAt,ef(r),i)||r.endAt&&!function(u,d,f){const g=J_(u,d,f);return u.inclusive?g>=0:g>0}(r.endAt,ef(r),i)));var r,i}function dC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hC(n){return(e,t)=>{let r=!1;for(const i of ef(n)){const s=fC(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function fC(n,e,t){const r=n.field.isKeyField()?Yt.comparator(e.key,t.key):function(s,u,d){const f=u.data.field(s),g=d.data.field(s);return null!==f&&null!==g?Sc(f,g):sn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return sn()}}class Zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fl(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return I0(this.inner)}size(){return this.innerSize}}const RP=new jr(Yt.comparator);function fa(){return RP}const pC=new jr(Yt.comparator);function cg(...n){let e=pC;for(const t of n)e=e.insert(t.key,t);return e}function k0(n){let e=pC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Rc(){return Pc()}function PP(){return Pc()}function Pc(){return new Zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rr=new jr(Yt.comparator),lg=new si(Yt.comparator);function jn(...n){let e=lg;for(const t of n)e=e.add(t);return e}const gC=new si(Fn);function dg(){return gC}function N0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function mC(n){return{integerValue:""+n}}function O0(n,e){return wo(e)?mC(e):N0(n,e)}class hg{constructor(){this._=void 0}}function ry(n,e,t){return n instanceof nf?function(i,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tg(s)&&(s=ng(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Mc?F0(n,e):n instanceof Il?El(n,e):function(i,s){const u=iy(i,s),d=sy(u)+sy(i.Te);return T0(u)&&T0(i.Te)?mC(d):N0(i.serializer,d)}(n,e)}function F$(n,e,t){return n instanceof Mc?F0(n,e):n instanceof Il?El(n,e):t}function iy(n,e){return n instanceof rf?T0(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class nf extends hg{}class Mc extends hg{constructor(e){super(),this.elements=e}}function F0(n,e){const t=fg(e);for(const r of n.elements)t.some(i=>Ha(i,r))||t.push(r);return{arrayValue:{values:t}}}class Il extends hg{constructor(e){super(),this.elements=e}}function El(n,e){let t=fg(e);for(const r of n.elements)t=t.filter(i=>!Ha(i,r));return{arrayValue:{values:t}}}class rf extends hg{constructor(e,t){super(),this.serializer=e,this.Te=t}}function sy(n){return ci(n.integerValue||n.doubleValue)}function fg(n){return ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pg{constructor(e,t){this.field=e,this.transform=t}}class oy{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sf{}function _C(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new xd(n.key,vr.none()):new cf(n.key,n.data,vr.none());{const t=n.data,r=Rs.empty();let i=new si(Gi.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new kc(n.key,r,new Wo(i.toArray()),vr.none())}}function MP(n,e,t){n instanceof cf?function(i,s,u){const d=i.value.clone(),f=V0(i.fieldTransforms,s,u.transformResults);d.setAll(f),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof kc?function(i,s,u){if(!Sd(i.precondition,s))return void s.convertToUnknownDocument(u.version);const d=V0(i.fieldTransforms,s,u.transformResults),f=s.data;f.setAll(ay(i)),f.setAll(d),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function af(n,e,t,r){return n instanceof cf?function(s,u,d,f){if(!Sd(s.precondition,u))return d;const g=s.value.clone(),I=vC(s.fieldTransforms,f,u);return g.setAll(I),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof kc?function(s,u,d,f){if(!Sd(s.precondition,u))return d;const g=vC(s.fieldTransforms,f,u),I=u.data;return I.setAll(ay(s)),I.setAll(g),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,Sd(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function uf(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=iy(r.transform,i||null);null!=s&&(null===t&&(t=Rs.empty()),t.set(r.field,s))}return t||null}function yC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Zp(r,i,(s,u)=>function L0(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Mc&&i instanceof Mc||r instanceof Il&&i instanceof Il?Zp(r.elements,i.elements,Ha):r instanceof rf&&i instanceof rf?Ha(r.Te,i.Te):r instanceof nf&&i instanceof nf);var r,i}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class cf extends sf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kc extends sf{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ay(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function V0(n,e,t){const r=new Map;pn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,d=e.data.field(s.field);r.set(s.field,F$(u,d,t[i]))}return r}function vC(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,ry(s,u,e))}return r}class xd extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gg extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MP(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=af(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=af(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PP();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let d=this.applyToLocalView(u,s.mutatedFields);d=t.has(i.key)?null:d;const f=_C(u,d);null!==f&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(fn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jn())}isEqual(e){return this.batchId===e.batchId&&Zp(this.mutations,e.mutations,(t,r)=>yC(t,r))&&Zp(this.baseMutations,e.baseMutations,(t,r)=>yC(t,r))}}class EC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pn(e.mutations.length===r.length);let i=Rr;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new EC(e,t,r,i)}}class B0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class L${constructor(e,t){this.count=e,this.unchangedNames=t}}var Ps,or;function wC(n){switch(n){default:return sn();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function uy(n){if(void 0===n)return ji("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Ps.OK:return Qe.OK;case Ps.CANCELLED:return Qe.CANCELLED;case Ps.UNKNOWN:return Qe.UNKNOWN;case Ps.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Ps.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Ps.INTERNAL:return Qe.INTERNAL;case Ps.UNAVAILABLE:return Qe.UNAVAILABLE;case Ps.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Ps.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Ps.NOT_FOUND:return Qe.NOT_FOUND;case Ps.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Ps.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Ps.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Ps.ABORTED:return Qe.ABORTED;case Ps.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Ps.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Ps.DATA_LOSS:return Qe.DATA_LOSS;default:return sn()}}(or=Ps||(Ps={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";function Rd(){return new TextEncoder}const cy=new jh([4294967295,4294967295],0);function mg(n){const e=Rd().encode(n),t=new tP;return t.update(e),new Uint8Array(t.digest())}function Pd(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jh([t,r],0),new jh([i,s],0)]}class Md{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qu(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=jh.fromNumber(this.Ae)}Ve(e,t,r){let i=e.add(t.multiply(jh.fromNumber(r)));return 1===i.compare(cy)&&(i=new jh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=mg(e),[r,i]=Pd(t);for(let s=0;s<this.hashCount;s++){const u=this.Ve(r,i,s);if(!this.me(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new Md(s,i,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(0===this.Ae)return;const t=mg(e),[r,i]=Pd(t);for(let s=0;s<this.hashCount;s++){const u=this.Ve(r,i,s);this.fe(u)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kd(fn.min(),i,new jr(Fn),fa(),jn())}}class wl{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wl(r,t,jn(),jn(),jn())}}class Tl{constructor(e,t,r,i){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=i}}class NP{constructor(e,t){this.targetId=e,this.ye=t}}class ly{constructor(e,t,r=ls.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class df{constructor(){this.we=0,this.Se=TC(),this.be=ls.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=jn(),t=jn(),r=jn();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:sn()}}),new wl(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=TC()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class OP{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=fa(),this.Ue=$0(),this.We=new jr(Fn)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,i)=>{this.Ye(i)&&t(i)})}Xe(e){const t=e.targetId,r=e.ye.count,i=this.et(t);if(i){const s=i.target;if(sg(s))if(0===r){const u=new Yt(s.path);this.je(t,u,Or.newNoDocument(u,fn.min()))}else pn(1===r);else{const u=this.tt(t);if(u!==r){const d=this.nt(e),f=d?this.rt(d,e,u):1;0!==f&&(this.Ze(t),this.We=this.We.insert(t,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let u,d;try{u=Dc(r).toUint8Array()}catch(f){if(f instanceof gl)return Mo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Md(u,i,s)}catch(f){return Mo(f instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return 0===d.Ae?null:d}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const u=this.Qe.st(),d=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.je(t,s,null),i++)}),i}_t(e){const t=new Map;this.Ke.forEach((s,u)=>{const d=this.et(u);if(d){if(s.current&&sg(d.target)){const f=new Yt(d.target.path);null!==this.$e.get(f)||this.ut(u,f)||this.je(u,f,Or.newNoDocument(f,e))}s.Fe&&(t.set(u,s.xe()),s.Oe())}});let r=jn();this.Ue.forEach((s,u)=>{let d=!0;u.forEachWhile(f=>{const g=this.et(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(r=r.add(s))}),this.$e.forEach((s,u)=>u.setReadTime(e));const i=new kd(e,t,this.We,this.$e,r);return this.$e=fa(),this.Ue=$0(),this.We=new jr(Fn),i}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,t)?i.Ne(t,1):i.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new df,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new si(Fn),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||At("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new df),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function $0(){return new jr(Yt.comparator)}function TC(){return new jr(Yt.comparator)}const FP={asc:"ASCENDING",desc:"DESCENDING"},U0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class LP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j0(n,e){return n.useProto3Json||Kh(e)?e:{value:e}}function _g(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dy(n,e){return _g(n,e.toTimestamp())}function Si(n){return pn(!!n),fn.fromTimestamp(function(t){const r=Id(t);return new _i(r.seconds,r.nanos)}(n))}function G0(n,e){return(r=n,new yr(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function z0(n){const e=yr.fromString(n);return pn(X0(e)),e}function Nd(n,e){return G0(n.databaseId,e.path)}function xa(n,e){const t=z0(e);if(t.get(1)!==n.databaseId.projectId)throw new wt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new wt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yt(W0(t))}function H0(n,e){return G0(n.databaseId,e)}function q0(n){const e=z0(n);return 4===e.length?yr.emptyPath():W0(e)}function yg(n){return new yr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W0(n){return pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VP(n,e,t){return{name:Nd(n,e),fields:t.value.mapValue.fields}}function CC(n,e,t){const r=xa(n,e.name),i=Si(e.updateTime),s=e.createTime?Si(e.createTime):fn.min(),u=new Rs({mapValue:{fields:e.fields}}),d=Or.newFoundDocument(r,i,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Xu(n,e){let t;if(e instanceof cf)t={update:VP(n,e.key,e.value)};else if(e instanceof xd)t={delete:Nd(n,e.key)};else if(e instanceof kc)t={update:VP(n,e.key,e.data),updateMask:jP(e.fieldMask)};else{if(!(e instanceof gg))return sn();t={verify:Nd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof nf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Il)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rf)return{fieldPath:u.field.canonicalString(),increment:d.Te};throw sn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:dy(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:sn()),t;var s}function Od(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?vr.updateTime(Si(s.updateTime)):void 0!==s.exists?vr.exists(s.exists):vr.none():vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let f=null;"setToServerValue"in d?(pn("REQUEST_TIME"===d.setToServerValue),f=new nf):"appendMissingElements"in d?f=new Mc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Il(d.removeAllFromArray.values||[]):"increment"in d?f=new rf(u,d.increment):sn();const g=Gi.fromServerFormat(d.fieldPath);return new pg(g,f)}(n,i)):[];var s;if(e.update){const i=xa(n,e.update.name),s=new Rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Wo((e.updateMask.fieldPaths||[]).map(I=>Gi.fromServerFormat(I)));return new kc(i,s,u,t,r)}return new cf(i,s,t,r)}if(e.delete){const i=xa(n,e.delete);return new xd(i,t)}if(e.verify){const i=xa(n,e.verify);return new gg(i,t)}return sn()}function K0(n,e){return{documents:[H0(n,e.path)]}}function Y0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=H0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=H0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0!==f.length)return xC(Gr.create(f,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:Ju((A=g).field),direction:SC(A.dir)};var A})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=j0(n,e.limit);return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),t;var f}function AC(n){let e=q0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pn(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let s=[];t.where&&(s=function(A){const U=Z0(A);return U instanceof Gr&&x0(U)?U.getFilters():[U]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(U=>{return new Dd(Fd((ye=U).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let d=null;t.limit&&(d=function(A){let U;return U="object"==typeof A?A.value:A,Kh(U)?null:U}(t.limit));let f=null;var A;t.startAt&&(f=new Eu((A=t.startAt).values||[],!!A.before));let g=null;return t.endAt&&(g=function(A){return new Eu(A.values||[],!A.before)}(t.endAt)),ey(e,i,u,s,d,"F",f,g)}function Z0(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fd(t.unaryFilter.field);return cr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fd(t.unaryFilter.field);return cr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fd(t.unaryFilter.field);return cr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fd(t.unaryFilter.field);return cr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}(n):void 0!==n.fieldFilter?cr.create(Fd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Gr.create(t.compositeFilter.filters.map(r=>Z0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sn()}}(t.compositeFilter.op))}(n):sn();var t}function SC(n){return FP[n]}function Q0(n){return U0[n]}function V$(n){return bC[n]}function Ju(n){return{fieldPath:n.canonicalString()}}function Fd(n){return Gi.fromServerFormat(n.fieldPath)}function xC(n){return n instanceof cr?function(t){if("=="===t.op){if(D0(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NAN"}};if(b0(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(D0(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NOT_NAN"}};if(b0(t.value))return{unaryFilter:{field:Ju(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(t.field),op:Q0(t.op),value:t.value}}}(n):n instanceof Gr?function(t){const r=t.getFilters().map(i=>xC(i));return 1===r.length?r[0]:{compositeFilter:{op:V$(t.op),filters:r}}}(n):sn()}function jP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Nc{constructor(e,t,r,i,s=fn.min(),u=fn.min(),d=ls.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J0{constructor(e){this.ht=e}}function RC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Nd(s=n.ht,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:_g(s,u.version.toTimestamp()),createTime:_g(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return sn();r.unknownDocument={path:t.path.toArray(),version:bl(e.version)}}var s,u;return r}function eE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dl(n){const e=new _i(n.seconds,n.nanoseconds);return fn.fromTimestamp(e)}function To(n,e){const t=(e.baseMutations||[]).map(s=>Od(n.ht,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>Od(n.ht,s)),i=_i.fromMillis(e.localWriteTimeMs);return new IC(e.batchId,i,t,r)}function Ld(n){const e=Dl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Dl(n.lastLimboFreeSnapshotVersion):fn.min();let r;return r=void 0!==n.query.documents?(pn(1===(s=n.query).documents.length),Ko(vl(q0(s.documents[0])))):function(s){return Ko(AC(s))}(n.query),new Nc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ls.fromBase64String(n.resumeToken));var s}function PC(n,e){const t=bl(e.snapshotVersion),r=bl(e.lastLimboFreeSnapshotVersion);let i;i=sg(e.target)?K0(n.ht,e.target):Y0(n.ht,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MC(n){const e=AC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ad(e,e.limit,"L"):e}function tE(n,e){return new B0(e.largestBatchId,Od(n.ht,e.overlayMutation))}function fy(n,e){const t=e.path.lastSegment();return[n,cs(e.path.popLast()),t]}function bu(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:bl(r.readTime),documentKey:cs(r.documentKey.path),largestBatchId:r.largestBatchId}}class kC{getBundleMetadata(e,t){return NC(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Dl(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return NC(e).put({bundleId:(i=t).id,createTime:bl(Si(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return zP(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:MC(s.bundledQuery),readTime:Dl(s.readTime)};var s})}saveNamedQuery(e,t){return zP(e).put({name:(i=t).name,readTime:bl(Si(i.readTime)),bundledQuery:i.bundledQuery});var i}}function NC(n){return Js(n,"bundles")}function zP(n){return Js(n,"namedQueries")}class ts{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){return new ts(e,t.uid||"")}getOverlay(e,t){return vg(e).get(fy(this.userId,t)).next(r=>r?tE(this.serializer,r):null)}getOverlays(e,t){const r=Rc();return Be.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const d=new B0(t,u);i.push(this.It(e,d))}),Be.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(cs(u.getCollectionPath())));const s=[];return i.forEach(u=>{const d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(vg(e).J("collectionPathOverlayIndex",d))}),Be.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Rc(),s=cs(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return vg(e).G("collectionPathOverlayIndex",u).next(d=>{for(const f of d){const g=tE(this.serializer,f);i.set(g.getKey(),g)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Rc();let u;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vg(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,g,I)=>{const A=tE(this.serializer,g);s.size()<i||A.largestBatchId===u?(s.set(A.getKey(),A),u=A.largestBatchId):I.done()}).next(()=>s)}It(e,t){return vg(e).put(function(i,s,u){const[d,f,g]=fy(s,u.mutation.key);return{userId:s,collectionPath:f,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Xu(i.ht,u.mutation)}}(this.serializer,this.userId,t))}}function vg(n){return Js(n,"documentOverlays")}class Oc{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(ci(e.integerValue));else if("doubleValue"in e){const r=ci(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),vd(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Dc(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?bd(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):sn()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),Yt.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}function HP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function OC(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const u=HP(255&r[s]);if(i+=u,8!==u)break}return i}(n);return Math.ceil(e/8)}Oc.Ct=new Oc;class nE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=OC(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=OC(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FC{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class LC{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ig{constructor(){this.jt=new nE,this.Ht=new FC(this.jt),this.Jt=new LC(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Cl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Cl(this.indexId,this.documentKey,this.arrayValue,r)}}function Fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=VC(n.arrayValue,e.arrayValue),0!==t?t:(t=VC(n.directionalValue,e.directionalValue),0!==t?t:Yt.comparator(n.documentKey,e.documentKey)))}function VC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const t of e.filters){const r=t;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){pn(e.collectionGroup===this.collectionId);const t=WD(e);if(void 0!==t&&!this.rn(t))return!1;const r=qh(e);let i=new Set,s=0,u=0;for(;s<r.length&&this.rn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.tn){if(!i.has(this.tn.field.canonicalString())){const d=r[s];if(!this.sn(this.tn,d)||!this.on(this.Xt[u++],d))return!1}++s}for(;s<r.length;++s)if(u>=this.Xt.length||!this.on(this.Xt[u++],r[s]))return!1;return!0}_n(){let e=new si(Gi.comparator);const t=[];for(const r of this.en)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new qu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new qu(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new qu(r.field,"asc"===r.dir?0:1)));return new Qp(Qp.UNKNOWN_ID,this.collectionId,t,md.empty())}rn(e){for(const t of this.en)if(this.sn(t,e))return!0;return!1}sn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}on(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function $C(n){var e,t;if(pn(n instanceof cr||n instanceof Gr),n instanceof cr){if(n instanceof uC){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>cr.create(n.field,"==",s)))||[];return Gr.create(i,"or")}return n}const r=n.filters.map(i=>$C(i));return Gr.create(r,n.op)}function UC(n){if(0===n.getFilters().length)return[];const e=rE($C(n));return pn(Vd(e)),Al(e)||Du(e)?[e]:e.getFilters()}function Al(n){return n instanceof cr}function Du(n){return n instanceof Gr&&x0(n)}function Vd(n){return Al(n)||Du(n)||function(t){if(t instanceof Gr&&S0(t)){for(const r of t.getFilters())if(!Al(r)&&!Du(r))return!1;return!0}return!1}(n)}function rE(n){if(pn(n instanceof cr||n instanceof Gr),n instanceof cr)return n;if(1===n.filters.length)return rE(n.filters[0]);const e=n.filters.map(r=>rE(r));let t=Gr.create(e,n.op);return t=hf(t),Vd(t)?t:(pn(t instanceof Gr),pn(Xh(t)),pn(t.filters.length>1),t.filters.reduce((r,i)=>iE(r,i)))}function iE(n,e){let t;return pn(n instanceof cr||n instanceof Gr),pn(e instanceof cr||e instanceof Gr),t=n instanceof cr?e instanceof cr?Gr.create([n,e],"and"):sE(n,e):e instanceof cr?sE(e,n):function(i,s){if(pn(i.filters.length>0&&s.filters.length>0),Xh(i)&&Xh(s))return wP(i,s.getFilters());const u=S0(i)?i:s,d=S0(i)?s:i,f=u.filters.map(g=>iE(g,d));return Gr.create(f,"or")}(n,e),hf(t)}function sE(n,e){if(Xh(e))return wP(e,n.getFilters());{const t=e.filters.map(r=>iE(n,r));return Gr.create(t,"or")}}function hf(n){if(pn(n instanceof cr||n instanceof Gr),n instanceof cr)return n;const e=n.getFilters();if(1===e.length)return hf(e[0]);if(xc(n))return n;const t=e.map(i=>hf(i)),r=[];return t.forEach(i=>{i instanceof cr?r.push(i):i instanceof Gr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Gr.create(r,n.op)}class Eg{constructor(){this.an=new py}addToCollectionParentIndex(e,t){return this.an.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(Xs.min())}updateCollectionGroup(e,t,r){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class py{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new si(yr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new si(yr.comparator)).toArray()}}const oE=new Uint8Array(0);class aE{constructor(e,t){this.user=e,this.databaseId=t,this.un=new py,this.cn=new Zu(r=>Tu(r),(r,i)=>Jh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.un.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.un.add(t)});const s={collectionId:r,parent:cs(i)};return Bd(e).put(s)}return Be.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qD(t),""],!1,!0);return Bd(e).G(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(Wu(u.parent))}return r})}addFieldIndex(e,t){const r=ff(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const s=r.add(i);if(t.indexState){const u=$d(e);return s.next(d=>{u.put(bu(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=ff(e),i=$d(e),s=Lc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ff(e),r=Lc(e),i=$d(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return Be.forEach(this.ln(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new BC(r);return this.addFieldIndex(e,s._n())}}))}getDocumentsMatchingTarget(e,t){const r=Lc(e);let i=!0;const s=new Map;return Be.forEach(this.ln(t),u=>this.hn(e,u).next(d=>{i&&(i=!!d),s.set(u,d)})).next(()=>{if(i){let u=jn();const d=[];return Be.forEach(s,(f,g)=>{var Pt;At("IndexedDbIndexManager",`Using index ${Pt=f,`id=${Pt.indexId}|cg=${Pt.collectionGroup}|f=${Pt.fields.map(gn=>`${gn.fieldPath}:${gn.kind}`).join(",")}`} to execute ${Tu(t)}`);const I=function(Pt,gn){const Cn=WD(gn);if(void 0===Cn)return null;for(const cn of og(Pt,Cn.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(g,f),A=function(Pt,gn){const Cn=new Map;for(const cn of qh(gn))for(const ar of og(Pt,cn.fieldPath))switch(ar.op){case"==":case"in":Cn.set(cn.fieldPath.canonicalString(),ar.value);break;case"not-in":case"!=":return Cn.set(cn.fieldPath.canonicalString(),ar.value),Array.from(Cn.values())}return null}(g,f),U=function(Pt,gn){const Cn=[];let cn=!0;for(const ar of qh(gn)){const _s=0===ar.kind?AP(Pt,ar.fieldPath,Pt.startAt):SP(Pt,ar.fieldPath,Pt.startAt);Cn.push(_s.value),cn&&(cn=_s.inclusive)}return new Eu(Cn,cn)}(g,f),Z=function(Pt,gn){const Cn=[];let cn=!0;for(const ar of qh(gn)){const _s=0===ar.kind?SP(Pt,ar.fieldPath,Pt.endAt):AP(Pt,ar.fieldPath,Pt.endAt);Cn.push(_s.value),cn&&(cn=_s.inclusive)}return new Eu(Cn,cn)}(g,f),ye=this.Pn(f,g,U),Fe=this.Pn(f,g,Z),Ve=this.In(f,g,A),Tt=this.dn(f.indexId,I,ye,U.inclusive,Fe,Z.inclusive,Ve);return Be.forEach(Tt,Nt=>r.H(Nt,t.limit).next(Pt=>{Pt.forEach(gn=>{const Cn=Yt.fromSegments(gn.documentKey);u.has(Cn)||(u=u.add(Cn),d.push(Cn))})}))}).next(()=>d)}return Be.resolve(null)})}ln(e){let t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:UC(Gr.create(e.filters,"and")).map(r=>wu(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,t),t)}dn(e,t,r,i,s,u,d){const f=(null!=t?t.length:1)*Math.max(r.length,s.length),g=f/(null!=t?t.length:1),I=[];for(let A=0;A<f;++A){const U=t?this.Tn(t[A/g]):oE,Z=this.En(e,U,r[A%g],i),ye=this.An(e,U,s[A%g],u),Fe=d.map(Ve=>this.En(e,U,Ve,!0));I.push(...this.createRange(Z,ye,Fe))}return I}En(e,t,r,i){const s=new Cl(e,Yt.empty(),t,r);return i?s:s.Zt()}An(e,t,r,i){const s=new Cl(e,Yt.empty(),t,r);return i?s.Zt():s}hn(e,t){const r=new BC(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const d of s)r.nn(d)&&(!u||d.fields.length>u.fields.length)&&(u=d);return u})}getIndexType(e,t){let r=2;const i=this.ln(t);return Be.forEach(i,s=>this.hn(e,s).next(u=>{u?0!==r&&u.fields.length<function(f){let g=new si(Gi.comparator),I=!1;for(const A of f.filters)for(const U of A.getFlattenedFilters())U.field.isKeyField()||("array-contains"===U.op||"array-contains-any"===U.op?I=!0:g=g.add(U.field));for(const A of f.orderBy)A.field.isKeyField()||(g=g.add(A.field));return g.size+(I?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Rn(e,t){const r=new Ig;for(const i of qh(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.Yt(i.kind);Oc.Ct.dt(s,u)}return r.zt()}Tn(e){const t=new Ig;return Oc.Ct.dt(e,t.Yt(0)),t.zt()}Vn(e,t){const r=new Ig;return Oc.Ct.dt(Ed(this.databaseId,t),r.Yt(function(s){const u=qh(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.zt()}In(e,t,r){if(null===r)return[];let i=[];i.push(new Ig);let s=0;for(const u of qh(e)){const d=r[s++];for(const f of i)if(this.mn(t,u.fieldPath)&&ig(d))i=this.fn(i,u,d);else{const g=f.Yt(u.kind);Oc.Ct.dt(d,g)}}return this.gn(i)}Pn(e,t,r){return this.In(e,t,r.position)}gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}fn(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const d of i){const f=new Ig;f.seed(d.zt()),Oc.Ct.dt(u,f.Yt(t.kind)),s.push(f)}return s}mn(e,t){return!!e.filters.find(r=>r instanceof cr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ff(e),i=$d(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next(s=>{const u=[];return Be.forEach(s,d=>i.get([d.indexId,this.uid]).next(f=>{u.push(function(I,A){const U=A?new md(A.sequenceNumber,new Xs(Dl(A.readTime),new Yt(Wu(A.documentKey)),A.largestBatchId)):md.empty(),Z=I.fields.map(([ye,Fe])=>new qu(Gi.fromServerFormat(ye),Fe));return new Qp(I.indexId,I.collectionGroup,Z,U)}(d,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Fn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ff(e),s=$d(e);return this.pn(e).next(u=>i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>Be.forEach(d,f=>s.put(bu(f.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return Be.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?Be.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(d=>(r.set(i.collectionGroup,d),Be.forEach(d,f=>this.yn(e,i,f).next(g=>{const I=this.wn(s,f);return g.isEqual(I)?Be.resolve():this.Sn(e,s,f,g,I)}))))})}bn(e,t,r,i){return Lc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,t.key),documentKey:t.key.path.toArray()})}Dn(e,t,r,i){return Lc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,t.key),t.key.path.toArray()])}yn(e,t,r){const i=Lc(e);let s=new si(Fc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,t)])},(u,d)=>{s=s.add(new Cl(r.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}wn(e,t){let r=new si(Fc);const i=this.Rn(t,e);if(null==i)return r;const s=WD(t);if(null!=s){const u=e.data.field(s.fieldPath);if(ig(u))for(const d of u.arrayValue.values||[])r=r.add(new Cl(t.indexId,e.key,this.Tn(d),i))}else r=r.add(new Cl(t.indexId,e.key,oE,i));return r}Sn(e,t,r,i,s){At("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,I,A,U){const Z=f.getIterator(),ye=g.getIterator();let Fe=pl(Z),Ve=pl(ye);for(;Fe||Ve;){let Tt=!1,Nt=!1;if(Fe&&Ve){const Pt=I(Fe,Ve);Pt<0?Nt=!0:Pt>0&&(Tt=!0)}else null!=Fe?Nt=!0:Tt=!0;Tt?(A(Ve),Ve=pl(ye)):Nt?(U(Fe),Fe=pl(Z)):(Fe=pl(Z),Ve=pl(ye))}}(i,s,Fc,d=>{u.push(this.bn(e,t,r,d))},d=>{u.push(this.Dn(e,t,r,d))}),Be.waitFor(u)}pn(e){let t=1;return $d(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,d)=>Fc(u,d)).filter((u,d,f)=>!d||0!==Fc(u,f[d-1]));const i=[];i.push(e);for(const u of r){const d=Fc(u,e),f=Fc(u,t);if(0===d)i[0]=e.Zt();else if(d>0&&f<0)i.push(u),i.push(u.Zt());else if(f>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2){if(this.Cn(i[u],i[u+1]))return[];s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,oE,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,oE,[]]))}return s}Cn(e,t){return Fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jC)}getMinOffset(e,t){return Be.mapArray(this.ln(t),r=>this.hn(e,r).next(i=>i||sn())).next(jC)}}function Bd(n){return Js(n,"collectionParents")}function Lc(n){return Js(n,"indexEntries")}function ff(n){return Js(n,"indexConfiguration")}function $d(n){return Js(n,"indexState")}function jC(n){pn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;K_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Xs(e.readTime,e.documentKey,t)}const GC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zC(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let d=0;const f=r.Z({range:u},(I,A,U)=>(d++,U.delete()));s.push(f.next(()=>{pn(1===d)}));const g=[];for(const I of t.mutations){const A=p0(e,I.key.path,t.batchId);s.push(i.delete(A)),g.push(I.key)}return Be.waitFor(s).next(()=>g)}function wg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw sn();e=n.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class uE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,t,r,i){pn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new uE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).Z({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Tg(e),u=Ud(e);return u.add({}).next(d=>{pn("number"==typeof d);const f=new IC(d,t,r,i),g=function(Z,ye,Fe){const Ve=Fe.baseMutations.map(Nt=>Xu(Z.ht,Nt)),Tt=Fe.mutations.map(Nt=>Xu(Z.ht,Nt));return{userId:ye,batchId:Fe.batchId,localWriteTimeMs:Fe.localWriteTime.toMillis(),baseMutations:Ve,mutations:Tt}}(this.serializer,this.userId,f),I=[];let A=new si((U,Z)=>Fn(U.canonicalString(),Z.canonicalString()));for(const U of i){const Z=p0(this.userId,U.key.path,d);A=A.add(U.key.path.popLast()),I.push(u.put(g)),I.push(s.put(Z,dP))}return A.forEach(U=>{I.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.vn[d]=f.keys()}),Be.waitFor(I).next(()=>f)})}lookupMutationBatch(e,t){return Ud(e).get(t).next(r=>r?(pn(r.userId===this.userId),To(this.serializer,r)):null)}Fn(e,t){return this.vn[t]?Be.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ud(e).Z({index:"userMutationsIndex",range:i},(u,d,f)=>{d.userId===this.userId&&(pn(d.batchId>=r),s=To(this.serializer,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ud(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).G("userMutationsIndex",t).next(r=>r.map(i=>To(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Z_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Tg(e).Z({range:i},(u,d,f)=>{const[g,I,A]=u,U=Wu(I);if(g===this.userId&&t.path.isEqual(U))return Ud(e).get(A).next(Z=>{if(!Z)throw sn();pn(Z.userId===this.userId),s.push(To(this.serializer,Z))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new si(Fn);const i=[];return t.forEach(s=>{const u=Z_(this.userId,s.path),d=IDBKeyRange.lowerBound(u),f=Tg(e).Z({range:d},(g,I,A)=>{const[U,Z,ye]=g,Fe=Wu(Z);U===this.userId&&s.path.isEqual(Fe)?r=r.add(ye):A.done()});i.push(f)}),Be.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Z_(this.userId,r),u=IDBKeyRange.lowerBound(s);let d=new si(Fn);return Tg(e).Z({range:u},(f,g,I)=>{const[A,U,Z]=f,ye=Wu(U);A===this.userId&&r.isPrefixOf(ye)?ye.length===i&&(d=d.add(Z)):I.done()}).next(()=>this.Mn(e,d))}Mn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Ud(e).get(s).next(u=>{if(null===u)throw sn();pn(u.userId===this.userId),r.push(To(this.serializer,u))}))}),Be.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zC(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.xn(t.batchId)}),Be.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Be.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Tg(e).Z({range:r},(s,u,d)=>{if(s[0]===this.userId){const f=Wu(s[1]);i.push(f)}else d.done()}).next(()=>{pn(0===i.length)})})}containsKey(e,t){return HC(e,this.userId,t)}On(e){return cE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HC(n,e,t){const r=Z_(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return Tg(n).Z({range:s,Y:!0},(d,f,g)=>{const[I,A,U]=d;I===e&&A===i&&(u=!0),g.done()}).next(()=>u)}function Ud(n){return Js(n,"mutations")}function Tg(n){return Js(n,"documentMutations")}function cE(n){return Js(n,"mutationQueues")}class Sl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Sl(0)}static Ln(){return new Sl(-1)}}class B${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.kn(e).next(t=>{const r=new Sl(t.highestTargetId);return t.highestTargetId=r.next(),this.qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(t=>fn.fromTimestamp(new _i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.qn(e,i)))}addTargetData(e,t){return this.Qn(e,t).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(t,r),this.qn(e,r))))}updateTargetData(e,t){return this.Qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ec(e).delete(t.targetId)).next(()=>this.kn(e)).next(r=>(pn(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return ec(e).Z((u,d)=>{const f=Ld(d);f.sequenceNumber<=t&&null===r.get(f.targetId)&&(i++,s.push(this.removeTargetData(e,f)))}).next(()=>Be.waitFor(s)).next(()=>i)}forEachTarget(e,t){return ec(e).Z((r,i)=>{const s=Ld(i);t(s)})}kn(e){return qP(e).get("targetGlobalKey").next(t=>(pn(null!==t),t))}qn(e,t){return qP(e).put("targetGlobalKey",t)}Qn(e,t){return ec(e).put(PC(this.serializer,t))}Kn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Tu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ec(e).Z({range:i,index:"queryTargetsIndex"},(u,d,f)=>{const g=Ld(d);Jh(t,g.target)&&(s=g,f.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Vc(e);return t.forEach(u=>{const d=cs(u.path);i.push(s.put({targetId:r,path:d})),i.push(this.referenceDelegate.addReference(e,r,u))}),Be.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vc(e);return Be.forEach(t,s=>{const u=cs(s.path);return Be.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Vc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vc(e);let s=jn();return i.Z({range:r,Y:!0},(u,d,f)=>{const g=Wu(u[1]),I=new Yt(g);s=s.add(I)}).next(()=>s)}containsKey(e,t){const r=cs(t.path),i=IDBKeyRange.bound([r],[qD(r)],!1,!0);let s=0;return Vc(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([u,d],f,g)=>{0!==u&&(s++,g.done())}).next(()=>s>0)}lt(e,t){return ec(e).get(t).next(r=>r?Ld(r):null)}}function ec(n){return Js(n,"targets")}function qP(n){return Js(n,"targetGlobal")}function Vc(n){return Js(n,"targetDocuments")}function lE([n,e],[t,r]){const i=Fn(n,t);return 0===i?Fn(e,r):i}class WP{constructor(e){this.$n=e,this.buffer=new si(lE),this.Un=0}Wn(){return++this.Un}Gn(e){const t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.zn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return null!==this.zn}jn(e){var t=this;At("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,x.Z)(function*(){t.zn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){hl(r)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield yu(r)}yield t.jn(3e5)}))}}class qC{constructor(e,t){this.Hn=e,this.params=t}calculateTargetCount(e,t){return this.Hn.Jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Be.resolve(qo.ae);const r=new WP(t);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Hn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Hn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(GC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GC):this.Zn(e,t))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,t){let r,i,s,u,d,f,g;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,d=Date.now(),this.removeTargets(e,r,t))).next(A=>(s=A,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(g=Date.now(),zh()<=en.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(d-u)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${A} documents in `+(g-f)+`ms\nTotal Duration: ${g-I}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:A})))}}class WC{constructor(e,t){this.db=e,this.garbageCollector=function Vn(n,e){return new qC(n,e)}(this,t)}Jn(e){const t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Xn(e){let t=0;return this.Yn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Yn(e,t){return this.er(e,(r,i)=>t(i))}addReference(e,t,r){return bg(e,r)}removeReference(e,t,r){return bg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bg(e,t)}tr(e,t){return function(i,s){let u=!1;return cE(i).X(d=>HC(i,d,s).next(f=>(f&&(u=!0),Be.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.er(e,(u,d)=>{if(d<=t){const f=this.tr(e,u).next(g=>{if(!g)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,fn.min()),Vc(e).delete([0,cs(u.path)])))});i.push(f)}}).next(()=>Be.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bg(e,t)}er(e,t){const r=Vc(e);let i,s=qo.ae;return r.Z({index:"documentTargetsIndex"},([u,d],{path:f,sequenceNumber:g})=>{0===u?(s!==qo.ae&&t(new Yt(Wu(i)),s),s=g,i=f):s=qo.ae}).next(()=>{s!==qo.ae&&t(new Yt(Wu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bg(n,e){return Vc(n).put((i=n.currentSequenceNumber,{targetId:0,path:cs(e.path),sequenceNumber:i}));var i}class jd{constructor(){this.changes=new Zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Bc(e).put(r)}removeEntry(e,t,r){return Bc(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],eE(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.nr(e,r)))}getEntry(e,t){let r=Or.newInvalidDocument(t);return Bc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($c(t))},(i,s)=>{r=this.rr(t,s)}).next(()=>r)}ir(e,t){let r={size:0,document:Or.newInvalidDocument(t)};return Bc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($c(t))},(i,s)=>{r={document:this.rr(t,s),size:wg(s)}}).next(()=>r)}getEntries(e,t){let r=fa();return this.sr(e,t,(i,s)=>{const u=this.rr(i,s);r=r.insert(i,u)}).next(()=>r)}_r(e,t){let r=fa(),i=new jr(Yt.comparator);return this.sr(e,t,(s,u)=>{const d=this.rr(s,u);r=r.insert(s,d),i=i.insert(s,wg(u))}).next(()=>({documents:r,ar:i}))}sr(e,t,r){if(t.isEmpty())return Be.resolve();let i=new si(my);t.forEach(f=>i=i.add(f));const s=IDBKeyRange.bound($c(i.first()),$c(i.last())),u=i.getIterator();let d=u.getNext();return Bc(e).Z({index:"documentKeyIndex",range:s},(f,g,I)=>{const A=Yt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&my(d,A)<0;)r(d,null),d=u.getNext();d&&d.isEqual(A)&&(r(d,g),d=u.hasNext()?u.getNext():null),d?I.W($c(d)):I.done()}).next(()=>{for(;d;)r(d,null),d=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),eE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bc(e).G(IDBKeyRange.bound(d,f,!0)).next(g=>{null==s||s.incrementDocumentReadCount(g.length);let I=fa();for(const A of g){const U=this.rr(Yt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);U.isFoundDocument()&&(Yu(t,U)||i.has(U.key))&&(I=I.insert(U.key,U))}return I})}getAllFromCollectionGroup(e,t,r,i){let s=fa();const u=hE(t,r),d=hE(t,Xs.max());return Bc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,d,!0)},(f,g,I)=>{const A=this.rr(Yt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(A.key,A),s.size===i&&I.done()}).next(()=>s)}newChangeBuffer(e){return new gy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Gd(e).get("remoteDocumentGlobalKey").next(t=>(pn(!!t),t))}nr(e,t){return Gd(e).put("remoteDocumentGlobalKey",t)}rr(e,t){if(t){const r=function GP(n,e){let t;if(e.document)t=CC(n.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Yt.fromSegments(e.noDocument.path),i=Dl(e.noDocument.readTime);t=Or.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return sn();{const r=Yt.fromSegments(e.unknownDocument.path),i=Dl(e.unknownDocument.version);t=Or.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new _i(i[0],i[1]);return fn.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(fn.min()))return r}return Or.newInvalidDocument(e)}}function YC(n){return new KC(n)}class gy extends jd{constructor(e,t){super(),this.ur=e,this.trackRemovals=t,this.cr=new Zu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new si((s,u)=>Fn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const d=this.cr.get(s);if(t.push(this.ur.removeEntry(e,s,d.readTime)),u.isValidDocument()){const f=RC(this.ur.serializer,u);i=i.add(s.path.popLast());const g=wg(f);r+=g-d.size,t.push(this.ur.addEntry(e,s,f))}else if(r-=d.size,this.trackRemovals){const f=RC(this.ur.serializer,u.convertToNoDocument(fn.min()));t.push(this.ur.addEntry(e,s,f))}}),i.forEach(s=>{t.push(this.ur.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ur.updateMetadata(e,r)),Be.waitFor(t)}getFromCache(e,t){return this.ur.ir(e,t).next(r=>(this.cr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ur._r(e,t).next(({documents:r,ar:i})=>(i.forEach((s,u)=>{this.cr.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function Gd(n){return Js(n,"remoteDocumentGlobal")}function Bc(n){return Js(n,"remoteDocumentsV14")}function $c(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hE(n,e){const t=e.documentKey.path.toArray();return[n,eE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function my(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Fn(t[s],r[s]),i)return i;return i=Fn(t.length,r.length),i||(i=Fn(t[t.length-2],r[r.length-2]),i||Fn(t[t.length-1],r[r.length-1]))}class fE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _y{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&af(r.mutation,i,Wo.empty(),_i.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jn()){const i=Rc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=cg();return s.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Rc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,i){let s=fa();const u=Pc(),d=Pc();return t.forEach((f,g)=>{const I=r.get(g.key);i.has(g.key)&&(void 0===I||I.mutation instanceof kc)?s=s.insert(g.key,g):void 0!==I?(u.set(g.key,I.mutation.getFieldMask()),af(I.mutation,g,I.mutation.getFieldMask(),_i.now())):u.set(g.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,I)=>u.set(g,I)),t.forEach((g,I)=>{var A;return d.set(g,new fE(I,null!==(A=u.get(g))&&void 0!==A?A:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Pc();let i=new jr((u,d)=>u-d),s=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let I=r.get(f)||Wo.empty();I=d.applyToLocalView(g,I),r.set(f,I);const A=(i.get(d.batchId)||jn()).add(f);i=i.insert(d.batchId,A)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,I=f.value,A=PP();I.forEach(U=>{if(!s.has(U)){const Z=_C(t.get(U),r.get(U));null!==Z&&A.set(U,Z),s=s.add(U)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,A))}return Be.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Yt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):M0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var u}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Be.resolve(Rc());let d=-1,f=s;return u.next(g=>Be.forEach(g,(I,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),s.get(I)?Be.resolve():this.remoteDocumentCache.getEntry(e,I).next(U=>{f=f.insert(I,U)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,jn())).next(I=>({batchId:d,changes:k0(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(r=>{let i=cg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let u=cg();return this.indexManager.getCollectionParents(e,s).next(d=>Be.forEach(d,f=>{const g=(A=t,U=f.child(s),new yl(U,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,U;return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next(I=>{I.forEach((A,U)=>{u=u.insert(A,U)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(u=>{s.forEach((f,g)=>{const I=g.getKey();null===u.get(I)&&(u=u.insert(I,Or.newInvalidDocument(I)))});let d=cg();return u.forEach((f,g)=>{const I=s.get(f);void 0!==I&&af(I.mutation,g,Wo.empty(),_i.now()),Yu(t,g)&&(d=d.insert(f,g))}),d})}}class ZC{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return Be.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(i=t).id,version:i.version,createTime:Si(i.createTime)}),Be.resolve();var i}getNamedQuery(e,t){return Be.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(i=t).name,query:MC(i.bundledQuery),readTime:Si(i.readTime)}),Be.resolve();var i}}class pE{constructor(){this.overlays=new jr(Yt.comparator),this.Pr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Rc();return Be.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.It(e,t,s)}),Be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),Be.resolve()}getOverlaysForCollection(e,t,r){const i=Rc(),s=t.length+1,u=new Yt(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new jr((g,I)=>g-I);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let I=s.get(g.largestBatchId);null===I&&(I=Rc(),s=s.insert(g.largestBatchId,I)),I.set(g.getKey(),g)}}const d=Rc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,I)=>d.set(g,I)),!(d.size()>=i)););return Be.resolve(d)}It(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new B0(t,r));let s=this.Pr.get(t);void 0===s&&(s=jn(),this.Pr.set(t,s)),this.Pr.set(t,s.add(r.key))}}class gE{constructor(){this.Ir=new si(eo.dr),this.Tr=new si(eo.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new eo(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new eo(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new Yt(new yr([])),r=new eo(t,e),i=new eo(t,e+1),s=[];return this.Tr.forEachInRange([r,i],u=>{this.Rr(u),s.push(u.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new Yt(new yr([])),r=new eo(t,e),i=new eo(t,e+1);let s=jn();return this.Tr.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new eo(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class eo{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return Yt.comparator(e.key,t.key)||Fn(e.yr,t.yr)}static Er(e,t){return Fn(e.yr,t.yr)||Yt.comparator(e.key,t.key)}}class KP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new si(eo.dr)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.wr;this.wr++;const u=new IC(s,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Sr=this.Sr.add(new eo(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Be.resolve(u)}lookupMutationBatch(e,t){return Be.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Dr(t+1),s=i<0?0:i;return Be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new eo(t,0),i=new eo(t,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],u=>{const d=this.br(u.yr);s.push(d)}),Be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new si(Fn);return t.forEach(i=>{const s=new eo(i,0),u=new eo(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,u],d=>{r=r.add(d.yr)})}),Be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Yt.isDocumentKey(s)||(s=s.child(""));const u=new eo(new Yt(s),0);let d=new si(Fn);return this.Sr.forEachWhile(f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(f.yr)),!0)},u),Be.resolve(this.Cr(d))}Cr(e){const t=[];return e.forEach(r=>{const i=this.br(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pn(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return Be.forEach(t.mutations,i=>{const s=new eo(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new eo(t,0),i=this.Sr.firstAfterOrEqual(r);return Be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Be.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QC{constructor(e){this.Fr=e,this.docs=new jr(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Be.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(t))}getEntries(e,t){let r=fa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=fa();const u=t.path,d=new Yt(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:I}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||K_(u0(I),r)<=0||(i.has(I.key)||Yu(t,I))&&(s=s.insert(I.key,I.mutableCopy()))}return Be.resolve(s)}getAllFromCollectionGroup(e,t,r,i){sn()}Mr(e,t){return Be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YP(this)}getSize(e){return Be.resolve(this.size)}}class YP extends jd{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),Be.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class ZP{constructor(e){this.persistence=e,this.Or=new Zu(t=>Tu(t),Jh),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Nr=0,this.Br=new gE,this.targetCount=0,this.Lr=Sl.Bn()}forEachTarget(e,t){return this.Or.forEach((r,i)=>t(i)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),Be.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.Qn(t),Be.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Or.forEach((u,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.Or.delete(u),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),Be.waitFor(s).next(()=>i)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return Be.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),Be.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),Be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return Be.resolve(r)}containsKey(e,t){return Be.resolve(this.Br.containsKey(t))}}class mE{constructor(e,t){this.kr={},this.overlays={},this.qr=new qo(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new ZP(this),this.indexManager=new Eg,this.remoteDocumentCache=new QC(r=>this.referenceDelegate.$r(r)),this.serializer=new J0(t),this.Ur=new ZC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new KP(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const i=new QP(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,t){return Be.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class QP extends Xp{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.jr=new gE,this.Hr=null}static Jr(e){return new Dg(e)}get Yr(){if(this.Hr)return this.Hr;throw sn()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),Be.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),Be.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Yr,r=>{const i=Yt.fromPath(r);return this.Zr(e,i).next(s=>{s||t.removeEntry(i,fn.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return Be.or([()=>Be.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class XP{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Y_("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f0,{unique:!0}),f.createObjectStore("documentMutations"),XC(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=Be.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),XC(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fn.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",I)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,g){return g.store("mutations").G().next(I=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f0,{unique:!0});const A=g.store("mutations"),U=I.map(Z=>A.put(Z));return Be.waitFor(U)})}(e,s))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.ei(s))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.ti(s)))),r<7&&i>=7&&(u=u.next(()=>this.ni(s))),r<8&&i>=8&&(u=u.next(()=>this.ri(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ii(s))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:JD});g.createIndex("collectionPathOverlayIndex",Yh,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Q_,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:ZD});g.createIndex("documentKeyIndex",hP),g.createIndex("collectionGroupIndex",fP)}(e)).next(()=>this.si(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.oi(e,s))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:gP}).createIndex("sequenceNumberIndex",mP,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:QD}).createIndex("documentKeyIndex",XD,{unique:!1})}(e))),u}ti(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=wg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.G().next(i=>Be.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",u).next(d=>Be.forEach(d,f=>{pn(f.userId===s.userId);const g=To(this.serializer,f);return zC(e,s.userId,g).next(()=>{})}))}))}ni(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((u,d)=>{const f=new yr(u),g=[0,cs(f)];s.push(t.get(g).next(I=>I?Be.resolve():t.put({targetId:0,path:cs(f),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Be.waitFor(s))})}ri(e,t){e.createObjectStore("collectionParents",{keyPath:Jp});const r=t.store("collectionParents"),i=new py,s=u=>{if(i.add(u)){const d=u.lastSegment(),f=u.popLast();return r.put({collectionId:d,parent:cs(f)})}};return t.store("remoteDocuments").Z({Y:!0},(u,d)=>{const f=new yr(u);return s(f.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([u,d,f],g)=>{const I=Wu(d);return s(I.popLast())}))}ii(e){const t=e.store("targets");return t.Z((r,i)=>{const s=Ld(i),u=PC(this.serializer,s);return t.put(u)})}si(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,u)=>{const d=t.store("remoteDocumentsV14"),f=(A=u,A.document?new Yt(yr.fromString(A.document.name).popFirst(5)):A.noDocument?Yt.fromSegments(A.noDocument.path):A.unknownDocument?Yt.fromSegments(A.unknownDocument.path):sn()).path.toArray(),g={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};var A;i.push(d.put(g))}).next(()=>Be.waitFor(i))}oi(e,t){const r=t.store("mutations"),i=YC(this.serializer),s=new mE(Dg.Jr,this.serializer.ht);return r.G().next(u=>{const d=new Map;return u.forEach(f=>{var g;let I=null!==(g=d.get(f.userId))&&void 0!==g?g:jn();To(this.serializer,f).keys().forEach(A=>I=I.add(A)),d.set(f.userId,I)}),Be.forEach(d,(f,g)=>{const I=new es(g),A=ts.Pt(this.serializer,I),U=s.getIndexManager(I),Z=uE.Pt(I,this.serializer,U,s.referenceDelegate);return new _y(i,Z,A,U).recalculateAndSaveOverlaysForDocumentKeys(new v0(t,qo.ae),f).next()})})}}function XC(n){n.createObjectStore("targetDocuments",{keyPath:m0}).createIndex("documentTargetsIndex",pP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g0,{unique:!0}),n.createObjectStore("targetGlobal")}const Yo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _E{constructor(e,t,r,i,s,u,d,f,g,I,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this._i=s,this.window=u,this.document=d,this.ai=g,this.ui=I,this.ci=A,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=U=>Promise.resolve(),!_E.C())throw new wt(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WC(this,i),this.Ti=t+"main",this.serializer=new J0(f),this.Ei=new vu(this.Ti,this.ci,new XP(this.serializer)),this.Kr=new B$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YC(this.serializer),this.Ur=new kC,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===I&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(Qe.FAILED_PRECONDITION,Yo);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new qo(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){var t=this;return this.di=function(){var r=(0,x.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(function(){var t=(0,x.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget((0,x.Z)(function*(){t.started&&(yield t.Ri())})))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(t=>{t||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(t=>this.isPrimary&&!t?this.wi(e).next(()=>!1):!!t&&this.Si(e).next(()=>!0))).catch(e=>{if(hl(e))return At("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ag(e).get("owner").next(t=>Be.resolve(this.bi(t)))}Di(e){return yE(e).delete(this.clientId)}Ci(){var e=this;return(0,x.Z)(function*(){if(e.isPrimary&&!e.vi(e.Ii,18e5)){e.Ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Js(r,"clientMetadata");return i.G().next(s=>{const u=e.Fi(s,18e5),d=s.filter(f=>-1===u.indexOf(f));return Be.forEach(d,f=>i.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.Ai)for(const r of t)e.Ai.removeItem(e.Mi(r.clientId))}})()}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?Be.resolve(!0):Ag(e).get("owner").next(t=>{if(null!==t&&this.vi(t.leaseTimestampMs,5e3)&&!this.xi(t.ownerId)){if(this.bi(t)&&this.networkEnabled)return!0;if(!this.bi(t)){if(!t.allowTabSynchronization)throw new wt(Qe.FAILED_PRECONDITION,Yo);return!1}}return!(!this.networkEnabled||!this.inForeground)||yE(e).G().next(r=>void 0===this.Fi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&At("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,x.Z)(function*(){e.Qr=!1,e.Oi(),e.Pi&&(e.Pi.cancel(),e.Pi=null),e.Ni(),e.Bi(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new v0(t,qo.ae);return e.wi(r).next(()=>e.Di(r))}),e.Ei.close(),e.Li()})()}Fi(e,t){return e.filter(r=>this.vi(r.updateTimeMs,t)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>yE(e).G().next(t=>this.Fi(t,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,t){return uE.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aE(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return ts.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,t,r){At("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(f=this.ci)?_P:14===f?eC:13===f?eg:12===f?y0:11===f?_0:void sn();var f;let u;return this.Ei.runTransaction(e,i,s,d=>(u=new v0(d,this.qr?this.qr.next():qo.ae),"readwrite-primary"===t?this.pi(u).next(f=>!!f||this.yi(u)).next(f=>{if(!f)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new wt(Qe.FAILED_PRECONDITION,c0);return r(u)}).next(f=>this.Si(u).next(()=>f)):this.qi(u).next(()=>r(u)))).then(d=>(u.raiseOnCommittedEvent(),d))}qi(e){return Ag(e).get("owner").next(t=>{if(null!==t&&this.vi(t.leaseTimestampMs,5e3)&&!this.xi(t.ownerId)&&!this.bi(t)&&!(this.ui||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(Qe.FAILED_PRECONDITION,Yo)})}Si(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ag(e).put("owner",t)}static C(){return vu.C()}wi(e){const t=Ag(e);return t.get("owner").next(r=>this.bi(r)?(At("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Be.resolve())}vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ji(`Detected an update time that is in the future: ${e} > ${r}`),1))}Vi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=()=>{this.Oi();const t=/(?:Version|Mobile)\/1[456]/;(function Zt(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var t;try{const r=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return At("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ji("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ag(n){return Js(n,"owner")}function yE(n){return Js(n,"clientMetadata")}function Sg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class yy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=i}static $i(e,t){let r=jn(),i=jn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yy(e,t.fromCache,r,i)}}class JP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JC{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Hi(e,t).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.Ji(e,t,i,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new JP;return this.Yi(e,t,u).next(d=>{if(s.result=d,this.Wi)return this.Zi(e,t,u,d.size)})}).next(()=>s.result)}Zi(e,t,r,i){return r.documentReadCount<this.Gi?(zh()<=en.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",tf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Be.resolve()):(zh()<=en.DEBUG&&At("QueryEngine","Query:",tf(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(zh()<=en.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",tf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ko(t))):Be.resolve())}Hi(e,t){if(xP(t))return Be.resolve(null);let r=Ko(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Ad(t,null,"F"),r=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=jn(...s);return this.ji.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const g=this.Xi(t,d);return this.es(t,g,u,f.readTime)?this.Hi(e,Ad(t,null,"F")):this.ts(e,g,t,f)}))})))}Ji(e,t,r,i){return xP(t)||i.isEqual(fn.min())?Be.resolve(null):this.ji.getDocuments(e,r).next(s=>{const u=this.Xi(t,s);return this.es(t,u,r,i)?Be.resolve(null):(zh()<=en.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(t)),this.ts(e,u,t,a0(i,-1)).next(d=>d))})}Xi(e,t){let r=new si(hC(e));return t.forEach((i,s)=>{Yu(e,s)&&(r=r.add(s))}),r}es(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,t,r){return zh()<=en.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",tf(t)),this.ji.getDocumentsMatchingQuery(e,t,Xs.min(),r)}ts(e,t,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class eM{constructor(e,t,r,i){this.persistence=e,this.ns=t,this.serializer=i,this.rs=new jr(Fn),this.ss=new Zu(s=>Tu(s),Jh),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _y(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function vE(n,e,t,r){return new eM(n,e,t,r)}function eA(n,e){return IE.apply(this,arguments)}function IE(){return IE=(0,x.Z)(function*(n,e){const t=Ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],d=[];let f=jn();for(const g of i){u.push(g.batchId);for(const I of g.mutations)f=f.add(I.key)}for(const g of s){d.push(g.batchId);for(const I of g.mutations)f=f.add(I.key)}return t.localDocuments.getDocuments(r,f).next(g=>({cs:g,removedBatchIds:u,addedBatchIds:d}))})})}),IE.apply(this,arguments)}function tA(n){const e=Ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function nA(n,e,t){let r=jn(),i=jn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=fa();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(fn.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):At("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{ls:u,hs:i}})}function nM(n,e){const t=Ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pf(n,e){const t=Ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Kr.getTargetData(r,e).next(s=>s?(i=s,Be.resolve(i)):t.Kr.allocateTargetId(r).next(u=>(i=new Nc(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}function Zo(n,e,t){return xg.apply(this,arguments)}function xg(){return xg=(0,x.Z)(function*(n,e,t){const r=Ut(n),i=r.rs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!hl(u))throw u;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),xg.apply(this,arguments)}function vy(n,e,t){const r=Ut(n);let i=fn.min(),s=jn();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,I){const A=Ut(f),U=A.ss.get(I);return void 0!==U?Be.resolve(A.rs.get(U)):A.Kr.getTargetData(g,I)}(r,u,Ko(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{s=f})}).next(()=>r.ns.getDocumentsMatchingQuery(u,e,t?i:fn.min(),t?s:jn())).next(d=>(TE(r,dC(e),d),{documents:d,Ps:s})))}function wE(n,e){const t=Ut(n),r=Ut(t.Kr),i=t.rs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(u=>u?u.target:null))}function rA(n,e){const t=Ut(n),r=t.os.get(e)||fn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t._s.getAllFromCollectionGroup(i,e,a0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TE(t,e,i),i))}function TE(n,e,t){let r=n.os.get(e)||fn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.os.set(e,r)}function gf(){return gf=(0,x.Z)(function*(n,e,t,r){const i=Ut(n);let s=jn(),u=fa();for(const g of t){const I=e.Is(g.metadata.name);g.document&&(s=s.add(I));const A=e.ds(g);A.setReadTime(e.Ts(g.metadata.readTime)),u=u.insert(I,A)}const d=i._s.newChangeBuffer({trackRemovals:!0}),f=yield pf(i,(I=r,Ko(vl(yr.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",g=>nA(g,d,u).next(I=>(d.apply(g),I)).next(I=>i.Kr.removeMatchingKeysForTargetId(g,f.targetId).next(()=>i.Kr.addMatchingKeys(g,s,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(g,I.ls,I.hs)).next(()=>I.ls)))}),gf.apply(this,arguments)}function bE(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,x.Z)(function*(n,e,t=jn()){const r=yield pf(n,Ko(MC(e.bundledQuery))),i=Ut(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=Si(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ur.saveNamedQuery(s,e);const d=r.withResumeToken(ls.EMPTY_BYTE_STRING,u);return i.rs=i.rs.insert(d.targetId,d),i.Kr.updateTargetData(s,d).next(()=>i.Kr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Kr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ur.saveNamedQuery(s,e))})}),sA.apply(this,arguments)}function DE(n,e){return`firestore_clients_${n}_${e}`}function CE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Iy(n,e){return`firestore_targets_${n}_${e}`}class Rg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new wt(i.error.code,i.error.message))),u?new Rg(e,t,i.state,s):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new wt(r.error.code,r.error.message))),s?new zd(e,r.state,i):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qa{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=dg();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=wo(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new qa(e,s):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AE{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AE(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SE{constructor(){this.activeTargetIds=dg()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pg{constructor(e,t,r,i,s){this.window=e,this._i=t,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new jr(Fn),this.started=!1,this.ws=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ss=DE(this.persistenceKey,this.fs),this.bs=`firestore_sequence_number_${this.persistenceKey}`,this.ys=this.ys.insert(this.fs,new SE),this.Ds=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Fs=`firestore_online_state_${this.persistenceKey}`,this.Ms=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,x.Z)(function*(){const t=yield e.syncEngine.ki();for(const i of t){if(i===e.fs)continue;const s=e.getItem(DE(e.persistenceKey,i));if(s){const u=qa.Es(i,s);u&&(e.ys=e.ys.insert(u.clientId,u))}}e.xs();const r=e.storage.getItem(e.Fs);if(r){const i=e.Os(r);i&&e.Ns(i)}for(const i of e.ws)e.ps(i);e.ws=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let t=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.ks(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Iy(this.persistenceKey,e));if(r){const i=zd.Es(e,r);i&&(t=i.state)}}return this.qs.Rs(e),this.xs(),t}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Iy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return At("SharedClientState","READ",e,t),t}setItem(e,t){At("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){At("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){var t=this;const r=e;if(r.storageArea===this.storage){if(At("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ss)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable((0,x.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ds.test(r.key)){if(null==r.newValue){const i=t.Us(r.key);return t.Ws(i,null)}{const i=t.Gs(r.key,r.newValue);if(i)return t.Ws(i.clientId,i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(t.vs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(r.key===t.Fs){if(null!==r.newValue){const i=t.Os(r.newValue);if(i)return t.Ns(i)}}else if(r.key===t.bs){const i=function(u){let d=qo.ae;if(null!=u)try{const f=JSON.parse(u);pn("number"==typeof f),d=f}catch(f){ji("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==qo.ae&&t.sequenceNumberHandler(i)}else if(r.key===t.Ms){const i=t.Ys(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Zs(s)))}}else t.ws.push(r)}))}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,t,r){const i=new Rg(this.currentUser,e,t,r),s=CE(this.persistenceKey,this.currentUser,e);this.setItem(s,i.As())}ks(e){const t=CE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ks(e){this.storage.setItem(this.Fs,JSON.stringify({clientId:this.fs,onlineState:e}))}Qs(e,t,r){const i=Iy(this.persistenceKey,e),s=new zd(e,t,r);this.setItem(i,s.As())}$s(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}Us(e){const t=this.Ds.exec(e);return t?t[1]:null}Gs(e,t){const r=this.Us(e);return qa.Es(r,t)}zs(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return Rg.Es(new es(void 0!==r[2]?r[2]:null),i,t)}Hs(e,t){const r=this.vs.exec(e),i=Number(r[1]);return zd.Es(i,t)}Os(e){return AE.Es(e)}Ys(e){return JSON.parse(e)}js(e){var t=this;return(0,x.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Xs(e.batchId,e.state,e.error);At("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,t){const r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),s=this.Bs(r),u=[],d=[];return s.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.no(u,d).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let t=dg();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class oA{constructor(){this.ro=new SE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new SE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aA{so(e){}shutdown(){}}class uA{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hd=null;function qd(){return null===Hd?Hd=268435456+Math.round(2147483648*Math.random()):Hd++,"0x"+Hd.toString(16)}const cA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ey{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Qo="WebChannelConnection";class rM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(t,r,i,s,u){const d=qd(),f=this.Do(t,r);At("RestConnection",`Sending RPC '${t}' ${d}:`,f,i);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(g,s,u),this.vo(t,f,g,i).then(I=>(At("RestConnection",`Received RPC '${t}' ${d}: `,I),I),I=>{throw Mo("RestConnection",`RPC '${t}' ${d} failed with error: `,I,"url: ",f,"request:",i),I})}Fo(t,r,i,s,u,d){return this.bo(t,r,i,s,u)}Co(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,u)=>t[u]=s),i&&i.headers.forEach((s,u)=>t[u]=s)}Do(t,r){return`${this.po}/v1/${r}:${cA[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=qd();return new Promise((u,d)=>{const f=new eP;f.setWithCredentials(!0),f.listenOnce(x$.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case dl.NO_ERROR:const I=f.getResponseJson();At(Qo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(I)),u(I);break;case dl.TIMEOUT:At(Qo,`RPC '${e}' ${s} timed out`),d(new wt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case dl.HTTP_ERROR:const A=f.getStatus();if(At(Qo,`RPC '${e}' ${s} failed with status:`,A,"response text:",f.getResponseText()),A>0){let U=f.getResponseJson();Array.isArray(U)&&(U=U[0]);const Z=null==U?void 0:U.error;if(Z&&Z.status&&Z.message){const ye=function(Ve){const Tt=Ve.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(Tt)>=0?Tt:Qe.UNKNOWN}(Z.status);d(new wt(ye,Z.message))}else d(new wt(Qe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new wt(Qe.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{At(Qo,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(i);At(Qo,`RPC '${e}' ${s} sending request:`,i),f.send(t,"POST",g,r,15)})}Mo(e,t,r){const i=qd(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Sa(),d=r0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Co(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const I=s.join("");At(Qo,`Creating RPC '${e}' stream ${i}: ${I}`,f);const A=u.createWebChannel(I,f);let U=!1,Z=!1;const ye=new Ey({ho:Ve=>{Z?At(Qo,`Not sending because RPC '${e}' stream ${i} is closed:`,Ve):(U||(At(Qo,`Opening RPC '${e}' stream ${i} transport.`),A.open(),U=!0),At(Qo,`RPC '${e}' stream ${i} sending:`,Ve),A.send(Ve))},Po:()=>A.close()}),Fe=(Ve,Tt,Nt)=>{Ve.listen(Tt,Pt=>{try{Nt(Pt)}catch(gn){setTimeout(()=>{throw gn},0)}})};return Fe(A,G_.EventType.OPEN,()=>{Z||At(Qo,`RPC '${e}' stream ${i} transport opened.`)}),Fe(A,G_.EventType.CLOSE,()=>{Z||(Z=!0,At(Qo,`RPC '${e}' stream ${i} transport closed`),ye.mo())}),Fe(A,G_.EventType.ERROR,Ve=>{Z||(Z=!0,Mo(Qo,`RPC '${e}' stream ${i} transport errored:`,Ve),ye.mo(new wt(Qe.UNAVAILABLE,"The operation could not be completed")))}),Fe(A,G_.EventType.MESSAGE,Ve=>{var Tt;if(!Z){const Nt=Ve.data[0];pn(!!Nt);const gn=Nt.error||(null===(Tt=Nt[0])||void 0===Tt?void 0:Tt.error);if(gn){At(Qo,`RPC '${e}' stream ${i} received error:`,gn);const Cn=gn.status;let cn=function(hc){const LI=Ps[hc];if(void 0!==LI)return uy(LI)}(Cn),ar=gn.message;void 0===cn&&(cn=Qe.INTERNAL,ar="Unknown error status: "+Cn+" with message "+gn.message),Z=!0,ye.mo(new wt(cn,ar)),A.close()}else At(Qo,`RPC '${e}' stream ${i} received:`,Nt),ye.fo(Nt)}}),Fe(d,jD.STAT_EVENT,Ve=>{Ve.stat===GD.PROXY?At(Qo,`RPC '${e}' stream ${i} detected buffering proxy`):Ve.stat===GD.NOPROXY&&At(Qo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ye.Vo()},0),ye}}function xE(){return typeof window<"u"?window:null}function Mg(){return typeof document<"u"?document:null}function kg(n){return new LP(n,!0)}class RE{constructor(e,t,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class PE{constructor(e,t,r,i,s,u,d,f){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new RE(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,x.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,x.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return(0,x.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===Qe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===t&&this.__(r,i)},r=>{e(()=>{const i=new wt(Qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,x.Z)(function*(){e.state=0,e.start()}))}a_(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lA extends PE{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function BP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:sn(),i=e.targetChange.targetIds||[],s=function(g,I){return g.useProto3Json?(pn(void 0===I||"string"==typeof I),ls.fromBase64String(I||"")):(pn(void 0===I||I instanceof Uint8Array),ls.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const I=void 0===g.code?Qe.UNKNOWN:uy(g.code);return new wt(I,g.message||"")}(u);t=new ly(r,i,s,d||null)}else if("documentChange"in e){const r=e.documentChange,i=xa(n,r.document.name),s=Si(r.document.updateTime),u=r.document.createTime?Si(r.document.createTime):fn.min(),d=new Rs({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,s,u,d);t=new Tl(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=xa(n,r.document),s=r.readTime?Si(r.readTime):fn.min(),u=Or.newNoDocument(i,s);t=new Tl([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=xa(n,r.document);t=new Tl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return sn();{const r=e.filter,{count:i=0,unchangedNames:s}=r,u=new L$(i,s);t=new NP(r.targetId,u)}}var g;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return fn.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?fn.min():u.readTime?Si(u.readTime):fn.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=yg(this.serializer),t.addTarget=function(s,u){let d;const f=u.target;if(d=sg(f)?{documents:K0(s,f)}:{query:Y0(s,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=DC(s,u.resumeToken);const g=j0(s,u.expectedCount);null!==g&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(fn.min())>0){d.readTime=_g(s,u.snapshotVersion.toTimestamp());const g=j0(s,u.expectedCount);null!==g&&(d.expectedCount=g)}return d}(this.serializer,e);const r=function UP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=yg(this.serializer),t.removeTarget=e,this.n_(t)}}class Ng extends PE{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,t){return this.connection.Mo("Write",e,t)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const t=function $P(n,e){return n&&n.length>0?(pn(void 0!==e),n.map(t=>function(i,s){let u=Si(i.updateTime?i.updateTime:s);return u.isEqual(fn.min())&&(u=Si(s)),new oy(u,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.T_(r,t)}return pn(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=yg(this.serializer),this.n_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Xu(this.serializer,r))};this.n_(t)}}class iM extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new wt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new wt(Qe.UNKNOWN,i.toString())})}Fo(e,t,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Fo(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new wt(Qe.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class sM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ji(t),this.p_=!1):At("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class oM{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(d=>{r.enqueueAndForget((0,x.Z)(function*(){var f;tc(u)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,x.Z)(function*(I){const A=Ut(I);A.F_.add(4),yield mf(A),A.O_.set("Unknown"),A.F_.delete(4),yield Uc(A)}),function g(I){return f.apply(this,arguments)})(u))}))}),this.O_=new sM(r,i)}}function Uc(n){return ME.apply(this,arguments)}function ME(){return ME=(0,x.Z)(function*(n){if(tc(n))for(const e of n.M_)yield e(!0)}),ME.apply(this,arguments)}function mf(n){return kE.apply(this,arguments)}function kE(){return kE=(0,x.Z)(function*(n){for(const e of n.M_)yield e(!1)}),kE.apply(this,arguments)}function Ty(n,e){const t=Ut(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),by(t)?OE(t):Cu(t).Yo()&&NE(t,e))}function Og(n,e){const t=Ut(n),r=Cu(t);t.v_.delete(e),r.Yo()&&hA(t,e),0===t.v_.size&&(r.Yo()?r.e_():tc(t)&&t.O_.set("Unknown"))}function NE(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cu(n).l_(e)}function hA(n,e){n.N_.Le(e),Cu(n).h_(e)}function OE(n){n.N_=new OP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),Cu(n).start(),n.O_.y_()}function by(n){return tc(n)&&!Cu(n).Jo()&&n.v_.size>0}function tc(n){return 0===Ut(n).F_.size}function fA(n){n.N_=void 0}function Dy(n){return FE.apply(this,arguments)}function FE(){return FE=(0,x.Z)(function*(n){n.v_.forEach((e,t)=>{NE(n,e)})}),FE.apply(this,arguments)}function aM(n,e){return LE.apply(this,arguments)}function LE(){return LE=(0,x.Z)(function*(n,e){fA(n),by(n)?(n.O_.b_(e),OE(n)):n.O_.set("Unknown")}),LE.apply(this,arguments)}function uM(n,e,t){return VE.apply(this,arguments)}function VE(){return VE=(0,x.Z)(function*(n,e,t){if(n.O_.set("Online"),e instanceof ly&&2===e.state&&e.cause)try{yield(r=(0,x.Z)(function*(s,u){const d=u.cause;for(const f of u.targetIds)s.v_.has(f)&&(yield s.remoteSyncer.rejectListen(f,d),s.v_.delete(f),s.N_.removeTarget(f))}),function i(s,u){return r.apply(this,arguments)})(n,e)}catch(r){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cy(n,r)}else if(e instanceof Tl?n.N_.Ge(e):e instanceof NP?n.N_.Xe(e):n.N_.He(e),!t.isEqual(fn.min()))try{const r=yield tA(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.N_._t(u);return d.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const I=s.v_.get(g);I&&s.v_.set(g,I.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,g)=>{const I=s.v_.get(f);if(!I)return;s.v_.set(f,I.withResumeToken(ls.EMPTY_BYTE_STRING,I.snapshotVersion)),hA(s,f);const A=new Nc(I.target,f,g,I.sequenceNumber);NE(s,A)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){At("RemoteStore","Failed to raise snapshot:",r),yield Cy(n,r)}var r}),VE.apply(this,arguments)}function Cy(n,e,t){return BE.apply(this,arguments)}function BE(){return BE=(0,x.Z)(function*(n,e,t){if(!hl(e))throw e;n.F_.add(1),yield mf(n),n.O_.set("Offline"),t||(t=()=>tA(n.localStore)),n.asyncQueue.enqueueRetryable((0,x.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield Uc(n)}))}),BE.apply(this,arguments)}function $E(n,e){return e().catch(t=>Cy(n,t,e))}function Wd(n){return UE.apply(this,arguments)}function UE(){return UE=(0,x.Z)(function*(n){const e=Ut(n),t=Ra(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;$$(e);)try{const i=yield nM(e.localStore,r);if(null===i){0===e.C_.length&&t.e_();break}r=i.batchId,pA(e,i)}catch(i){yield Cy(e,i)}jE(e)&&cM(e)}),UE.apply(this,arguments)}function $$(n){return tc(n)&&n.C_.length<10}function pA(n,e){n.C_.push(e);const t=Ra(n);t.Yo()&&t.I_&&t.d_(e.mutations)}function jE(n){return tc(n)&&!Ra(n).Jo()&&n.C_.length>0}function cM(n){Ra(n).start()}function Ay(n){return GE.apply(this,arguments)}function GE(){return GE=(0,x.Z)(function*(n){Ra(n).A_()}),GE.apply(this,arguments)}function lM(n){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,x.Z)(function*(n){const e=Ra(n);for(const t of n.C_)e.d_(t.mutations)}),Fg.apply(this,arguments)}function dM(n,e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,x.Z)(function*(n,e,t){const r=n.C_.shift(),i=EC.from(r,e,t);yield $E(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wd(n)}),Wa.apply(this,arguments)}function Lg(n,e){return to.apply(this,arguments)}function to(){return to=(0,x.Z)(function*(n,e){var t;e&&Ra(n).I_&&(yield(t=(0,x.Z)(function*(i,s){if(wC(d=s.code)&&d!==Qe.ABORTED){const u=i.C_.shift();Ra(i).Xo(),yield $E(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield Wd(i)}var d}),function r(i,s){return t.apply(this,arguments)})(n,e)),jE(n)&&cM(n)}),to.apply(this,arguments)}function xl(n,e){return _f.apply(this,arguments)}function _f(){return _f=(0,x.Z)(function*(n,e){const t=Ut(n);t.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const r=tc(t);t.F_.add(3),yield mf(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield Uc(t)}),_f.apply(this,arguments)}function pa(n,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,x.Z)(function*(n,e){const t=Ut(n);e?(t.F_.delete(2),yield Uc(t)):e||(t.F_.add(2),yield mf(t),t.O_.set("Unknown"))}),Vg.apply(this,arguments)}function Cu(n){return n.B_||(n.B_=function(t,r,i){const s=Ut(t);return s.V_(),new lA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Io:Dy.bind(null,n),Eo:aM.bind(null,n),c_:uM.bind(null,n)}),n.M_.push(function(){var e=(0,x.Z)(function*(t){t?(n.B_.Xo(),by(n)?OE(n):n.O_.set("Unknown")):(yield n.B_.stop(),fA(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Ra(n){return n.L_||(n.L_=function(t,r,i){const s=Ut(t);return s.V_(),new Ng(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Io:Ay.bind(null,n),Eo:Lg.bind(null,n),E_:lM.bind(null,n),T_:dM.bind(null,n)}),n.M_.push(function(){var e=(0,x.Z)(function*(t){t?(n.L_.Xo(),yield Wd(n)):(yield n.L_.stop(),n.C_.length>0&&(At("RemoteStore",`Stopping write stream with ${n.C_.length} pending writes`),n.C_=[]))});return function(t){return e.apply(this,arguments)}}())),n.L_}class Rl{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,d=new Rl(e,t,u,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(n,e){if(ji("AsyncQueue",`${e}: ${n}`),hl(n))return new wt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}class Su{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Yt.comparator(t.key,r.key):(t,r)=>Yt.comparator(t.key,r.key),this.keyedMap=cg(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Kd{constructor(){this.k_=new jr(Yt.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):sn():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class xu{constructor(e,t,r,i,s,u,d,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new xu(e,t,Su.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yf{constructor(){this.Q_=void 0,this.listeners=[]}}class vf{constructor(){this.queries=new Zu(e=>ny(e),ug),this.onlineState="Unknown",this.K_=new Set}}function Sy(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,x.Z)(function*(n,e){const t=Ut(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new yf),i)try{s.Q_=yield t.onListen(r)}catch(u){const d=Au(u,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,s),s.listeners.push(e),e.U_(t.onlineState),s.Q_&&e.W_(s.Q_)&&My(t)}),xy.apply(this,arguments)}function Ry(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,x.Z)(function*(n,e){const t=Ut(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Py.apply(this,arguments)}function gA(n,e){const t=Ut(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const d of u.listeners)d.W_(i)&&(r=!0);u.Q_=i}}r&&My(t)}function mA(n,e,t){const r=Ut(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function My(n){n.K_.forEach(e=>{e.next()})}class ky{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class _A{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class Ny{constructor(e){this.serializer=e}Is(e){return xa(this.serializer,e)}ds(e){return e.metadata.exists?CC(this.serializer,e.document,!1):Or.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Si(e)}}class hM{constructor(e,t,r){this.ta=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fM(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const r=yr.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,r=new Ny(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Is(i.metadata.name);for(const u of i.metadata.queries){const d=(t.get(u)||jn()).add(s);t.set(u,d)}}return t}complete(){var e=this;return(0,x.Z)(function*(){const t=yield function iA(n,e,t,r){return gf.apply(this,arguments)}(e.localStore,new Ny(e.serializer),e.documents,e.ta.id),r=e.ra(e.documents);for(const i of e.queries)yield bE(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:t}})()}}function fM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pM{constructor(e){this.key=e}}class yA{constructor(e){this.key=e}}class vA{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=jn(),this.mutatedKeys=jn(),this.ua=hC(e),this.ca=new Su(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new Kd,i=t?t.ca:this.ca;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,g="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,A)=>{const U=i.get(I),Z=Yu(this.query,A)?A:null,ye=!!U&&this.mutatedKeys.has(U.key),Fe=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let Ve=!1;U&&Z?U.data.isEqual(Z.data)?ye!==Fe&&(r.track({type:3,doc:Z}),Ve=!0):this.Ia(U,Z)||(r.track({type:2,doc:Z}),Ve=!0,(f&&this.ua(Z,f)>0||g&&this.ua(Z,g)<0)&&(d=!0)):!U&&Z?(r.track({type:0,doc:Z}),Ve=!0):U&&!Z&&(r.track({type:1,doc:U}),Ve=!0,(f||g)&&(d=!0)),Ve&&(Z?(u=u.add(Z),s=Fe?s.add(I):s.delete(I)):(u=u.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),s=s.delete(I.key),r.track({type:1,doc:I})}return{ca:u,Pa:r,es:d,mutatedKeys:s}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((g,I)=>function(U,Z){const ye=Fe=>{switch(Fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return ye(U)-ye(Z)}(g.type,I.type)||this.ua(g.doc,I.doc)),this.da(r);const u=t?this.Ta():[],d=0===this.aa.size&&this.current?1:0,f=d!==this._a;return this._a=d,0!==s.length||f?{snapshot:new xu(this.query,e.ca,i,s,e.mutatedKeys,0===d,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:u}:{Ea:u}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Kd,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=jn(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new yA(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new pM(r))}),t}Ra(e){this.oa=e.Ps,this.aa=jn();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return xu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class U${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gM{constructor(e){this.key=e,this.ma=!1}}class j${constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.fa={},this.ga=new Zu(d=>ny(d),ug),this.pa=new Map,this.ya=new Set,this.wa=new jr(Yt.comparator),this.Sa=new Map,this.ba=new gE,this.Da={},this.Ca=new Map,this.va=Sl.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function mM(n,e){return zE.apply(this,arguments)}function zE(){return zE=(0,x.Z)(function*(n,e){const t=Hy(n);let r,i;const s=t.ga.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const u=yield pf(t.localStore,Ko(e)),d=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield HE(t,e,r,"current"===d,u.resumeToken),t.isPrimaryClient&&Ty(t.remoteStore,u)}return i}),zE.apply(this,arguments)}function HE(n,e,t,r,i){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,x.Z)(function*(n,e,t,r,i){n.Ma=(A,U,Z)=>{return(ye=(0,x.Z)(function*(Ve,Tt,Nt,Pt){let gn=Tt.view.ha(Nt);gn.es&&(gn=yield vy(Ve.localStore,Tt.query,!1).then(({documents:ar})=>Tt.view.ha(ar,gn)));const Cn=Pt&&Pt.targetChanges.get(Tt.targetId),cn=Tt.view.applyChanges(gn,Ve.isPrimaryClient,Cn);return YE(Ve,Tt.targetId,cn.Ea),cn.snapshot}),function Fe(Ve,Tt,Nt,Pt){return ye.apply(this,arguments)})(n,A,U,Z);var ye};const s=yield vy(n.localStore,e,!0),u=new vA(e,s.Ps),d=u.ha(s.documents),f=wl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),g=u.applyChanges(d,n.isPrimaryClient,f);YE(n,t,g.Ea);const I=new U$(e,t,u);return n.ga.set(e,I),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),g.snapshot}),Bg.apply(this,arguments)}function $g(n,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,x.Z)(function*(n,e){const t=Ut(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(s=>!ug(s,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zo(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Og(t.remoteStore,r.targetId),wf(t,r.targetId)}).catch(yu))):(wf(t,r.targetId),yield Zo(t.localStore,r.targetId,!0))}),Ug.apply(this,arguments)}function Fy(){return Fy=(0,x.Z)(function*(n,e,t){const r=tw(n);try{const i=yield function(u,d){const f=Ut(u),g=_i.now(),I=d.reduce((Z,ye)=>Z.add(ye.key),jn());let A,U;return f.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let ye=fa(),Fe=jn();return f._s.getEntries(Z,I).next(Ve=>{ye=Ve,ye.forEach((Tt,Nt)=>{Nt.isValidDocument()||(Fe=Fe.add(Tt))})}).next(()=>f.localDocuments.getOverlayedDocuments(Z,ye)).next(Ve=>{A=Ve;const Tt=[];for(const Nt of d){const Pt=uf(Nt,A.get(Nt.key).overlayedDocument);null!=Pt&&Tt.push(new kc(Nt.key,Pt,sC(Pt.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(Z,g,Tt,d)}).next(Ve=>{U=Ve;const Tt=Ve.applyToLocalDocumentSet(A,Fe);return f.documentOverlayCache.saveOverlays(Z,Ve.batchId,Tt)})}).then(()=>({batchId:U.batchId,changes:k0(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let g=u.Da[u.currentUser.toKey()];g||(g=new jr(Fn)),g=g.insert(d,f),u.Da[u.currentUser.toKey()]=g}(r,i.batchId,t),yield jc(r,i.changes),yield Wd(r.remoteStore)}catch(i){const s=Au(i,"Failed to persist write");t.reject(s)}}),Fy.apply(this,arguments)}function If(n,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,x.Z)(function*(n,e){const t=Ut(n);try{const r=yield function tM(n,e){const t=Ut(n),r=e.snapshotVersion;let i=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t._s.newChangeBuffer({trackRemovals:!0});i=t.rs;const d=[];e.targetChanges.forEach((I,A)=>{const U=i.get(A);if(!U)return;d.push(t.Kr.removeMatchingKeys(s,I.removedDocuments,A).next(()=>t.Kr.addMatchingKeys(s,I.addedDocuments,A)));let Z=U.withSequenceNumber(s.currentSequenceNumber);var Fe,Ve,Tt;null!==e.targetMismatches.get(A)?Z=Z.withResumeToken(ls.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):I.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(I.resumeToken,r)),i=i.insert(A,Z),Ve=Z,Tt=I,(0===(Fe=U).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-Fe.snapshotVersion.toMicroseconds()>=3e8||Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0)&&d.push(t.Kr.updateTargetData(s,Z))});let f=fa(),g=jn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,I))}),d.push(nA(s,u,e.documentUpdates).next(I=>{f=I.ls,g=I.hs})),!r.isEqual(fn.min())){const I=t.Kr.getLastRemoteSnapshotVersion(s).next(A=>t.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(I)}return Be.waitFor(d).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.rs=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.Sa.get(s);u&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.ma=!0:i.modifiedDocuments.size>0?pn(u.ma):i.removedDocuments.size>0&&(pn(u.ma),u.ma=!1))}),yield jc(t,r,e)}catch(r){yield yu(r)}}),Ly.apply(this,arguments)}function IA(n,e,t){const r=Ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ga.forEach((s,u)=>{const d=u.view.U_(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const f=Ut(u);f.onlineState=d;let g=!1;f.queries.forEach((I,A)=>{for(const U of A.listeners)U.U_(d)&&(g=!0)}),g&&My(f)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jg(n,e,t){return qE.apply(this,arguments)}function qE(){return qE=(0,x.Z)(function*(n,e,t){const r=Ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),s=i&&i.key;if(s){let u=new jr(Yt.comparator);u=u.insert(s,Or.newNoDocument(s,fn.min()));const d=jn().add(s),f=new kd(fn.min(),new Map,new jr(Fn),u,d);yield If(r,f),r.wa=r.wa.remove(s),r.Sa.delete(e),ZE(r)}else yield Zo(r.localStore,e,!1).then(()=>wf(r,e,t)).catch(yu)}),qE.apply(this,arguments)}function _M(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,x.Z)(function*(n,e){const t=Ut(n),r=e.batch.batchId;try{const i=yield function EE(n,e){const t=Ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t._s.newChangeBuffer({trackRemovals:!0});return function(d,f,g,I){const A=g.batch,U=A.keys();let Z=Be.resolve();return U.forEach(ye=>{Z=Z.next(()=>I.getEntry(f,ye)).next(Fe=>{const Ve=g.docVersions.get(ye);pn(null!==Ve),Fe.version.compareTo(Ve)<0&&(A.applyToRemoteDocument(Fe,g),Fe.isValidDocument()&&(Fe.setReadTime(g.commitVersion),I.addEntry(Fe)))})}),Z.next(()=>d.mutationQueue.removeMutationBatch(f,A))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=jn();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(f=f.add(d.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);KE(t,r,null),EA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield jc(t,i)}catch(i){yield yu(i)}}),WE.apply(this,arguments)}function yM(n,e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,x.Z)(function*(n,e,t){const r=Ut(n);try{const i=yield function(u,d){const f=Ut(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let I;return f.mutationQueue.lookupMutationBatch(g,d).next(A=>(pn(null!==A),I=A.keys(),f.mutationQueue.removeMutationBatch(g,A))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,I,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,I)).next(()=>f.localDocuments.getDocuments(g,I))})}(r.localStore,e);KE(r,e,t),EA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield jc(r,i)}catch(i){yield yu(i)}}),Gg.apply(this,arguments)}function Ef(){return Ef=(0,x.Z)(function*(n,e){const t=Ut(n);tc(t.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ut(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ca.get(r)||[];i.push(e),t.Ca.set(r,i)}catch(r){const i=Au(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ef.apply(this,arguments)}function EA(n,e){(n.Ca.get(e)||[]).forEach(t=>{t.resolve()}),n.Ca.delete(e)}function KE(n,e,t){const r=Ut(n);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function wf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||By(n,r)})}function By(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(Og(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),ZE(n))}function YE(n,e,t){for(const r of t)r instanceof pM?(n.ba.addReference(r.key,e),wA(n,r)):r instanceof yA?(At("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||By(n,r.key)):sn()}function wA(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(At("SyncEngine","New document in limbo: "+t),n.ya.add(r),ZE(n))}function ZE(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new Yt(yr.fromString(e)),r=n.va.next();n.Sa.set(r,new gM(t)),n.wa=n.wa.insert(t,r),Ty(n.remoteStore,new Nc(Ko(vl(t.path)),r,"TargetPurposeLimboResolution",qo.ae))}}function jc(n,e,t){return $y.apply(this,arguments)}function $y(){return $y=(0,x.Z)(function*(n,e,t){const r=Ut(n),i=[],s=[],u=[];var d;r.ga.isEmpty()||(r.ga.forEach((d,f)=>{u.push(r.Ma(f,e,t).then(g=>{if((g||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,null!=g&&g.fromCache?"not-current":"current"),g){i.push(g);const I=yy.$i(f.targetId,g);s.push(I)}}))}),yield Promise.all(u),r.fa.c_(i),yield(d=(0,x.Z)(function*(g,I){const A=Ut(g);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Be.forEach(I,Z=>Be.forEach(Z.Qi,ye=>A.persistence.referenceDelegate.addReference(U,Z.targetId,ye)).next(()=>Be.forEach(Z.Ki,ye=>A.persistence.referenceDelegate.removeReference(U,Z.targetId,ye)))))}catch(U){if(!hl(U))throw U;At("LocalStore","Failed to update sequence numbers: "+U)}for(const U of I){const Z=U.targetId;if(!U.fromCache){const ye=A.rs.get(Z),Ve=ye.withLastLimboFreeSnapshotVersion(ye.snapshotVersion);A.rs=A.rs.insert(Z,Ve)}}}),function f(g,I){return d.apply(this,arguments)})(r.localStore,s))}),$y.apply(this,arguments)}function TA(n,e){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,x.Z)(function*(n,e){const t=Ut(n);if(!t.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const r=yield eA(t.localStore,e);t.currentUser=e,(s=t).Ca.forEach(d=>{d.forEach(f=>{f.reject(new wt(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jc(t,r.cs)}var s}),Uy.apply(this,arguments)}function vM(n,e){const t=Ut(n),r=t.Sa.get(e);if(r&&r.ma)return jn().add(r.key);{let i=jn();const s=t.pa.get(e);if(!s)return i;for(const u of s){const d=t.ga.get(u);i=i.unionWith(d.view.la)}return i}}function IM(n,e){return QE.apply(this,arguments)}function QE(){return QE=(0,x.Z)(function*(n,e){const t=Ut(n),r=yield vy(t.localStore,e.query,!0),i=e.view.Ra(r);return t.isPrimaryClient&&YE(t,e.targetId,i.Ea),i}),QE.apply(this,arguments)}function EM(n,e){return zg.apply(this,arguments)}function zg(){return zg=(0,x.Z)(function*(n,e){const t=Ut(n);return rA(t.localStore,e).then(r=>jc(t,r))}),zg.apply(this,arguments)}function XE(n,e,t,r){return JE.apply(this,arguments)}function JE(){return JE=(0,x.Z)(function*(n,e,t,r){const i=Ut(n),s=yield function(d,f){const g=Ut(d),I=Ut(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",A=>I.Fn(A,f).next(U=>U?g.localDocuments.getDocuments(A,U):Be.resolve(null)))}(i.localStore,e);var f;null!==s?("pending"===t?yield Wd(i.remoteStore):"acknowledged"===t||"rejected"===t?(KE(i,e,r||null),EA(i,e),f=e,Ut(Ut(i.localStore).mutationQueue).xn(f)):sn(),yield jc(i,s)):At("SyncEngine","Cannot apply mutation batch with id: "+e)}),JE.apply(this,arguments)}function Tf(){return Tf=(0,x.Z)(function*(n,e){const t=Ut(n);if(Hy(t),tw(t),!0===e&&!0!==t.Fa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Gy(t,r.toArray());t.Fa=!0,yield pa(t.remoteStore,!0);for(const s of i)Ty(t.remoteStore,s)}else if(!1===e&&!1!==t.Fa){const r=[];let i=Promise.resolve();t.pa.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(wf(t,u),Zo(t.localStore,u,!0))),Og(t.remoteStore,u)}),yield i,yield Gy(t,r),function(u){const d=Ut(u);d.Sa.forEach((f,g)=>{Og(d.remoteStore,g)}),d.ba.gr(),d.Sa=new Map,d.wa=new jr(Yt.comparator)}(t),t.Fa=!1,yield pa(t.remoteStore,!1)}}),Tf.apply(this,arguments)}function Gy(n,e,t){return zy.apply(this,arguments)}function zy(){return zy=(0,x.Z)(function*(n,e,t){const r=Ut(n),i=[],s=[];for(const u of e){let d;const f=r.pa.get(u);if(f&&0!==f.length){d=yield pf(r.localStore,Ko(f[0]));for(const g of f){const I=r.ga.get(g),A=yield IM(r,I);A.snapshot&&s.push(A.snapshot)}}else{const g=yield wE(r.localStore,u);d=yield pf(r.localStore,g),yield HE(r,bA(g),u,!1,d.resumeToken)}i.push(d)}return r.fa.c_(s),i}),zy.apply(this,arguments)}function bA(n){return ey(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wM(n){return t=Ut(n).localStore,Ut(Ut(t).persistence).ki();var t}function TM(n,e,t,r){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,x.Z)(function*(n,e,t,r){const i=Ut(n);if(i.Fa)return void At("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield rA(i.localStore,dC(s[0])),d=kd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ls.EMPTY_BYTE_STRING);yield jc(i,u,d);break}case"rejected":yield Zo(i.localStore,e,!0),wf(i,e,r);break;default:sn()}}),Hg.apply(this,arguments)}function ew(n,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,x.Z)(function*(n,e,t){const r=Hy(n);if(r.Fa){for(const i of e){if(r.pa.has(i)){At("SyncEngine","Adding an already active target "+i);continue}const s=yield wE(r.localStore,i),u=yield pf(r.localStore,s);yield HE(r,bA(s),u.targetId,!1,u.resumeToken),Ty(r.remoteStore,u)}for(const i of t)r.pa.has(i)&&(yield Zo(r.localStore,i,!1).then(()=>{Og(r.remoteStore,i),wf(r,i)}).catch(yu))}}),qg.apply(this,arguments)}function Hy(n){const e=Ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=If.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jg.bind(null,e),e.fa.c_=gA.bind(null,e.eventManager),e.fa.xa=mA.bind(null,e.eventManager),e}function tw(n){const e=Ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Wg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,x.Z)(function*(){t.serializer=kg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vE(this.persistence,new JC,e.initialUser,this.serializer)}createPersistence(e){return new mE(Dg.Jr,this.serializer)}createSharedClientState(e){return new oA}terminate(){var e=this;return(0,x.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qy extends Wg{constructor(e,t,r){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield t().call(r,e),yield r.Na.initialize(r,e),yield tw(r.Na.syncEngine),yield Wd(r.Na.remoteStore),yield r.persistence.gi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vE(this.persistence,new JC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new ha(t,this.persistence);return new lP(e.asyncQueue,r)}createPersistence(e){const t=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new _E(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xE(),Mg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oA}}class Wy extends qy{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,x.Z)(function*(){yield t().call(r,e);const i=r.Na.syncEngine;r.sharedClientState instanceof Pg&&(r.sharedClientState.syncEngine={Xs:XE.bind(null,i),eo:TM.bind(null,i),no:ew.bind(null,i),ki:wM.bind(null,i),Zs:EM.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.gi(function(){var s=(0,x.Z)(function*(u){yield function jy(n,e){return Tf.apply(this,arguments)}(r.Na.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=xE();if(!Pg.C(t))throw new wt(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Sg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Yd{initialize(e,t){var r=this;return(0,x.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IA(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TA.bind(null,r.syncEngine),yield pa(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vf}createDatastore(e){const t=kg(e.databaseInfo.databaseId),r=new rM(e.databaseInfo);return new iM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,u=t=>IA(this.syncEngine,t,0),d=uA.C()?new uA:new aA,new oM(r,i,s,u,d);var r,i,s,u,d}createSyncEngine(e,t){return function(i,s,u,d,f,g,I){const A=new j$(i,s,u,d,f,g);return I&&(A.Fa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,x.Z)(function*(r){const i=Ut(r);At("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield mf(i),i.x_.shutdown(),i.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function DA(n,e=10240){let t=0;return{read:()=>(0,x.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,x.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CA{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Qs,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,x.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,x.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,x.Z)(function*(){const t=yield e.Ka();if(null===t)return null;const r=e.qa.decode(t),i=Number(r);isNaN(i)&&e.$a(`length string (${r}) is not valid number`);const s=yield e.Ua(i);return new _A(JSON.parse(s),t.length+i)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,x.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const t=e.Wa();t<0&&e.$a("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ua(e){var t=this;return(0,x.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ga())&&t.$a("Reached the end of bundle when more is expected.");const r=t.qa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,x.Z)(function*(){const t=yield e.ka.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,x.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,x.Z)(function*(u,d){const f=Ut(u),g=yg(f.serializer)+"/documents",I={documents:d.map(ye=>Nd(f.serializer,ye))},A=yield f.Fo("BatchGetDocuments",g,I,d.length),U=new Map;A.forEach(ye=>{const Fe=function hy(n,e){return"found"in e?function(r,i){pn(!!i.found);const s=xa(r,i.found.name),u=Si(i.found.updateTime),d=i.found.createTime?Si(i.found.createTime):fn.min(),f=new Rs({mapValue:{fields:i.found.fields}});return Or.newFoundDocument(s,u,d,f)}(n,e):"missing"in e?function(r,i){pn(!!i.missing),pn(!!i.readTime);const s=xa(r,i.missing),u=Si(i.readTime);return Or.newNoDocument(s,u)}(n,e):sn()}(f.serializer,ye);U.set(Fe.key.toString(),Fe)});const Z=[];return d.forEach(ye=>{const Fe=U.get(ye.toString());pn(!!Fe),Z.push(Fe)}),Z}),function s(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new xd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,x.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Yt.fromPath(i);e.mutations.push(new gg(s,e.precondition(s)))}),yield(r=(0,x.Z)(function*(s,u){const d=Ut(s),f=yg(d.serializer)+"/documents",g={writes:u.map(I=>Xu(d.serializer,I))};yield d.bo("Commit",f,g)}),function i(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sn();t=fn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new wt(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(fn.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fn.min()))throw new wt(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SA{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.za=r.maxAttempts,this.Ho=new RE(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var e=this;this.Ho.Qo((0,x.Z)(function*(){const t=new AA(e.datastore),r=e.Ha(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Ja(s)}))}).catch(i=>{e.Ja(i)})}))}Ha(e){try{const t=this.updateFunction(e);return!Kh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wC(t)}return!1}}class DM{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=es.UNAUTHENTICATED,this.clientId=aP.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,x.Z)(function*(d){At("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(At("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,x.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Au(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Yg(n,e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,x.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,x.Z)(function*(s){r.isEqual(s)||(yield eA(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Ky.apply(this,arguments)}function Yy(n,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,x.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Zy(n);At("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>xl(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>xl(e.remoteStore,s)),n._onlineComponents=e}),Zg.apply(this,arguments)}function rw(n){return"FirebaseError"===n.name?n.code===Qe.FAILED_PRECONDITION||n.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Zy(n){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,x.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rw(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),yield Yg(n,new Wg)}}else At("FirestoreClient","Using default OfflineComponentProvider"),yield Yg(n,new Wg);return n._offlineComponents}),Qy.apply(this,arguments)}function Qg(n){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,x.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yy(n,n._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),yield Yy(n,new Yd))),n._onlineComponents}),Xy.apply(this,arguments)}function iw(n){return Zy(n).then(e=>e.persistence)}function Zd(n){return Zy(n).then(e=>e.localStore)}function sw(n){return Qg(n).then(e=>e.remoteStore)}function bf(n){return Qg(n).then(e=>e.syncEngine)}function Df(n){return ow.apply(this,arguments)}function ow(){return ow=(0,x.Z)(function*(n){const e=yield Qg(n),t=e.eventManager;return t.onListen=mM.bind(null,e.syncEngine),t.onUnlisten=$g.bind(null,e.syncEngine),t}),ow.apply(this,arguments)}function xA(n,e,t={}){const r=new Qs;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(s,u,d,f,g){const I=new Kg({next:U=>{u.enqueueAndForget(()=>Ry(s,A));const Z=U.docs.has(d);!Z&&U.fromCache?g.reject(new wt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&U.fromCache&&f&&"server"===f.source?g.reject(new wt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(U)},error:U=>g.reject(U)}),A=new ky(vl(d.path),I,{includeMetadataChanges:!0,Z_:!0});return Sy(s,A)}(yield Df(n),n.asyncQueue,e,t,r)})),r.promise}function CM(n,e,t={}){const r=new Qs;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function(s,u,d,f,g){const I=new Kg({next:U=>{u.enqueueAndForget(()=>Ry(s,A)),U.fromCache&&"server"===f.source?g.reject(new wt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(U)},error:U=>g.reject(U)}),A=new ky(d,I,{includeMetadataChanges:!0,Z_:!0});return Sy(s,A)}(yield Df(n),n.asyncQueue,e,t,r)})),r.promise}function lw(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const PA=new Map;function dw(n,e,t){if(!t)throw new wt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hw(n,e,t,r){if(!0===e&&!0===r)throw new wt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MA(n){if(!Yt.isDocumentKey(n))throw new wt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fw(n){if(Yt.isDocumentKey(n))throw new wt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":sn()}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new wt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xg(n);throw new wt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kA(n,e){if(e<=0)throw new wt(Qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lw(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NA(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new rP;switch(r.type){case"firstParty":return new oP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new wt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=PA.get(t);r&&(At("ComponentProvider","Removing Datastore"),PA.delete(t),r.terminate())}(this),Promise.resolve()}}function OA(n,e,t,r={}){var i;const s=(n=Hn(n,Cf))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==u&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:u,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=es.MOCK_USER;else{d=gt(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new wt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new es(g)}n._authCredentials=new P$(new s0(d,f))}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class yi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yi(this.firestore,e,this._key)}}class Ru extends no{constructor(e,t,r){super(e,t,vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yi(this.firestore,null,new Yt(e))}withConverter(e){return new Ru(this.firestore,e,this._path)}}function Pl(n,e,...t){if(n=Xe(n),dw("collection","path",e),n instanceof Cf){const r=yr.fromString(e,...t);return fw(r),new Ru(n,null,r)}{if(!(n instanceof yi||n instanceof Ru))throw new wt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yr.fromString(e,...t));return fw(r),new Ru(n.firestore,null,r)}}function Xo(n,e,...t){if(n=Xe(n),1===arguments.length&&(e=aP.V()),dw("doc","path",e),n instanceof Cf){const r=yr.fromString(e,...t);return MA(r),new yi(n,null,new Yt(r))}{if(!(n instanceof yi||n instanceof Ru))throw new wt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yr.fromString(e,...t));return MA(r),new yi(n.firestore,n instanceof Ru?n.converter:null,new Yt(r))}}function FA(n,e){return n=Xe(n),e=Xe(e),(n instanceof yi||n instanceof Ru)&&(e instanceof yi||e instanceof Ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ka(n,e){return n=Xe(n),e=Xe(e),n instanceof no&&e instanceof no&&n.firestore===e.firestore&&ug(n._query,e._query)&&n.converter===e.converter}class Pu{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new RE(this,"async_queue_retry"),this.ou=()=>{const t=Mg();t&&At("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=Mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=Mg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Qs;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,x.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!hl(t))throw t;At("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ji("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=Rl.createAndSchedule(this,e,t,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&sn()}verifyOperationInProgress(){}lu(){var e=this;return(0,x.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function Pa(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class LA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class oi extends Cf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Pu,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jy(this),this._firestoreClient.terminate()}}function Ma(n,e){const r="string"==typeof n?n:e||"(default)",i=ss("object"==typeof n?n:ir(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=je("firestore");s&&OA(i,...s)}return i}function zi(n){return n._firestoreClient||Jy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Jy(n){var e,t,r;const i=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new E0(n._databaseId,f,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,lw(I.experimentalLongPollingOptions),I.useFetchStreams));var f,I;n._firestoreClient=new DM(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pw(n,e,t){const r=new Qs;return n.asyncQueue.enqueue((0,x.Z)(function*(){try{yield Yg(n,t),yield Yy(n,e),r.resolve()}catch(i){const s=i;if(!rw(s))throw s;Mo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function mw(n){if(n._initialized||n._terminated)throw new wt(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rc(ls.fromBase64String(e))}catch(t){throw new wt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rc(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ic{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ml{constructor(e){this._methodName=e}}class em{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}const GA=/^__.*__$/;class zA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new cf(e,this.data,t,this.fieldTransforms)}}class _w{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class tm{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.du(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return im(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(yw(this.Tu)&&GA.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class HA{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kg(e)}wu(e,t,r,i=!1){return new tm({Tu:e,methodName:t,yu:r,path:Gi.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(n){const e=n._freezeSettings(),t=kg(n._databaseId);return new HA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ev(n,e,t,r,i,s={}){const u=n.wu(s.merge||s.mergeFields?2:0,e,t,i);ww("Data must be an object, but it was:",u,r);const d=KA(r,u);let f,g;if(s.merge)f=new Wo(u.fieldMask),g=u.fieldTransforms;else if(s.mergeFields){const I=[];for(const A of s.mergeFields){const U=rm(e,A,t);if(!u.contains(U))throw new wt(Qe.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Tw(I,U)||I.push(U)}f=new Wo(I),g=u.fieldTransforms.filter(A=>f.covers(A.field))}else f=null,g=u.fieldTransforms;return new zA(new Rs(d),f,g)}class nm extends Ml{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function qA(n,e,t){return new tm({Tu:3,yu:e.settings.yu,methodName:n._methodName,Ru:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vw extends Ml{_toFieldTransform(e){return new pg(e.path,new nf)}isEqual(e){return e instanceof vw}}class OM extends Ml{constructor(e,t){super(e),this.Su=t}_toFieldTransform(e){const t=qA(this,e,!0),r=this.Su.map(s=>Jd(s,t)),i=new Mc(r);return new pg(e.path,i)}isEqual(e){return this===e}}class FM extends Ml{constructor(e,t){super(e),this.Su=t}_toFieldTransform(e){const t=qA(this,e,!0),r=this.Su.map(s=>Jd(s,t)),i=new Il(r);return new pg(e.path,i)}isEqual(e){return this===e}}class LM extends Ml{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=new rf(e.serializer,O0(e.serializer,this.bu));return new pg(e.path,t)}isEqual(e){return this===e}}function Iw(n,e,t,r){const i=n.wu(1,e,t);ww("Data must be an object, but it was:",i,r);const s=[],u=Rs.empty();fl(r,(f,g)=>{const I=tv(e,f,t);g=Xe(g);const A=i.mu(I);if(g instanceof nm)s.push(I);else{const U=Jd(g,A);null!=U&&(s.push(I),u.set(I,U))}});const d=new Wo(s);return new _w(u,d,i.fieldTransforms)}function Ew(n,e,t,r,i,s){const u=n.wu(1,e,t),d=[rm(e,r,t)],f=[i];if(s.length%2!=0)throw new wt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<s.length;U+=2)d.push(rm(e,s[U])),f.push(s[U+1]);const g=[],I=Rs.empty();for(let U=d.length-1;U>=0;--U)if(!Tw(g,d[U])){const Z=d[U];let ye=f[U];ye=Xe(ye);const Fe=u.mu(Z);if(ye instanceof nm)g.push(Z);else{const Ve=Jd(ye,Fe);null!=Ve&&(g.push(Z),I.set(Z,Ve))}}const A=new Wo(g);return new _w(I,A,u.fieldTransforms)}function WA(n,e,t,r=!1){return Jd(t,n.wu(r?4:3,e))}function Jd(n,e){if(YA(n=Xe(n)))return ww("Unsupported field value:",e,n),KA(n,e);if(n instanceof Ml)return function(r,i){if(!yw(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let u=0;for(const d of r){let f=Jd(d,i.fu(u));null==f&&(f={nullValue:"NULL_VALUE"}),s.push(f),u++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Xe(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return O0(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=_i.fromDate(r);return{timestampValue:_g(i.serializer,s)}}if(r instanceof _i){const s=new _i(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_g(i.serializer,s)}}if(r instanceof em)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rc)return{bytesValue:DC(i.serializer,r._byteString)};if(r instanceof yi){const s=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw i.gu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:G0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${Xg(r)}`)}(n,e)}function KA(n,e){const t={};return I0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fl(n,(r,i)=>{const s=Jd(i,e.Au(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function YA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _i||n instanceof em||n instanceof rc||n instanceof yi||n instanceof Ml)}function ww(n,e,t){if(!YA(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Xg(t);throw e.gu("an object"===r?n+" a custom object":n+" "+r)}var i}function rm(n,e,t){if((e=Xe(e))instanceof ic)return e._internalPath;if("string"==typeof e)return tv(n,e);throw im("Field path arguments must be of type string or ",n,!1,void 0,t)}const VM=new RegExp("[~\\*/\\[\\]]");function tv(n,e,t){if(e.search(VM)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function im(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||u)&&(f+=" (found",s&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new wt(Qe.INVALID_ARGUMENT,d+n+f)}function Tw(n,e){return n.some(t=>t.isEqual(e))}class Sf{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZA extends Sf{data(){return super.data()}}function sm(n,e){return"string"==typeof e?tv(n,e):e instanceof ic?e._internalPath:e._delegate._internalPath}function bw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new wt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class xf extends nv{}function Ya(n,e,...t){let r=[];e instanceof nv&&r.push(e),r=r.concat(t),function(s){const u=s.filter(f=>f instanceof Za).length,d=s.filter(f=>f instanceof Rf).length;if(u>1||u>0&&d>0)throw new wt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Rf extends xf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rf(e,t,r)}_apply(e){const t=this._parse(e);return um(e._query,t),new no(e.firestore,e.converter,ty(e._query,t))}_parse(e){const t=Xd(e.firestore);return function(s,u,d,f,g,I,A){let U;if(g.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new wt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){am(A,I);const Z=[];for(const ye of A)Z.push(XA(f,s,ye));U={arrayValue:{values:Z}}}else U=XA(f,s,A)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||am(A,I),U=WA(d,"where",A,"in"===I||"not-in"===I);return cr.create(g,I,U)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function rv(n,e,t){const r=e,i=sm("where",n);return Rf._create(i,r,t)}class Za extends nv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Za(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let u=i;const d=s.getFlattenedFilters();for(const f of d)um(u,f),u=ty(u,f)}(e._query,t),new no(e.firestore,e.converter,ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kl extends xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kl(e,t)}_apply(e){const t=function(i,s,u){if(null!==i.startAt)throw new wt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new wt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Dd(s,u);return function(g,I){if(null===cC(g)){const A=ag(g);null!==A&&Jo(0,A,I.field)}}(i,d),d}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(i,s){const u=i.explicitOrderBy.concat([s]);return new yl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Pf extends xf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Pf(e,t,r)}_apply(e){return new no(e.firestore,e.converter,Ad(e._query,this._limit,this._limitType))}}class om extends xf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new om(e,t,r)}_apply(e){const t=eh(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(s=t,new yl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class iv extends xf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iv(e,t,r)}_apply(e){const t=eh(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(s=t,new yl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function eh(n,e,t,r){if(t[0]=Xe(t[0]),t[0]instanceof Sf)return function(s,u,d,f,g){if(!f)throw new wt(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const A of ef(s))if(A.field.isKeyField())I.push(Ed(u,f.key));else{const U=f.data.field(A.field);if(tg(U))throw new wt(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Z=A.field.canonicalString();throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}I.push(U)}return new Eu(I,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xd(n.firestore);return function(u,d,f,g,I,A){const U=u.explicitOrderBy;if(I.length>U.length)throw new wt(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let ye=0;ye<I.length;ye++){const Fe=I[ye];if(U[ye].field.isKeyField()){if("string"!=typeof Fe)throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Fe}`);if(!M0(u)&&-1!==Fe.indexOf("/"))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Fe}' contains a slash.`);const Ve=u.path.child(yr.fromString(Fe));if(!Yt.isDocumentKey(Ve))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Tt=new Yt(Ve);Z.push(Ed(d,Tt))}else{const Ve=WA(f,g,Fe);Z.push(Ve)}}return new Eu(Z,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function XA(n,e,t){if("string"==typeof(t=Xe(t))){if(""===t)throw new wt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M0(e)&&-1!==t.indexOf("/"))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yr.fromString(t));if(!Yt.isDocumentKey(r))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ed(n,new Yt(r))}if(t instanceof yi)return Ed(n,t._key);throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xg(t)}.`)}function am(n,e){if(!Array.isArray(n)||0===n.length)throw new wt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function um(n,e){if(e.isInequality()){const r=ag(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=cC(n);null!==s&&Jo(0,i,s)}const t=function(i,s){for(const u of i)for(const d of u.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new wt(Qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Jo(n,e,t){if(!t.isEqual(e))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sv{convertValue(e,t="none"){switch(Ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new em(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ng(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const t=Id(e);return new _i(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yr.fromString(e);pn(X0(r));const i=new Cc(r.get(1),r.get(3)),s=new Yt(r.popFirst(5));return i.isEqual(t)||ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function cm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jM extends sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,t)}}class th{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends Sf{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hc extends zc{data(e={}){return super.data(e)}}class Nl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hc(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Hc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new th(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const f=new Hc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new th(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,I=-1;return 0!==d.type&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:qM(d.type),doc:f,oldIndex:g,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function eS(n,e){return n instanceof zc&&e instanceof zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nl&&e instanceof Nl&&n._firestore===e._firestore&&Ka(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ka(n){n=Hn(n,yi);const e=Hn(n.firestore,oi);return xA(zi(e),n._key).then(t=>av(e,n,t))}class qc extends sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,t)}}function rS(n){n=Hn(n,no);const e=Hn(n.firestore,oi),t=zi(e),r=new qc(e);return bw(n._query),CM(t,n._query).then(i=>new Nl(e,r,n,i))}function Ol(n,e,t){n=Hn(n,yi);const r=Hn(n.firestore,oi),i=cm(n.converter,e,t);return kf(r,[ev(Xd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vr.none())])}function ov(n,e,t,...r){n=Hn(n,yi);const i=Hn(n.firestore,oi),s=Xd(i);let u;return u="string"==typeof(e=Xe(e))||e instanceof ic?Ew(s,"updateDoc",n._key,e,t,r):Iw(s,"updateDoc",n._key,e),kf(i,[u.toMutation(n._key,vr.exists(!0))])}function Dw(n){return kf(Hn(n.firestore,oi),[new xd(n._key,vr.none())])}function Cw(n,e){const t=Hn(n.firestore,oi),r=Xo(n),i=cm(n.converter,e);return kf(t,[ev(Xd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function Aw(n,...e){var t,r,i;n=Xe(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Pa(e[u])||(s=e[u],u++);const d={includeMetadataChanges:s.includeMetadataChanges};if(Pa(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let f,g,I;if(n instanceof yi)g=Hn(n.firestore,oi),I=vl(n._key.path),f={next:A=>{e[u]&&e[u](av(g,n,A))},error:e[u+1],complete:e[u+2]};else{const A=Hn(n,no);g=Hn(A.firestore,oi),I=A._query;const U=new qc(g);f={next:Z=>{e[u]&&e[u](new Nl(g,U,A,Z))},error:e[u+1],complete:e[u+2]},bw(n._query)}return function(U,Z,ye,Fe){const Ve=new Kg(Fe),Tt=new ky(Z,Ve,ye);return U.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return Sy(yield Df(U),Tt)})),()=>{Ve.La(),U.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return Ry(yield Df(U),Tt)}))}}(zi(g),I,d,f)}function kf(n,e){return function(r,i){const s=new Qs;return r.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function Oy(n,e,t){return Fy.apply(this,arguments)}(yield bf(r),i,s)})),s.promise}(zi(n),e)}function av(n,e,t){const r=t.docs.get(e._key),i=new qc(n);return new zc(n,i,e._key,r,new th(t.hasPendingWrites,t.fromCache),e.converter)}const ZM={maxAttempts:5};class oS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xd(e)}set(e,t,r){this._verifyNotCommitted();const i=nh(e,this._firestore),s=cm(i.converter,t,r),u=ev(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=nh(e,this._firestore);let u;return u="string"==typeof(t=Xe(t))||t instanceof ic?Ew(this._dataReader,"WriteBatch.update",s._key,t,r,i):Iw(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nh(e,this._firestore);return this._mutations=this._mutations.concat(new xd(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(n,e){if((n=Xe(n)).firestore!==e)throw new wt(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class QM extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Xd(t)}get(t){const r=nh(t,this._firestore),i=new jM(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return sn();const u=s[0];if(u.isFoundDocument())return new Sf(this._firestore,i,u.key,u,r.converter);if(u.isNoDocument())return new Sf(this._firestore,i,r._key,null,r.converter);throw sn()})}set(t,r,i){const s=nh(t,this._firestore),u=cm(s.converter,r,i),d=ev(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,i);return this._transaction.set(s._key,d),this}update(t,r,i,...s){const u=nh(t,this._firestore);let d;return d="string"==typeof(r=Xe(r))||r instanceof ic?Ew(this._dataReader,"Transaction.update",u._key,r,i,s):Iw(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,d),this}delete(t){const r=nh(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nh(e,this._firestore),r=new qc(this._firestore);return super.get(e).then(i=>new zc(this._firestore,r,t._key,i._document,new th(!1,!1),t.converter))}}!function(e,t=!0){Gh=os,Kn(new Ht("firestore",(r,{instanceIdentifier:i,options:s})=>{const u=r.getProvider("app").getImmediate(),d=new oi(new iP(r.getProvider("auth-internal")),new zD(r.getProvider("app-check-internal")),function(g,I){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new wt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(g.options.projectId,I)}(u,i),u);return s=Object.assign({useFetchStreams:t},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),_r(z_,"4.1.3",e),_r(z_,"4.1.3","esm2017")}();let rk=(()=>{var n;class e{constructor(){}ngOnInit(){}createMosque(r){return(0,x.Z)(function*(){try{const u=Xo(Pl(Ma(),"mosques"));yield Ol(u,r),console.log(`Mosqu\xe9e cr\xe9\xe9e avec succ\xe8s avec l'ID : ${u.id}`)}catch(i){throw console.error("Erreur lors de la cr\xe9ation de la mosqu\xe9e :",i),i}})()}updateMosque(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"mosques",r);(yield ka(u)).exists()?(yield ov(u,i),console.log(`Mosquee avec l'ID ${r} mise \xe0 jour avec succ\xe8s`)):console.log(`Mosquee avec l'ID ${r} n'existe pas.`)}catch(s){throw console.error("Erreur lors de la mise \xe0 jour de la mosquee :",s),s}})()}deleteMosque(r){return(0,x.Z)(function*(){try{const s=Xo(Ma(),"mosques",r);(yield ka(s)).exists()?(yield Dw(s),console.log(`Mosquee avec l'ID ${r} supprim\xe9e avec succ\xe8s`)):console.log(`Mosquee avec l'ID ${r} n'existe pas.`)}catch(i){throw console.error("Erreur lors de la suppression de la mosquee :",i),i}})()}filter(r,i){return(0,x.Z)(function*(){try{let d=Ya(Pl(Ma(),"mosques"));r&&(d=Ya(d,rv("name","==",r))),i&&(d=Ya(d,rv("location","==",i)));const f=yield rS(d),g=[];return f.forEach(I=>{const A=I.data();g.push(A)}),console.log(g),g}catch(s){throw console.error("Erreur lors de la recherche de mosqu\xe9es :",s),s}})()}getDetailsMosque(r){return(0,x.Z)(function*(){try{const s=Xo(Ma(),"mosques",r),u=yield ka(s);if(u.exists()){const d=u.data();return console.log(d),d}return console.log("mosque non trouve"),null}catch(i){throw console.error("Erreur lors de la r\xe9cup\xe9ration de la mosqu\xe9e :",i),i}})()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=de.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Of=z(7582);const pm={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function fS(n){return void 0!==n&&void 0!==n.getResponse}function pS(n){return void 0!==n&&void 0!==n.enterprise}class gS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const ik=function mS(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},sk=function Pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mw=new Rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),uv=new Mr("@firebase/auth");function cv(n,...e){uv.logLevel<=en.ERROR&&uv.error(`Auth (${os}): ${n}`,...e)}function ds(n,...e){throw Nw(n,...e)}function ks(n,...e){return Nw(n,...e)}function kw(n,e,t){const r=Object.assign(Object.assign({},sk()),{[e]:t});return new Rt("auth","Firebase",r).create(e,{appName:n.name})}function Fl(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&ds(n,"argument-error"),kw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Mw.create(n,...e)}function Ft(n,e,...t){if(!n)throw Nw(e,...t)}function Qa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cv(e),new Error(e)}function Mu(n,e){n||Qa(e)}function Lf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Wc(){return"http:"===Ow()||"https:"===Ow()}function Ow(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class rh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mu(t>e,"Short delay should be less than long delay!"),this.isMobile=_n()||ue()}get(){return function ak(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wc()||te()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(n,e){Mu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class _S{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vS=new rh(3e4,6e4);function vi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ii(n,e,t,r){return mm.apply(this,arguments)}function mm(){return mm=(0,x.Z)(function*(n,e,t,r,i={}){return Fw(n,i,(0,x.Z)(function*(){let s={},u={};r&&("GET"===e?u=r:s={body:JSON.stringify(r)});const d=dr(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),_S.fetch()(IS(n,n.config.apiHost,t,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},s))}))}),mm.apply(this,arguments)}function Fw(n,e,t){return lv.apply(this,arguments)}function lv(){return lv=(0,x.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yS),e);try{const i=new uk(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=yield s.json();if("needConfirmation"in u)throw _m(n,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const d=s.ok?u.errorMessage:u.error.message,[f,g]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw _m(n,"credential-already-in-use",u);if("EMAIL_EXISTS"===f)throw _m(n,"email-already-in-use",u);if("USER_DISABLED"===f)throw _m(n,"user-disabled",u);const I=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kw(n,I,g);ds(n,I)}}catch(i){if(i instanceof ht)throw i;ds(n,"network-request-failed",{message:String(i)})}}),lv.apply(this,arguments)}function sc(n,e,t,r){return dv.apply(this,arguments)}function dv(){return dv=(0,x.Z)(function*(n,e,t,r,i={}){const s=yield Ii(n,e,t,r,i);return"mfaPendingCredential"in s&&ds(n,"multi-factor-auth-required",{_serverResponse:s}),s}),dv.apply(this,arguments)}function IS(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?gm(n.config,i):`${n.config.apiScheme}://${i}`}class uk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),vS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _m(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ks(n,e,r);return i.customData._tokenResponse=t,i}function hv(){return hv=(0,x.Z)(function*(n){return(yield Ii(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}),hv.apply(this,arguments)}function fv(){return fv=(0,x.Z)(function*(n,e){return Ii(n,"GET","/v2/recaptchaConfig",vi(n,e))}),fv.apply(this,arguments)}function Lw(){return Lw=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:delete",e)}),Lw.apply(this,arguments)}function Vw(){return Vw=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:update",e)}),Vw.apply(this,arguments)}function Bw(){return Bw=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:lookup",e)}),Bw.apply(this,arguments)}function ym(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $w(){return $w=(0,x.Z)(function*(n,e=!1){const t=Xe(n),r=yield t.getIdToken(e),i=pv(r);Ft(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,u=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ym(Uw(i.auth_time)),issuedAtTime:ym(Uw(i.iat)),expirationTime:ym(Uw(i.exp)),signInProvider:u||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),$w.apply(this,arguments)}function Uw(n){return 1e3*Number(n)}function pv(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const i=ae(t);return i?JSON.parse(i):(cv("Failed to decode base64 JWT payload"),null)}catch(i){return cv("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Kc(n,e){return jw.apply(this,arguments)}function jw(){return jw=(0,x.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ht&&function vm({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),jw.apply(this,arguments)}class ES{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,x.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,x.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Gw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ym(this.lastLoginAt),this.creationTime=ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vf(n){return gv.apply(this,arguments)}function gv(){return gv=(0,x.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Kc(n,function hk(n,e){return Bw.apply(this,arguments)}(t,{idToken:r}));Ft(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const u=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function mU(n){return n.map(e=>{var{providerId:t}=e,r=(0,Of._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],d=function gk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,u),I=!!n.isAnonymous&&!(n.email&&s.passwordHash||null!=d&&d.length),A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new Gw(s.createdAt,s.lastLoginAt),isAnonymous:I};Object.assign(n,A)}),gv.apply(this,arguments)}function zw(){return zw=(0,x.Z)(function*(n){const e=Xe(n);yield Vf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),zw.apply(this,arguments)}function Hw(){return Hw=(0,x.Z)(function*(n,e){const t=yield Fw(n,{},(0,x.Z)(function*(){const r=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,u=IS(n,i,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",_S.fetch()(u,{method:"POST",headers:d,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),Hw.apply(this,arguments)}class Im{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function pk(n){const e=pv(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,x.Z)(function*(){return Ft(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,x.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:u}=yield function _U(n,e){return Hw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(u))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,u=new Im;return r&&(Ft("string"==typeof r,"internal-error",{appName:e}),u.refreshToken=r),i&&(Ft("string"==typeof i,"internal-error",{appName:e}),u.accessToken=i),s&&(Ft("number"==typeof s,"internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Im,this.toJSON())}_performRefresh(){return Qa("not implemented")}}function Ll(n,e){Ft("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ih{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,Of._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ES(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gw(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,x.Z)(function*(){const r=yield Kc(t,t.stsTokenManager.getToken(t.auth,e));return Ft(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function fk(n){return $w.apply(this,arguments)}(this,e)}reload(){return function wS(n){return zw.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ih(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,x.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Vf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,x.Z)(function*(){const t=yield e.getIdToken();return yield Kc(e,function dk(n,e){return Lw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,u,d,f,g,I;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,U=null!==(i=t.email)&&void 0!==i?i:void 0,Z=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,ye=null!==(u=t.photoURL)&&void 0!==u?u:void 0,Fe=null!==(d=t.tenantId)&&void 0!==d?d:void 0,Ve=null!==(f=t._redirectEventId)&&void 0!==f?f:void 0,Tt=null!==(g=t.createdAt)&&void 0!==g?g:void 0,Nt=null!==(I=t.lastLoginAt)&&void 0!==I?I:void 0,{uid:Pt,emailVerified:gn,isAnonymous:Cn,providerData:cn,stsTokenManager:ar}=t;Ft(Pt&&ar,e,"internal-error");const _s=Im.fromJSON(this.name,ar);Ft("string"==typeof Pt,e,"internal-error"),Ll(A,e.name),Ll(U,e.name),Ft("boolean"==typeof gn,e,"internal-error"),Ft("boolean"==typeof Cn,e,"internal-error"),Ll(Z,e.name),Ll(ye,e.name),Ll(Fe,e.name),Ll(Ve,e.name),Ll(Tt,e.name),Ll(Nt,e.name);const hc=new ih({uid:Pt,auth:e,email:U,emailVerified:gn,displayName:A,isAnonymous:Cn,photoURL:ye,phoneNumber:Z,tenantId:Fe,stsTokenManager:_s,createdAt:Tt,lastLoginAt:Nt});return cn&&Array.isArray(cn)&&(hc.providerData=cn.map(LI=>Object.assign({},LI))),Ve&&(hc._redirectEventId=Ve),hc}static _fromIdTokenResponse(e,t,r=!1){return(0,x.Z)(function*(){const i=new Im;i.updateFromServerResponse(t);const s=new ih({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vf(s),s})()}}const TS=new Map;function bo(n){Mu(n instanceof Function,"Expected a class definition");let e=TS.get(n);return e?(Mu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TS.set(n,e),e)}const Vl=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,x.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,x.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,x.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sh(n,e,t){return`firebase:${n}:${e}:${t}`}class Em{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,s),this.fullPersistenceKey=sh("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,x.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ih._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,x.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,x.Z)(function*(){if(!t.length)return new Em(bo(Vl),e,r);const i=(yield Promise.all(t.map(function(){var g=(0,x.Z)(function*(I){if(yield I._isAvailable())return I});return function(I){return g.apply(this,arguments)}}()))).filter(g=>g);let s=i[0]||bo(Vl);const u=sh(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const I=yield g._get(u);if(I){const A=ih._fromJSON(e,I);g!==s&&(d=A),s=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return s._shouldAllowMigration&&f.length?(s=f[0],d&&(yield s._set(u,d.toJSON())),yield Promise.all(t.map(function(){var g=(0,x.Z)(function*(I){if(I!==s)try{yield I._remove(u)}catch{}});return function(I){return g.apply(this,arguments)}}())),new Em(s,e,r)):new Em(s,e,r)})()}}function bS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tm(e))return"Blackberry";if(qw(e))return"Webos";if(oh(e))return"Safari";if((e.includes("chrome/")||DS(e))&&!e.includes("edge/"))return"Chrome";if(wm(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function mk(n=kt()){return/firefox\//i.test(n)}function oh(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DS(n=kt()){return/crios\//i.test(n)}function CS(n=kt()){return/iemobile/i.test(n)}function wm(n=kt()){return/android/i.test(n)}function Tm(n=kt()){return/blackberry/i.test(n)}function qw(n=kt()){return/webos/i.test(n)}function Bf(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SS(n=kt()){return Bf(n)||wm(n)||qw(n)||Tm(n)||/windows phone/i.test(n)||CS(n)}function RS(n,e=[]){let t;switch(n){case"Browser":t=bS(kt());break;case"Worker":t=`${bS(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${os}/${r}`}class yk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((u,d)=>{try{u(e(s))}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,x.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}function $f(){return $f=(0,x.Z)(function*(n,e={}){return Ii(n,"GET","/v2/passwordPolicy",vi(n,e))}),$f.apply(this,arguments)}class Ik{constructor(e){var t,r,i,s;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=u.minPasswordLength)&&void 0!==t?t:6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),void 0!==u.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),void 0!==u.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),void 0!==u.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),void 0!==u.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=null===(t=f.meetsMinPasswordLength)||void 0===t||t),f.isValid&&(f.isValid=null===(r=f.meetsMaxPasswordLength)||void 0===r||r),f.isValid&&(f.isValid=null===(i=f.containsLowercaseLetter)||void 0===i||i),f.isValid&&(f.isValid=null===(s=f.containsUppercaseLetter)||void 0===s||s),f.isValid&&(f.isValid=null===(u=f.containsNumericCharacter)||void 0===u||u),f.isValid&&(f.isValid=null===(d=f.containsNonAlphanumericCharacter)||void 0===d||d),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class MS{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new yk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=bo(t)),this._initializationPromise=this.queue((0,x.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Em.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,x.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,x.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,u=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const d=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,f=null==s?void 0:s._redirectEventId,g=yield t.tryRedirectSignIn(e);(!d||d===f)&&null!=g&&g.user&&(s=g.user,u=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{yield t.beforeStateQueue.runMiddleware(s)}catch(d){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(d))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Ft(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,x.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,x.Z)(function*(){try{yield Vf(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,x.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,x.Z)(function*(){const r=e?Xe(e):null;return r&&Ft(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,x.Z)(function*(){if(!r._deleted)return e&&Ft(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,x.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,x.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,x.Z)(function*(){yield t.assertedPersistence.setPersistence(bo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,x.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,x.Z)(function*(){const t=yield function PS(n){return $f.apply(this,arguments)}(e),r=new Ik(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,x.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&bo(e)||t._popupRedirectResolver;Ft(r,t,"argument-error"),t.redirectPersistenceManager=yield Em.create(t,[bo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,x.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,x.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,x.Z)(function*(){if(e===t.currentUser)return t.queue((0,x.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(d,this,"internal-error"),d.then(()=>{u||s(this.currentUser)}),"function"==typeof t){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}{const f=e.addObserver(t);return()=>{u=!0,f()}}}directlySetCurrentUser(e){var t=this;return(0,x.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,x.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=r&&r.error&&function ok(n,...e){uv.logLevel<=en.WARN&&uv.warn(`Auth (${os}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function li(n){return Xe(n)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gt(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ww(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ks("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function kS(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Kw(n){return`__${n}${Math.floor(1e6*Math.random())}`}class yv{constructor(e){this.type="recaptcha-enterprise",this.auth=li(e)}verify(e="verify",t=!1){var r=this;return(0,x.Z)(function*(){function s(){return s=(0,x.Z)(function*(d){if(!t){if(null==d.tenantId&&null!=d._agentRecaptchaConfig)return d._agentRecaptchaConfig.siteKey;if(null!=d.tenantId&&void 0!==d._tenantRecaptchaConfigs[d.tenantId])return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(function(){var f=(0,x.Z)(function*(g,I){(function lk(n,e){return fv.apply(this,arguments)})(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const U=new gS(A);return null==d.tenantId?d._agentRecaptchaConfig=U:d._tenantRecaptchaConfigs[d.tenantId]=U,g(U.siteKey)}I(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{I(A)})});return function(g,I){return f.apply(this,arguments)}}())}),s.apply(this,arguments)}function u(d,f,g){const I=window.grecaptcha;pS(I)?I.enterprise.ready(()=>{I.enterprise.execute(d,{action:e}).then(A=>{f(A)}).catch(()=>{f("NO_RECAPTCHA")})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{(function i(d){return s.apply(this,arguments)})(r.auth).then(g=>{if(!t&&pS(window.grecaptcha))u(g,d,f);else{if(typeof window>"u")return void f(new Error("RecaptchaVerifier is only supported in browser"));Ww("https://www.google.com/recaptcha/enterprise.js?render="+g).then(()=>{u(g,d,f)}).catch(I=>{f(I)})}}).catch(g=>{f(g)})})})()}}function oc(n,e,t){return vv.apply(this,arguments)}function vv(){return vv=(0,x.Z)(function*(n,e,t,r=!1){const i=new yv(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const u=Object.assign({},e);return Object.assign(u,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}),vv.apply(this,arguments)}function OS(n,e,t){const r=li(n);Ft(r._canInitEmulator,r,"emulator-config-failed"),Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!(null==t||!t.disableWarnings),s=FS(e),{host:u,port:d}=function LS(n){const e=FS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iv(r.substr(s.length+1))}}{const[s,u]=r.split(":");return{host:s,port:Iv(u)}}}(e);r.config.emulator={url:`${s}//${u}${null===d?"":`:${d}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function VS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}function FS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Iv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ah{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qa("not implemented")}_getIdTokenResponse(e){return Qa("not implemented")}_linkToIdToken(e,t){return Qa("not implemented")}_getReauthenticationResolver(e){return Qa("not implemented")}}function Zw(n,e){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:resetPassword",vi(n,e))}),Ev.apply(this,arguments)}function BS(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:update",e)}),wv.apply(this,arguments)}function Qw(){return Qw=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:update",vi(n,e))}),Qw.apply(this,arguments)}function Tv(n,e){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithPassword",vi(n,e))}),Xw.apply(this,arguments)}function ro(n,e){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:sendOobCode",vi(n,e))}),Bl.apply(this,arguments)}function Jw(){return Jw=(0,x.Z)(function*(n,e){return ro(n,e)}),Jw.apply(this,arguments)}function US(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,x.Z)(function*(n,e){return ro(n,e)}),jS.apply(this,arguments)}function bv(n,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,x.Z)(function*(n,e){return ro(n,e)}),Dm.apply(this,arguments)}function GS(){return GS=(0,x.Z)(function*(n,e){return ro(n,e)}),GS.apply(this,arguments)}function uh(){return uh=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}),uh.apply(this,arguments)}function Cm(){return Cm=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",vi(n,e))}),Cm.apply(this,arguments)}class Am extends ah{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Am(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Am(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(null!=t&&t.email&&null!=t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,x.Z)(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield oc(e,i,"signInWithPassword");return Tv(e,s)}return Tv(e,i).catch(function(){var s=(0,x.Z)(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const d=yield oc(e,i,"signInWithPassword");return Tv(e,d)}return Promise.reject(u)});return function(u){return s.apply(this,arguments)}}());case"emailLink":return function IU(n,e){return uh.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ds(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,x.Z)(function*(){switch(r.signInMethod){case"password":return BS(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Ck(n,e){return Cm.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ds(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ac(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithIdp",vi(n,e))}),eT.apply(this,arguments)}class uc extends ah{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ds("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=(0,Of._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new uc(r,i);return u.idToken=s.idToken||void 0,u.accessToken=s.accessToken||void 0,u.secret=s.secret,u.nonce=s.nonce,u.pendingToken=s.pendingToken||null,u}_getIdTokenResponse(e){return ac(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ac(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ac(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dr(t)}return e}}function Dv(){return Dv=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:sendVerificationCode",vi(n,e))}),Dv.apply(this,arguments)}function Uf(){return Uf=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithPhoneNumber",vi(n,e))}),Uf.apply(this,arguments)}function zS(){return zS=(0,x.Z)(function*(n,e){const t=yield sc(n,"POST","/v1/accounts:signInWithPhoneNumber",vi(n,e));if(t.temporaryProof)throw _m(n,"account-exists-with-different-credential",t);return t}),zS.apply(this,arguments)}const HS={USER_NOT_FOUND:"user-not-found"};function Cv(){return Cv=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithPhoneNumber",vi(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),HS)}),Cv.apply(this,arguments)}class Xa extends ah{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Xa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Xa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Sk(n,e){return Uf.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function nT(n,e){return zS.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function xk(n,e){return Cv.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new Xa({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class ch{constructor(e){var t,r,i,s,u,d;const f=et(Un(e)),g=null!==(t=f.apiKey)&&void 0!==t?t:null,I=null!==(r=f.oobCode)&&void 0!==r?r:null,A=function Rk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=f.mode)&&void 0!==i?i:null);Ft(g&&I&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=I,this.continueUrl=null!==(s=f.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(u=f.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(d=f.tenantId)&&void 0!==d?d:null}static parseLink(e){const t=function qS(n){const e=et(Un(n)).link,t=e?et(Un(e)).deep_link_id:null,r=et(Un(n)).deep_link_id;return(r?et(Un(r)).link:null)||r||t||e||n}(e);try{return new ch(t)}catch{return null}}}let rT=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Am._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=ch.parseLink(r);return Ft(i,"argument-error"),Am._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class $l{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jf extends $l{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gf extends jf{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Ft("providerId"in t&&"signInMethod"in t,"argument-error"),uc._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ft(e.idToken||e.accessToken,"argument-error"),uc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gf.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gf.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:u,providerId:d}=e;if(!r&&!i&&!t&&!s||!d)return null;try{return new Gf(d)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:s})}catch{return null}}}let WS=(()=>{class n extends jf{constructor(){super("facebook.com")}static credential(t){return uc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),zf=(()=>{class n extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return uc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),iT=(()=>{class n extends jf{constructor(){super("github.com")}static credential(t){return uc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class lh extends ah{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ac(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ac(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ac(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new lh(r,s):null}static _create(e,t){return new lh(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Av extends $l{constructor(e){Ft(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Av.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Av.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lh.fromJSON(e);return Ft(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return lh._create(r,t)}catch{return null}}}let YS=(()=>{class n extends jf{constructor(){super("twitter.com")}static credential(t,r){return uc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Sm(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signUp",vi(n,e))}),sT.apply(this,arguments)}class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,x.Z)(function*(){const s=yield ih._fromIdTokenResponse(e,r,i),u=oT(r);return new Na({user:s,providerId:u,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,x.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=oT(r);return new Na({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function oT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Sv(){return Sv=(0,x.Z)(function*(n){var e;const t=li(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Na({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Sm(t,{returnSecureToken:!0}),i=yield Na._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i}),Sv.apply(this,arguments)}class xv extends ht{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xv(e,t,r,i)}}function QS(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?xv._fromErrorAndOperation(n,s,e,r):s})}function Mk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function JS(){return JS=(0,x.Z)(function*(n,e){const t=Xe(n);yield aT(!0,t,e);const{providerUserInfo:r}=yield function pU(n,e){return Vw.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=Mk(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),JS.apply(this,arguments)}function ex(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,x.Z)(function*(n,e,t=!1){const r=yield Kc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Na._forOperation(n,"link",r)}),tx.apply(this,arguments)}function aT(n,e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,x.Z)(function*(n,e,t){yield Vf(e);const i=!1===n?"provider-already-linked":"no-such-provider";Ft(Mk(e.providerData).has(t)===n,e.auth,i)}),nx.apply(this,arguments)}function kk(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,x.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Kc(n,QS(r,i,e,n),t);Ft(s.idToken,r,"internal-error");const u=pv(s.idToken);Ft(u,r,"internal-error");const{sub:d}=u;return Ft(n.uid===d,r,"user-mismatch"),Na._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&ds(r,"user-mismatch"),s}}),rx.apply(this,arguments)}function Nk(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,x.Z)(function*(n,e,t=!1){const r="signIn",i=yield QS(n,r,e),s=yield Na._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),ix.apply(this,arguments)}function xm(n,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,x.Z)(function*(n,e){return Nk(li(n),e)}),Rm.apply(this,arguments)}function uT(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,x.Z)(function*(n,e){const t=Xe(n);return yield aT(!1,t,e.providerId),ex(t,e)}),cT.apply(this,arguments)}function Pm(n,e){return lT.apply(this,arguments)}function lT(){return lT=(0,x.Z)(function*(n,e){return kk(Xe(n),e)}),lT.apply(this,arguments)}function sx(){return sx=(0,x.Z)(function*(n,e){return sc(n,"POST","/v1/accounts:signInWithCustomToken",vi(n,e))}),sx.apply(this,arguments)}function Rv(){return Rv=(0,x.Z)(function*(n,e){const t=li(n),r=yield function EU(n,e){return sx.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield Na._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),Rv.apply(this,arguments)}class Mm{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?dT._fromServerResponse(e,t):"totpInfo"in t?hT._fromServerResponse(e,t):ds(e,"internal-error")}}class dT extends Mm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new dT(t)}}class hT extends Mm{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new hT(t)}}function km(n,e,t){var r;Ft((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Ft(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ft(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ft(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function fT(n){return dh.apply(this,arguments)}function dh(){return dh=(0,x.Z)(function*(n){const e=li(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())}),dh.apply(this,arguments)}function Nm(n,e,t){return pT.apply(this,arguments)}function pT(){return pT=(0,x.Z)(function*(n,e,t){var r;const i=li(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield oc(i,s,"getOobCode",!0);t&&km(i,u,t),yield US(i,u)}else t&&km(i,s,t),yield US(i,s).catch(function(){var u=(0,x.Z)(function*(d){if("auth/missing-recaptcha-token"!==d.code)return Promise.reject(d);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const f=yield oc(i,s,"getOobCode",!0);t&&km(i,f,t),yield US(i,f)}});return function(d){return u.apply(this,arguments)}}())}),pT.apply(this,arguments)}function gT(){return gT=(0,x.Z)(function*(n,e,t){yield Zw(Xe(n),{oobCode:e,newPassword:t}).catch(function(){var r=(0,x.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&fT(n),i});return function(i){return r.apply(this,arguments)}}())}),gT.apply(this,arguments)}function mT(){return mT=(0,x.Z)(function*(n,e){yield function $S(n,e){return Qw.apply(this,arguments)}(Xe(n),{oobCode:e})}),mT.apply(this,arguments)}function ox(n,e){return Om.apply(this,arguments)}function Om(){return Om=(0,x.Z)(function*(n,e){const t=Xe(n),r=yield Zw(t,{oobCode:e}),i=r.requestType;switch(Ft(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ft(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ft(r.mfaInfo,t,"internal-error");default:Ft(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Mm._fromServerResponse(li(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}),Om.apply(this,arguments)}function _T(){return _T=(0,x.Z)(function*(n,e){const{data:t}=yield ox(Xe(n),e);return t.email}),_T.apply(this,arguments)}function ax(n,e,t){return yT.apply(this,arguments)}function yT(){return yT=(0,x.Z)(function*(n,e,t){var r;const i=li(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let u;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const g=yield oc(i,s,"signUpPassword");u=Sm(i,g)}else u=Sm(i,s).catch(function(){var g=(0,x.Z)(function*(I){if("auth/missing-recaptcha-token"===I.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const A=yield oc(i,s,"signUpPassword");return Sm(i,A)}throw I});return function(I){return g.apply(this,arguments)}}());const d=yield u.catch(g=>{throw"auth/password-does-not-meet-requirements"===g.code&&fT(n),g}),f=yield Na._fromIdTokenResponse(i,"signIn",d);return yield i._updateCurrentUser(f.user),f}),yT.apply(this,arguments)}function ux(n,e,t){return xm(Xe(n),rT.credential(e,t)).catch(function(){var r=(0,x.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&fT(n),i});return function(i){return r.apply(this,arguments)}}())}function vT(){return vT=(0,x.Z)(function*(n,e,t){var r;const i=li(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function u(d,f){Ft(f.handleCodeInApp,i,"argument-error"),f&&km(i,d,f)}if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const d=yield oc(i,s,"getOobCode",!0);u(d,t),yield bv(i,d)}else u(s,t),yield bv(i,s).catch(function(){var d=(0,x.Z)(function*(f){if("auth/missing-recaptcha-token"!==f.code)return Promise.reject(f);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const g=yield oc(i,s,"getOobCode",!0);u(g,t),yield bv(i,g)}});return function(f){return d.apply(this,arguments)}}())}),vT.apply(this,arguments)}function Pv(){return Pv=(0,x.Z)(function*(n,e,t){const r=Xe(n),i=rT.credentialWithLink(e,t||Lf());return Ft(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xm(r,i)}),Pv.apply(this,arguments)}function ET(){return ET=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:createAuthUri",vi(n,e))}),ET.apply(this,arguments)}function Mv(){return Mv=(0,x.Z)(function*(n,e){const r={identifier:e,continueUri:Wc()?Lf():"http://localhost"},{signinMethods:i}=yield function IT(n,e){return ET.apply(this,arguments)}(Xe(n),r);return i||[]}),Mv.apply(this,arguments)}function lx(){return lx=(0,x.Z)(function*(n,e){const t=Xe(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&km(t.auth,i,e);const{email:s}=yield function Dk(n,e){return Jw.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),lx.apply(this,arguments)}function kv(){return kv=(0,x.Z)(function*(n,e,t){const r=Xe(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&km(r.auth,s,t);const{email:u}=yield function vU(n,e){return GS.apply(this,arguments)}(r.auth,s);u!==n.email&&(yield n.reload())}),kv.apply(this,arguments)}function wT(){return wT=(0,x.Z)(function*(n,e){return Ii(n,"POST","/v1/accounts:update",e)}),wT.apply(this,arguments)}function TT(){return TT=(0,x.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Xe(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield Kc(r,function dx(n,e){return wT.apply(this,arguments)}(r.auth,s));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>"password"===f);d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),yield r._updateTokensIfNecessary(u)}),TT.apply(this,arguments)}function DT(n,e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,x.Z)(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const u=yield Kc(n,BS(r,s));yield n._updateTokensIfNecessary(u,!0)}),Fm.apply(this,arguments)}class Hf{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Gk extends Hf{constructor(e,t,r,i){super(e,t,r),this.username=i}}class fx extends Hf{constructor(e,t){super(e,"facebook.com",t)}}class zk extends Gk{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Hk extends Hf{constructor(e,t){super(e,"google.com",t)}}class qk extends Gk{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Wk(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function CT(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&null!=n&&n.idToken){const u=null===(t=null===(e=pv(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(u)return new Hf(s,"anonymous"!==u&&"custom"!==u?u:null)}if(!r)return null;switch(r){case"facebook.com":return new fx(s,i);case"github.com":return new zk(s,i);case"google.com":return new Hk(s,i);case"twitter.com":return new qk(s,i,n.screenName||null);case"custom":case"anonymous":return new Hf(s,null);default:return new Hf(s,r,i)}}(t)}class Ja{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ja("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ja("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null!=e&&e.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return Ja._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return Ja._fromIdtoken(e.multiFactorSession.idToken)}return null}}class qf{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=li(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(d=>Mm._fromServerResponse(r,d));Ft(i.mfaPendingCredential,r,"internal-error");const u=Ja._fromMfaPendingCredential(i.mfaPendingCredential);return new qf(u,s,function(){var d=(0,x.Z)(function*(f){const g=yield f._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const I=Object.assign(Object.assign({},i),{idToken:g.idToken,refreshToken:g.refreshToken});switch(t.operationType){case"signIn":const A=yield Na._fromIdTokenResponse(r,t.operationType,I);return yield r._updateCurrentUser(A.user),A;case"reauthenticate":return Ft(t.user,r,"internal-error"),Na._forOperation(t.user,t.operationType,I);default:ds(r,"internal-error")}});return function(f){return d.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,x.Z)(function*(){return t.signInResolver(e)})()}}class ST{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Mm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ST(e)}getSession(){var e=this;return(0,x.Z)(function*(){return Ja._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,x.Z)(function*(){const i=e,s=yield r.getSession(),u=yield Kc(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(u),r.user.reload()})()}unenroll(e){var t=this;return(0,x.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const s=yield Kc(t.user,function yx(n,e){return Ii(n,"POST","/v2/accounts/mfaEnrollment:withdraw",vi(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:u})=>u!==r),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const vx=new WeakMap,xT="__sak";class nN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xT,"1"),this.storage.removeItem(xT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RT=(()=>{class n extends nN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ix(){const n=kt();return oh(n)||Bf(n)}()&&function xS(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((d,f,g)=>{this.notifyListeners(d,g)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(i);if(t.newValue!==d)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);!function _k(){return We()&&10===document.documentMode}()||u===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,x.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,x.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,x.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),hh=(()=>{class n extends nN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let AU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,x.Z)(function*(){const i=t,{eventId:s,eventType:u,data:d}=i.data,f=r.handlersMap[u];if(null==f||!f.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:u});const g=Array.from(f).map(function(){var A=(0,x.Z)(function*(U){return U(i.origin,d)});return function(U){return A.apply(this,arguments)}}()),I=yield function CU(n){return Promise.all(n.map(function(){var e=(0,x.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:I})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Lm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Ov{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,x.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,d;return new Promise((f,g)=>{const I=Lm("",20);s.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(U){const Z=U;if(Z.data.eventId===I)switch(Z.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(Z.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"))}}},i.handlers.add(d),s.port1.addEventListener("message",d.onMessage),i.target.postMessage({eventType:e,eventId:I,data:t},[s.port2])}).finally(()=>{d&&i.removeMessageHandler(d)})})()}}function hs(){return window}function Fv(){return typeof hs().WorkerGlobalScope<"u"&&"function"==typeof hs().importScripts}function Lv(){return(Lv=(0,x.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ex="firebaseLocalStorageDb",Wf="firebaseLocalStorage",Vm="fbase_key";class Vv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function NT(n,e){return n.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function Bv(){const n=indexedDB.open(Ex,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wf,{keyPath:Vm})}catch(i){t(i)}}),n.addEventListener("success",(0,x.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Wf)?e(r):(r.close(),yield function SU(){const n=indexedDB.deleteDatabase(Ex);return new Vv(n).toPromise()}(),e(yield Bv()))}))})}function wx(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,x.Z)(function*(n,e,t){const r=NT(n,!0).put({[Vm]:e,value:t});return new Vv(r).toPromise()}),OT.apply(this,arguments)}function FT(){return FT=(0,x.Z)(function*(n,e){const t=NT(n,!1).get(e),r=yield new Vv(t).toPromise();return void 0===r?null:r.value}),FT.apply(this,arguments)}function LT(n,e){const t=NT(n,!0).delete(e);return new Vv(t).toPromise()}const Kf=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,x.Z)(function*(){return t.db||(t.db=yield Bv()),t.db})()}_withRetries(t){var r=this;return(0,x.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,x.Z)(function*(){return Fv()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,x.Z)(function*(){t.receiver=AU._getInstance(function MT(){return Fv()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,x.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,x.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,x.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function fh(){return Lv.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Ov(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,x.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function PT(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,x.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Bv();return yield wx(t,xT,"1"),yield LT(t,xT),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,x.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,x.Z)(function*(){return i._withPendingWrite((0,x.Z)(function*(){return yield i._withRetries(s=>wx(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,x.Z)(function*(){const i=yield r._withRetries(s=>function oN(n,e){return FT.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,x.Z)(function*(){return r._withPendingWrite((0,x.Z)(function*(){return yield r._withRetries(i=>LT(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,x.Z)(function*(){const r=yield t._withRetries(u=>{const d=NT(u,!1).getAll();return new Vv(d).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:u,value:d}of r)s.add(u),JSON.stringify(t.localCache[u])!==JSON.stringify(d)&&(t.notifyListeners(u,d),i.push(u));for(const u of Object.keys(t.localCache))t.localCache[u]&&!s.has(u)&&(t.notifyListeners(u,null),i.push(u));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,x.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),$v=1e12;class aN{constructor(e){this.auth=e,this.counter=$v,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new PU(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||$v;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||$v))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,x.Z)(function*(){var r;return null===(r=t._widgets.get(e||$v))||void 0===r||r.execute(),""})()}}class PU{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Ft(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function MU(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $T=Kw("rcb"),uN=new rh(3e4,6e4);class lN{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=hs().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return Ft(function Ax(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&fS(hs().grecaptcha)?Promise.resolve(hs().grecaptcha):new Promise((r,i)=>{const s=hs().setTimeout(()=>{i(ks(e,"network-request-failed"))},uN.get());hs()[$T]=()=>{hs().clearTimeout(s),delete hs()[$T];const d=hs().grecaptcha;if(!d||!fS(d))return void i(ks(e,"internal-error"));const f=d.render;d.render=(g,I)=>{const A=f(g,I);return this.counter++,A},this.hostLanguage=t,r(d)},Ww(`https://www.google.com/recaptcha/api.js??${dr({onload:$T,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),i(ks(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=hs().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sx{load(e){return(0,x.Z)(function*(){return new aN(e)})()}clearedOneInstance(){}}const xx="recaptcha",Rx={theme:"light",type:"image"};class Px{constructor(e,t,r=Object.assign({},Rx)){this.parameters=r,this.type=xx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=li(e),this.isInvisible="invisible"===this.parameters.size,Ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof t?document.getElementById(t):t;Ft(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sx:new lN,this.validateStartingState()}verify(){var e=this;return(0,x.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(s=>{const u=d=>{d&&(e.tokenChangeListeners.delete(u),s(d))};e.tokenChangeListeners.add(u),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ft(!this.parameters.sitekey,this.auth,"argument-error"),Ft(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=hs()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){Ft(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,x.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,x.Z)(function*(){Ft(Wc()&&!Fv(),e.auth,"internal-error"),yield function kU(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function ck(n){return hv.apply(this,arguments)}(e.auth);Ft(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return Ft(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class UT{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Xa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Uv(){return Uv=(0,x.Z)(function*(n,e,t){const r=li(n),i=yield Gv(r,e,Xe(t));return new UT(i,s=>xm(r,s))}),Uv.apply(this,arguments)}function GT(){return GT=(0,x.Z)(function*(n,e,t){const r=Xe(n);yield aT(!1,r,"phone");const i=yield Gv(r.auth,e,Xe(t));return new UT(i,s=>uT(r,s))}),GT.apply(this,arguments)}function zT(){return zT=(0,x.Z)(function*(n,e,t){const r=Xe(n),i=yield Gv(r.auth,e,Xe(t));return new UT(i,s=>Pm(r,s))}),zT.apply(this,arguments)}function Gv(n,e,t){return zv.apply(this,arguments)}function zv(){return zv=(0,x.Z)(function*(n,e,t){var r;const i=yield t.verify();try{let s;if(Ft("string"==typeof i,n,"argument-error"),Ft(t.type===xx,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const u=s.session;if("phoneNumber"in s)return Ft("enroll"===u.type,n,"internal-error"),(yield function _x(n,e){return Ii(n,"POST","/v2/accounts/mfaEnrollment:start",vi(n,e))}(n,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Ft("signin"===u.type,n,"internal-error");const d=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return Ft(d,n,"missing-multi-factor-info"),(yield function Dx(n,e){return Ii(n,"POST","/v2/accounts/mfaSignIn:start",vi(n,e))}(n,{mfaPendingCredential:u.credential,mfaEnrollmentId:d,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:u}=yield function tT(n,e){return Dv.apply(this,arguments)}(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return u}}finally{t._reset()}}),zv.apply(this,arguments)}function Nx(){return Nx=(0,x.Z)(function*(n,e){yield ex(Xe(n),e)}),Nx.apply(this,arguments)}let Bm=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=li(t)}verifyPhoneNumber(t,r){return Gv(this.auth,t,Xe(r))}static credential(t,r){return Xa._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?Xa._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Yf(n,e){return e?bo(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class HT extends ah{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NU(n){return Nk(n.auth,new HT(n),n.bypassAuthState)}function OU(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),kk(t,new HT(n),n.bypassAuthState)}function dN(n){return qT.apply(this,arguments)}function qT(){return qT=(0,x.Z)(function*(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),ex(t,new HT(n),n.bypassAuthState)}),qT.apply(this,arguments)}class hN{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,x.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,x.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:u,error:d,type:f}=e;if(d)return void t.reject(d);const g={auth:t.auth,requestUri:r,sessionId:i,tenantId:u||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(f)(g))}catch(I){t.reject(I)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NU;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return OU;default:ds(this.auth,"internal-error")}}resolve(e){Mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FU=new rh(2e3,1e4);function fN(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,x.Z)(function*(n,e,t){const r=li(n);Fl(n,e,$l);const i=Yf(r,t);return new Lx(r,"signInViaPopup",e,i).executeNotNull()}),Ox.apply(this,arguments)}function WT(){return WT=(0,x.Z)(function*(n,e,t){const r=Xe(n);Fl(r.auth,e,$l);const i=Yf(r.auth,t);return new Lx(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}),WT.apply(this,arguments)}function Fx(){return Fx=(0,x.Z)(function*(n,e,t){const r=Xe(n);Fl(r.auth,e,$l);const i=Yf(r.auth,t);return new Lx(r.auth,"linkViaPopup",e,i,r).executeNotNull()}),Fx.apply(this,arguments)}let Lx=(()=>{class n extends hN{constructor(t,r,i,s,u){super(t,r,s,u),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,x.Z)(function*(){const r=yield t.execute();return Ft(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,x.Z)(function*(){Mu(1===t.filter.length,"Popup operations only handle one event");const r=Lm();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(ks(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,FU.get())};t()}}return n.currentPopupAction=null,n})();const BU="pendingRedirect",$m=new Map;class pN extends hN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,x.Z)(function*(){let r=$m.get(t.auth._key());if(!r){try{const s=(yield function $U(n,e){return o.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}$m.set(t.auth._key(),r)}return t.bypassAuthState||$m.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,x.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,x.Z)(function*(){})()}cleanUp(){}}function o(){return o=(0,x.Z)(function*(n,e){const t=_(e),r=p(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),o.apply(this,arguments)}function a(n,e){return c.apply(this,arguments)}function c(){return c=(0,x.Z)(function*(n,e){return p(n)._set(_(e),"true")}),c.apply(this,arguments)}function h(n,e){$m.set(n._key(),e)}function p(n){return bo(n._redirectPersistence)}function _(n){return sh(BU,n.config.apiKey,n.name)}function O(){return O=(0,x.Z)(function*(n,e,t){const r=li(n);Fl(n,e,$l),yield r._initializationPromise;const i=Yf(r,t);return yield a(i,r),i._openRedirect(r,e,"signInViaRedirect")}),O.apply(this,arguments)}function oe(){return oe=(0,x.Z)(function*(n,e,t){const r=Xe(n);Fl(r.auth,e,$l),yield r.auth._initializationPromise;const i=Yf(r.auth,t);yield a(i,r.auth);const s=yield Qn(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}),oe.apply(this,arguments)}function Et(){return Et=(0,x.Z)(function*(n,e,t){const r=Xe(n);Fl(r.auth,e,$l),yield r.auth._initializationPromise;const i=Yf(r.auth,t);yield aT(!1,r,e.providerId),yield a(i,r.auth);const s=yield Qn(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}),Et.apply(this,arguments)}function tn(){return tn=(0,x.Z)(function*(n,e){return yield li(n)._initializationPromise,pt(n,e,!1)}),tn.apply(this,arguments)}function pt(n,e){return An.apply(this,arguments)}function An(){return An=(0,x.Z)(function*(n,e,t=!1){const r=li(n),i=Yf(r,e),u=yield new pN(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,yield r._persistUserIfCurrent(u.user),yield r._setRedirectUser(null,e)),u}),An.apply(this,arguments)}function Qn(n){return lr.apply(this,arguments)}function lr(){return lr=(0,x.Z)(function*(n){const e=Lm(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e}),lr.apply(this,arguments)}class Zf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function KT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ph(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ph(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ks(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yc(e))}saveEventToCache(e){this.cachedEventUids.add(Yc(e)),this.lastProcessedEventTime=Date.now()}}function Yc(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ph({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Vx(n){return YT.apply(this,arguments)}function YT(){return YT=(0,x.Z)(function*(n,e={}){return Ii(n,"GET","/v1/projects",e)}),YT.apply(this,arguments)}const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$9=/^https?/;function gN(){return gN=(0,x.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Vx(n);for(const t of e)try{if(j9(t))return}catch{}ds(n,"unauthorized-domain")}),gN.apply(this,arguments)}function j9(n){const e=Lf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return""===u.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&u.hostname===r}if(!$9.test(t))return!1;if(B9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const G9=new rh(3e4,6e4);function UU(){const n=hs().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bx=null;const q9=new rh(5e3,15e3),W9="__/auth/iframe",K9="emulator/auth/iframe",Y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q9(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gm(e,K9):`https://${n.config.authDomain}/${W9}`,r={apiKey:e.apiKey,appName:n.name,v:os},i=Z9.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${dr(r).slice(1)}`}function mN(){return mN=(0,x.Z)(function*(n){const e=yield function H9(n){return Bx=Bx||function z9(n){return new Promise((e,t)=>{var r,i,s;function u(){UU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UU(),t(ks(n,"network-request-failed"))},timeout:G9.get()})}if(null!==(i=null===(r=hs().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=hs().gapi)||void 0===s||!s.load){const d=Kw("iframefcb");return hs()[d]=()=>{gapi.load?u():t(ks(n,"network-request-failed"))},Ww(`https://apis.google.com/js/api.js?onload=${d}`).catch(f=>t(f))}u()}}).catch(e=>{throw Bx=null,e})}(n),Bx}(n),t=hs().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:Q9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y9,dontclear:!0},r=>new Promise(function(){var i=(0,x.Z)(function*(s,u){yield r.restyle({setHideOnLeave:!1});const d=ks(n,"network-request-failed"),f=hs().setTimeout(()=>{u(d)},q9.get());function g(){hs().clearTimeout(f),s(r)}r.ping(g).then(g,()=>{u(d)})});return function(s,u){return i.apply(this,arguments)}}()))}),mN.apply(this,arguments)}const J9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const o7="__/auth/handler",a7="emulator/auth/handler",u7=encodeURIComponent("fac");function _N(n,e,t,r,i,s){return yN.apply(this,arguments)}function yN(){return yN=(0,x.Z)(function*(n,e,t,r,i,s){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:os,eventId:i};if(e instanceof $l){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Pn(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,A]of Object.entries(s||{}))u[I]=A}if(e instanceof jf){const I=e.getScopes().filter(A=>""!==A);I.length>0&&(u.scopes=I.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const I of Object.keys(d))void 0===d[I]&&delete d[I];const f=yield n._getAppCheckToken(),g=f?`#${u7}=${encodeURIComponent(f)}`:"";return`${function c7({config:n}){return n.emulator?gm(n,a7):`https://${n.authDomain}/${o7}`}(n)}?${dr(d).slice(1)}${g}`}),yN.apply(this,arguments)}const vN="webStorageSupport",GU=class l7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hh,this._completeRedirectFn=pt,this._overrideRedirectResult=h}_openPopup(e,t,r,i){var s=this;return(0,x.Z)(function*(){var u;Mu(null===(u=s.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()");const d=yield _N(e,t,r,Lf(),i);return function i7(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},J9),{width:r.toString(),height:i.toString(),top:s,left:u}),g=kt().toLowerCase();t&&(d=DS(g)?"_blank":t),mk(g)&&(e=e||"http://localhost",f.scrollbars="yes");const I=Object.entries(f).reduce((U,[Z,ye])=>`${U}${Z}=${ye},`,"");if(function mv(n=kt()){var e;return Bf(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==d)return function s7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",d),new jU(null);const A=window.open(e||"",d,I);Ft(A,n,"popup-blocked");try{A.focus()}catch{}return new jU(A)}(e,d,Lm())})()}_openRedirect(e,t,r,i){var s=this;return(0,x.Z)(function*(){return yield s._originValidation(e),function sN(n){hs().location.href=n}(yield _N(e,t,r,Lf(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Mu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,x.Z)(function*(){const r=yield function X9(n){return mN.apply(this,arguments)}(e),i=new Zf(e);return r.register("authEvent",s=>(Ft(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vN,{type:vN},i=>{var s;const u=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[vN];void 0!==u&&t(!!u),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function U9(n){return gN.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SS()||oh()||Bf()}};class d7{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qa("unexpected MultiFactorSessionType")}}}class IN extends d7{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new IN(e)}_finalizeEnroll(e,t,r){return function eN(n,e){return Ii(n,"POST","/v2/accounts/mfaEnrollment:finalize",vi(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function VT(n,e){return Ii(n,"POST","/v2/accounts/mfaSignIn:finalize",vi(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let h7=(()=>{class n{constructor(){}static assertion(t){return IN._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var HU="@firebase/auth";class f7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,x.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _7=it("authIdTokenMaxAge")||300;let WU=null;const y7=n=>function(){var e=(0,x.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>_7)return;const s=null==r?void 0:r.token;WU!==s&&(WU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function ZT(n=ir()){const e=ss(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Tk(n,e){const t=ss(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Ar(t.getOptions(),null!=e?e:{}))return i;ds(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:GU,persistence:[Kf,RT,hh]}),r=it("authTokenSyncURL");if(r){const s=y7(r);(function wU(n,e,t){Xe(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function px(n,e,t,r){Xe(n).onIdTokenChanged(e,t,r)}(t,u=>s(u))}const i=st("auth");return i&&OS(t,`http://${i}`),t}!function g7(n){Kn(new Ht("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ft(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(n)},g=new MS(r,i,s,f);return function bk(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(bo);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Ht("auth-internal",e=>{const t=li(e.getProvider("auth").getImmediate());return new f7(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(HU,"1.3.0",function p7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),_r(HU,"1.3.0","esm2017")}("Browser");let v7=(()=>{var n;class e{constructor(){}registerUser(r,i,s,u,d,f){ax(ZT(),s,u).then(function(){var I=(0,x.Z)(function*(A){const U=A.user,Z=Ma();yield Cw(Pl(Z,"users",U.uid),{id:U.uid,fullName:r,numTel:i,email:s,mosques:d,announcements:f}),console.log("Utilisateur enregistr\xe9 avec succ\xe8s avec l'ID du document Firestore : ",U.uid)});return function(A){return I.apply(this,arguments)}}()).catch(I=>{console.error("Erreur lors de la cr\xe9ation de l'utilisateur :",I.message)})}loginUser(r,i){return(0,x.Z)(function*(){const s=ZT();try{yield ux(s,r,i),console.log("Utilisateur connect\xe9 avec succ\xe8s avec ")}catch(u){const f=u.message;switch(u.code){case"auth/user-not-found":console.error("Utilisateur non trouv\xe9.");break;case"auth/wrong-email":console.error("Email de passe incorrect.");break;case"auth/wrong-password":console.error("Mot de passe incorrect.");break;default:console.error("Erreur de connexion :",f)}}})()}logoutUser(){(function Xk(n){return Xe(n).signOut()})(ZT()).then(()=>{console.log("L'utilisateur deconnecte avec success")}).catch(i=>{console.log(i)})}forgotPassword(r){Nm(ZT(),r).then(()=>{console.log("Vous avez recu un email de changement de mot de passe")}).catch(s=>{})}registerWithGoogleUsers(){fN(ZT(),new zf).then(s=>{zf.credentialFromResult(s),console.log("connexion reussie avec success")}).catch(s=>{zf.credentialFromError(s)})}abonneMosque(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"users",r),d=yield ka(u);if(d.exists()){const f=d.data();f.mosques.includes(i)?console.log(`L'utilisateur ${r} est d\xe9j\xe0 abonn\xe9 \xe0 la mosqu\xe9e ${i}`):(f.mosques.push(i),yield Ol(u,f),console.log(`L'utilisateur ${r} s'est abonn\xe9 \xe0 la mosqu\xe9e ${i}`))}else console.log("L'utilisateur n'existe pas.")}catch(s){throw console.error("Erreur lors de l'abonnement de l'utilisateur \xe0 la mosqu\xe9e :",s),s}})()}desabonneMosque(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"users",r),d=yield ka(u);if(d.exists()){const f=d.data();f.mosques.includes(i)?(f.mosques=f.mosques.filter(g=>g!==i),yield Ol(u,f),console.log(`L'utilisateur ${r} s'est d\xe9sabonn\xe9 de la mosqu\xe9e ${i}`)):console.log(`L'utilisateur ${r} n'est pas abonn\xe9 \xe0 la mosqu\xe9e ${i}`)}else console.log("L'utilisateur n'existe pas.")}catch(s){throw console.error("Erreur lors de la d\xe9sinscription de l'utilisateur \xe0 la mosqu\xe9e :",s),s}})()}abonneAnnonce(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"users",r),d=yield ka(u);if(d.exists()){const f=d.data();f.announcements.includes(i)?console.log(`L'utilisateur ${r} est d\xe9j\xe0 abonn\xe9 \xe0 la l'annonce ${i}`):(f.announcements.push(i),yield Ol(u,f),console.log(`L'utilisateur ${r} s'est abonn\xe9 \xe0 l'annonce ${i}`))}else console.log("L'utilisateur n'existe pas.")}catch(s){throw console.error("Erreur lors de l'abonnement de l'utilisateur \xe0 l'annonce :",s),s}})()}desabonneAnnonce(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"users",r),d=yield ka(u);if(d.exists()){const f=d.data();f.announcements.includes(i)?(f.announcements=f.announcements.filter(g=>g!==i),yield Ol(u,f),console.log(`L'utilisateur ${r} s'est d\xe9sabonn\xe9  \xe0 l'annonce ${i}`)):console.log(`L'utilisateur ${r} n'est pas abonn\xe9 \xe0  \xe0 l'annonce ${i}`)}else console.log("L'utilisateur n'existe pas.")}catch(s){throw console.error("Erreur lors de la d\xe9sinscription de l'utilisateur  \xe0 l'annonce :",s),s}})()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=de.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),I7=(()=>{var n;class e{constructor(){}createAnnouncement(r){return(0,x.Z)(function*(){try{const u=Xo(Pl(Ma(),"announcements"));yield Ol(u,r),console.log(`Annnoce  cr\xe9\xe9e avec succ\xe8s avec l'ID : ${u.id}`)}catch(i){throw console.error("Erreur lors de la cr\xe9ation de l'annonce :",i),i}})()}updateAnnouncement(r,i){return(0,x.Z)(function*(){try{const u=Xo(Ma(),"announcements",r);(yield ka(u)).exists()?(yield ov(u,i),console.log(`Annonce avec l'ID ${r} mise \xe0 jour avec succ\xe8s`)):console.log(`L'annonce avec l'ID ${r} n'existe pas.`)}catch(s){throw console.error("Erreur lors de la mise \xe0 jour de l'annonce :",s),s}})()}deleteAnnouncement(r){return(0,x.Z)(function*(){try{const s=Xo(Ma(),"announcements",r);(yield ka(s)).exists()?(yield Dw(s),console.log(`Annonce avec l'ID ${r} supprim\xe9e avec succ\xe8s`)):console.log(`L'annonce avec l'ID ${r} n'existe pas.`)}catch(i){throw console.error("Erreur lors de la suppression de l'annonce :",i),i}})()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=de.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),E7=(()=>{var n;class e{constructor(r,i,s){this.MosqueService=r,this.UserService=i,this.AnnouncementService=s}ngOnInit(){}}return(n=e).\u0275fac=function(r){return new(r||n)(de.Y36(rk),de.Y36(v7),de.Y36(I7))},n.\u0275cmp=de.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(de.TgZ(0,"ion-app"),de._UZ(1,"ion-router-outlet"),de.qZA())},dependencies:[De.dr,De.jP]}),e})();const wN_firebase={apiKey:"AIzaSyDW9MK1pAcfgLo_M8w93nrcEXKrZ3FUclM",authDomain:"masjid-1f3cf.firebaseapp.com",projectId:"masjid-1f3cf",storageBucket:"masjid-1f3cf.appspot.com",messagingSenderId:"624648395471",appId:"1:624648395471:web:bd6b20f1d66ae6038d35ba",measurementId:"G-LMJLEJSFCJ"};class w7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function T7(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const TN="@firebase/app",Um=new Mr("@firebase/app"),Ux="[DEFAULT]",Y7={[TN]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jm=new Map,jx=new Map;function Z7(n,e){try{n.container.addComponent(e)}catch(t){Um.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hv(n){const e=n.name;if(jx.has(e))return Um.debug(`There were multiple attempts to register component ${e}.`),!1;jx.set(e,n);for(const t of jm.values())Z7(t,n);return!0}function Gx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const gh=new Rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class X7{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gh.create("app-deleted",{appName:this._name})}}const qv="9.23.0";function YU(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ux,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gh.create("bad-app-name",{appName:String(i)});if(t||(t=be()),!t)throw gh.create("no-options");const s=jm.get(i);if(s){if(Ar(t,s.options)&&Ar(r,s.config))return s;throw gh.create("duplicate-app",{appName:i})}const u=new Er(i);for(const f of jx.values())u.addComponent(f);const d=new X7(t,r,u);return jm.set(i,d),d}function bN(n=Ux){const e=jm.get(n);if(!e&&n===Ux&&be())return YU();if(!e)throw gh.create("no-app",{appName:n});return e}function ZU(){return Array.from(jm.values())}function ku(n,e,t){var r;let i=null!==(r=Y7[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const d=[`Unable to register library "${i}" with version "${e}":`];return s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Um.warn(d.join(" "))}Hv(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const J7="firebase-heartbeat-database",eq=1,QT="firebase-heartbeat-store";let CN=null;function QU(){return CN||(CN=H(J7,eq,{upgrade:(n,e)=>{0===e&&n.createObjectStore(QT)}}).catch(n=>{throw gh.create("idb-open",{originalErrorMessage:n.message})})),CN}function AN(){return AN=(0,x.Z)(function*(n){try{return yield(yield QU()).transaction(QT).objectStore(QT).get(JU(n))}catch(e){if(e instanceof ht)Um.warn(e.message);else{const t=gh.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Um.warn(t.message)}}}),AN.apply(this,arguments)}function XU(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,x.Z)(function*(n,e){try{const r=(yield QU()).transaction(QT,"readwrite");yield r.objectStore(QT).put(e,JU(n)),yield r.done}catch(t){if(t instanceof ht)Um.warn(t.message);else{const r=gh.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Um.warn(r.message)}}}),SN.apply(this,arguments)}function JU(n){return`${n.name}!${n.options.appId}`}class iq{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oq(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,x.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e4();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,x.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=e4(),{heartbeatsToSend:r,unsentEntries:i}=function sq(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(u=>u.agent===i.agent);if(s){if(s.dates.push(i.date),t4(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),t4(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Re(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function e4(){return(new Date).toISOString().substring(0,10)}class oq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.Z)(function*(){return!!Mt()&&ce().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,x.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tq(n){return AN.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,x.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return XU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,x.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return XU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function t4(n){return Re(JSON.stringify({version:2,heartbeats:n})).length}!function aq(n){Hv(new Ht("platform-logger",e=>new w7(e),"PRIVATE")),Hv(new Ht("heartbeat",e=>new iq(e),"PRIVATE")),ku(TN,"0.9.13",n),ku(TN,"0.9.13","esm2017"),ku("fire-js","")}(""),ku("firebase","9.23.0","app");const lq=(n,e)=>e.some(t=>n instanceof t);let n4,r4;const i4=new WeakMap,xN=new WeakMap,s4=new WeakMap,RN=new WeakMap,PN=new WeakMap;let MN={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xN.get(n);if("objectStoreNames"===e)return n.objectStoreNames||s4.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qf(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _q(n){return"function"==typeof n?function mq(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hq(){return r4||(r4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kN(this),e),Qf(i4.get(this))}:function(...e){return Qf(n.apply(kN(this),e))}:function(e,...t){const r=n.call(kN(this),e,...t);return s4.set(r,e.sort?e.sort():[e]),Qf(r)}}(n):(n instanceof IDBTransaction&&function pq(n){if(xN.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",u),n.removeEventListener("abort",u)},s=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",u),n.addEventListener("abort",u)});xN.set(n,e)}(n),lq(n,function dq(){return n4||(n4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,MN):n)}function Qf(n){if(n instanceof IDBRequest)return function fq(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",u)},s=()=>{t(Qf(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&i4.set(t,n)}).catch(()=>{}),PN.set(e,n),e}(n);if(RN.has(n))return RN.get(n);const e=_q(n);return e!==n&&(RN.set(n,e),PN.set(e,n)),e}const kN=n=>PN.get(n),vq=["get","getKey","getAll","getAllKeys","count"],Iq=["put","add","delete","clear"],NN=new Map;function o4(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(NN.get(e))return NN.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Iq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vq.includes(t))return;const s=function(){var u=(0,x.Z)(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let I=g.store;return r&&(I=I.index(f.shift())),(yield Promise.all([I[t](...f),i&&g.done]))[0]});return function(f){return u.apply(this,arguments)}}();return NN.set(e,s),s}!function gq(n){MN=n(MN)}(n=>({...n,get:(e,t,r)=>o4(e,t)||n.get(e,t,r),has:(e,t)=>!!o4(e,t)||n.has(e,t)}));const a4="@firebase/installations",ON="0.6.4",u4=1e4,c4=`w:${ON}`,l4="FIS_v2",Eq="https://firebaseinstallations.googleapis.com/v1",wq=36e5,mh=new Rt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function d4(n){return n instanceof ht&&n.code.includes("request-failed")}function FN({projectId:n}){return`${Eq}/projects/${n}/installations`}function h4(n){return{token:n.token,requestStatus:2,expiresIn:Cq(n.expiresIn),creationTime:Date.now()}}function LN(n,e){return VN.apply(this,arguments)}function VN(){return VN=(0,x.Z)(function*(n,e){const r=(yield e.json()).error;return mh.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),VN.apply(this,arguments)}function f4({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function BN(n){return $N.apply(this,arguments)}function $N(){return $N=(0,x.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),$N.apply(this,arguments)}function Cq(n){return Number(n.replace("s","000"))}function UN(){return UN=(0,x.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=FN(n),i=f4(n),s=e.getImmediate({optional:!0});if(s){const g=yield s.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const d={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:l4,appId:n.appId,sdkVersion:c4})},f=yield BN(()=>fetch(r,d));if(f.ok){const g=yield f.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:h4(g.authToken)}}throw yield LN("Create Installation",f)}),UN.apply(this,arguments)}function g4(n){return new Promise(e=>{setTimeout(e,n)})}const Rq=/^[cdef][\w-]{21}$/,jN="";function Pq(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Mq(n){return function xq(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Rq.test(t)?t:jN}catch{return jN}}function Wv(n){return`${n.appName}!${n.appId}`}const Kv=new Map;function m4(n,e){const t=Wv(n);_4(t,e),function Oq(n,e){const t=function y4(){return!Gm&&"BroadcastChannel"in self&&(Gm=new BroadcastChannel("[Firebase] FID Change"),Gm.onmessage=n=>{_4(n.data.key,n.data.fid)}),Gm}();t&&t.postMessage({key:n,fid:e}),function v4(){0===Kv.size&&Gm&&(Gm.close(),Gm=null)}()}(t,e)}function _4(n,e){const t=Kv.get(n);if(t)for(const r of t)r(e)}let Gm=null;const Fq="firebase-installations-database",Lq=1,zm="firebase-installations-store";let GN=null;function zN(){return GN||(GN=function yq(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const u=indexedDB.open(n,e),d=Qf(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Qf(u.result),f.oldVersion,f.newVersion,Qf(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",()=>i())}).catch(()=>{}),d}(Fq,Lq,{upgrade:(n,e)=>{0===e&&n.createObjectStore(zm)}})),GN}function zx(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,x.Z)(function*(n,e){const t=Wv(n),i=(yield zN()).transaction(zm,"readwrite"),s=i.objectStore(zm),u=yield s.get(t);return yield s.put(e,t),yield i.done,(!u||u.fid!==e.fid)&&m4(n,e.fid),e}),HN.apply(this,arguments)}function qN(n){return WN.apply(this,arguments)}function WN(){return WN=(0,x.Z)(function*(n){const e=Wv(n),r=(yield zN()).transaction(zm,"readwrite");yield r.objectStore(zm).delete(e),yield r.done}),WN.apply(this,arguments)}function XT(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,x.Z)(function*(n,e){const t=Wv(n),i=(yield zN()).transaction(zm,"readwrite"),s=i.objectStore(zm),u=yield s.get(t),d=e(u);return void 0===d?yield s.delete(t):yield s.put(d,t),yield i.done,d&&(!u||u.fid!==d.fid)&&m4(n,d.fid),d}),KN.apply(this,arguments)}function YN(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,x.Z)(function*(n){let e;const t=yield XT(n.appConfig,r=>{const i=function Vq(n){return E4(n||{fid:Pq(),registrationStatus:0})}(r),s=function Bq(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mh.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function $q(n,e){return QN.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Uq(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===jN?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),ZN.apply(this,arguments)}function QN(){return QN=(0,x.Z)(function*(n,e){try{const t=yield function Sq(n,e){return UN.apply(this,arguments)}(n,e);return zx(n.appConfig,t)}catch(t){throw d4(t)&&409===t.customData.serverCode?yield qN(n.appConfig):yield zx(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),QN.apply(this,arguments)}function Uq(n){return XN.apply(this,arguments)}function XN(){return XN=(0,x.Z)(function*(n){let e=yield I4(n.appConfig);for(;1===e.registrationStatus;)yield g4(100),e=yield I4(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield YN(n);return r||t}return e}),XN.apply(this,arguments)}function I4(n){return XT(n,e=>{if(!e)throw mh.create("installation-not-found");return E4(e)})}function E4(n){return function jq(n){return 1===n.registrationStatus&&n.registrationTime+u4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function JN(){return JN=(0,x.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function zq(n,{fid:e}){return`${FN(n)}/${e}/authTokens:generate`}(n,t),i=function p4(n,{refreshToken:e}){const t=f4(n);return t.append("Authorization",function Aq(n){return`${l4} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const g=yield s.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const d={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:c4,appId:n.appId}})},f=yield BN(()=>fetch(r,d));if(f.ok)return h4(yield f.json());throw yield LN("Generate Auth Token",f)}),JN.apply(this,arguments)}function eO(n){return tO.apply(this,arguments)}function tO(){return tO=(0,x.Z)(function*(n,e=!1){let t;const r=yield XT(n.appConfig,s=>{if(!T4(s))throw mh.create("not-registered");const u=s.authToken;if(!e&&function Wq(n){return 2===n.requestStatus&&!function Kq(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+wq}(n)}(u))return s;if(1===u.requestStatus)return t=function Hq(n,e){return nO.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw mh.create("app-offline");const d=function Yq(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function qq(n,e){return rO.apply(this,arguments)}(n,d),d}});return t?yield t:r.authToken}),tO.apply(this,arguments)}function nO(){return nO=(0,x.Z)(function*(n,e){let t=yield w4(n.appConfig);for(;1===t.authToken.requestStatus;)yield g4(100),t=yield w4(n.appConfig);const r=t.authToken;return 0===r.requestStatus?eO(n,e):r}),nO.apply(this,arguments)}function w4(n){return XT(n,e=>{if(!T4(e))throw mh.create("not-registered");return function Zq(n){return 1===n.requestStatus&&n.requestTime+u4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function rO(){return rO=(0,x.Z)(function*(n,e){try{const t=yield function Gq(n,e){return JN.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield zx(n.appConfig,r),t}catch(t){if(!d4(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield zx(n.appConfig,r)}else yield qN(n.appConfig);throw t}}),rO.apply(this,arguments)}function T4(n){return void 0!==n&&2===n.registrationStatus}function iO(){return iO=(0,x.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield YN(e);return r?r.catch(console.error):eO(e).catch(console.error),t.fid}),iO.apply(this,arguments)}function sO(){return sO=(0,x.Z)(function*(n,e=!1){const t=n;return yield function Jq(n){return oO.apply(this,arguments)}(t),(yield eO(t,e)).token}),sO.apply(this,arguments)}function oO(){return oO=(0,x.Z)(function*(n){const{registrationPromise:e}=yield YN(n);e&&(yield e)}),oO.apply(this,arguments)}function cO(n){return mh.create("missing-app-config-values",{valueName:n})}const b4="installations",iW=n=>{const e=n.getProvider("app").getImmediate(),t=function nW(n){if(!n||!n.options)throw cO("App Configuration");if(!n.name)throw cO("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cO(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ss(e,"heartbeat"),_delete:()=>Promise.resolve()}},sW=n=>{const t=ss(n.getProvider("app").getImmediate(),b4).getImmediate();return{getId:()=>function Qq(n){return iO.apply(this,arguments)}(t),getToken:i=>function Xq(n){return sO.apply(this,arguments)}(t,i)}};(function oW(){Kn(new Ht(b4,iW,"PUBLIC")),Kn(new Ht("installations-internal",sW,"PRIVATE"))})(),_r(a4,ON),_r(a4,ON,"esm2017");const lO="@firebase/remote-config",tu=new Rt("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _W{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,x.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&u.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(u),s})()}}function yW(n=navigator){return n.languages&&n.languages[0]||n.language}class vW{constructor(e,t,r,i,s,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=u}fetch(e){var t=this;return(0,x.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},f={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:yW()},g={method:"POST",headers:d,body:JSON.stringify(f)},I=fetch(u,g),A=new Promise((Tt,Nt)=>{e.signal.addEventListener(()=>{const Pt=new Error("The operation was aborted.");Pt.name="AbortError",Nt(Pt)})});let U;try{yield Promise.race([I,A]),U=yield I}catch(Tt){let Nt="fetch-client-network";throw"AbortError"===(null==Tt?void 0:Tt.name)&&(Nt="fetch-timeout"),tu.create(Nt,{originalErrorMessage:null==Tt?void 0:Tt.message})}let Z=U.status;const ye=U.headers.get("ETag")||void 0;let Fe,Ve;if(200===U.status){let Tt;try{Tt=yield U.json()}catch(Nt){throw tu.create("fetch-client-parse",{originalErrorMessage:null==Nt?void 0:Nt.message})}Fe=Tt.entries,Ve=Tt.state}if("INSTANCE_STATE_UNSPECIFIED"===Ve?Z=500:"NO_CHANGE"===Ve?Z=304:("NO_TEMPLATE"===Ve||"EMPTY_CONFIG"===Ve)&&(Fe={}),304!==Z&&200!==Z)throw tu.create("fetch-status",{httpStatus:Z});return{status:Z,eTag:ye,config:Fe}})()}}class wW{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,x.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,x.Z)(function*(){yield function IW(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(tu.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function EW(n){if(!(n instanceof ht&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const u={throttleEndTimeMillis:Date.now()+he(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(u),i.attemptFetch(e,u)}})()}}class DW{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qx(n,e){const t=n.target.error||void 0;return tu.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const Hm="app_namespace_store";class xW{constructor(e,t,r,i=function SW(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(qx(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hm,{keyPath:"compositeKey"})}}catch(t){e(tu.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,x.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const d=r.transaction([Hm],"readonly").objectStore(Hm),f=t.createCompositeKey(e);try{const g=d.get(f);g.onerror=I=>{s(qx(I,"storage-get"))},g.onsuccess=I=>{const A=I.target.result;i(A?A.value:void 0)}}catch(g){s(tu.create("storage-get",{originalErrorMessage:null==g?void 0:g.message}))}})})()}set(e,t){var r=this;return(0,x.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,u)=>{const f=i.transaction([Hm],"readwrite").objectStore(Hm),g=r.createCompositeKey(e);try{const I=f.put({compositeKey:g,value:t});I.onerror=A=>{u(qx(A,"storage-set"))},I.onsuccess=()=>{s()}}catch(I){u(tu.create("storage-set",{originalErrorMessage:null==I?void 0:I.message}))}})})()}delete(e){var t=this;return(0,x.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const d=r.transaction([Hm],"readwrite").objectStore(Hm),f=t.createCompositeKey(e);try{const g=d.delete(f);g.onerror=I=>{s(qx(I,"storage-delete"))},g.onsuccess=()=>{i()}}catch(g){s(tu.create("storage-delete",{originalErrorMessage:null==g?void 0:g.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class RW{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,x.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const d=yield i;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function MW(){return gO.apply(this,arguments)}function gO(){return(gO=(0,x.Z)(function*(){if(!Mt())return!1;try{return yield ce()}catch{return!1}})).apply(this,arguments)}!function PW(){Kn(new Ht("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tu.create("registration-window");if(!Mt())throw tu.create("indexed-db-unavailable");const{projectId:s,apiKey:u,appId:d}=r.options;if(!s)throw tu.create("registration-project-id");if(!u)throw tu.create("registration-api-key");if(!d)throw tu.create("registration-app-id");const f=new xW(d,r.name,t=t||"firebase"),g=new RW(f),I=new Mr(lO);I.logLevel=en.ERROR;const A=new vW(i,os,t,s,u,d),U=new wW(A,f),Z=new _W(U,f,g,I),ye=new DW(r,Z,g,f,I);return function pW(n){const e=Xe(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ye),ye},"PUBLIC").setMultipleInstances(!0)),_r(lO,"0.4.4"),_r(lO,"0.4.4","esm2017")}();const kW=(n,e)=>e.some(t=>n instanceof t);let S4,x4;const R4=new WeakMap,mO=new WeakMap,P4=new WeakMap,_O=new WeakMap,yO=new WeakMap;let vO={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mO.get(n);if("objectStoreNames"===e)return n.objectStoreNames||P4.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _h(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $W(n){return"function"==typeof n?function BW(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function OW(){return x4||(x4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(IO(this),e),_h(R4.get(this))}:function(...e){return _h(n.apply(IO(this),e))}:function(e,...t){const r=n.call(IO(this),e,...t);return P4.set(r,e.sort?e.sort():[e]),_h(r)}}(n):(n instanceof IDBTransaction&&function LW(n){if(mO.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",u),n.removeEventListener("abort",u)},s=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",u),n.addEventListener("abort",u)});mO.set(n,e)}(n),kW(n,function NW(){return S4||(S4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,vO):n)}function _h(n){if(n instanceof IDBRequest)return function FW(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",u)},s=()=>{t(_h(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&R4.set(t,n)}).catch(()=>{}),yO.set(e,n),e}(n);if(_O.has(n))return _O.get(n);const e=$W(n);return e!==n&&(_O.set(n,e),yO.set(e,n)),e}const IO=n=>yO.get(n);function M4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const u=indexedDB.open(n,e),d=_h(u);return r&&u.addEventListener("upgradeneeded",f=>{r(_h(u.result),f.oldVersion,f.newVersion,_h(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",()=>i())}).catch(()=>{}),d}function EO(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),_h(t).then(()=>{})}const UW=["get","getKey","getAll","getAllKeys","count"],jW=["put","add","delete","clear"],wO=new Map;function k4(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(wO.get(e))return wO.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=jW.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!UW.includes(t))return;const s=function(){var u=(0,x.Z)(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let I=g.store;return r&&(I=I.index(f.shift())),(yield Promise.all([I[t](...f),i&&g.done]))[0]});return function(f){return u.apply(this,arguments)}}();return wO.set(e,s),s}!function VW(n){vO=n(vO)}(n=>({...n,get:(e,t,r)=>k4(e,t)||n.get(e,t,r),has:(e,t)=>!!k4(e,t)||n.has(e,t)}));const GW="/firebase-messaging-sw.js",zW="/firebase-cloud-messaging-push-scope",N4="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",HW="https://fcmregistrations.googleapis.com/v1",O4="google.c.a.c_id",qW="google.c.a.c_l",WW="google.c.a.ts";var Wx=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Wx||{});function yh(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZW(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const TO="fcm_token_details_db",QW=5,F4="fcm_token_object_Store";function bO(){return bO=(0,x.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(TO))return null;let e=null;return(yield M4(TO,QW,{upgrade:(r=(0,x.Z)(function*(i,s,u,d){var f;if(s<2||!i.objectStoreNames.contains(F4))return;const g=d.objectStore(F4),I=yield g.index("fcmSenderId").get(n);if(yield g.clear(),I)if(2===s){const A=I;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(f=A.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:yh(A.vapidKey)}}}else if(3===s){const A=I;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:yh(A.auth),p256dh:yh(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:yh(A.vapidKey)}}}else if(4===s){const A=I;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:yh(A.auth),p256dh:yh(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:yh(A.vapidKey)}}}}),function(s,u,d,f){return r.apply(this,arguments)})})).close(),yield EO(TO),yield EO("fcm_vapid_details_db"),yield EO("undefined"),function JW(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),bO.apply(this,arguments)}const e8="firebase-messaging-database",t8=1,qm="firebase-messaging-store";let DO=null;function CO(){return DO||(DO=M4(e8,t8,{upgrade:(n,e)=>{0===e&&n.createObjectStore(qm)}})),DO}function L4(n){return AO.apply(this,arguments)}function AO(){return AO=(0,x.Z)(function*(n){const e=PO(n),r=yield(yield CO()).transaction(qm).objectStore(qm).get(e);if(r)return r;{const i=yield function XW(n){return bO.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield SO(n,i),i}}),AO.apply(this,arguments)}function SO(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,x.Z)(function*(n,e){const t=PO(n),i=(yield CO()).transaction(qm,"readwrite");return yield i.objectStore(qm).put(e,t),yield i.done,e}),xO.apply(this,arguments)}function RO(){return RO=(0,x.Z)(function*(n){const e=PO(n),r=(yield CO()).transaction(qm,"readwrite");yield r.objectStore(qm).delete(e),yield r.done}),RO.apply(this,arguments)}function PO({appConfig:n}){return n.appId}const ea=new Rt("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function i8(n,e){return MO.apply(this,arguments)}function MO(){return MO=(0,x.Z)(function*(n,e){const t=yield FO(n),r=B4(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(OO(n.appConfig),i)).json()}catch(u){throw ea.create("token-subscribe-failed",{errorInfo:null==u?void 0:u.toString()})}if(s.error)throw ea.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ea.create("token-subscribe-no-token");return s.token}),MO.apply(this,arguments)}function kO(){return kO=(0,x.Z)(function*(n,e){const t=yield FO(n),r=B4(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${OO(n.appConfig)}/${e.token}`,i)).json()}catch(u){throw ea.create("token-update-failed",{errorInfo:null==u?void 0:u.toString()})}if(s.error)throw ea.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ea.create("token-update-no-token");return s.token}),kO.apply(this,arguments)}function V4(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,x.Z)(function*(n,e){const r={method:"DELETE",headers:yield FO(n)};try{const s=yield(yield fetch(`${OO(n.appConfig)}/${e}`,r)).json();if(s.error)throw ea.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ea.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}}),NO.apply(this,arguments)}function OO({projectId:n}){return`${HW}/projects/${n}/registrations`}function FO(n){return LO.apply(this,arguments)}function LO(){return LO=(0,x.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),LO.apply(this,arguments)}function B4({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==N4&&(i.web.applicationPubKey=r),i}const o8=6048e5;function VO(){return VO=(0,x.Z)(function*(n){const e=yield function c8(n,e){return jO.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:yh(e.getKey("auth")),p256dh:yh(e.getKey("p256dh"))},r=yield L4(n.firebaseDependencies);if(r){if(function l8(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+o8?function u8(n,e){return $O.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield V4(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return U4(n.firebaseDependencies,t)}return U4(n.firebaseDependencies,t)}),VO.apply(this,arguments)}function BO(){return BO=(0,x.Z)(function*(n){const e=yield L4(n.firebaseDependencies);e&&(yield V4(n.firebaseDependencies,e.token),yield function n8(n){return RO.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),BO.apply(this,arguments)}function $O(){return $O=(0,x.Z)(function*(n,e){try{const t=yield function s8(n,e){return kO.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield SO(n.firebaseDependencies,r),t}catch(t){throw yield function $4(n){return BO.apply(this,arguments)}(n),t}}),$O.apply(this,arguments)}function U4(n,e){return UO.apply(this,arguments)}function UO(){return UO=(0,x.Z)(function*(n,e){const r={token:yield i8(n,e),createTime:Date.now(),subscriptionOptions:e};return yield SO(n,r),r.token}),UO.apply(this,arguments)}function jO(){return jO=(0,x.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZW(e)})}),jO.apply(this,arguments)}function j4(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function d8(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function h8(n,e){e.data&&(n.data=e.data)}(e,n),function f8(n,e){var t,r,i,s,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const f=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function G4(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function GO(n){return ea.create("missing-app-config-values",{valueName:n})}G4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),G4("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class m8{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function g8(n){if(!n||!n.options)throw GO("App Configuration Object");if(!n.name)throw GO("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw GO(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function zO(){return zO=(0,x.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(GW,{scope:zW}),n.swRegistration.update().catch(()=>{})}catch(e){throw ea.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}),zO.apply(this,arguments)}function HO(){return HO=(0,x.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function z4(n){return zO.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ea.create("invalid-sw-registration");n.swRegistration=e}}),HO.apply(this,arguments)}function qO(){return qO=(0,x.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=N4)}),qO.apply(this,arguments)}function WO(){return WO=(0,x.Z)(function*(n,e){if(!navigator)throw ea.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ea.create("permission-blocked");return yield function y8(n,e){return qO.apply(this,arguments)}(n,null==e?void 0:e.vapidKey),yield function _8(n,e){return HO.apply(this,arguments)}(n,null==e?void 0:e.serviceWorkerRegistration),function a8(n){return VO.apply(this,arguments)}(n)}),WO.apply(this,arguments)}function KO(){return KO=(0,x.Z)(function*(n,e,t){const r=function I8(n){switch(n){case Wx.NOTIFICATION_CLICKED:return"notification_open";case Wx.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[O4],message_name:t[qW],message_time:t[WW],message_device_time:Math.floor(Date.now()/1e3)})}),KO.apply(this,arguments)}function YO(){return YO=(0,x.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Wx.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(j4(t)):n.onMessageHandler.next(j4(t)));const r=t.data;(function p8(n){return"object"==typeof n&&!!n&&O4 in n})(r)&&"1"===r["google.c.a.e"]&&(yield function v8(n,e,t){return KO.apply(this,arguments)}(n,t.messageType,r))}),YO.apply(this,arguments)}const q4="@firebase/messaging",w8=n=>{const e=new m8(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function E8(n,e){return YO.apply(this,arguments)}(e,t)),e},T8=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function H4(n,e){return WO.apply(this,arguments)}(e,r)}};function K4(){return ZO.apply(this,arguments)}function ZO(){return(ZO=(0,x.Z)(function*(){try{yield ce()}catch{return!1}return typeof window<"u"&&Mt()&&Ze()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function b8(){Kn(new Ht("messaging",w8,"PUBLIC")),Kn(new Ht("messaging-internal",T8,"PRIVATE")),_r(q4,"0.12.4"),_r(q4,"0.12.4","esm2017")}();const Kx="analytics",A8="firebase_id",S8="origin",x8=6e4,R8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",JO="https://www.googletagmanager.com/gtag/js",No=new Mr("@firebase/analytics"),Oa=new Rt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function M8(n){if(!n.startsWith(JO)){const e=Oa.create("invalid-gtag-resource",{gtagURL:n});return No.warn(e.message),""}return n}function Y4(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eF(){return eF=(0,x.Z)(function*(n,e,t,r,i,s){const u=r[i];try{if(u)yield e[u];else{const f=(yield Y4(t)).find(g=>g.measurementId===i);f&&(yield e[f.appId])}}catch(d){No.error(d)}n("config",i,s)}),eF.apply(this,arguments)}function tF(){return tF=(0,x.Z)(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const d=yield Y4(t);for(const f of u){const g=d.find(A=>A.measurementId===f),I=g&&e[g.appId];if(!I){s=[];break}s.push(I)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){No.error(s)}}),tF.apply(this,arguments)}const U8=30,Z4=new class G8{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function z8(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function nF(){return nF=(0,x.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:z8(r)},s=R8.replace("{app-id}",t),u=yield fetch(s,i);if(200!==u.status&&304!==u.status){let d="";try{const f=yield u.json();null!==(e=f.error)&&void 0!==e&&e.message&&(d=f.error.message)}catch{}throw Oa.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}),nF.apply(this,arguments)}function rF(){return rF=(0,x.Z)(function*(n,e=Z4,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Oa.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Oa.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Y8;return setTimeout((0,x.Z)(function*(){d.abort()}),void 0!==t?t:x8),Q4({appId:r,apiKey:i,measurementId:s},u,d,e)}),rF.apply(this,arguments)}function Q4(n,e,t){return iF.apply(this,arguments)}function iF(){return iF=(0,x.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Z4){var s;const{appId:u,measurementId:d}=n;try{yield function W8(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Oa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(f){if(d)return No.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${null==f?void 0:f.message}]`),{appId:u,measurementId:d};throw f}try{const f=yield function H8(n){return nF.apply(this,arguments)}(n);return i.deleteThrottleMetadata(u),f}catch(f){const g=f;if(!function K8(n){if(!(n instanceof ht&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(g)){if(i.deleteThrottleMetadata(u),d)return No.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${null==g?void 0:g.message}]`),{appId:u,measurementId:d};throw f}const I=503===Number(null===(s=null==g?void 0:g.customData)||void 0===s?void 0:s.httpStatus)?he(t,i.intervalMillis,U8):he(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+I,backoffCount:t+1};return i.setThrottleMetadata(u,A),No.debug(`Calling attemptFetch again in ${I} millis`),Q4(n,A,r,i)}}),iF.apply(this,arguments)}class Y8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let sF,hF;function oF(){return oF=(0,x.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),oF.apply(this,arguments)}function fF(){return fF=(0,x.Z)(function*(){if(!Mt())return No.warn(Oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ce()}catch(n){return No.warn(Oa.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0}),fF.apply(this,arguments)}function pF(){return pF=(0,x.Z)(function*(n,e,t,r,i,s,u){var d;const f=function q8(n){return rF.apply(this,arguments)}(n);f.then(Z=>{t[Z.measurementId]=Z.appId,n.options.measurementId&&Z.measurementId!==n.options.measurementId&&No.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${Z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Z=>No.error(Z)),e.push(f);const g=function nK(){return fF.apply(this,arguments)}().then(Z=>{if(Z)return r.getId()}),[I,A]=yield Promise.all([f,g]);(function $8(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(JO)&&t.src.includes(n))return t;return null})(s)||function N8(n,e){const t=function k8(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:M8}),r=document.createElement("script"),i=`${JO}?l=${n}&id=${e}`;r.src=t?null==t?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,I.measurementId),hF&&(i("consent","default",hF),function X4(n){hF=n}(void 0)),i("js",new Date);const U=null!==(d=null==u?void 0:u.config)&&void 0!==d?d:{};return U[S8]="firebase",U.update=!0,null!=A&&(U[A8]=A),i("config",I.measurementId,U),sF&&(i("set",sF),function J4(n){sF=n}(void 0)),I.measurementId}),pF.apply(this,arguments)}class iK{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},ej=[];const tj={};let rj,Gl,Yx="dataLayer",gF=!1;function oK(n,e,t){!function sK(){const n=[];if(te()&&n.push("This is a browser extension environment."),Ze()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Oa.create("invalid-analytics-context",{errorInfo:e});No.warn(t.message)}}();const r=n.options.appId;if(!r)throw Oa.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Oa.create("no-api-key");No.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jl[r])throw Oa.create("already-exists",{id:r});if(!gF){!function O8(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Yx);const{wrappedGtag:s,gtagCore:u}=function B8(n,e,t,r,i){let s=function(...u){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function V8(n,e,t,r){function s(){return s=(0,x.Z)(function*(u,...d){try{if("event"===u){const[f,g]=d;yield function L8(n,e,t,r,i){return tF.apply(this,arguments)}(n,e,t,f,g)}else if("config"===u){const[f,g]=d;yield function F8(n,e,t,r,i,s){return eF.apply(this,arguments)}(n,e,t,r,f,g)}else if("consent"===u){const[f]=d;n("consent","update",f)}else if("get"===u){const[f,g,I]=d;n("get",f,g,I)}else if("set"===u){const[f]=d;n("set",f)}else n(u,...d)}catch(f){No.error(f)}}),s.apply(this,arguments)}return function i(u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(jl,ej,tj,Yx,"gtag");Gl=s,rj=u,gF=!0}return jl[r]=function rK(n,e,t,r,i,s,u){return pF.apply(this,arguments)}(n,ej,tj,e,rj,Yx,t),new iK(n)}function uK(){return mF.apply(this,arguments)}function mF(){return(mF=(0,x.Z)(function*(){if(te()||!Ze()||!Mt())return!1;try{return yield ce()}catch{return!1}})).apply(this,arguments)}const ij="@firebase/analytics";!function lK(){Kn(new Ht(Kx,(e,{options:t})=>oK(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Kn(new Ht("analytics-internal",function n(e){try{const t=e.getProvider(Kx).getImmediate();return{logEvent:(r,i,s)=>function cK(n,e,t,r){n=Xe(n),function Z8(n,e,t,r,i){return oF.apply(this,arguments)}(Gl,jl[n.app.options.appId],e,t,r).catch(i=>No.error(i))}(t,r,i,s)}}catch(t){throw Oa.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),_r(ij,"0.10.0"),_r(ij,"0.10.0","esm2017")}();var dK=z(7394);class hK extends dK.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Zx={setInterval(n,e,...t){const{delegate:r}=Zx;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zx;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var fK=z(9039);class oj extends hK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Zx.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Zx.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fK.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const aj={now:()=>(aj.delegate||Date).now(),delegate:void 0};class JT{constructor(e,t=JT.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}JT.now=aj.now;class uj extends JT{constructor(e,t=JT.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const mK=new class gK extends uj{}(class pK extends oj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),_K=new uj(oj);var cj=z(5592),yK=z(9397),lj=z(5137),dj=z(3093);const Qx=new de.GfV("7.6.1"),yF="__angularfire_symbol__analyticsIsSupportedValue",vF="__angularfire_symbol__analyticsIsSupported",IF="__angularfire_symbol__remoteConfigIsSupportedValue",EF="__angularfire_symbol__remoteConfigIsSupported",wF="__angularfire_symbol__messagingIsSupportedValue",TF="__angularfire_symbol__messagingIsSupported";function DF(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(u=>u.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[vF]||(globalThis[vF]=uK().then(n=>globalThis[yF]=n).catch(()=>globalThis[yF]=!1)),globalThis[TF]||(globalThis[TF]=K4().then(n=>globalThis[wF]=n).catch(()=>globalThis[wF]=!1)),globalThis[EF]||(globalThis[EF]=MW().then(n=>globalThis[IF]=n).catch(()=>globalThis[IF]=!1));const CF=(n,e)=>{const t=e?[e]:ZU(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function Yv(){}class hj{constructor(e,t=mK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(u){i.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class vK{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yv,{},Yv,Yv)),t.pipe((0,yK.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AF=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new hj(Zone.current)),this.insideAngular=t.run(()=>new hj(Zone.current,_K)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(de.LFG(de.R0b))},n.\u0275prov=de.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wm(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Km(n){return Wm().ngZone.run(()=>n())}function EK(n){return Wm(),function wK(n){return function(t){return(t=t.lift(new vK(n.ngZone))).pipe((0,lj.R)(n.outsideAngular),(0,dj.Q)(n.insideAngular))}}(Wm())(n)}const TK=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Km(()=>n.apply(void 0,r))},SF=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Km(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yv,{},Yv,Yv)))),r[s]=TK(r[s],t));const i=function IK(n){return Wm().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof cj.y){const s=Wm();return i.pipe((0,lj.R)(s.outsideAngular),(0,dj.Q)(s.insideAngular))}return Km(()=>i)}return i instanceof cj.y?i.pipe(EK):i instanceof Promise?Km(()=>new Promise((s,u)=>i.then(d=>Km(()=>s(d)),d=>Km(()=>u(d))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Km(()=>i)};class Zv{constructor(e){return e}}class xF{constructor(){return ZU()}}const RF=new de.OlP("angularfire2._apps"),DK={provide:Zv,useFactory:function bK(n){return n&&1===n.length?n[0]:new Zv(bN())},deps:[[new de.FiY,RF]]},CK={provide:xF,deps:[[new de.FiY,RF]]};function AK(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Zv(r)}}let SK=(()=>{class n{constructor(t){ku("angularfire",Qx.full,"core"),ku("angularfire",Qx.full,"app"),ku("angular",de.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(de.LFG(de.Lbi))},n.\u0275mod=de.oAB({type:n}),n.\u0275inj=de.cJS({providers:[DK,CK]}),n})();function xK(n,...e){return{ngModule:SK,providers:[{provide:RF,useFactory:AK(n),multi:!0,deps:[de.R0b,de.zs3,AF,...e]}]}}const RK=SF(YU,!0),PF=new Map,fj={activated:!1,tokenObservers:[]},PK={initialized:!1,enabled:!1};function fs(n){return PF.get(n)||Object.assign({},fj)}function Xx(){return PK}const MF="https://content-firebaseappcheck.googleapis.com/v1",OK="exchangeDebugToken",pj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class LK{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,x.Z)(function*(){t.stop();try{t.pending=new Ae,yield function VK(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ae,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ta=new Rt("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kF(n){if(!fs(n).activated)throw ta.create("use-before-activation",{appName:n.name})}function tR(n,e){return OF.apply(this,arguments)}function OF(){return OF=(0,x.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,d;try{u=yield fetch(n,s)}catch(A){throw ta.create("fetch-network-error",{originalErrorMessage:null==A?void 0:A.message})}if(200!==u.status)throw ta.create("fetch-status-error",{httpStatus:u.status});try{d=yield u.json()}catch(A){throw ta.create("fetch-parse-error",{originalErrorMessage:null==A?void 0:A.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw ta.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),I=Date.now();return{token:d.token,expireTimeMillis:I+g,issuedAtTimeMillis:I}}),OF.apply(this,arguments)}function gj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${MF}/projects/${t}/apps/${r}:${OK}?key=${i}`,body:{debug_token:e}}}const jK="firebase-app-check-database",GK=1,eb="firebase-app-check-store";let nR=null;function FF(){return FF=(0,x.Z)(function*(n,e){const r=(yield function _j(){return nR||(nR=new Promise((n,e)=>{try{const t=indexedDB.open(jK,GK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ta.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eb,{keyPath:"compositeKey"})}}catch(t){e(ta.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),nR)}()).transaction(eb,"readwrite"),s=r.objectStore(eb).put({compositeKey:n,value:e});return new Promise((u,d)=>{s.onsuccess=f=>{u()},r.onerror=f=>{var g;d(ta.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})}),FF.apply(this,arguments)}const tb=new Mr("@firebase/app-check");function BF(n,e){return Mt()?function HK(n,e){return function yj(n,e){return FF.apply(this,arguments)}(function Ij(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{tb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UF(){return Xx().enabled}function jF(){return GF.apply(this,arguments)}function GF(){return GF=(0,x.Z)(function*(){const n=Xx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GF.apply(this,arguments)}const QK={error:"UNKNOWN_ERROR"};function XK(n){return pe.encodeString(JSON.stringify(n),!1)}function rR(n){return zF.apply(this,arguments)}function zF(){return zF=(0,x.Z)(function*(n,e=!1){const t=n.app;kF(t);const r=fs(t);let s,i=r.token;if(i&&!Qv(i)&&(r.token=void 0,i=void 0),!i){const f=yield r.cachedTokenPromise;f&&(Qv(f)?i=f:yield BF(t,void 0))}if(!e&&i&&Qv(i))return{token:i.token};let d,u=!1;if(UF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tR(gj(t,yield jF()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const f=yield r.exchangeTokenPromise;return yield BF(t,f),r.token=f,{token:f.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield fs(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?tb.warn(f.message):tb.error(f),s=f}return i?s?d=Qv(i)?{token:i.token,internalError:s}:bj(s):(d={token:i.token},r.token=i,yield BF(t,i)):d=bj(s),u&&function Tj(n,e){const t=fs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,d),d}),zF.apply(this,arguments)}function HF(){return HF=(0,x.Z)(function*(n){const e=n.app;kF(e);const{provider:t}=fs(e);if(UF()){const r=yield jF(),{token:i}=yield tR(gj(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),HF.apply(this,arguments)}function WF(n,e){const t=fs(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function wj(n){const{app:e}=n,t=fs(e);let r=t.tokenRefresher;r||(r=function JK(n){const{app:e}=n;return new LK((0,x.Z)(function*(){let r;if(r=fs(e).token?yield rR(n,!0):yield rR(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=fs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},pj.RETRIAL_MIN_WAIT,pj.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Qv(n){return n.expireTimeMillis-Date.now()>0}function bj(n){return{token:XK(QK),error:n}}class eY{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fs(this.app);for(const t of e)WF(this.app,t.next);return Promise.resolve()}}const Mj="app-check-internal";!function pY(){Kn(new Ht("app-check",n=>function tY(n,e){return new eY(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Mj).initialize()})),Kn(new Ht(Mj,n=>function nY(n){return{getToken:e=>rR(n,e),getLimitedUseToken:()=>function Ej(n){return HF.apply(this,arguments)}(n),addTokenListener:e=>function qF(n,e,t,r){const{app:i}=n,s=fs(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Qv(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),wj(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wj(n))}(n,"INTERNAL",e),removeTokenListener:e=>WF(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),_r("@firebase/app-check","0.8.0")}();class QF{constructor(){return CF("app-check")}}typeof window<"u"&&window;const vY=function Nj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oj=new Rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sR=new Mr("@firebase/auth");function oR(n,...e){sR.logLevel<=en.ERROR&&sR.error(`Auth (${qv}): ${n}`,...e)}function nu(n,...e){throw JF(n,...e)}function zl(n,...e){return JF(n,...e)}function JF(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Oj.create(n,...e)}function Kt(n,e,...t){if(!n)throw JF(e,...t)}function Hl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oR(e),new Error(e)}function Xf(n,e){n||Hl(e)}function nb(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Lj(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class rb{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xf(t>e,"Short delay should be less than long delay!"),this.isMobile=_n()||ue()}get(){return function EY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function eL(){return"http:"===Lj()||"https:"===Lj()}()||te()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tL(n,e){Xf(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Vj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bY=new rb(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ps(n,e,t,r){return nL.apply(this,arguments)}function nL(){return nL=(0,x.Z)(function*(n,e,t,r,i={}){return Bj(n,i,(0,x.Z)(function*(){let s={},u={};r&&("GET"===e?u=r:s={body:JSON.stringify(r)});const d=dr(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),Vj.fetch()($j(n,n.config.apiHost,t,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},s))}))}),nL.apply(this,arguments)}function Bj(n,e,t){return rL.apply(this,arguments)}function rL(){return rL=(0,x.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},TY),e);try{const i=new DY(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=yield s.json();if("needConfirmation"in u)throw ib(n,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const d=s.ok?u.errorMessage:u.error.message,[f,g]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw ib(n,"credential-already-in-use",u);if("EMAIL_EXISTS"===f)throw ib(n,"email-already-in-use",u);if("USER_DISABLED"===f)throw ib(n,"user-disabled",u);const I=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw function Fj(n,e,t){const r=Object.assign(Object.assign({},vY()),{[e]:t});return new Rt("auth","Firebase",r).create(e,{appName:n.name})}(n,I,g);nu(n,I)}}catch(i){if(i instanceof ht)throw i;nu(n,"network-request-failed",{message:String(i)})}}),rL.apply(this,arguments)}function iL(){return iL=(0,x.Z)(function*(n,e,t,r,i={}){const s=yield ps(n,e,t,r,i);return"mfaPendingCredential"in s&&nu(n,"multi-factor-auth-required",{_serverResponse:s}),s}),iL.apply(this,arguments)}function $j(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?tL(n.config,i):`${n.config.apiScheme}://${i}`}class DY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zl(this.auth,"network-request-failed")),bY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ib(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=zl(n,e,r);return i.customData._tokenResponse=t,i}function sL(){return sL=(0,x.Z)(function*(n,e){return ps(n,"POST","/v1/accounts:delete",e)}),sL.apply(this,arguments)}function aL(){return aL=(0,x.Z)(function*(n,e){return ps(n,"POST","/v1/accounts:lookup",e)}),aL.apply(this,arguments)}function sb(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uL(){return uL=(0,x.Z)(function*(n,e=!1){const t=Xe(n),r=yield t.getIdToken(e),i=aR(r);Kt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,u=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sb(cL(i.auth_time)),issuedAtTime:sb(cL(i.iat)),expirationTime:sb(cL(i.exp)),signInProvider:u||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),uL.apply(this,arguments)}function cL(n){return 1e3*Number(n)}function aR(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return oR("JWT malformed, contained fewer than 3 sections"),null;try{const i=ae(t);return i?JSON.parse(i):(oR("Failed to decode base64 JWT payload"),null)}catch(i){return oR("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Ih(n,e){return lL.apply(this,arguments)}function lL(){return lL=(0,x.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ht&&function PY({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),lL.apply(this,arguments)}class MY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,x.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,x.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Uj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sb(this.lastLoginAt),this.creationTime=sb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ob(n){return dL.apply(this,arguments)}function dL(){return dL=(0,x.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ih(n,function SY(n,e){return aL.apply(this,arguments)}(t,{idToken:r}));Kt(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const u=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function OY(n){return n.map(e=>{var{providerId:t}=e,r=(0,Of._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],d=function NY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,u),I=!!n.isAnonymous&&!(n.email&&s.passwordHash||null!=d&&d.length),A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new Uj(s.createdAt,s.lastLoginAt),isAnonymous:I};Object.assign(n,A)}),dL.apply(this,arguments)}function hL(){return hL=(0,x.Z)(function*(n){const e=Xe(n);yield ob(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),hL.apply(this,arguments)}function fL(){return fL=(0,x.Z)(function*(n,e){const t=yield Bj(n,{},(0,x.Z)(function*(){const r=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,u=$j(n,i,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Vj.fetch()(u,{method:"POST",headers:d,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),fL.apply(this,arguments)}class ab{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kt(e.idToken,"internal-error"),Kt(typeof e.idToken<"u","internal-error"),Kt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function RY(n){const e=aR(n);return Kt(e,"internal-error"),Kt(typeof e.exp<"u","internal-error"),Kt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,x.Z)(function*(){return Kt(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,x.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:u}=yield function FY(n,e){return fL.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(u))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,u=new ab;return r&&(Kt("string"==typeof r,"internal-error",{appName:e}),u.refreshToken=r),i&&(Kt("string"==typeof i,"internal-error",{appName:e}),u.accessToken=i),s&&(Kt("number"==typeof s,"internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ab,this.toJSON())}_performRefresh(){return Hl("not implemented")}}function Jf(n,e){Kt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ym{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,Of._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uj(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,x.Z)(function*(){const r=yield Ih(t,t.stsTokenManager.getToken(t.auth,e));return Kt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function xY(n){return uL.apply(this,arguments)}(this,e)}reload(){return function kY(n){return hL.apply(this,arguments)}(this)}_assign(e){this!==e&&(Kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ym(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,x.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ob(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,x.Z)(function*(){const t=yield e.getIdToken();return yield Ih(e,function CY(n,e){return sL.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,u,d,f,g,I;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,U=null!==(i=t.email)&&void 0!==i?i:void 0,Z=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,ye=null!==(u=t.photoURL)&&void 0!==u?u:void 0,Fe=null!==(d=t.tenantId)&&void 0!==d?d:void 0,Ve=null!==(f=t._redirectEventId)&&void 0!==f?f:void 0,Tt=null!==(g=t.createdAt)&&void 0!==g?g:void 0,Nt=null!==(I=t.lastLoginAt)&&void 0!==I?I:void 0,{uid:Pt,emailVerified:gn,isAnonymous:Cn,providerData:cn,stsTokenManager:ar}=t;Kt(Pt&&ar,e,"internal-error");const _s=ab.fromJSON(this.name,ar);Kt("string"==typeof Pt,e,"internal-error"),Jf(A,e.name),Jf(U,e.name),Kt("boolean"==typeof gn,e,"internal-error"),Kt("boolean"==typeof Cn,e,"internal-error"),Jf(Z,e.name),Jf(ye,e.name),Jf(Fe,e.name),Jf(Ve,e.name),Jf(Tt,e.name),Jf(Nt,e.name);const hc=new Ym({uid:Pt,auth:e,email:U,emailVerified:gn,displayName:A,isAnonymous:Cn,photoURL:ye,phoneNumber:Z,tenantId:Fe,stsTokenManager:_s,createdAt:Tt,lastLoginAt:Nt});return cn&&Array.isArray(cn)&&(hc.providerData=cn.map(LI=>Object.assign({},LI))),Ve&&(hc._redirectEventId=Ve),hc}static _fromIdTokenResponse(e,t,r=!1){return(0,x.Z)(function*(){const i=new ab;i.updateFromServerResponse(t);const s=new Ym({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ob(s),s})()}}const jj=new Map;function Eh(n){Xf(n instanceof Function,"Expected a class definition");let e=jj.get(n);return e?(Xf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jj.set(n,e),e)}const Gj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,x.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,x.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,x.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function uR(n,e,t){return`firebase:${n}:${e}:${t}`}class Jv{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uR(this.userKey,i.apiKey,s),this.fullPersistenceKey=uR("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,x.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ym._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,x.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,x.Z)(function*(){if(!t.length)return new Jv(Eh(Gj),e,r);const i=(yield Promise.all(t.map(function(){var g=(0,x.Z)(function*(I){if(yield I._isAvailable())return I});return function(I){return g.apply(this,arguments)}}()))).filter(g=>g);let s=i[0]||Eh(Gj);const u=uR(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const I=yield g._get(u);if(I){const A=Ym._fromJSON(e,I);g!==s&&(d=A),s=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return s._shouldAllowMigration&&f.length?(s=f[0],d&&(yield s._set(u,d.toJSON())),yield Promise.all(t.map(function(){var g=(0,x.Z)(function*(I){if(I!==s)try{yield I._remove(u)}catch{}});return function(I){return g.apply(this,arguments)}}())),new Jv(s,e,r)):new Jv(s,e,r)})()}}function zj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yj(e))return"Blackberry";if(Zj(e))return"Webos";if(pL(e))return"Safari";if((e.includes("chrome/")||qj(e))&&!e.includes("edge/"))return"Chrome";if(Kj(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Hj(n=kt()){return/firefox\//i.test(n)}function pL(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qj(n=kt()){return/crios\//i.test(n)}function Wj(n=kt()){return/iemobile/i.test(n)}function Kj(n=kt()){return/android/i.test(n)}function Yj(n=kt()){return/blackberry/i.test(n)}function Zj(n=kt()){return/webos/i.test(n)}function cR(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Qj(n=kt()){return cR(n)||Kj(n)||Zj(n)||Yj(n)||/windows phone/i.test(n)||Wj(n)}function Xj(n,e=[]){let t;switch(n){case"Browser":t=zj(kt());break;case"Worker":t=`${zj(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qv}/${r}`}function Jj(n,e){return mL.apply(this,arguments)}function mL(){return mL=(0,x.Z)(function*(n,e){return ps(n,"GET","/v2/recaptchaConfig",ns(n,e))}),mL.apply(this,arguments)}function t6(n){return void 0!==n&&void 0!==n.enterprise}class n6{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function _L(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=zl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function UY(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function r6(n){return`__${n}${Math.floor(1e6*Math.random())}`}class i6{constructor(e){this.type="recaptcha-enterprise",this.auth=Oo(e)}verify(e="verify",t=!1){var r=this;return(0,x.Z)(function*(){function s(){return s=(0,x.Z)(function*(d){if(!t){if(null==d.tenantId&&null!=d._agentRecaptchaConfig)return d._agentRecaptchaConfig.siteKey;if(null!=d.tenantId&&void 0!==d._tenantRecaptchaConfigs[d.tenantId])return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(function(){var f=(0,x.Z)(function*(g,I){Jj(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(void 0!==A.recaptchaKey){const U=new n6(A);return null==d.tenantId?d._agentRecaptchaConfig=U:d._tenantRecaptchaConfigs[d.tenantId]=U,g(U.siteKey)}I(new Error("recaptcha Enterprise site key undefined"))}).catch(A=>{I(A)})});return function(g,I){return f.apply(this,arguments)}}())}),s.apply(this,arguments)}function u(d,f,g){const I=window.grecaptcha;t6(I)?I.enterprise.ready(()=>{I.enterprise.execute(d,{action:e}).then(A=>{f(A)}).catch(()=>{f("NO_RECAPTCHA")})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{(function i(d){return s.apply(this,arguments)})(r.auth).then(g=>{if(!t&&t6(window.grecaptcha))u(g,d,f);else{if(typeof window>"u")return void f(new Error("RecaptchaVerifier is only supported in browser"));_L("https://www.google.com/recaptcha/enterprise.js?render="+g).then(()=>{u(g,d,f)}).catch(I=>{f(I)})}}).catch(g=>{f(g)})})})()}}class HY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((u,d)=>{try{u(e(s))}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,x.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class qY{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s6(this),this.idTokenSubscription=new s6(this),this.beforeStateQueue=new HY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Eh(t)),this._initializationPromise=this.queue((0,x.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Jv.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,x.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,x.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,u=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const d=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,f=null==s?void 0:s._redirectEventId,g=yield t.tryRedirectSignIn(e);(!d||d===f)&&null!=g&&g.user&&(s=g.user,u=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(u)try{yield t.beforeStateQueue.runMiddleware(s)}catch(d){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(d))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Kt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,x.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,x.Z)(function*(){try{yield ob(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function wY(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,x.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,x.Z)(function*(){const r=e?Xe(e):null;return r&&Kt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,x.Z)(function*(){if(!r._deleted)return e&&Kt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,x.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,x.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,x.Z)(function*(){yield t.assertedPersistence.setPersistence(Eh(e))}))}initializeRecaptchaConfig(){var e=this;return(0,x.Z)(function*(){const t=yield Jj(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new n6(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new i6(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rt("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,x.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,x.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Eh(e)||t._popupRedirectResolver;Kt(r,t,"argument-error"),t.redirectPersistenceManager=yield Jv.create(t,[Eh(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,x.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,x.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,x.Z)(function*(){if(e===t.currentUser)return t.queue((0,x.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Kt(u,this,"internal-error"),u.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,x.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,x.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return(0,x.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=r&&r.error&&function IY(n,...e){sR.logLevel<=en.WARN&&sR.warn(`Auth (${qv}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function Oo(n){return Xe(n)}class s6{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gt(t=>this.observer=t)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function o6(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a6(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class XY{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hl("not implemented")}_getIdTokenResponse(e){return Hl("not implemented")}_linkToIdToken(e,t){return Hl("not implemented")}_getReauthenticationResolver(e){return Hl("not implemented")}}function wh(n,e){return NL.apply(this,arguments)}function NL(){return NL=(0,x.Z)(function*(n,e){return function vh(n,e,t,r){return iL.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}),NL.apply(this,arguments)}class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hZ extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,x.Z)(function*(){const s=yield Ym._fromIdTokenResponse(e,r,i),u=d6(r);return new cc({user:s,providerId:u,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,x.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=d6(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function d6(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class pR extends ht{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pR.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new pR(e,t,r,i)}}function h6(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?pR._fromErrorAndOperation(n,s,e,r):s})}function zL(){return zL=(0,x.Z)(function*(n,e,t=!1){const r=yield Ih(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return cc._forOperation(n,"link",r)}),zL.apply(this,arguments)}function qL(){return qL=(0,x.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ih(n,h6(r,i,e,n),t);Kt(s.idToken,r,"internal-error");const u=aR(s.idToken);Kt(u,r,"internal-error");const{sub:d}=u;return Kt(n.uid===d,r,"user-mismatch"),cc._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&nu(r,"user-mismatch"),s}}),qL.apply(this,arguments)}function WL(){return WL=(0,x.Z)(function*(n,e,t=!1){const r="signIn",i=yield h6(n,r,e),s=yield cc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),WL.apply(this,arguments)}const mR="__sak";class _6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mR,"1"),this.storage.removeItem(mR),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OZ=(()=>{class n extends _6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MZ(){const n=kt();return pL(n)||cR(n)}()&&function BY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qj(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((d,f,g)=>{this.notifyListeners(d,g)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(i);if(t.newValue!==d)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);!function VY(){return We()&&10===document.documentMode}()||u===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,x.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,x.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,x.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),y6=(()=>{class n extends _6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let LZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,x.Z)(function*(){const i=t,{eventId:s,eventType:u,data:d}=i.data,f=r.handlersMap[u];if(null==f||!f.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:u});const g=Array.from(f).map(function(){var A=(0,x.Z)(function*(U){return U(i.origin,d)});return function(U){return A.apply(this,arguments)}}()),I=yield function FZ(n){return Promise.all(n.map(function(){var e=(0,x.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:I})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function T2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class VZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,x.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,d;return new Promise((f,g)=>{const I=T2("",20);s.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(U){const Z=U;if(Z.data.eventId===I)switch(Z.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(Z.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"))}}},i.handlers.add(d),s.port1.addEventListener("message",d.onMessage),i.target.postMessage({eventType:e,eventId:I,data:t},[s.port2])}).finally(()=>{d&&i.removeMessageHandler(d)})})()}}function io(){return window}function b2(){return typeof io().WorkerGlobalScope<"u"&&"function"==typeof io().importScripts}function D2(){return(D2=(0,x.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const v6="firebaseLocalStorageDb",_R="firebaseLocalStorage",I6="fbase_key";class db{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yR(n,e){return n.transaction([_R],e?"readwrite":"readonly").objectStore(_R)}function C2(){const n=indexedDB.open(v6,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_R,{keyPath:I6})}catch(i){t(i)}}),n.addEventListener("success",(0,x.Z)(function*(){const r=n.result;r.objectStoreNames.contains(_R)?e(r):(r.close(),yield function zZ(){const n=indexedDB.deleteDatabase(v6);return new db(n).toPromise()}(),e(yield C2()))}))})}function E6(n,e,t){return A2.apply(this,arguments)}function A2(){return A2=(0,x.Z)(function*(n,e,t){const r=yR(n,!0).put({[I6]:e,value:t});return new db(r).toPromise()}),A2.apply(this,arguments)}function S2(){return S2=(0,x.Z)(function*(n,e){const t=yR(n,!1).get(e),r=yield new db(t).toPromise();return void 0===r?null:r.value}),S2.apply(this,arguments)}function w6(n,e){const t=yR(n,!0).delete(e);return new db(t).toPromise()}const KZ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,x.Z)(function*(){return t.db||(t.db=yield C2()),t.db})()}_withRetries(t){var r=this;return(0,x.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,x.Z)(function*(){return b2()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,x.Z)(function*(){t.receiver=LZ._getInstance(function jZ(){return b2()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,x.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,x.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,x.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function $Z(){return D2.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new VZ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,x.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function UZ(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,x.Z)(function*(){try{if(!indexedDB)return!1;const t=yield C2();return yield E6(t,mR,"1"),yield w6(t,mR),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,x.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,x.Z)(function*(){return i._withPendingWrite((0,x.Z)(function*(){return yield i._withRetries(s=>E6(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,x.Z)(function*(){const i=yield r._withRetries(s=>function HZ(n,e){return S2.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,x.Z)(function*(){return r._withPendingWrite((0,x.Z)(function*(){return yield r._withRetries(i=>w6(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,x.Z)(function*(){const r=yield t._withRetries(u=>{const d=yR(u,!1).getAll();return new db(d).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:u,value:d}of r)s.add(u),JSON.stringify(t.localCache[u])!==JSON.stringify(d)&&(t.notifyListeners(u,d),i.push(u));for(const u of Object.keys(t.localCache))t.localCache[u]&&!s.has(u)&&(t.notifyListeners(u,null),i.push(u));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,x.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();r6("rcb"),new rb(3e4,6e4);class L2 extends XY{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lQ(n){return function g6(n,e){return WL.apply(this,arguments)}(n.auth,new L2(n),n.bypassAuthState)}function dQ(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),function p6(n,e){return qL.apply(this,arguments)}(t,new L2(n),n.bypassAuthState)}function hQ(n){return V2.apply(this,arguments)}function V2(){return V2=(0,x.Z)(function*(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),function GL(n,e){return zL.apply(this,arguments)}(t,new L2(n),n.bypassAuthState)}),V2.apply(this,arguments)}class fQ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,x.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,x.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:u,error:d,type:f}=e;if(d)return void t.reject(d);const g={auth:t.auth,requestUri:r,sessionId:i,tenantId:u||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(f)(g))}catch(I){t.reject(I)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lQ;case"linkViaPopup":case"linkViaRedirect":return hQ;case"reauthViaPopup":case"reauthViaRedirect":return dQ;default:nu(this.auth,"internal-error")}}resolve(e){Xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new rb(2e3,1e4);const pQ="pendingRedirect",hb=new Map;class gQ extends fQ{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,x.Z)(function*(){let r=hb.get(t.auth._key());if(!r){try{const s=(yield function mQ(n,e){return G2.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hb.set(t.auth._key(),r)}return t.bypassAuthState||hb.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,x.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,x.Z)(function*(){})()}cleanUp(){}}function G2(){return G2=(0,x.Z)(function*(n,e){const t=function D6(n){return uR(pQ,n.config.apiKey,n.name)}(e),r=function b6(n){return Eh(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),G2.apply(this,arguments)}function _Q(n,e){hb.set(n._key(),e)}function C6(n,e){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,x.Z)(function*(n,e,t=!1){const r=Oo(n),i=function Qm(n,e){return e?Eh(e):(Kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),u=yield new gQ(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,yield r._persistUserIfCurrent(u.user),yield r._setRedirectUser(null,e)),u}),Z2.apply(this,arguments)}class wQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function TQ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x6(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!x6(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(zl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S6(e))}saveEventToCache(e){this.cachedEventUids.add(S6(e)),this.lastProcessedEventTime=Date.now()}}function S6(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function x6({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function X2(){return X2=(0,x.Z)(function*(n,e={}){return ps(n,"GET","/v1/projects",e)}),X2.apply(this,arguments)}const DQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CQ=/^https?/;function J2(){return J2=(0,x.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function bQ(n){return X2.apply(this,arguments)}(n);for(const t of e)try{if(SQ(t))return}catch{}nu(n,"unauthorized-domain")}),J2.apply(this,arguments)}function SQ(n){const e=nb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return""===u.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&u.hostname===r}if(!CQ.test(t))return!1;if(DQ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xQ=new rb(3e4,6e4);function R6(){const n=io().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let IR=null;const MQ=new rb(5e3,15e3),kQ="__/auth/iframe",NQ="emulator/auth/iframe",OQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LQ(n){const e=n.config;Kt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tL(e,NQ):`https://${n.config.authDomain}/${kQ}`,r={apiKey:e.apiKey,appName:n.name,v:qv},i=FQ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${dr(r).slice(1)}`}function eV(){return eV=(0,x.Z)(function*(n){const e=yield function PQ(n){return IR=IR||function RQ(n){return new Promise((e,t)=>{var r,i,s;function u(){R6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R6(),t(zl(n,"network-request-failed"))},timeout:xQ.get()})}if(null!==(i=null===(r=io().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=io().gapi)||void 0===s||!s.load){const d=r6("iframefcb");return io()[d]=()=>{gapi.load?u():t(zl(n,"network-request-failed"))},_L(`https://apis.google.com/js/api.js?onload=${d}`).catch(f=>t(f))}u()}}).catch(e=>{throw IR=null,e})}(n),IR}(n),t=io().gapi;return Kt(t,n,"internal-error"),e.open({where:document.body,url:LQ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OQ,dontclear:!0},r=>new Promise(function(){var i=(0,x.Z)(function*(s,u){yield r.restyle({setHideOnLeave:!1});const d=zl(n,"network-request-failed"),f=io().setTimeout(()=>{u(d)},MQ.get());function g(){io().clearTimeout(f),s(r)}r.ping(g).then(g,()=>{u(d)})});return function(s,u){return i.apply(this,arguments)}}()))}),eV.apply(this,arguments)}const BQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class P6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qQ="__/auth/handler",WQ="emulator/auth/handler",KQ=encodeURIComponent("fac");function M6(n,e,t,r,i,s){return tV.apply(this,arguments)}function tV(){return tV=(0,x.Z)(function*(n,e,t,r,i,s){Kt(n.config.authDomain,n,"auth-domain-config-required"),Kt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qv,eventId:i};if(e instanceof tp){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Pn(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,A]of Object.entries(s||{}))u[I]=A}if(e instanceof hZ){const I=e.getScopes().filter(A=>""!==A);I.length>0&&(u.scopes=I.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const I of Object.keys(d))void 0===d[I]&&delete d[I];const f=yield n._getAppCheckToken(),g=f?`#${KQ}=${encodeURIComponent(f)}`:"";return`${function YQ({config:n}){return n.emulator?tL(n,WQ):`https://${n.authDomain}/${qQ}`}(n)}?${dr(d).slice(1)}${g}`}),tV.apply(this,arguments)}const nV="webStorageSupport",QQ=class ZQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y6,this._completeRedirectFn=C6,this._overrideRedirectResult=_Q}_openPopup(e,t,r,i){var s=this;return(0,x.Z)(function*(){var u;Xf(null===(u=s.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()");const d=yield M6(e,t,r,nb(),i);return function zQ(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},BQ),{width:r.toString(),height:i.toString(),top:s,left:u}),g=kt().toLowerCase();t&&(d=qj(g)?"_blank":t),Hj(g)&&(e=e||"http://localhost",f.scrollbars="yes");const I=Object.entries(f).reduce((U,[Z,ye])=>`${U}${Z}=${ye},`,"");if(function LY(n=kt()){var e;return cR(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==d)return function HQ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",d),new P6(null);const A=window.open(e||"",d,I);Kt(A,n,"popup-blocked");try{A.focus()}catch{}return new P6(A)}(e,d,T2())})()}_openRedirect(e,t,r,i){var s=this;return(0,x.Z)(function*(){return yield s._originValidation(e),function BZ(n){io().location.href=n}(yield M6(e,t,r,nb(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Xf(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,x.Z)(function*(){const r=yield function VQ(n){return eV.apply(this,arguments)}(e),i=new wQ(e);return r.register("authEvent",s=>(Kt(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nV,{type:nV},i=>{var s;const u=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[nV];void 0!==u&&t(!!u),nu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function AQ(n){return J2.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qj()||pL()||cR()}};var O6="@firebase/auth";class XQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,x.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nX=it("authIdTokenMaxAge")||300;let L6=null;const rX=n=>function(){var e=(0,x.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>nX)return;const s=null==r?void 0:r.token;L6!==s&&(L6=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function iX(n=bN()){const e=Gx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function WY(n,e){const t=Gx(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Ar(t.getOptions(),null!=e?e:{}))return i;nu(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:QQ,persistence:[KZ,OZ,y6]}),r=it("authTokenSyncURL");if(r){const s=rX(r);(function AZ(n,e,t){Xe(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function CZ(n,e,t,r){Xe(n).onIdTokenChanged(e,t,r)}(t,u=>s(u))}const i=st("auth");return i&&function YY(n,e,t){const r=Oo(n);Kt(r._canInitEmulator,r,"emulator-config-failed"),Kt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!(null==t||!t.disableWarnings),s=o6(e),{host:u,port:d}=function ZY(n){const e=o6(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:a6(r.substr(s.length+1))}}{const[s,u]=r.split(":");return{host:s,port:a6(u)}}}(e);r.config.emulator={url:`${s}//${u}${null===d?"":`:${d}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function QY(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function eX(n){Hv(new Ht("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Kt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xj(n)},g=new qY(r,i,s,f);return function KY(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Eh);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hv(new Ht("auth-internal",e=>{const t=Oo(e.getProvider("auth").getImmediate());return new XQ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ku(O6,"0.23.2",function JQ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ku(O6,"0.23.2","esm2017")}("Browser");class iV{constructor(e){return e}}class B6{constructor(){return CF("auth")}}const sV=new de.OlP("angularfire2.auth-instances");function oX(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new iV(r)}}const aX={provide:B6,deps:[[new de.FiY,sV]]},uX={provide:iV,useFactory:function sX(n,e){const t=DF("auth",n,e);return t&&new iV(t)},deps:[[new de.FiY,sV],Zv]};let cX=(()=>{class n{constructor(){ku("angularfire",Qx.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=de.oAB({type:n}),n.\u0275inj=de.cJS({providers:[uX,aX]}),n})();function lX(n,...e){return{ngModule:cX,providers:[{provide:sV,useFactory:oX(n),multi:!0,deps:[de.R0b,de.zs3,AF,xF,[new de.FiY,QF],...e]}]}}const dX=SF(iX,!0);var nn,hX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zc={},oV=oV||{},Gn=hX||self;function wR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var aV="closure_uid_"+(1e9*Math.random()>>>0),pX=0;function gX(n,e,t){return n.call.apply(n.bind,arguments)}function mX(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ma(n,e,t){return(ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gX:mX).apply(null,arguments)}function TR(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[i].apply(r,u)}}function np(){this.s=this.s,this.o=this.o}np.prototype.s=!1,np.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fX(n){Object.prototype.hasOwnProperty.call(n,aV)&&n[aV]||(n[aV]=++pX)}(this)},np.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $6=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function uV(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function U6(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wR(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function _a(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_a.prototype.h=function(){this.defaultPrevented=!0};var yX=function(){if(!Gn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gn.addEventListener("test",()=>{},e),Gn.removeEventListener("test",()=>{},e)}catch{}return n}();function pb(n){return/^[\s\xa0]*$/.test(n)}function bR(){var n=Gn.navigator;return n&&(n=n.userAgent)?n:""}function ql(n){return-1!=bR().indexOf(n)}function cV(n){return cV[" "](n),n}cV[" "]=function(){};var dV,IX=ql("Opera"),tI=ql("Trident")||ql("MSIE"),j6=ql("Edge"),lV=j6||tI,G6=ql("Gecko")&&!(-1!=bR().toLowerCase().indexOf("webkit")&&!ql("Edge"))&&!(ql("Trident")||ql("MSIE"))&&!ql("Edge"),EX=-1!=bR().toLowerCase().indexOf("webkit")&&!ql("Edge");function z6(){var n=Gn.document;return n?n.documentMode:void 0}e:{var hV="",fV=function(){var n=bR();return G6?/rv:([^\);]+)(\)|;)/.exec(n):j6?/Edge\/([\d\.]+)/.exec(n):tI?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EX?/WebKit\/(\S+)/.exec(n):IX?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(fV&&(hV=fV?fV[1]:""),tI){var pV=z6();if(null!=pV&&pV>parseFloat(hV)){dV=String(pV);break e}}dV=hV}var wX=Gn.document&&tI&&(z6()||parseInt(dV,10))||void 0;function gb(n,e){if(_a.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(G6){e:{try{cV(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:TX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gb.$.h.call(this)}}Fo(gb,_a);var TX={2:"touch",3:"pen",4:"mouse"};gb.prototype.h=function(){gb.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mb="closure_listenable_"+(1e6*Math.random()|0),bX=0;function DX(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++bX,this.fa=this.ia=!1}function DR(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function mV(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function q6(n){const e={};for(const t in n)e[t]=n[t];return e}const W6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K6(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<W6.length;s++)t=W6[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function CR(n){this.src=n,this.g={},this.h=0}function _V(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$6(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(DR(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yV(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}CR.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=yV(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new DX(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var vV="closure_lm_"+(1e6*Math.random()|0),IV={};function Y6(n,e,t,r,i){if(r&&r.once)return Q6(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y6(n,e[s],t,r,i);return null}return t=bV(t),n&&n[mb]?n.O(e,t,fb(r)?!!r.capture:!!r,i):Z6(n,e,t,!1,r,i)}function Z6(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=fb(i)?!!i.capture:!!i,d=wV(n);if(d||(n[vV]=d=new CR(n)),(t=d.add(e,t,r,u,s)).proxy)return t;if(r=function AX(){const e=SX;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yX||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(J6(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Q6(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q6(n,e[s],t,r,i);return null}return t=bV(t),n&&n[mb]?n.P(e,t,fb(r)?!!r.capture:!!r,i):Z6(n,e,t,!0,r,i)}function X6(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X6(n,e[s],t,r,i);else r=fb(r)?!!r.capture:!!r,t=bV(t),n&&n[mb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yV(s=n.g[e],t,r,i))&&(DR(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=wV(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yV(e,t,r,i)),(t=-1<n?e[n]:null)&&EV(t))}function EV(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mb])_V(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(J6(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=wV(e))?(_V(t,n),0==t.h&&(t.src=null,e[vV]=null)):DR(n)}}}function J6(n){return n in IV?IV[n]:IV[n]="on"+n}function SX(n,e){if(n.fa)n=!0;else{e=new gb(e,this);var t=n.listener,r=n.la||n.src;n.ia&&EV(n),n=t.call(r,e)}return n}function wV(n){return(n=n[vV])instanceof CR?n:null}var TV="__closure_events_fn_"+(1e9*Math.random()>>>0);function bV(n){return"function"==typeof n?n:(n[TV]||(n[TV]=function(e){return n.handleEvent(e)}),n[TV])}function Lo(){np.call(this),this.i=new CR(this),this.S=this,this.J=null}function na(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _a(e,n);else if(e instanceof _a)e.target=e.target||n;else{var i=e;K6(e=new _a(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=AR(u,r,!0,e)&&i}if(i=AR(u=e.g=n,r,!0,e)&&i,i=AR(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=AR(u=e.g=t[s],r,!1,e)&&i}function AR(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var d=u.listener,f=u.la||u.src;u.ia&&_V(n.i,u),i=!1!==d.call(f,r)&&i}}return i&&!r.defaultPrevented}Fo(Lo,np),Lo.prototype[mb]=!0,Lo.prototype.removeEventListener=function(n,e,t,r){X6(this,n,e,t,r)},Lo.prototype.N=function(){if(Lo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)DR(t[r]);delete n.g[e],n.h--}}this.J=null},Lo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lo.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var DV=Gn.JSON.stringify;function RX(){var n=CV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var e5=new class xX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new MX,n=>n.reset());class MX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function NX(n){Gn.setTimeout(()=>{throw n},0)}let _b,yb=!1,CV=new class PX{constructor(){this.h=this.g=null}add(e,t){const r=e5.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},t5=()=>{const n=Gn.Promise.resolve(void 0);_b=()=>{n.then(OX)}};var OX=()=>{for(var n;n=RX();){try{n.h.call(n.g)}catch(t){NX(t)}var e=e5;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yb=!1};function SR(n,e){Lo.call(this),this.h=n||1,this.g=e||Gn,this.j=ma(this.qb,this),this.l=Date.now()}function AV(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function SV(n,e,t){if("function"==typeof n)t&&(n=ma(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ma(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gn.setTimeout(n,e||0)}function n5(n){n.g=SV(()=>{n.g=null,n.i&&(n.i=!1,n5(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fo(SR,Lo),(nn=SR.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),na(this,"tick"),this.ga&&(AV(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){SR.$.N.call(this),AV(this),delete this.g};class FX extends np{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:n5(this)}N(){super.N(),this.g&&(Gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vb(n){np.call(this),this.h=n,this.g={}}Fo(vb,np);var r5=[];function i5(n,e,t,r){Array.isArray(t)||(t&&(r5[0]=t.toString()),t=r5);for(var i=0;i<t.length;i++){var s=Y6(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function s5(n){mV(n.g,function(e,t){this.g.hasOwnProperty(t)&&EV(e)},n),n.g={}}function xR(){this.g=!0}function nI(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $X(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return DV(t)}catch{return e}}(n,t)+(r?" "+r:"")})}vb.prototype.N=function(){vb.$.N.call(this),s5(this)},vb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xR.prototype.Ea=function(){this.g=!1},xR.prototype.info=function(){};var Xm={},o5=null;function RR(){return o5=o5||new Lo}function a5(n){_a.call(this,Xm.Ta,n)}function Ib(n){const e=RR();na(e,new a5(e))}function u5(n,e){_a.call(this,Xm.STAT_EVENT,n),this.stat=e}function Fa(n){const e=RR();na(e,new u5(e,n))}function c5(n,e){_a.call(this,Xm.Ua,n),this.size=e}function Eb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gn.setTimeout(function(){n()},e)}Xm.Ta="serverreachability",Fo(a5,_a),Xm.STAT_EVENT="statevent",Fo(u5,_a),Xm.Ua="timingevent",Fo(c5,_a);var PR={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},l5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xV(){}function h5(){}xV.prototype.h=null;var MV,wb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function RV(){_a.call(this,"d")}function PV(){_a.call(this,"c")}function MR(){}function Tb(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new vb(this),this.P=UX,this.V=new SR(n=lV?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new f5}function f5(){this.i=null,this.g="",this.h=!1}Fo(RV,_a),Fo(PV,_a),Fo(MR,xV),MR.prototype.g=function(){return new XMLHttpRequest},MR.prototype.i=function(){return{}},MV=new MR;var UX=45e3,kV={},kR={};function NV(n,e,t){n.L=1,n.v=LR(Th(e)),n.s=t,n.S=!0,p5(n,null)}function p5(n,e){n.G=Date.now(),bb(n),n.A=Th(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),b5(t.i,"t",r),n.C=0,t=n.l.J,n.h=new f5,n.g=K5(n.l,t?e:null,!n.s),0<n.O&&(n.M=new FX(ma(n.Pa,n,n.g),n.O)),i5(n.U,n.g,"readystatechange",n.nb),e=n.I?q6(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ib(),function LX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var I=g[0];g=g[1];var A=I.split("_");u=2<=A.length&&"type"==A[1]?u+(I+"=")+g+"&":u+(I+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function g5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function m5(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=jX(n,t),i==kR){4==e&&(n.o=4,Fa(14),r=!1),nI(n.j,n.m,null,"[Incomplete Response]");break}if(i==kV){n.o=4,Fa(15),nI(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}nI(n.j,n.m,i,null),OV(n,i)}g5(n)&&i!=kR&&i!=kV&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fa(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jV(e),e.M=!0,Fa(11))):(nI(n.j,n.m,t,"[Invalid Chunked Response]"),Jm(n),Db(n))}function jX(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kR:(t=Number(e.substring(t,r)),isNaN(t)?kV:(r+=1)+t>e.length?kR:(e=e.slice(r,r+t),n.C=r+t,e))}function bb(n){n.Y=Date.now()+n.P,_5(n,n.P)}function _5(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eb(ma(n.lb,n),e)}function NR(n){n.B&&(Gn.clearTimeout(n.B),n.B=null)}function Db(n){0==n.l.H||n.J||z5(n.l,n)}function Jm(n){NR(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,AV(n.V),s5(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function OV(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||FV(t.i,n)))if(!n.K&&FV(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;GR(t),UR(t)}UV(t),Fa(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Eb(ma(t.ib,t),6e3));if(1>=A5(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else t_(t,11)}else if((n.K||t.g==n)&&GR(t),!pb(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const I=g[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const A=g[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const U=g[5];null!=U&&"number"==typeof U&&0<U&&(t.L=r=1.5*U,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ye=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var s=r.i;s.g||-1==ye.indexOf("spdy")&&-1==ye.indexOf("quic")&&-1==ye.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(LV(s,s.h),s.h=null))}if(r.F){const Fe=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.Da=Fe,xi(r.I,r.F,Fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=W5(r,r.J?r.pa:null,r.Y),u.K){S5(r.i,u);var d=u,f=r.L;f&&d.setTimeout(f),d.B&&(NR(d),bb(d)),r.g=u}else j5(r);0<t.j.length&&jR(t)}else"stop"!=g[0]&&"close"!=g[0]||t_(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?t_(t,7):$V(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}Ib()}catch{}}function y5(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wR(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function zX(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wR(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function GX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wR(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(nn=Tb.prototype).setTimeout=function(n){this.P=n},nn.nb=function(n){n=n.target;const e=this.M;e&&3==Wl(n)?e.l():this.Pa(n)},nn.Pa=function(n){try{if(n==this.g)e:{const I=Wl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||lV||this.g&&(this.h.h||this.g.ja()||F5(this.g)))){this.J||4!=I||7==e||Ib(),NR(this);var t=this.g.da();this.ca=t;t:if(g5(this)){var r=F5(this.g);n="";var i=r.length,s=4==Wl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jm(this),Db(this);var u="";break t}this.h.i=new Gn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function VX(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pb(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,Fa(12),Jm(this),Db(this);break e}nI(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OV(this,t)}this.S?(m5(this,I,u),lV&&this.i&&3==I&&(i5(this.U,this.V,"tick",this.mb),this.V.start())):(nI(this.j,this.m,u,null),OV(this,u)),4==I&&Jm(this),this.i&&!this.J&&(4==I?z5(this.l,this):(this.i=!1,bb(this)))}else(function uJ(n){const e={};n=(n.g&&2<=Wl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(pb(n[r]))continue;var t=kX(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function CX(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Fa(12)):(this.o=0,Fa(13)),Jm(this),Db(this)}}}catch{}},nn.mb=function(){if(this.g){var n=Wl(this.g),e=this.g.ja();this.C<e.length&&(NR(this),m5(this,n,e),this.i&&4!=n&&bb(this))}},nn.cancel=function(){this.J=!0,Jm(this)},nn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function BX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ib(),Fa(17)),Jm(this),this.o=2,Db(this)):_5(this,this.Y-n)};var v5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e_(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof e_){this.h=n.h,OR(this,n.j),this.s=n.s,this.g=n.g,FR(this,n.m),this.l=n.l;var e=n.i,t=new Sb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),I5(this,t),this.o=n.o}else n&&(e=String(n).match(v5))?(this.h=!1,OR(this,e[1]||"",!0),this.s=Cb(e[2]||""),this.g=Cb(e[3]||"",!0),FR(this,e[4]),this.l=Cb(e[5]||"",!0),I5(this,e[6]||"",!0),this.o=Cb(e[7]||"")):(this.h=!1,this.i=new Sb(null,this.h))}function Th(n){return new e_(n)}function OR(n,e,t){n.j=t?Cb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function FR(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function I5(n,e,t){e instanceof Sb?(n.i=e,function QX(n,e){e&&!n.j&&(rp(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(w5(this,r),b5(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ab(e,YX)),n.i=new Sb(e,n.h))}function xi(n,e,t){n.i.set(e,t)}function LR(n){return xi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ab(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}e_.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ab(e,E5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ab(e,E5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ab(t,"/"==t.charAt(0)?KX:WX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ab(t,ZX)),n.join("")};var E5=/[#\/\?@]/g,WX=/[#\?:]/g,KX=/[#\?]/g,YX=/[#\?@]/g,ZX=/#/g;function Sb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rp(n){n.g||(n.g=new Map,n.h=0,n.i&&function HX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function w5(n,e){rp(n),e=rI(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function T5(n,e){return rp(n),e=rI(n,e),n.g.has(e)}function b5(n,e,t){w5(n,e),0<t.length&&(n.i=null,n.g.set(rI(n,e),uV(t)),n.h+=t.length)}function rI(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D5(n){this.l=n||JX,n=Gn.PerformanceNavigationTiming?0<(n=Gn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gn.g&&Gn.g.Ka&&Gn.g.Ka()&&Gn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=Sb.prototype).add=function(n,e){rp(this),this.i=null,n=rI(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nn.forEach=function(n,e){rp(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},nn.ta=function(){rp(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},nn.Z=function(n){rp(this);let e=[];if("string"==typeof n)T5(this,n)&&(e=e.concat(this.g.get(rI(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nn.set=function(n,e){return rp(this),this.i=null,T5(this,n=rI(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var JX=10;function C5(n){return!!n.h||!!n.g&&n.g.size>=n.j}function A5(n){return n.h?1:n.g?n.g.size:0}function FV(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function LV(n,e){n.g?n.g.add(e):n.h=e}function S5(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function x5(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return uV(n.i)}D5.prototype.cancel=function(){if(this.i=x5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var eJ=class{stringify(n){return Gn.JSON.stringify(n,void 0)}parse(n){return Gn.JSON.parse(n,void 0)}};function tJ(){this.g=new eJ}function nJ(n,e,t){const r=t||"";try{y5(n,function(i,s){let u=i;fb(i)&&(u=DV(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VR(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xb(n){this.l=n.fc||null,this.j=n.ob||!1}function BR(n,e){Lo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=VV,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fo(xb,xV),xb.prototype.g=function(){return new BR(this.l,this.j)},xb.prototype.i=function(n){return function(){return n}}({}),Fo(BR,Lo);var VV=0;function R5(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pb(n)}function Pb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nn=BR.prototype).open=function(n,e){if(this.readyState!=VV)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pb(this)},nn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Gn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rb(this)),this.readyState=VV},nn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pb(this)),this.g&&(this.readyState=3,Pb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;R5(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rb(this):Pb(this),3==this.readyState&&R5(this)}},nn.Za=function(n){this.g&&(this.response=this.responseText=n,Rb(this))},nn.Ya=function(n){this.g&&(this.response=n,Rb(this))},nn.ka=function(){this.g&&Rb(this)},nn.setRequestHeader=function(n,e){this.v.append(n,e)},nn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(BR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iJ=Gn.JSON.parse;function gs(n){Lo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P5,this.L=this.M=!1}Fo(gs,Lo);var P5="",sJ=/^https?$/i,oJ=["POST","PUT"];function M5(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,k5(n),$R(n)}function k5(n){n.F||(n.F=!0,na(n,"complete"),na(n,"error"))}function N5(n){if(n.h&&typeof oV<"u"&&(!n.C[1]||4!=Wl(n)||2!=n.da()))if(n.v&&4==Wl(n))SV(n.La,0,n);else if(na(n,"readystatechange"),4==Wl(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(v5)[1]||null;!i&&Gn.self&&Gn.self.location&&(i=Gn.self.location.protocol.slice(0,-1)),r=!sJ.test(i?i.toLowerCase():"")}t=r}if(t)na(n,"complete"),na(n,"success");else{n.m=6;try{var s=2<Wl(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",k5(n)}}finally{$R(n)}}}function $R(n,e){if(n.g){O5(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||na(n,"ready");try{t.onreadystatechange=r}catch{}}}function O5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Gn.clearTimeout(n.A),n.A=null)}function Wl(n){return n.g?n.g.readyState:0}function F5(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case P5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function L5(n){let e="";return mV(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function BV(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=L5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xi(n,e,t))}function Mb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function V5(n){this.Ga=0,this.j=[],this.l=new xR,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mb("baseRetryDelayMs",5e3,n),this.hb=Mb("retryDelaySeedMs",1e4,n),this.eb=Mb("forwardChannelMaxRetries",2,n),this.xa=Mb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new D5(n&&n.concurrentRequestLimit),this.Ja=new tJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $V(n){if(B5(n),3==n.H){var e=n.W++,t=Th(n.I);if(xi(t,"SID",n.K),xi(t,"RID",e),xi(t,"TYPE","terminate"),kb(n,t),(e=new Tb(n,n.l,e)).L=2,e.v=LR(Th(t)),t=!1,Gn.navigator&&Gn.navigator.sendBeacon)try{t=Gn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Gn.Image&&((new Image).src=e.v,t=!0),t||(e.g=K5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bb(e)}q5(n)}function UR(n){n.g&&(jV(n),n.g.cancel(),n.g=null)}function B5(n){UR(n),n.u&&(Gn.clearTimeout(n.u),n.u=null),GR(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gn.clearTimeout(n.m),n.m=null)}function jR(n){if(!C5(n.i)&&!n.m){n.m=!0;var e=n.Na;_b||t5(),yb||(_b(),yb=!0),CV.add(e,n),n.C=0}}function $5(n,e){var t;t=e?e.m:n.W++;const r=Th(n.I);xi(r,"SID",n.K),xi(r,"RID",t),xi(r,"AID",n.V),kb(n,r),n.o&&n.s&&BV(r,n.o,n.s),t=new Tb(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=U5(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),LV(n.i,t),NV(t,r,e)}function kb(n,e){n.na&&mV(n.na,function(t,r){xi(e,r,t)}),n.h&&y5({},function(t,r){xi(e,r,t)})}function U5(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ma(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=i[f].g;const I=i[f].map;if(g-=s,0>g)s=Math.max(0,i[f].g-100),d=!1;else try{nJ(I,u,"req"+g+"_")}catch{r&&r(I)}}if(d){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function j5(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_b||t5(),yb||(_b(),yb=!0),CV.add(e,n),n.A=0}}function UV(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Eb(ma(n.Ma,n),H5(n,n.A)),n.A++,0))}function jV(n){null!=n.B&&(Gn.clearTimeout(n.B),n.B=null)}function G5(n){n.g=new Tb(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Th(n.wa);xi(e,"RID","rpc"),xi(e,"SID",n.K),xi(e,"AID",n.V),xi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xi(e,"TO",n.qa),xi(e,"TYPE","xmlhttp"),kb(n,e),n.o&&n.s&&BV(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=LR(Th(e)),t.s=null,t.S=!0,p5(t,n)}function GR(n){null!=n.v&&(Gn.clearTimeout(n.v),n.v=null)}function z5(n,e){var t=null;if(n.g==e){GR(n),jV(n),n.g=null;var r=2}else{if(!FV(n.i,e))return;t=e.F,S5(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;na(r=RR(),new c5(r,t)),jR(n)}else j5(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function cJ(n,e){return!(A5(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Eb(ma(n.Na,n,e),H5(n,n.C)),n.C++,0)))}(n,e)||2==r&&UV(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:t_(n,5);break;case 4:t_(n,10);break;case 3:t_(n,6);break;default:t_(n,2)}}function H5(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function t_(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ma(n.pb,n);t||(t=new e_("//www.google.com/images/cleardot.gif"),Gn.location&&"http"==Gn.location.protocol||OR(t,"https"),LR(t)),function rJ(n,e){const t=new xR;if(Gn.Image){const r=new Image;r.onload=TR(VR,t,r,"TestLoadImage: loaded",!0,e),r.onerror=TR(VR,t,r,"TestLoadImage: error",!1,e),r.onabort=TR(VR,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=TR(VR,t,r,"TestLoadImage: timeout",!1,e),Gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fa(2);n.H=0,n.h&&n.h.za(e),q5(n),B5(n)}function q5(n){if(n.H=0,n.ma=[],n.h){const e=x5(n.i);(0!=e.length||0!=n.j.length)&&(U6(n.ma,e),U6(n.ma,n.j),n.i.i.length=0,uV(n.j),n.j.length=0),n.h.ya()}}function W5(n,e,t){var r=t instanceof e_?Th(t):new e_(t);if(""!=r.g)e&&(r.g=e+"."+r.g),FR(r,r.m);else{var i=Gn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new e_(null);r&&OR(s,r),e&&(s.g=e),i&&FR(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&xi(r,t,e),xi(r,"VER",n.ra),kb(n,r),r}function K5(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gs(t&&n.Ha&&!n.va?new xb({ob:!0}):n.va)).Oa(n.J),e}function Y5(){}function zR(){if(tI&&!(10<=Number(wX)))throw Error("Environmental error: no available transport.")}function Nu(n,e){Lo.call(this),this.g=new V5(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!pb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pb(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new iI(this)}function Z5(n){RV.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Q5(){PV.call(this),this.status=1}function iI(n){this.g=n}function Qc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function GV(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;u=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=s+((u=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Xr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(nn=gs.prototype).Oa=function(n){this.M=n},nn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MV.g(),this.C=function d5(n){return n.h||(n.h=n.i())}(this.u?this.u:MV),this.g.onreadystatechange=ma(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void M5(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Gn.FormData&&n instanceof Gn.FormData,!(0<=$6(oJ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{O5(this),0<this.B&&((this.L=function aJ(n){return tI&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ma(this.ua,this)):this.A=SV(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){M5(this,s)}},nn.ua=function(){typeof oV<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,na(this,"timeout"),this.abort(8))},nn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,na(this,"complete"),na(this,"abort"),$R(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$R(this,!0)),gs.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?N5(this):this.kb())},nn.kb=function(){N5(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<Wl(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iJ(e)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=V5.prototype).ra=8,nn.H=1,nn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Tb(this,this.l,n);let s=this.s;if(this.U&&(s?(s=q6(s),K6(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=U5(this,i,e),xi(t=Th(this.I),"RID",n),xi(t,"CVER",22),this.F&&xi(t,"X-HTTP-Session-Id",this.F),kb(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(L5(s)))+"&"+e:this.o&&BV(t,this.o,s)),LV(this.i,i),this.bb&&xi(t,"TYPE","init"),this.P?(xi(t,"$req",e),xi(t,"SID","null"),i.aa=!0,NV(i,t,null)):NV(i,t,e),this.H=2}}else 3==this.H&&(n?$5(this,n):0==this.j.length||C5(this.i)||$5(this))},nn.Ma=function(){if(this.u=null,G5(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Eb(ma(this.jb,this),n)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fa(10),UR(this),G5(this))},nn.ib=function(){null!=this.v&&(this.v=null,UR(this),UV(this),Fa(19))},nn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fa(2)):(this.l.info("Failed to ping google.com"),Fa(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=Y5.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},zR.prototype.g=function(n,e){return new Nu(n,e)},Fo(Nu,Lo),Nu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Fa(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=W5(n,null,n.Y),jR(n)},Nu.prototype.close=function(){$V(this.g)},Nu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=DV(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&jR(e)},Nu.prototype.N=function(){this.g.h=null,delete this.j,$V(this.g),delete this.g,Nu.$.N.call(this)},Fo(Z5,RV),Fo(Q5,PV),Fo(iI,Y5),iI.prototype.Ba=function(){na(this.g,"a")},iI.prototype.Aa=function(n){na(this.g,new Z5(n))},iI.prototype.za=function(n){na(this.g,new Q5)},iI.prototype.ya=function(){na(this.g,"b")},Fo(Qc,function lJ(){this.blockSize=-1}),Qc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)GV(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){GV(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){GV(this,r),i=0;break}}this.h=i,this.i+=e},Qc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var dJ={};function zV(n){return-128<=n&&128>n?function vX(n,e){var t=dJ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Xr([0|e],0>e?-1:0)}):new Xr([0|n],0>n?-1:0)}function Kl(n){if(isNaN(n)||!isFinite(n))return sI;if(0>n)return ra(Kl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=HV;return new Xr(e,0)}var HV=4294967296,sI=zV(0),qV=zV(1),J5=zV(16777216);function bh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function lc(n){return-1==n.h}function ra(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Xr(t,~n.h).add(qV)}function HR(n,e){return n.add(ra(e))}function qR(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nb(n,e){this.g=n,this.h=e}function WR(n,e){if(bh(e))throw Error("division by zero");if(bh(n))return new Nb(sI,sI);if(lc(n))return e=WR(ra(n),e),new Nb(ra(e.g),ra(e.h));if(lc(e))return e=WR(n,ra(e)),new Nb(ra(e.g),e.h);if(30<n.g.length){if(lc(n)||lc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qV,r=e;0>=r.X(n);)t=eG(t),r=eG(r);var i=oI(t,1),s=oI(r,1);for(r=oI(r,2),t=oI(t,2);!bh(r);){var u=s.add(r);0>=u.X(n)&&(i=i.add(t),s=u),r=oI(r,1),t=oI(t,1)}return e=HR(n,i.R(e)),new Nb(i,e)}for(i=sI;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(s=Kl(t)).R(e);lc(u)||0<u.X(n);)u=(s=Kl(t-=r)).R(e);bh(s)&&(s=qV),i=i.add(s),n=HR(n,u)}return new Nb(i,n)}function eG(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Xr(t,n.h)}function oI(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Xr(i,n.h)}(nn=Xr.prototype).ea=function(){if(lc(this))return-ra(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:HV+r)*e,e*=HV}return n},nn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(bh(this))return"0";if(lc(this))return"-"+ra(this).toString(n);for(var e=Kl(Math.pow(n,6)),t=this,r="";;){var i=WR(t,e).g,s=((0<(t=HR(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(bh(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},nn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nn.X=function(n){return lc(n=HR(this,n))?-1:bh(n)?0:1},nn.abs=function(){return lc(this)?ra(this):this},nn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),u=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(s&=65535)}return new Xr(t,-2147483648&t[t.length-1]?-1:0)},nn.R=function(n){if(bh(this)||bh(n))return sI;if(lc(this))return lc(n)?ra(this).R(ra(n)):ra(ra(this).R(n));if(lc(n))return ra(this.R(ra(n)));if(0>this.X(J5)&&0>n.X(J5))return Kl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,u=65535&this.D(r),d=n.D(i)>>>16,f=65535&n.D(i);t[2*r+2*i]+=u*f,qR(t,2*r+2*i),t[2*r+2*i+1]+=s*f,qR(t,2*r+2*i+1),t[2*r+2*i+1]+=u*d,qR(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,qR(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Xr(t,0)},nn.gb=function(n){return WR(this,n).h},nn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Xr(t,this.h&n.h)},nn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Xr(t,this.h|n.h)},nn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Xr(t,this.h^n.h)},zR.prototype.createWebChannel=zR.prototype.g,Nu.prototype.send=Nu.prototype.u,Nu.prototype.open=Nu.prototype.m,Nu.prototype.close=Nu.prototype.close,PR.NO_ERROR=0,PR.TIMEOUT=8,PR.HTTP_ERROR=6,l5.COMPLETE="complete",h5.EventType=wb,wb.OPEN="a",wb.CLOSE="b",wb.ERROR="c",wb.MESSAGE="d",Lo.prototype.listen=Lo.prototype.O,gs.prototype.listenOnce=gs.prototype.P,gs.prototype.getLastError=gs.prototype.Sa,gs.prototype.getLastErrorCode=gs.prototype.Ia,gs.prototype.getStatus=gs.prototype.da,gs.prototype.getResponseJson=gs.prototype.Wa,gs.prototype.getResponseText=gs.prototype.ja,gs.prototype.send=gs.prototype.ha,gs.prototype.setWithCredentials=gs.prototype.Oa,Qc.prototype.digest=Qc.prototype.l,Qc.prototype.reset=Qc.prototype.reset,Qc.prototype.update=Qc.prototype.j,Xr.prototype.add=Xr.prototype.add,Xr.prototype.multiply=Xr.prototype.R,Xr.prototype.modulo=Xr.prototype.gb,Xr.prototype.compare=Xr.prototype.X,Xr.prototype.toNumber=Xr.prototype.ea,Xr.prototype.toString=Xr.prototype.toString,Xr.prototype.getBits=Xr.prototype.D,Xr.fromNumber=Kl,Xr.fromString=function X5(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ra(X5(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Kl(Math.pow(e,8)),r=sI,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+s),e);8>s?(s=Kl(Math.pow(e,s)),r=r.R(s).add(Kl(u))):r=(r=r.R(t)).add(Kl(u))}return r},Zc.createWebChannelTransport=function(){return new zR},Zc.getStatEventTarget=function(){return RR()},Zc.ErrorCode=PR,Zc.EventType=l5,Zc.Event=Xm,Zc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zc.FetchXmlHttpFactory=xb,Zc.WebChannel=h5,Zc.XhrIo=gs,Zc.Md5=Qc;var hJ=Zc.Integer=Xr;const tG="@firebase/firestore";class Vo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vo.UNAUTHENTICATED=new Vo(null),Vo.GOOGLE_CREDENTIALS=new Vo("google-credentials-uid"),Vo.FIRST_PARTY=new Vo("first-party-uid"),Vo.MOCK_USER=new Vo("mock-user");let Ob="9.23.0";const ip=new Mr("@firebase/firestore");function Ot(n,...e){if(ip.logLevel<=en.DEBUG){const t=e.map(KV);ip.debug(`Firestore (${Ob}): ${n}`,...t)}}function Ns(n,...e){if(ip.logLevel<=en.ERROR){const t=e.map(KV);ip.error(`Firestore (${Ob}): ${n}`,...t)}}function KV(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function an(n="Unexpected state"){const e=`FIRESTORE (${Ob}) INTERNAL ASSERTION FAILED: `+n;throw Ns(e),new Error(e)}function yn(n,e){n||an()}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Do{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vo.UNAUTHENTICATED))}shutdown(){}}class pJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gJ{constructor(e){this.t=e,this.currentUser=Vo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Do,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable((0,x.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},f=g=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Do)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn("string"==typeof r.accessToken),new nG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yn(null===e||"string"==typeof e),new Vo(e)}}class mJ{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Vo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _J{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yJ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn("string"==typeof t.token),this.T=t.token,new rG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class iG{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=vJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function $n(n,e){return n<e?-1:n>e?1:0}class KR{constructor(e,t,r){void 0===t?t=0:t>e.length&&an(),void 0===r?r=e.length-t:r>e.length-t&&an(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===KR.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof KR?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class br extends KR{construct(e,t,r){return new br(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new br(t)}static emptyPath(){return new br([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(br.fromString(e))}static fromName(e){return new Xt(br.fromString(e).popFirst(5))}static empty(){return new Xt(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new br(e.slice()))}}function op(n){return"IndexedDbTransactionError"===n.name}class Ei{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new Ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new Ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new JR(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new JR(this.root,e,this.comparator,!1)}getReverseIterator(){return new JR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new JR(this.root,e,this.comparator,!0)}}class JR{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ia{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:ia.RED,this.left=null!=i?i:ia.EMPTY,this.right=null!=s?s:ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ia(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ia.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const e=this.left.check();if(e!==this.right.check())throw an();return e+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1,ia.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ia(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(e){this.comparator=e,this.data=new Ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vG(this.data.getIterator())}getIteratorFrom(e){return new vG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ri(this.comparator);return t.data=e,t}}class vG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class IG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Co{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IG("Invalid base64 string: "+i):i}}(e);return new Co(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Co(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ms(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Co.EMPTY_BYTE_STRING=new Co("");class qJ{constructor(e,t,r,i,s,u,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class i_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new i_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof i_&&e.projectId===this.projectId&&e.database===this.database}}var so,Dr;new Ei(Xt.comparator),new Ei(Xt.comparator),new Ei(Xt.comparator),new Ri(Xt.comparator),new Ri($n),(Dr=so||(so={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS",new hJ([4294967295,4294967295],0);class f_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ms(e.integerValue));else if("doubleValue"in e){const r=ms(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function Bb(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function Dh(n){return"string"==typeof n?Co.fromBase64String(n):Co.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function bG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):an()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Xt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}f_.Ve=new f_,new Uint8Array(0);class va{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new va(e,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function A1(){return typeof document<"u"?document:null}va.DEFAULT_COLLECTION_PERCENTILE=10,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,va.DEFAULT=new va(41943040,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),va.DISABLED=new va(-1,0,0);class G3{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class uB{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,d=new uB(e,t,u,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class rne{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vo.UNAUTHENTICATED,this.clientId=iG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,x.Z)(function*(d){Ot("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ot("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,x.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function CI(n,e){if(Ns("AsyncQueue",`${e}: ${n}`),op(n))return new xt(nt.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $H(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UH=new Map;function Ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function O1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":an()}(n);throw new xt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class HH{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function hne(n,e,t,r){if(!0===e&&!0===r)throw new xt(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$H(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new xt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pD{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fJ;switch(t.type){case"firstParty":return new _J(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UH.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),UH.delete(e),t.terminate())}(this),Promise.resolve()}}class gne{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new G3(this,"async_queue_retry"),this.Xc=()=>{const t=A1();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=A1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=A1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Do;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,x.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!op(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ns("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=uB.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&an()}verifyOperationInProgress(){}sa(){var e=this;return(0,x.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Mi extends pD{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gne,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function WH(n){var e,t,r;const i=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qJ(n._databaseId,d,n._persistenceKey,(g=i).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$H(g.experimentalLongPollingOptions),g.useFetchStreams));var d,g;n._firestoreClient=new rne(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function _ne(n,e){const r="string"==typeof n?n:e||"(default)",i=Gx("object"==typeof n?n:bN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=je("firestore");s&&function fne(n,e,t,r={}){var i;const s=(n=Ir(n,pD))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==u&&function Yl(n,...e){if(ip.logLevel<=en.WARN){const t=e.map(KV);ip.warn(`Firestore (${Ob}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:u,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Vo.MOCK_USER;else{d=gt(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new xt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vo(g)}n._authCredentials=new pJ(new nG(d,f))}}(i,...s)}return i}!function(n,e=!0){Ob=qv,Hv(new Ht("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new Mi(new gJ(t.getProvider("auth-internal")),new yJ(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i_(d.options.projectId,f)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),ku(tG,"3.13.0",n),ku(tG,"3.13.0","esm2017")}();class r${constructor(e){return e}}const p9="firestore",i$=new de.OlP("angularfire2.firestore-instances");function zne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new r$(r)}}const Hne={provide:class jne{constructor(){return CF(p9)}},deps:[[new de.FiY,i$]]},qne={provide:r$,useFactory:function Gne(n,e){const t=DF(p9,n,e);return t&&new r$(t)},deps:[[new de.FiY,i$],Zv]};let Wne=(()=>{class n{constructor(){ku("angularfire",Qx.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=de.oAB({type:n}),n.\u0275inj=de.cJS({providers:[qne,Hne]}),n})();function Kne(n,...e){return{ngModule:Wne,providers:[{provide:i$,useFactory:zne(n),multi:!0,deps:[de.R0b,de.zs3,AF,xF,[new de.FiY,B6],[new de.FiY,QF],...e]}]}}const Yne=SF(_ne,!0);class Zne{constructor(e,t){this._delegate=e,this.firebase=t,Li(e,new Ht("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),po(this._delegate)))}_getService(e,t=tr){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=tr){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Li(this._delegate,e)}_addOrOverwriteComponent(e){Hs(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const g9=new Rt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Jne=function m9(){const n=function Xne(n){const e={},t={__esModule:!0,initializeApp:function s(g,I={}){const A=Cs(g,I);if(Cr(e,A.name))return e[A.name];const U=new n(A,t);return e[A.name]=U,U},app:i,registerVersion:_r,setLogLevel:As,onLog:cu,apps:null,SDK_VERSION:os,INTERNAL:{registerComponent:function d(g){const I=g.name,A=I.replace("-compat","");if(Kn(g)&&"PUBLIC"===g.type){const U=(Z=i())=>{if("function"!=typeof Z[A])throw g9.create("invalid-app-argument",{appName:I});return Z[A]()};void 0!==g.serviceProps&&tt(U,g.serviceProps),t[A]=U,n.prototype[A]=function(...Z){return this._getService.bind(this,I).apply(this,g.multipleInstances?Z:[])}}return"PUBLIC"===g.type?t[A]:null},removeApp:function r(g){delete e[g]},useAsService:function f(g,I){return"serverAuth"===I?null:I},modularAPIs:E}};function i(g){if(!Cr(e,g=g||tr))throw g9.create("no-app",{appName:g});return e[g]}return t.default=t,Object.defineProperty(t,"apps",{get:function u(){return Object.keys(e).map(g=>e[g])}}),i.App=n,t}(Zne);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:m9,extendNamespace:function e(t){tt(n,t)},createSubscribe:Gt,ErrorFactory:Rt,deepExtend:tt}),n}(),_9=new Mr("@firebase/app-compat");if(function ee(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){_9.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&_9.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const H1=Jne;function I_(){return window}!function nre(n){_r("@firebase/app-compat","0.2.18",n)}();function s$(){return s$=(0,x.Z)(function*(n,e,t){var r;const{BuildInfo:i}=I_();Mu(e.sessionId,"AuthEvent did not contain a session ID");const s=yield function cre(n){return u$.apply(this,arguments)}(e.sessionId),u={};return Bf()?u.ibi=i.packageName:wm()?u.apn=i.packageName:ds(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=s,_N(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,u)}),s$.apply(this,arguments)}function o$(){return o$=(0,x.Z)(function*(n){const{BuildInfo:e}=I_(),t={};Bf()?t.iosBundleId=e.packageName:wm()?t.androidPackageName=e.packageName:ds(n,"operation-not-supported-in-this-environment"),yield Vx(n,t)}),o$.apply(this,arguments)}function a$(){return a$=(0,x.Z)(function*(n,e,t){const{cordova:r}=I_();let i=()=>{};try{yield new Promise((s,u)=>{let d=null;function f(){var A;s();const U=null===(A=r.plugins.browsertab)||void 0===A?void 0:A.close;"function"==typeof U&&U(),"function"==typeof(null==t?void 0:t.close)&&t.close()}function g(){d||(d=window.setTimeout(()=>{u(ks(n,"redirect-cancelled-by-user"))},2e3))}function I(){"visible"===(null==document?void 0:document.visibilityState)&&g()}e.addPassiveListener(f),document.addEventListener("resume",g,!1),wm()&&document.addEventListener("visibilitychange",I,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",g,!1),document.removeEventListener("visibilitychange",I,!1),d&&window.clearTimeout(d)}})}finally{i()}}),a$.apply(this,arguments)}function u$(){return u$=(0,x.Z)(function*(n){const e=function lre(n){if(Mu(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}),u$.apply(this,arguments)}class hre extends Zf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,x.Z)(function*(){yield e.initPromise})()}}function y9(n){return c$.apply(this,arguments)}function c$(){return c$=(0,x.Z)(function*(n){const e=yield l$()._get(d$(n));return e&&(yield l$()._remove(d$(n))),e}),c$.apply(this,arguments)}function mre(){const n=[];for(let t=0;t<20;t++){const r=Math.floor(62*Math.random());n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r))}return n.join("")}function l$(){return bo(RT)}function d$(n){return sh("authEvent",n.config.apiKey,n.name)}function q1(n){if(null==n||!n.includes("?"))return{};const[e,...t]=n.split("?");return et(t.join("?"))}const Ere=class Ire{constructor(){this._redirectPersistence=hh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pt,this._overrideRedirectResult=h}_initialize(e){var t=this;return(0,x.Z)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new hre(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){ds(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var s=this;return(0,x.Z)(function*(){!function ure(n){var e,t,r,i,s,u,d,f,g,I;const A=I_();Ft("function"==typeof(null===(e=null==A?void 0:A.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ft(typeof(null===(t=null==A?void 0:A.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ft("function"==typeof(null===(s=null===(i=null===(r=null==A?void 0:A.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ft("function"==typeof(null===(f=null===(d=null===(u=null==A?void 0:A.cordova)||void 0===u?void 0:u.plugins)||void 0===d?void 0:d.browsertab)||void 0===f?void 0:f.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ft("function"==typeof(null===(I=null===(g=null==A?void 0:A.cordova)||void 0===g?void 0:g.InAppBrowser)||void 0===I?void 0:I.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const u=yield s._initialize(e);yield u.initialized(),u.resetRedirect(),function l(){$m.clear()}(),yield s._originValidation(e);const d=function fre(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:mre(),postBody:null,tenantId:n.tenantId,error:ks(n,"no-auth-event")}}(e,r,i);yield function pre(n,e){return l$()._set(d$(n),e)}(e,d);const f=yield function ire(n,e,t){return s$.apply(this,arguments)}(e,d,t),g=yield function ore(n){const{cordova:e}=I_();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function AS(n=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(f);return function are(n,e,t){return a$.apply(this,arguments)}(e,u,g)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function sre(n){return o$.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=I_(),u=setTimeout((0,x.Z)(function*(){yield y9(e),t.onEvent(v9())}),500),d=function(){var I=(0,x.Z)(function*(A){clearTimeout(u);const U=yield y9(e);let Z=null;U&&null!=A&&A.url&&(Z=function gre(n,e){var t,r;const i=function yre(n){const e=q1(n),t=e.link?decodeURIComponent(e.link):void 0,r=q1(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return q1(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const s=q1(i),u=s.firebaseError?function _re(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,d=null===(r=null===(t=null==u?void 0:u.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],f=d?ks(d):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(U,A.url)),t.onEvent(Z||v9())});return function(U){return I.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,d);const f=i,g=`${s.packageName.toLowerCase()}://`;I_().handleOpenURL=function(){var I=(0,x.Z)(function*(A){if(A.toLowerCase().startsWith(g)&&d({url:A}),"function"==typeof f)try{f(A)}catch(U){console.error(U)}});return function(A){return I.apply(this,arguments)}}()}};function v9(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ks("no-auth-event")}}function ED(){var n;return(null===(n=null==self?void 0:self.location)||void 0===n?void 0:n.protocol)||null}function I9(n=kt()){return!("file:"!==ED()&&"ionic:"!==ED()&&"capacitor:"!==ED()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function E9(){try{const n=self.localStorage,e=Lm();if(n)return n.setItem(e,"1"),n.removeItem(e),!function Rre(n=kt()){return function Sre(){return We()&&11===(null==document?void 0:document.documentMode)}()||function xre(n=kt()){return/Edge\/\d+/.test(n)}(n)}()||Mt()}catch{return h$()&&Mt()}return!1}function h$(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function f$(){return(function Cre(){return"http:"===ED()||"https:"===ED()}()||te()||I9())&&!function Are(){return ue()||dt()}()&&E9()&&!h$()}function w9(){return I9()&&typeof document<"u"}function p$(){return p$=(0,x.Z)(function*(){return!!w9()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),p$.apply(this,arguments)}const Lu={LOCAL:"local",NONE:"none",SESSION:"session"},wD=Ft,T9="persistence";function g$(n){return m$.apply(this,arguments)}function m$(){return m$=(0,x.Z)(function*(n){yield n._initializationPromise;const e=b9(),t=sh(T9,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),m$.apply(this,arguments)}function b9(){var n;try{return(null===(n=function Mre(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const Ore=Ft;class Ip{constructor(){this.browserResolver=bo(GU),this.cordovaResolver=bo(Ere),this.underlyingResolver=null,this._redirectPersistence=hh,this._completeRedirectFn=pt,this._overrideRedirectResult=h}_initialize(e){var t=this;return(0,x.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var s=this;return(0,x.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var s=this;return(0,x.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return w9()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ore(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,x.Z)(function*(){if(e.underlyingResolver)return;const t=yield function Pre(){return p$.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function D9(n){return n.unwrap()}function Lre(n){return C9(n)}function C9(n){const{_tokenResponse:e}=n instanceof ht?n.customData:n;if(!e)return null;if(!(n instanceof ht)&&"temporaryProof"in e&&"phoneNumber"in e)return Bm.credentialFromResult(n);const t=e.providerId;if(!t||t===pm.PASSWORD)return null;let r;switch(t){case pm.GOOGLE:r=zf;break;case pm.FACEBOOK:r=WS;break;case pm.GITHUB:r=iT;break;case pm.TWITTER:r=YS;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:u,pendingToken:d,nonce:f}=e;return s||u||i||d?d?t.startsWith("saml.")?lh._create(t,d):uc._fromParams({providerId:t,signInMethod:t,pendingToken:d,idToken:i,accessToken:s}):new Gf(t).credential({idToken:i,accessToken:s,rawNonce:f}):null}return n instanceof ht?r.credentialFromError(n):r.credentialFromResult(n)}function su(n,e){return e.catch(t=>{throw t instanceof ht&&function Vre(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===(null==e?void 0:e.code))e.resolver=new Bre(n,function mx(n,e){var t;const r=Xe(n),i=e;return Ft(e.customData.operationType,r,"argument-error"),Ft(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),qf._fromError(r,i)}(n,e));else if(r){const i=C9(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:Lre(t),additionalUserInfo:Wk(t),user:Ph.getOrCreate(i)}})}function _$(n,e){return y$.apply(this,arguments)}function y$(){return y$=(0,x.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>su(n,t.confirm(r))}}),y$.apply(this,arguments)}class Bre{constructor(e,t){this.resolver=t,this.auth=function Fre(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return su(D9(this.auth),this.resolver.resolveSignIn(e))}}class Ph{constructor(e){this._delegate=e,this.multiFactor=function tN(n){const e=Xe(n);return vx.has(e)||vx.set(e,ST._fromUser(e)),vx.get(e)}(e)}static getOrCreate(e){return Ph.USER_MAP.has(e)||Ph.USER_MAP.set(e,new Ph(e)),Ph.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,x.Z)(function*(){return su(t.auth,uT(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,x.Z)(function*(){return _$(r.auth,function Mx(n,e,t){return GT.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,x.Z)(function*(){return su(t.auth,function VU(n,e,t){return Fx.apply(this,arguments)}(t._delegate,e,Ip))})()}linkWithRedirect(e){var t=this;return(0,x.Z)(function*(){return yield g$(li(t.auth)),function Ie(n,e,t){return function ut(n,e,t){return Et.apply(this,arguments)}(n,e,t)}(t._delegate,e,Ip)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,x.Z)(function*(){return su(t.auth,Pm(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return _$(this.auth,function jv(n,e,t){return zT.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return su(this.auth,function LU(n,e,t){return WT.apply(this,arguments)}(this._delegate,e,Ip))}reauthenticateWithRedirect(e){var t=this;return(0,x.Z)(function*(){return yield g$(li(t.auth)),function $(n,e,t){return function q(n,e,t){return oe.apply(this,arguments)}(n,e,t)}(t._delegate,e,Ip)})()}sendEmailVerification(e){return function cx(n,e){return lx.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,x.Z)(function*(){return yield function XS(n,e){return JS.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function bT(n,e){return DT(Xe(n),e,null)}(this._delegate,e)}updatePassword(e){return function Ul(n,e){return DT(Xe(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function kx(n,e){return Nx.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function hx(n,e){return TT.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function ga(n,e,t){return kv.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ph.USER_MAP=new WeakMap;const TD=Ft;let A9=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;TD(i,"invalid-api-key",{appName:t.name}),TD(i,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?Ip:void 0;this._delegate=r.initialize({options:{persistence:$re(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(ik),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ph.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){OS(this._delegate,t,r)}applyActionCode(t){return function Lk(n,e){return mT.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return ox(this._delegate,t)}confirmPasswordReset(t,r){return function Fk(n,e,t){return gT.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return(0,x.Z)(function*(){return su(i._delegate,ax(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function jk(n,e){return Mv.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function $k(n,e){const t=ch.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}(0,t)}getRedirectResult(){var t=this;return(0,x.Z)(function*(){TD(f$(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function Bt(n,e){return tn.apply(this,arguments)}(t._delegate,Ip);return r?su(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function wre(n,e){li(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:s,error:u,complete:d}=S9(t,r,i);return this._delegate.onAuthStateChanged(s,u,d)}onIdTokenChanged(t,r,i){const{next:s,error:u,complete:d}=S9(t,r,i);return this._delegate.onIdTokenChanged(s,u,d)}sendSignInLinkToEmail(t,r){return function Bk(n,e,t){return vT.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return Nm(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,x.Z)(function*(){let i;switch(function kre(n,e){wD(Object.values(Lu).includes(e),n,"invalid-persistence-type"),ue()?wD(e!==Lu.SESSION,n,"unsupported-persistence-type"):dt()?wD(e===Lu.NONE,n,"unsupported-persistence-type"):h$()?wD(e===Lu.NONE||e===Lu.LOCAL&&Mt(),n,"unsupported-persistence-type"):wD(e===Lu.NONE||E9(),n,"unsupported-persistence-type")}(r._delegate,t),t){case Lu.SESSION:i=hh;break;case Lu.LOCAL:i=(yield bo(Kf)._isAvailable())?Kf:RT;break;case Lu.NONE:i=Vl;break;default:return ds("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return su(this._delegate,function ZS(n){return Sv.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return su(this._delegate,xm(this._delegate,t))}signInWithCustomToken(t){return su(this._delegate,function Ok(n,e){return Rv.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return su(this._delegate,ux(this._delegate,t,r))}signInWithEmailLink(t,r){return su(this._delegate,function Uk(n,e,t){return Pv.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return _$(this._delegate,function jT(n,e,t){return Uv.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,x.Z)(function*(){return TD(f$(),r._delegate,"operation-not-supported-in-this-environment"),su(r._delegate,fN(r._delegate,t,Ip))})()}signInWithRedirect(t){var r=this;return(0,x.Z)(function*(){return TD(f$(),r._delegate,"operation-not-supported-in-this-environment"),yield g$(r._delegate),function T(n,e,t){return function S(n,e,t){return O.apply(this,arguments)}(n,e,t)}(r._delegate,t,Ip)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function Vk(n,e){return _T.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Lu,n})();function S9(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ph.getOrCreate(u)),error:e,complete:t}}function $re(n,e){const t=function Nre(n,e){const t=b9();if(!t)return[];const r=sh(T9,n,e);switch(t.getItem(r)){case Lu.NONE:return[Vl];case Lu.LOCAL:return[Kf,hh];case Lu.SESSION:return[hh];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(Kf)&&t.push(Kf),typeof window<"u")for(const r of[RT,hh])t.includes(r)||t.push(r);return t.includes(Vl)||t.push(Vl),t}class v${constructor(){this.providerId="phone",this._delegate=new Bm(D9(H1.auth()))}static credential(e,t){return Bm.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}v$.PHONE_SIGN_IN_METHOD=Bm.PHONE_SIGN_IN_METHOD,v$.PROVIDER_ID=Bm.PROVIDER_ID;const Ure=Ft;class jre{constructor(e,t,r=H1.app()){var i;Ure(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Px(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}function I$(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function x9(){if(typeof Uint8Array>"u")throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function R9(){if(!function rC(){return typeof atob<"u"}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function zre(n){n.INTERNAL.registerComponent(new Ht("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new A9(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:rT,FacebookAuthProvider:WS,GithubAuthProvider:iT,GoogleAuthProvider:zf,OAuthProvider:Gf,SAMLAuthProvider:Av,PhoneAuthProvider:v$,PhoneMultiFactorGenerator:h7,RecaptchaVerifier:jre,TwitterAuthProvider:YS,Auth:A9,AuthCredential:ah,Error:ht}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.6")}(H1);class bD{constructor(e){this._delegate=e}static fromBase64String(e){return R9(),new bD(rc.fromBase64String(e))}static fromUint8Array(e){return x9(),new bD(rc.fromUint8Array(e))}toBase64(){return R9(),this._delegate.toBase64()}toUint8Array(){return x9(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E$(n){return function Wre(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Kre{enableIndexedDbPersistence(e,t){return function Jg(n,e){mw(n=Hn(n,oi));const t=zi(n);if(t._uninitializedComponentsProvider)throw new wt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");Mo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Yd;return pw(t,i,new qy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function RM(n){mw(n=Hn(n,oi));const e=zi(n);if(e._uninitializedComponentsProvider)throw new wt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");Mo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Yd;return pw(e,r,new Wy(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function PM(n){if(n._initialized&&!n._terminated)throw new wt(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,x.Z)(function*(){try{yield(t=(0,x.Z)(function*(i){if(!vu.C())return Promise.resolve();const s=i+"main";yield vu.delete(s)}),function r(i){return t.apply(this,arguments)})(Sg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class P9{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){OA(this._delegate,e,t,r)}enableNetwork(){return function BA(n){return function aw(n){return n.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield iw(n),t=yield sw(n);return e.setNetworkEnabled(!0),function(i){const s=Ut(i);return s.F_.delete(0),Uc(s)}(t)}))}(zi(n=Hn(n,oi)))}(this._delegate)}disableNetwork(){return function $A(n){return function Qd(n){return n.asyncQueue.enqueue((0,x.Z)(function*(){const e=yield iw(n),t=yield sw(n);return e.setNetworkEnabled(!1),(r=(0,x.Z)(function*(s){const u=Ut(s);u.F_.add(0),yield mf(u),u.O_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(zi(n=Hn(n,oi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MM(n){return function(t){const r=new Qs;return t.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return function Vy(n,e){return Ef.apply(this,arguments)}(yield bf(t),r)})),r.promise}(zi(n=Hn(n,oi)))}(this._delegate)}onSnapshotsInSync(e){return function iS(n,e){return function G$(n,e){const t=new Kg(e);return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Df(n),s=t,Ut(i).K_.add(s),void s.next();var i,s})),()=>{t.La(),n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return i=yield Df(n),s=t,void Ut(i).K_.delete(s);var i,s}))}}(zi(n=Hn(n,oi)),Pa(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new FI(this,Pl(this._delegate,e))}catch(t){throw Va(t,"collection()","Firestore.collection()")}}doc(e){try{return new dc(this,Xo(this._delegate,e))}catch(t){throw Va(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ba(this,function nc(n,e){if(n=Hn(n,Cf),dw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(Qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(r=e,new yl(yr.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Va(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function aS(n,e,t){n=Hn(n,oi);const r=Object.assign(Object.assign({},ZM),t);return function(s){if(s.maxAttempts<1)throw new wt(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,d){const f=new Qs;return s.asyncQueue.enqueueAndForget((0,x.Z)(function*(){const g=yield function Gc(n){return Qg(n).then(e=>e.datastore)}(s);new SA(s.asyncQueue,g,d,u,f).run()})),f.promise}(zi(n),i=>e(new QM(n,i)),r)}(this._delegate,t=>e(new M9(this,t)))}batch(){return zi(this._delegate),new k9(new oS(this._delegate,e=>kf(this._delegate,e)))}loadBundle(e){return function kM(n,e){const t=zi(n=Hn(n,oi)),r=new LA;return function AM(n,e,t,r){const i=function(u,d){let f;return f="string"==typeof u?Rd().encode(u):u,I=function(I,A){if(I instanceof Uint8Array)return DA(I,A);if(I instanceof ArrayBuffer)return DA(new Uint8Array(I),A);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new CA(I,d);var I}(t,kg(e));n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){!function bM(n,e,t){const r=Ut(n);var i;(i=(0,x.Z)(function*(u,d,f){try{const g=yield d.getMetadata();if(yield function(ye,Fe){const Ve=Ut(ye),Tt=Si(Fe.createTime);return Ve.persistence.runTransaction("hasNewerBundle","readonly",Nt=>Ve.Ur.getBundleMetadata(Nt,Fe.id)).then(Nt=>!!Nt&&Nt.createTime.compareTo(Tt)>=0)}(u.localStore,g))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(ye=g).totalDocuments,bytesLoaded:ye.totalBytes,totalDocuments:ye.totalDocuments,totalBytes:ye.totalBytes}),Promise.resolve(new Set);f._updateProgress(fM(g));const I=new hM(g,u.localStore,d.serializer);let A=yield d.Oa();for(;A;){const Z=yield I.na(A);Z&&f._updateProgress(Z),A=yield d.Oa()}const U=yield I.complete();return yield jc(u,U.sa,void 0),yield function(ye,Fe){const Ve=Ut(ye);return Ve.persistence.runTransaction("Save bundle","readwrite",Tt=>Ve.Ur.saveBundleMetadata(Tt,Fe))}(u.localStore,g),f._completeWith(U.progress),Promise.resolve(U.ia)}catch(g){return Mo("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var ye}),function s(u,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield bf(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UA(n,e){return function SM(n,e){return n.asyncQueue.enqueue((0,x.Z)(function*(){return function(r,i){const s=Ut(r);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ur.getNamedQuery(u,i))}(yield Zd(n),e)}))}(zi(n=Hn(n,oi)),e).then(t=>t?new no(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ba(this,t):null)}}class W1 extends sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new bD(new rc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return dc.forKey(t,this.firestore,null)}}class M9{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new W1(e)}get(e){const t=w_(e);return this._delegate.get(t).then(r=>new DD(this._firestore,new zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=w_(e);return r?(I$("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=w_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=w_(e);return this._delegate.delete(t),this}}class k9{constructor(e){this._delegate=e}set(e,t,r){const i=w_(e);return r?(I$("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=w_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=w_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class E_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Hc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CD(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=E_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new E_(e,new W1(e),t),i.set(t,s)),s}}E_.INSTANCES=new WeakMap;class dc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new W1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dc(t,new yi(t._delegate,r,new Yt(e)))}static forKey(e,t,r){return new dc(t,new yi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new FI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new FI(this.firestore,Pl(this._delegate,e))}catch(t){throw Va(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Xe(e))instanceof yi&&FA(this._delegate,e)}set(e,t){t=I$("DocumentReference.set",t);try{return t?Ol(this._delegate,e,t):Ol(this._delegate,e)}catch(r){throw Va(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ov(this._delegate,e):ov(this._delegate,e,t,...r)}catch(i){throw Va(i,"updateDoc()","DocumentReference.update()")}}delete(){return Dw(this._delegate)}onSnapshot(...e){const t=N9(e),r=O9(e,i=>new DD(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Aw(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tS(n){n=Hn(n,yi);const e=Hn(n.firestore,oi),t=zi(e),r=new qc(e);return function uw(n,e){const t=new Qs;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(s,u,d){try{const f=yield function(I,A){const U=Ut(I);return U.persistence.runTransaction("read document","readonly",Z=>U.localDocuments.getDocument(Z,A))}(s,u);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new wt(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=Au(f,`Failed to get document '${u} from cache`);d.reject(g)}}),function i(s,u,d){return r.apply(this,arguments)})(yield Zd(n),e,t);var r})),t.promise}(t,n._key).then(i=>new zc(e,r,n._key,i,new th(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nS(n){n=Hn(n,yi);const e=Hn(n.firestore,oi);return xA(zi(e),n._key,{source:"server"}).then(t=>av(e,n,t))}(this._delegate):ka(this._delegate),t.then(r=>new DD(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dc(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}function Va(n,e,t){return n.message=n.message.replace(e,t),n}function N9(n){for(const e of n)if("object"==typeof e&&!E$(e))return e;return{}}function O9(n,e){var t,r;let i;return i=E$(n[0])?n[0]:E$(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class DD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new dc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eS(this._delegate,e._delegate)}}class CD extends DD{data(e){const t=this._delegate.data(e);return function nP(n,e){n||sn()}(void 0!==t),t}}class Ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new W1(e)}where(e,t,r){try{return new Ba(this.firestore,Ya(this._delegate,rv(e,t,r)))}catch(i){throw Va(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ba(this.firestore,Ya(this._delegate,function W$(n,e="asc"){const t=e,r=sm("orderBy",n);return kl._create(r,t)}(e,t)))}catch(r){throw Va(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ba(this.firestore,Ya(this._delegate,function K$(n){return kA("limit",n),Pf._create("limit",n,"F")}(e)))}catch(t){throw Va(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ba(this.firestore,Ya(this._delegate,function QA(n){return kA("limitToLast",n),Pf._create("limitToLast",n,"L")}(e)))}catch(t){throw Va(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ba(this.firestore,Ya(this._delegate,function Y$(...n){return om._create("startAt",n,!0)}(...e)))}catch(t){throw Va(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ba(this.firestore,Ya(this._delegate,function Mf(...n){return om._create("startAfter",n,!1)}(...e)))}catch(t){throw Va(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ba(this.firestore,Ya(this._delegate,function BM(...n){return iv._create("endBefore",n,!1)}(...e)))}catch(t){throw Va(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ba(this.firestore,Ya(this._delegate,function $M(...n){return iv._create("endAt",n,!0)}(...e)))}catch(t){throw Va(t,"endAt()","Query.endAt()")}}isEqual(e){return Ka(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lm(n){n=Hn(n,no);const e=Hn(n.firestore,oi),t=zi(e),r=new qc(e);return function cw(n,e){const t=new Qs;return n.asyncQueue.enqueueAndForget((0,x.Z)(function*(){return(r=(0,x.Z)(function*(s,u,d){try{const f=yield vy(s,u,!0),g=new vA(u,f.Ps),I=g.ha(f.documents),A=g.applyChanges(I,!1);d.resolve(A.snapshot)}catch(f){const g=Au(f,`Failed to execute query '${u} against cache`);d.reject(g)}}),function i(s,u,d){return r.apply(this,arguments)})(yield Zd(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Nl(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function dm(n){n=Hn(n,no);const e=Hn(n.firestore,oi),t=zi(e),r=new qc(e);return CM(t,n._query,{source:"server"}).then(i=>new Nl(e,r,n,i))}(this._delegate):rS(this._delegate),t.then(r=>new w$(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=N9(e),r=O9(e,i=>new w$(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Aw(this._delegate,t,r)}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}class Zre{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new CD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class w${constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ba(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new CD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Zre(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new CD(this._firestore,r))})}isEqual(e){return eS(this._delegate,e._delegate)}}class FI extends Ba{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dc(this.firestore,e):null}doc(e){try{return new dc(this.firestore,void 0===e?Xo(this._delegate):Xo(this._delegate,e))}catch(t){throw Va(t,"doc()","CollectionReference.doc()")}}add(e){return Cw(this._delegate,e).then(t=>new dc(this.firestore,t))}isEqual(e){return FA(this._delegate,e._delegate)}withConverter(e){return new FI(this.firestore,this._delegate.withConverter(e?E_.getInstance(this.firestore,e):null))}}function w_(n){return Hn(n,yi)}class T${constructor(...e){this._delegate=new ic(...e)}static documentId(){return new T$(Gi.keyField().canonicalString())}isEqual(e){return(e=Xe(e))instanceof ic&&this._delegate._internalPath.isEqual(e._internalPath)}}class T_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JM(){return new vw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new T_(e)}static delete(){const e=function XM(){return new nm("deleteField")}();return e._methodName="FieldValue.delete",new T_(e)}static arrayUnion(...e){const t=function fm(...n){return new OM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new T_(t)}static arrayRemove(...e){const t=function ek(...n){return new FM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new T_(t)}static increment(e){const t=function uS(n){return new LM("increment",n)}(e);return t._methodName="FieldValue.increment",new T_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Qre={Firestore:P9,GeoPoint:em,Timestamp:_i,Blob:bD,Transaction:M9,WriteBatch:k9,DocumentReference:dc,DocumentSnapshot:DD,Query:Ba,QueryDocumentSnapshot:CD,QuerySnapshot:w$,CollectionReference:FI,FieldPath:T$,FieldValue:T_,setLogLevel:function Yre(n){!function H_(n){_u.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Jre(n){(function Xre(n,e){n.INTERNAL.registerComponent(new Ht("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Qre)))})(n,(e,t)=>new P9(e,t,new Kre)),n.registerVersion("@firebase/firestore-compat","0.3.17")}(H1);let eie=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=de.oAB({type:n,bootstrap:[E7]}),n.\u0275inj=de.cJS({providers:[{provide:ie.wN,useClass:De.r4}],imports:[m.b2,De.Pc.forRoot(),le,xK(()=>RK(wN_firebase)),Kne(()=>Yne()),lX(()=>dX())]}),e})();_r("firebase","10.3.1","app"),(0,de.G48)(),Cs(wN_firebase),m.q6().bootstrapModule(eie).catch(n=>console.log(n))},5619:(rn,rt,z)=>{"use strict";z.d(rt,{X:()=>m});var E=z(8645);class m extends E.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const De=super._subscribe(ie);return!De.closed&&ie.next(this._value),De}getValue(){const{hasError:ie,thrownError:De,_value:_e}=this;if(ie)throw De;return this._throwIfClosed(),_e}next(ie){super.next(this._value=ie)}}},5592:(rn,rt,z)=>{"use strict";z.d(rt,{y:()=>x});var E=z(305),m=z(7394),de=z(4850),ie=z(8407),De=z(2653),_e=z(4674),le=z(1441);let x=(()=>{class we{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const Pe=new we;return Pe.source=this,Pe.operator=pe,Pe}subscribe(pe,Pe,ft){const Re=function fe(we){return we&&we instanceof E.Lv||function Ue(we){return we&&(0,_e.m)(we.next)&&(0,_e.m)(we.error)&&(0,_e.m)(we.complete)}(we)&&(0,m.Nn)(we)}(pe)?pe:new E.Hp(pe,Pe,ft);return(0,le.x)(()=>{const{operator:ae,source:qe}=this;Re.add(ae?ae.call(Re,qe):qe?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(pe){try{return this._subscribe(pe)}catch(Pe){pe.error(Pe)}}forEach(pe,Pe){return new(Pe=Ne(Pe))((ft,Re)=>{const ae=new E.Hp({next:qe=>{try{pe(qe)}catch(tt){Re(tt),ae.unsubscribe()}},error:Re,complete:ft});this.subscribe(ae)})}_subscribe(pe){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(pe)}[de.L](){return this}pipe(...pe){return(0,ie.U)(pe)(this)}toPromise(pe){return new(pe=Ne(pe))((Pe,ft)=>{let Re;this.subscribe(ae=>Re=ae,ae=>ft(ae),()=>Pe(Re))})}}return we.create=me=>new we(me),we})();function Ne(we){var me;return null!==(me=null!=we?we:De.config.Promise)&&void 0!==me?me:Promise}},8645:(rn,rt,z)=>{"use strict";z.d(rt,{x:()=>le});var E=z(5592),m=z(7394);const ie=(0,z(2306).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=z(9039),_e=z(1441);let le=(()=>{class Ne extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const we=new x(this,this);return we.operator=fe,we}_throwIfClosed(){if(this.closed)throw new ie}next(fe){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(fe)}})}error(fe){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:we}=this;for(;we.length;)we.shift().error(fe)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:we,isStopped:me,observers:pe}=this;return we||me?m.Lc:(this.currentObservers=null,pe.push(fe),new m.w0(()=>{this.currentObservers=null,(0,De.P)(pe,fe)}))}_checkFinalizedStatuses(fe){const{hasError:we,thrownError:me,isStopped:pe}=this;we?fe.error(me):pe&&fe.complete()}asObservable(){const fe=new E.y;return fe.source=this,fe}}return Ne.create=(Ue,fe)=>new x(Ue,fe),Ne})();class x extends le{constructor(Ue,fe){super(),this.destination=Ue,this.source=fe}next(Ue){var fe,we;null===(we=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===we||we.call(fe,Ue)}error(Ue){var fe,we;null===(we=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===we||we.call(fe,Ue)}complete(){var Ue,fe;null===(fe=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===fe||fe.call(Ue)}_subscribe(Ue){var fe,we;return null!==(we=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ue))&&void 0!==we?we:m.Lc}}},305:(rn,rt,z)=>{"use strict";z.d(rt,{Hp:()=>ft,Lv:()=>we});var E=z(4674),m=z(7394),de=z(2653),ie=z(3894),De=z(2420);const _e=Ne("C",void 0,void 0);function Ne(Oe,Me,ke){return{kind:Oe,value:Me,error:ke}}var Ue=z(7599),fe=z(1441);class we extends m.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,m.Nn)(Me)&&Me.add(this)):this.destination=tt}static create(Me,ke,Ee){return new ft(Me,ke,Ee)}next(Me){this.isStopped?qe(function x(Oe){return Ne("N",Oe,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?qe(function le(Oe){return Ne("E",void 0,Oe)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?qe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const me=Function.prototype.bind;function pe(Oe,Me){return me.call(Oe,Me)}class Pe{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Me)}catch(Ee){Re(Ee)}}error(Me){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Me)}catch(Ee){Re(Ee)}else Re(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ke){Re(ke)}}}class ft extends we{constructor(Me,ke,Ee){let Te;if(super(),(0,E.m)(Me)||!Me)Te={next:null!=Me?Me:void 0,error:null!=ke?ke:void 0,complete:null!=Ee?Ee:void 0};else{let Ce;this&&de.config.useDeprecatedNextContext?(Ce=Object.create(Me),Ce.unsubscribe=()=>this.unsubscribe(),Te={next:Me.next&&pe(Me.next,Ce),error:Me.error&&pe(Me.error,Ce),complete:Me.complete&&pe(Me.complete,Ce)}):Te=Me}this.destination=new Pe(Te)}}function Re(Oe){de.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Oe):(0,ie.h)(Oe)}function qe(Oe,Me){const{onStoppedNotification:ke}=de.config;ke&&Ue.z.setTimeout(()=>ke(Oe,Me))}const tt={closed:!0,next:De.Z,error:function ae(Oe){throw Oe},complete:De.Z}},7394:(rn,rt,z)=>{"use strict";z.d(rt,{Lc:()=>_e,w0:()=>De,Nn:()=>le});var E=z(4674);const de=(0,z(2306).d)(Ne=>function(fe){Ne(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((we,me)=>`${me+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var ie=z(9039);class De{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const pe of fe)pe.remove(this);else fe.remove(this);const{initialTeardown:we}=this;if((0,E.m)(we))try{we()}catch(pe){Ue=pe instanceof de?pe.errors:[pe]}const{_finalizers:me}=this;if(me){this._finalizers=null;for(const pe of me)try{x(pe)}catch(Pe){Ue=null!=Ue?Ue:[],Pe instanceof de?Ue=[...Ue,...Pe.errors]:Ue.push(Pe)}}if(Ue)throw new de(Ue)}}add(Ue){var fe;if(Ue&&Ue!==this)if(this.closed)x(Ue);else{if(Ue instanceof De){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(Ue)}}_hasParent(Ue){const{_parentage:fe}=this;return fe===Ue||Array.isArray(fe)&&fe.includes(Ue)}_addParent(Ue){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(Ue),fe):fe?[fe,Ue]:Ue}_removeParent(Ue){const{_parentage:fe}=this;fe===Ue?this._parentage=null:Array.isArray(fe)&&(0,ie.P)(fe,Ue)}remove(Ue){const{_finalizers:fe}=this;fe&&(0,ie.P)(fe,Ue),Ue instanceof De&&Ue._removeParent(this)}}De.EMPTY=(()=>{const Ne=new De;return Ne.closed=!0,Ne})();const _e=De.EMPTY;function le(Ne){return Ne instanceof De||Ne&&"closed"in Ne&&(0,E.m)(Ne.remove)&&(0,E.m)(Ne.add)&&(0,E.m)(Ne.unsubscribe)}function x(Ne){(0,E.m)(Ne)?Ne():Ne.unsubscribe()}},2653:(rn,rt,z)=>{"use strict";z.d(rt,{config:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(rn,rt,z)=>{"use strict";z.d(rt,{a:()=>Ue});var E=z(5592),m=z(7453),de=z(2459),ie=z(2737),De=z(7400),_e=z(4564),le=z(2714),x=z(8251),Ne=z(7103);function Ue(...me){const pe=(0,_e.yG)(me),Pe=(0,_e.jO)(me),{args:ft,keys:Re}=(0,m.D)(me);if(0===ft.length)return(0,de.D)([],pe);const ae=new E.y(function fe(me,pe,Pe=ie.y){return ft=>{we(pe,()=>{const{length:Re}=me,ae=new Array(Re);let qe=Re,tt=Re;for(let Oe=0;Oe<Re;Oe++)we(pe,()=>{const Me=(0,de.D)(me[Oe],pe);let ke=!1;Me.subscribe((0,x.x)(ft,Ee=>{ae[Oe]=Ee,ke||(ke=!0,tt--),tt||ft.next(Pe(ae.slice()))},()=>{--qe||ft.complete()}))},ft)},ft)}}(ft,pe,Re?qe=>(0,le.n)(Re,qe):ie.y));return Pe?ae.pipe((0,De.Z)(Pe)):ae}function we(me,pe,Pe){me?(0,Ne.f)(Pe,me,pe):pe()}},6232:(rn,rt,z)=>{"use strict";z.d(rt,{E:()=>m});const m=new(z(5592).y)(De=>De.complete())},2459:(rn,rt,z)=>{"use strict";z.d(rt,{D:()=>Me});var E=z(4829),m=z(3093),de=z(5137),_e=z(5592),x=z(4971),Ne=z(4674),Ue=z(7103);function we(ke,Ee){if(!ke)throw new Error("Iterable cannot be null");return new _e.y(Te=>{(0,Ue.f)(Te,Ee,()=>{const Ce=ke[Symbol.asyncIterator]();(0,Ue.f)(Te,Ee,()=>{Ce.next().then(st=>{st.done?Te.complete():Te.next(st.value)})},0,!0)})})}var me=z(8382),pe=z(4026),Pe=z(4266),ft=z(3664),Re=z(5726),ae=z(9853),qe=z(541);function Me(ke,Ee){return Ee?function Oe(ke,Ee){if(null!=ke){if((0,me.c)(ke))return function ie(ke,Ee){return(0,E.Xf)(ke).pipe((0,de.R)(Ee),(0,m.Q)(Ee))}(ke,Ee);if((0,Pe.z)(ke))return function le(ke,Ee){return new _e.y(Te=>{let Ce=0;return Ee.schedule(function(){Ce===ke.length?Te.complete():(Te.next(ke[Ce++]),Te.closed||this.schedule())})})}(ke,Ee);if((0,pe.t)(ke))return function De(ke,Ee){return(0,E.Xf)(ke).pipe((0,de.R)(Ee),(0,m.Q)(Ee))}(ke,Ee);if((0,Re.D)(ke))return we(ke,Ee);if((0,ft.T)(ke))return function fe(ke,Ee){return new _e.y(Te=>{let Ce;return(0,Ue.f)(Te,Ee,()=>{Ce=ke[x.h](),(0,Ue.f)(Te,Ee,()=>{let st,je;try{({value:st,done:je}=Ce.next())}catch(be){return void Te.error(be)}je?Te.complete():Te.next(st)},0,!0)}),()=>(0,Ne.m)(null==Ce?void 0:Ce.return)&&Ce.return()})}(ke,Ee);if((0,qe.L)(ke))return function tt(ke,Ee){return we((0,qe.Q)(ke),Ee)}(ke,Ee)}throw(0,ae.z)(ke)}(ke,Ee):(0,E.Xf)(ke)}},4829:(rn,rt,z)=>{"use strict";z.d(rt,{Xf:()=>me});var E=z(7582),m=z(4266),de=z(4026),ie=z(5592),De=z(8382),_e=z(5726),le=z(9853),x=z(3664),Ne=z(541),Ue=z(4674),fe=z(3894),we=z(4850);function me(Oe){if(Oe instanceof ie.y)return Oe;if(null!=Oe){if((0,De.c)(Oe))return function pe(Oe){return new ie.y(Me=>{const ke=Oe[we.L]();if((0,Ue.m)(ke.subscribe))return ke.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,m.z)(Oe))return function Pe(Oe){return new ie.y(Me=>{for(let ke=0;ke<Oe.length&&!Me.closed;ke++)Me.next(Oe[ke]);Me.complete()})}(Oe);if((0,de.t)(Oe))return function ft(Oe){return new ie.y(Me=>{Oe.then(ke=>{Me.closed||(Me.next(ke),Me.complete())},ke=>Me.error(ke)).then(null,fe.h)})}(Oe);if((0,_e.D)(Oe))return ae(Oe);if((0,x.T)(Oe))return function Re(Oe){return new ie.y(Me=>{for(const ke of Oe)if(Me.next(ke),Me.closed)return;Me.complete()})}(Oe);if((0,Ne.L)(Oe))return function qe(Oe){return ae((0,Ne.Q)(Oe))}(Oe)}throw(0,le.z)(Oe)}function ae(Oe){return new ie.y(Me=>{(function tt(Oe,Me){var ke,Ee,Te,Ce;return(0,E.mG)(this,void 0,void 0,function*(){try{for(ke=(0,E.KL)(Oe);!(Ee=yield ke.next()).done;)if(Me.next(Ee.value),Me.closed)return}catch(st){Te={error:st}}finally{try{Ee&&!Ee.done&&(Ce=ke.return)&&(yield Ce.call(ke))}finally{if(Te)throw Te.error}}Me.complete()})})(Oe,Me).catch(ke=>Me.error(ke))})}},2096:(rn,rt,z)=>{"use strict";z.d(rt,{of:()=>de});var E=z(4564),m=z(2459);function de(...ie){const De=(0,E.yG)(ie);return(0,m.D)(ie,De)}},8251:(rn,rt,z)=>{"use strict";z.d(rt,{x:()=>m});var E=z(305);function m(ie,De,_e,le,x){return new de(ie,De,_e,le,x)}class de extends E.Lv{constructor(De,_e,le,x,Ne,Ue){super(De),this.onFinalize=Ne,this.shouldUnsubscribe=Ue,this._next=_e?function(fe){try{_e(fe)}catch(we){De.error(we)}}:super._next,this._error=x?function(fe){try{x(fe)}catch(we){De.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(fe){De.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},3997:(rn,rt,z)=>{"use strict";z.d(rt,{x:()=>ie});var E=z(2737),m=z(9360),de=z(8251);function ie(_e,le=E.y){return _e=null!=_e?_e:De,(0,m.e)((x,Ne)=>{let Ue,fe=!0;x.subscribe((0,de.x)(Ne,we=>{const me=le(we);(fe||!_e(Ue,me))&&(fe=!1,Ue=me,Ne.next(we))}))})}function De(_e,le){return _e===le}},2181:(rn,rt,z)=>{"use strict";z.d(rt,{h:()=>de});var E=z(9360),m=z(8251);function de(ie,De){return(0,E.e)((_e,le)=>{let x=0;_e.subscribe((0,m.x)(le,Ne=>ie.call(De,Ne,x++)&&le.next(Ne)))})}},7398:(rn,rt,z)=>{"use strict";z.d(rt,{U:()=>de});var E=z(9360),m=z(8251);function de(ie,De){return(0,E.e)((_e,le)=>{let x=0;_e.subscribe((0,m.x)(le,Ne=>{le.next(ie.call(De,Ne,x++))}))})}},7537:(rn,rt,z)=>{"use strict";z.d(rt,{J:()=>de});var E=z(1631),m=z(2737);function de(ie=1/0){return(0,E.z)(m.y,ie)}},1631:(rn,rt,z)=>{"use strict";z.d(rt,{z:()=>x});var E=z(7398),m=z(4829),de=z(9360),ie=z(7103),De=z(8251),le=z(4674);function x(Ne,Ue,fe=1/0){return(0,le.m)(Ue)?x((we,me)=>(0,E.U)((pe,Pe)=>Ue(we,pe,me,Pe))((0,m.Xf)(Ne(we,me))),fe):("number"==typeof Ue&&(fe=Ue),(0,de.e)((we,me)=>function _e(Ne,Ue,fe,we,me,pe,Pe,ft){const Re=[];let ae=0,qe=0,tt=!1;const Oe=()=>{tt&&!Re.length&&!ae&&Ue.complete()},Me=Ee=>ae<we?ke(Ee):Re.push(Ee),ke=Ee=>{pe&&Ue.next(Ee),ae++;let Te=!1;(0,m.Xf)(fe(Ee,qe++)).subscribe((0,De.x)(Ue,Ce=>{null==me||me(Ce),pe?Me(Ce):Ue.next(Ce)},()=>{Te=!0},void 0,()=>{if(Te)try{for(ae--;Re.length&&ae<we;){const Ce=Re.shift();Pe?(0,ie.f)(Ue,Pe,()=>ke(Ce)):ke(Ce)}Oe()}catch(Ce){Ue.error(Ce)}}))};return Ne.subscribe((0,De.x)(Ue,Me,()=>{tt=!0,Oe()})),()=>{null==ft||ft()}}(we,me,Ne,fe)))}},3093:(rn,rt,z)=>{"use strict";z.d(rt,{Q:()=>ie});var E=z(7103),m=z(9360),de=z(8251);function ie(De,_e=0){return(0,m.e)((le,x)=>{le.subscribe((0,de.x)(x,Ne=>(0,E.f)(x,De,()=>x.next(Ne),_e),()=>(0,E.f)(x,De,()=>x.complete(),_e),Ne=>(0,E.f)(x,De,()=>x.error(Ne),_e)))})}},5137:(rn,rt,z)=>{"use strict";z.d(rt,{R:()=>m});var E=z(9360);function m(de,ie=0){return(0,E.e)((De,_e)=>{_e.add(de.schedule(()=>De.subscribe(_e),ie))})}},4664:(rn,rt,z)=>{"use strict";z.d(rt,{w:()=>ie});var E=z(4829),m=z(9360),de=z(8251);function ie(De,_e){return(0,m.e)((le,x)=>{let Ne=null,Ue=0,fe=!1;const we=()=>fe&&!Ne&&x.complete();le.subscribe((0,de.x)(x,me=>{null==Ne||Ne.unsubscribe();let pe=0;const Pe=Ue++;(0,E.Xf)(De(me,Pe)).subscribe(Ne=(0,de.x)(x,ft=>x.next(_e?_e(me,ft,Pe,pe++):ft),()=>{Ne=null,we()}))},()=>{fe=!0,we()}))})}},9397:(rn,rt,z)=>{"use strict";z.d(rt,{b:()=>De});var E=z(4674),m=z(9360),de=z(8251),ie=z(2737);function De(_e,le,x){const Ne=(0,E.m)(_e)||le||x?{next:_e,error:le,complete:x}:_e;return Ne?(0,m.e)((Ue,fe)=>{var we;null===(we=Ne.subscribe)||void 0===we||we.call(Ne);let me=!0;Ue.subscribe((0,de.x)(fe,pe=>{var Pe;null===(Pe=Ne.next)||void 0===Pe||Pe.call(Ne,pe),fe.next(pe)},()=>{var pe;me=!1,null===(pe=Ne.complete)||void 0===pe||pe.call(Ne),fe.complete()},pe=>{var Pe;me=!1,null===(Pe=Ne.error)||void 0===Pe||Pe.call(Ne,pe),fe.error(pe)},()=>{var pe,Pe;me&&(null===(pe=Ne.unsubscribe)||void 0===pe||pe.call(Ne)),null===(Pe=Ne.finalize)||void 0===Pe||Pe.call(Ne)}))}):ie.y}},7599:(rn,rt,z)=>{"use strict";z.d(rt,{z:()=>E});const E={setTimeout(m,de,...ie){const{delegate:De}=E;return null!=De&&De.setTimeout?De.setTimeout(m,de,...ie):setTimeout(m,de,...ie)},clearTimeout(m){const{delegate:de}=E;return((null==de?void 0:de.clearTimeout)||clearTimeout)(m)},delegate:void 0}},4971:(rn,rt,z)=>{"use strict";z.d(rt,{h:()=>m});const m=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rn,rt,z)=>{"use strict";z.d(rt,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(rn,rt,z)=>{"use strict";z.d(rt,{_6:()=>_e,jO:()=>ie,yG:()=>De});var E=z(4674);function de(le){return le[le.length-1]}function ie(le){return(0,E.m)(de(le))?le.pop():void 0}function De(le){return function m(le){return le&&(0,E.m)(le.schedule)}(de(le))?le.pop():void 0}function _e(le,x){return"number"==typeof de(le)?le.pop():x}},7453:(rn,rt,z)=>{"use strict";z.d(rt,{D:()=>De});const{isArray:E}=Array,{getPrototypeOf:m,prototype:de,keys:ie}=Object;function De(le){if(1===le.length){const x=le[0];if(E(x))return{args:x,keys:null};if(function _e(le){return le&&"object"==typeof le&&m(le)===de}(x)){const Ne=ie(x);return{args:Ne.map(Ue=>x[Ue]),keys:Ne}}}return{args:le,keys:null}}},9039:(rn,rt,z)=>{"use strict";function E(m,de){if(m){const ie=m.indexOf(de);0<=ie&&m.splice(ie,1)}}z.d(rt,{P:()=>E})},2306:(rn,rt,z)=>{"use strict";function E(m){const ie=m(De=>{Error.call(De),De.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}z.d(rt,{d:()=>E})},2714:(rn,rt,z)=>{"use strict";function E(m,de){return m.reduce((ie,De,_e)=>(ie[De]=de[_e],ie),{})}z.d(rt,{n:()=>E})},1441:(rn,rt,z)=>{"use strict";z.d(rt,{O:()=>ie,x:()=>de});var E=z(2653);let m=null;function de(De){if(E.config.useDeprecatedSynchronousErrorHandling){const _e=!m;if(_e&&(m={errorThrown:!1,error:null}),De(),_e){const{errorThrown:le,error:x}=m;if(m=null,le)throw x}}else De()}function ie(De){E.config.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=De)}},7103:(rn,rt,z)=>{"use strict";function E(m,de,ie,De=0,_e=!1){const le=de.schedule(function(){ie(),_e?m.add(this.schedule(null,De)):this.unsubscribe()},De);if(m.add(le),!_e)return le}z.d(rt,{f:()=>E})},2737:(rn,rt,z)=>{"use strict";function E(m){return m}z.d(rt,{y:()=>E})},4266:(rn,rt,z)=>{"use strict";z.d(rt,{z:()=>E});const E=m=>m&&"number"==typeof m.length&&"function"!=typeof m},5726:(rn,rt,z)=>{"use strict";z.d(rt,{D:()=>m});var E=z(4674);function m(de){return Symbol.asyncIterator&&(0,E.m)(null==de?void 0:de[Symbol.asyncIterator])}},4674:(rn,rt,z)=>{"use strict";function E(m){return"function"==typeof m}z.d(rt,{m:()=>E})},8382:(rn,rt,z)=>{"use strict";z.d(rt,{c:()=>de});var E=z(4850),m=z(4674);function de(ie){return(0,m.m)(ie[E.L])}},3664:(rn,rt,z)=>{"use strict";z.d(rt,{T:()=>de});var E=z(4971),m=z(4674);function de(ie){return(0,m.m)(null==ie?void 0:ie[E.h])}},4026:(rn,rt,z)=>{"use strict";z.d(rt,{t:()=>m});var E=z(4674);function m(de){return(0,E.m)(null==de?void 0:de.then)}},541:(rn,rt,z)=>{"use strict";z.d(rt,{L:()=>ie,Q:()=>de});var E=z(7582),m=z(4674);function de(De){return(0,E.FC)(this,arguments,function*(){const le=De.getReader();try{for(;;){const{value:x,done:Ne}=yield(0,E.qq)(le.read());if(Ne)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(x)}}finally{le.releaseLock()}})}function ie(De){return(0,m.m)(null==De?void 0:De.getReader)}},9360:(rn,rt,z)=>{"use strict";z.d(rt,{A:()=>m,e:()=>de});var E=z(4674);function m(ie){return(0,E.m)(null==ie?void 0:ie.lift)}function de(ie){return De=>{if(m(De))return De.lift(function(_e){try{return ie(_e,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(rn,rt,z)=>{"use strict";z.d(rt,{Z:()=>ie});var E=z(7398);const{isArray:m}=Array;function ie(De){return(0,E.U)(_e=>function de(De,_e){return m(_e)?De(..._e):De(_e)}(De,_e))}},2420:(rn,rt,z)=>{"use strict";function E(){}z.d(rt,{Z:()=>E})},8407:(rn,rt,z)=>{"use strict";z.d(rt,{U:()=>de,z:()=>m});var E=z(2737);function m(...ie){return de(ie)}function de(ie){return 0===ie.length?E.y:1===ie.length?ie[0]:function(_e){return ie.reduce((le,x)=>x(le),_e)}}},3894:(rn,rt,z)=>{"use strict";z.d(rt,{h:()=>de});var E=z(2653),m=z(7599);function de(ie){m.z.setTimeout(()=>{const{onUnhandledError:De}=E.config;if(!De)throw ie;De(ie)})}},9853:(rn,rt,z)=>{"use strict";function E(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(rt,{z:()=>E})},863:(rn,rt,z)=>{var E={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9643,433],"./ion-datetime_3.entry.js":[7059,9643,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function m(de){if(!z.o(E,de))return Promise.resolve().then(()=>{var _e=new Error("Cannot find module '"+de+"'");throw _e.code="MODULE_NOT_FOUND",_e});var ie=E[de],De=ie[0];return Promise.all(ie.slice(1).map(z.e)).then(()=>z(De))}m.keys=()=>Object.keys(E),m.id=863,rn.exports=m},6814:(rn,rt,z)=>{"use strict";z.d(rt,{Do:()=>ft,EM:()=>Go,HT:()=>ie,JF:()=>Cs,K0:()=>_e,Mx:()=>Hr,O5:()=>js,PM:()=>Kn,S$:()=>me,V_:()=>x,Ye:()=>Re,b0:()=>Pe,bD:()=>$t,ez:()=>tr,q:()=>de,tP:()=>Ye,w_:()=>De});var E=z(6689);let m=null;function de(){return m}function ie(D){m||(m=D)}class De{}const _e=new E.OlP("DocumentToken");let le=(()=>{var D;class L{historyGo(k){throw new Error("Not implemented")}}return(D=L).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(Ne)},providedIn:"platform"}),L})();const x=new E.OlP("Location Initialized");let Ne=(()=>{var D;class L extends le{constructor(){super(),this._doc=(0,E.f3M)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return de().getBaseHref(this._doc)}onPopState(k){const Y=de().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",k,!1),()=>Y.removeEventListener("popstate",k)}onHashChange(k){const Y=de().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",k,!1),()=>Y.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,Y,se){this._history.pushState(k,Y,se)}replaceState(k,Y,se){this._history.replaceState(k,Y,se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return(D=L).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return new D},providedIn:"platform"}),L})();function Ue(D,L){if(0==D.length)return L;if(0==L.length)return D;let ne=0;return D.endsWith("/")&&ne++,L.startsWith("/")&&ne++,2==ne?D+L.substring(1):1==ne?D+L:D+"/"+L}function fe(D){const L=D.match(/#|\?|$/),ne=L&&L.index||D.length;return D.slice(0,ne-("/"===D[ne-1]?1:0))+D.slice(ne)}function we(D){return D&&"?"!==D[0]?"?"+D:D}let me=(()=>{var D;class L{historyGo(k){throw new Error("Not implemented")}}return(D=L).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(Pe)},providedIn:"root"}),L})();const pe=new E.OlP("appBaseHref");let Pe=(()=>{var D;class L extends me{constructor(k,Y){var se,ct,St;super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=null!==(se=null!==(ct=null!=Y?Y:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ct?ct:null===(St=(0,E.f3M)(_e).location)||void 0===St?void 0:St.origin)&&void 0!==se?se:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Ue(this._baseHref,k)}path(k=!1){const Y=this._platformLocation.pathname+we(this._platformLocation.search),se=this._platformLocation.hash;return se&&k?`${Y}${se}`:Y}pushState(k,Y,se,ct){const St=this.prepareExternalUrl(se+we(ct));this._platformLocation.pushState(k,Y,St)}replaceState(k,Y,se,ct){const St=this.prepareExternalUrl(se+we(ct));this._platformLocation.replaceState(k,Y,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,se;null===(Y=(se=this._platformLocation).historyGo)||void 0===Y||Y.call(se,k)}}return(D=L).\u0275fac=function(k){return new(k||D)(E.LFG(le),E.LFG(pe,8))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),L})(),ft=(()=>{var D;class L extends me{constructor(k,Y){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(k){const Y=Ue(this._baseHref,k);return Y.length>0?"#"+Y:Y}pushState(k,Y,se,ct){let St=this.prepareExternalUrl(se+we(ct));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.pushState(k,Y,St)}replaceState(k,Y,se,ct){let St=this.prepareExternalUrl(se+we(ct));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.replaceState(k,Y,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){var Y,se;null===(Y=(se=this._platformLocation).historyGo)||void 0===Y||Y.call(se,k)}}return(D=L).\u0275fac=function(k){return new(k||D)(E.LFG(le),E.LFG(pe,8))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),L})(),Re=(()=>{var D;class L{constructor(k){this._subject=new E.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Y=this._locationStrategy.getBaseHref();this._basePath=function Oe(D){if(new RegExp("^(https?:)?//").test(D)){const[,ne]=D.split(/\/\/[^\/]+/);return ne}return D}(fe(tt(Y))),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){var k;null===(k=this._urlChangeSubscription)||void 0===k||k.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Y=""){return this.path()==this.normalize(k+we(Y))}normalize(k){return L.stripTrailingSlash(function qe(D,L){if(!D||!L.startsWith(D))return L;const ne=L.substring(D.length);return""===ne||["/",";","?","#"].includes(ne[0])?ne:L}(this._basePath,tt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Y="",se=null){this._locationStrategy.pushState(se,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+we(Y)),se)}replaceState(k,Y="",se=null){this._locationStrategy.replaceState(se,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+we(Y)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){var Y,se;null===(Y=(se=this._locationStrategy).historyGo)||void 0===Y||Y.call(se,k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(k);var se;this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(null===(se=this._urlChangeSubscription)||void 0===se||se.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Y){this._urlChangeListeners.forEach(se=>se(k,Y))}subscribe(k,Y,se){return this._subject.subscribe({next:k,error:Y,complete:se})}}return(D=L).normalizeQueryParams=we,D.joinWithSlash=Ue,D.stripTrailingSlash=fe,D.\u0275fac=function(k){return new(k||D)(E.LFG(me))},D.\u0275prov=E.Yz7({token:D,factory:function(){return function ae(){return new Re((0,E.LFG)(me))}()},providedIn:"root"}),L})();function tt(D){return D.replace(/\/index.html$/,"")}function Hr(D,L){L=encodeURIComponent(L);for(const ne of D.split(";")){const k=ne.indexOf("="),[Y,se]=-1==k?[ne,""]:[ne.slice(0,k),ne.slice(k+1)];if(Y.trim()===L)return decodeURIComponent(se)}return null}let js=(()=>{var D;class L{constructor(k,Y){this._viewContainer=k,this._context=new Ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){co("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){co("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Y){return!0}}return(D=L).\u0275fac=function(k){return new(k||D)(E.Y36(E.s_b),E.Y36(E.Rgc))},D.\u0275dir=E.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class Ds{constructor(){this.$implicit=null,this.ngIf=null}}function co(D,L){if(L&&!L.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,E.AaK)(L)}'.`)}let Ye=(()=>{var D;class L{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const Y=this._viewContainerRef;if(this._viewRef&&Y.remove(Y.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:se,ngTemplateOutletContext:ct,ngTemplateOutletInjector:St}=this;this._viewRef=Y.createEmbeddedView(se,ct,St?{injector:St}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(D=L).\u0275fac=function(k){return new(k||D)(E.Y36(E.s_b))},D.\u0275dir=E.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[E.TTD]}),L})(),tr=(()=>{var D;class L{}return(D=L).\u0275fac=function(k){return new(k||D)},D.\u0275mod=E.oAB({type:D}),D.\u0275inj=E.cJS({}),L})();const $t="browser",dn="server";function Kn(D){return D===dn}let Go=(()=>{var D;class L{}return(D=L).\u0275prov=(0,E.Yz7)({token:D,providedIn:"root",factory:()=>new on((0,E.LFG)(_e),window)}),L})();class on{constructor(L,ne){this.document=L,this.window=ne,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const ne=function ua(D,L){const ne=D.getElementById(L)||D.getElementsByName(L)[0];if(ne)return ne;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const k=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Y=k.currentNode;for(;Y;){const se=Y.shadowRoot;if(se){const ct=se.getElementById(L)||se.querySelector(`[name="${L}"]`);if(ct)return ct}Y=k.nextNode()}}return null}(this.document,L);ne&&(this.scrollToElement(ne),ne.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const ne=L.getBoundingClientRect(),k=ne.left+this.window.pageXOffset,Y=ne.top+this.window.pageYOffset,se=this.offset();this.window.scrollTo(k-se[0],Y-se[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Cs{}},6689:(rn,rt,z)=>{"use strict";z.d(rt,{tb:()=>CT,AFp:()=>V0,ip1:()=>xm,hGG:()=>uN,z2F:()=>Ja,Ojb:()=>B0,sBO:()=>rN,Sil:()=>dT,EJc:()=>lT,Xts:()=>lg,SBq:()=>Od,lqb:()=>vr,qLn:()=>Bd,vpe:()=>bu,XFs:()=>et,OlP:()=>Rr,zs3:()=>To,ZZ4:()=>VT,aQg:()=>BT,soG:()=>Pm,YKP:()=>Ow,h0i:()=>Wc,PXZ:()=>Hk,R0b:()=>ts,FiY:()=>_u,Lbi:()=>gg,g9A:()=>xd,Qsj:()=>Y0,FYo:()=>K0,JOm:()=>Wh,tp0:()=>H_,Rgc:()=>oh,dDg:()=>wT,eoX:()=>hx,q4F:()=>SC,GfV:()=>Z0,s_b:()=>$f,ifc:()=>Hr,VuI:()=>qT,LMc:()=>$m,MMx:()=>vS,Lck:()=>ak,eFA:()=>Yk,G48:()=>tN,Gpc:()=>ke,f3M:()=>Dn,$WT:()=>Gs,_c5:()=>$T,qFp:()=>pN,rg0:()=>Nr,c2e:()=>uT,zSh:()=>sy,HDt:()=>Rv,wAp:()=>Mf,vHH:()=>be,lri:()=>kv,rWj:()=>dx,cg1:()=>Pf,kL8:()=>QA,dqk:()=>qn,Z0I:()=>Cr,eJc:()=>Dm,QGY:()=>nw,F4k:()=>qy,RDi:()=>sC,AaK:()=>tt,qOj:()=>tc,Xq5:()=>jE,TTD:()=>Di,_Bn:()=>Lf,jDz:()=>Ii,xp6:()=>WC,uIk:()=>Vg,ekj:()=>Pl,Suo:()=>Zw,Xpm:()=>Ti,lG2:()=>Ta,Yz7:()=>mn,cJS:()=>Zr,oAB:()=>fo,Yjl:()=>qi,Y36:()=>jd,_UZ:()=>Gy,GkF:()=>qg,qZA:()=>Tf,TgZ:()=>jy,n5z:()=>JI,LFG:()=>en,$8M:()=>bc,$Z:()=>KC,NdJ:()=>Wy,CRH:()=>Ev,oxw:()=>SA,Hsn:()=>Ky,F$t:()=>Yg,Q6J:()=>zg,iGM:()=>VS,P3R:()=>k0,YNc:()=>$y,_uU:()=>mw,Gf:()=>ah});var E=z(8645),m=z(7394),de=z(5592),ie=z(7537),De=z(4829),_e=z(6232),le=z(4564),x=z(2459),Ue=z(5619),fe=z(2096),we=z(305),me=z(9360);function pe(o={}){const{connector:a=(()=>new E.x),resetOnError:c=!0,resetOnComplete:l=!0,resetOnRefCountZero:h=!0}=o;return p=>{let _,T,S,O=0,$=!1,q=!1;const oe=()=>{null==T||T.unsubscribe(),T=void 0},Ie=()=>{oe(),_=S=void 0,$=q=!1},ut=()=>{const Et=_;Ie(),null==Et||Et.unsubscribe()};return(0,me.e)((Et,Bt)=>{O++,!q&&!$&&oe();const tn=S=null!=S?S:a();Bt.add(()=>{O--,0===O&&!q&&!$&&(T=Pe(ut,h))}),tn.subscribe(Bt),!_&&O>0&&(_=new we.Hp({next:pt=>tn.next(pt),error:pt=>{q=!0,oe(),T=Pe(Ie,c,pt),tn.error(pt)},complete:()=>{$=!0,oe(),T=Pe(Ie,l),tn.complete()}}),(0,De.Xf)(Et).subscribe(_))})(p)}}function Pe(o,a,...c){if(!0===a)return void o();if(!1===a)return;const l=new we.Hp({next:()=>{l.unsubscribe(),o()}});return(0,De.Xf)(a(...c)).subscribe(l)}var ft=z(4664),Re=z(3997);function ae(o){for(let a in o)if(o[a]===ae)return a;throw Error("Could not find renamed property on target object.")}function qe(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function tt(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(tt).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Oe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Me=ae({__forward_ref__:ae});function ke(o){return o.__forward_ref__=ke,o.toString=function(){return tt(this())},o}function Ee(o){return Te(o)?o():o}function Te(o){return"function"==typeof o&&o.hasOwnProperty(Me)&&o.__forward_ref__===ke}function Ce(o){return o&&!!o.\u0275providers}const je="https://g.co/ng/security#xss";class be extends Error{constructor(a,c){super(function it(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function Ae(o){return"string"==typeof o?o:null==o?"":String(o)}function ee(o,a){throw new be(-201,!1)}function yt(o,a){null==o&&function mt(o,a,c,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${c} ${l} ${a} <=Actual]`))}(a,o,null,"!=")}function mn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Zr(o){return{providers:o.providers||[],imports:o.imports||[]}}function er(o){return On(o,Ar)||On(o,ln)}function Cr(o){return null!==er(o)}function On(o,a){return o.hasOwnProperty(a)?o[a]:null}function di(o){return o&&(o.hasOwnProperty(Qr)||o.hasOwnProperty(dr))?o[Qr]:null}const Ar=ae({\u0275prov:ae}),Qr=ae({\u0275inj:ae}),ln=ae({ngInjectableDef:ae}),dr=ae({ngInjectorDef:ae});var et=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(et||{});let Un;function Gt(o){const a=Un;return Un=o,a}function Vs(o,a,c){const l=er(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&et.Optional?null:void 0!==a?a:void ee(tt(o))}const qn=globalThis,he={},ze="__NG_DI_FLAG__",bt="ngTempTokenPath",Ht=/\n/gm,pr="__source";let Sr;function Er(o){const a=Sr;return Sr=o,a}function Is(o,a=et.Default){if(void 0===Sr)throw new be(-203,!1);return null===Sr?Vs(o,void 0,a):Sr.get(o,a&et.Optional?null:void 0,a)}function en(o,a=et.Default){return(function ys(){return Un}()||Is)(Ee(o),a)}function Dn(o,a=et.Default){return en(o,Pr(a))}function Pr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function xo(o){const a=[];for(let c=0;c<o.length;c++){const l=Ee(o[c]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let h,p=et.Default;for(let _=0;_<l.length;_++){const T=l[_],S=ti(T);"number"==typeof S?-1===S?h=T.token:p|=S:h=T}a.push(en(h,p))}else a.push(en(l))}return a}function Mr(o,a){return o[ze]=a,o.prototype[ze]=a,o}function ti(o){return o[ze]}function Lr(o){return{toString:o}.toString()}var Vr=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Vr||{}),Hr=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Hr||{});const Wn={},Qt=[],ws=ae({\u0275cmp:ae}),$s=ae({\u0275dir:ae}),uo=ae({\u0275pipe:ae}),Us=ae({\u0275mod:ae}),Br=ae({\u0275fac:ae}),Ts=ae({__NG_ELEMENT_ID__:ae}),bs=ae({__NG_ENV_ID__:ae});function js(o,a,c){let l=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===l||o.charCodeAt(h+p)<=32)return h}c=h+1}}function Ds(o,a,c){let l=0;for(;l<c.length;){const h=c[l];if("number"==typeof h){if(0!==h)break;l++;const p=c[l++],_=c[l++],T=c[l++];o.setAttribute(a,_,T,p)}else{const p=h,_=c[++l];qr(p)?o.setProperty(a,p,_):o.setAttribute(a,p,_),l++}}return l}function co(o){return 3===o||4===o||6===o}function qr(o){return 64===o.charCodeAt(0)}function gr(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?c=h:0===c||H(o,c,h,null,-1===c||2===c?a[++l]:null)}}return o}function H(o,a,c,l,h){let p=0,_=o.length;if(-1===a)_=-1;else for(;p<o.length;){const T=o[p++];if("number"==typeof T){if(T===a){_=-1;break}if(T>a){_=p-1;break}}}for(;p<o.length;){const T=o[p];if("number"==typeof T)break;if(T===c){if(null===l)return void(null!==h&&(o[p+1]=h));if(l===o[p+1])return void(o[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(o.splice(_,0,a),p=_+1),o.splice(p++,0,c),null!==l&&o.splice(p++,0,l),null!==h&&o.splice(p++,0,h)}const j="ng-template";function J(o,a,c){let l=0,h=!0;for(;l<o.length;){let p=o[l++];if("string"==typeof p&&h){const _=o[l++];if(c&&"class"===p&&-1!==js(_.toLowerCase(),a,0))return!0}else{if(1===p){for(;l<o.length&&"string"==typeof(p=o[l++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function re(o){return 4===o.type&&o.value!==j}function Le(o,a,c){return a===(4!==o.type||c?o.value:j)}function Se(o,a,c){let l=4;const h=o.attrs||[],p=function Wt(o){for(let a=0;a<o.length;a++)if(co(o[a]))return a;return o.length}(h);let _=!1;for(let T=0;T<a.length;T++){const S=a[T];if("number"!=typeof S){if(!_)if(4&l){if(l=2|1&l,""!==S&&!Le(o,S,c)||""===S&&1===a.length){if(Ye(l))return!1;_=!0}}else{const O=8&l?S:a[++T];if(8&l&&null!==o.attrs){if(!J(o.attrs,O,c)){if(Ye(l))return!1;_=!0}continue}const q=_t(8&l?"class":S,h,re(o),c);if(-1===q){if(Ye(l))return!1;_=!0;continue}if(""!==O){let oe;oe=q>p?"":h[q+1].toLowerCase();const Ie=8&l?oe:null;if(Ie&&-1!==js(Ie,O,0)||2&l&&O!==oe){if(Ye(l))return!1;_=!0}}}}else{if(!_&&!Ye(l)&&!Ye(S))return!1;if(_&&Ye(S))continue;_=!1,l=S|1&l}}return Ye(l)||_}function Ye(o){return 0==(1&o)}function _t(o,a,c,l){if(null===a)return-1;let h=0;if(l||!c){let p=!1;for(;h<a.length;){const _=a[h];if(_===o)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let T=a[++h];for(;"string"==typeof T;)T=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function vn(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const l=o[c];if("number"==typeof l)return-1;if(l===a)return c;c++}return-1}(a,o)}function at(o,a,c=!1){for(let l=0;l<a.length;l++)if(Se(o,a[l],c))return!0;return!1}function Tn(o,a){e:for(let c=0;c<a.length;c++){const l=a[c];if(o.length===l.length){for(let h=0;h<o.length;h++)if(o[h]!==l[h])continue e;return!0}}return!1}function Zn(o,a){return o?":not("+a.trim()+")":a}function hi(o){let a=o[0],c=1,l=2,h="",p=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&l){const T=o[++c];h+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Ye(_)&&(a+=Zn(p,h),h=""),l=_,p=p||!Ye(l);c++}return""!==h&&(a+=Zn(p,h)),a}function Ti(o){return Lr(()=>{var a;const c=$a(o),l={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Vr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:null!==(a=o.signals)&&void 0!==a&&a,data:o.data||{},encapsulation:o.encapsulation||Hr.Emulated,styles:o.styles||Qt,_:null,schemas:o.schemas||null,tView:null,id:""};Uo(l);const h=o.dependencies;return l.directiveDefs=zs(h,!1),l.pipeDefs=zs(h,!0),l.id=function uu(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(l),l})}function ou(o){return Mn(o)||ni(o)}function wa(o){return null!==o}function fo(o){return Lr(()=>({type:o.type,bootstrap:o.bootstrap||Qt,declarations:o.declarations||Qt,imports:o.imports||Qt,exports:o.exports||Qt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function oa(o,a){if(null==o)return Wn;const c={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=l,a&&(a[h]=p)}return c}function Ta(o){return Lr(()=>{const a=$a(o);return Uo(a),a})}function qi(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Mn(o){return o[ws]||null}function ni(o){return o[$s]||null}function xr(o){return o[uo]||null}function Gs(o){const a=Mn(o)||ni(o)||xr(o);return null!==a&&a.standalone}function $r(o,a){const c=o[Us]||null;if(!c&&!0===a)throw new Error(`Type ${tt(o)} does not have '\u0275mod' property.`);return c}function $a(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Wn,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Qt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oa(o.inputs,a),outputs:oa(o.outputs)}}function Uo(o){var a;null===(a=o.features)||void 0===a||a.forEach(c=>c(o))}function zs(o,a){if(!o)return null;const c=a?xr:ou;return()=>("function"==typeof o?o():o).map(l=>c(l)).filter(wa)}const tr=0,$t=1,dn=2,Jn=3,Li=4,Hs=5,Kn=6,ss=7,mr=8,jo=9,Go=10,on=11,ua=12,os=13,Cs=14,ir=15,Ro=16,po=17,bi=18,_r=19,cu=20,As=21,as=22,Ua=23,go=24,kn=25,Wi=1,ja=2,pi=7,zo=9,ri=11;function Vi(o){return Array.isArray(o)&&"object"==typeof o[Wi]}function Ki(o){return Array.isArray(o)&&!0===o[Wi]}function ba(o){return 0!=(4&o.flags)}function qs(o){return o.componentOffset>-1}function lu(o){return 1==(1&o.flags)}function Ws(o){return!!o.template}function Bi(o){return 0!=(512&o[dn])}function wr(o,a){return o.hasOwnProperty(Br)?o[Br]:null}let Wr=null,Jc=!1;function _o(o){const a=Wr;return Wr=o,a}const el={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Mh(o){if(!za(o)||o.dirty){if(!o.producerMustRecompute(o)&&!nd(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function tl(o){var a;o.dirty=!0,function gc(o){if(void 0===o.liveConsumerNode)return;const a=Jc;Jc=!0;try{for(const c of o.liveConsumerNode)c.dirty||tl(c)}finally{Jc=a}}(o),null===(a=o.consumerMarkedDirty)||void 0===a||a.call(o,o)}function _c(o){return o&&(o.nextProducerIndex=0),_o(o)}function Bu(o,a){if(_o(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(za(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)rd(o.producerNode[c],o.producerIndexOfThis[c]);for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function nd(o){vc(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],l=o.producerLastReadVersion[a];if(l!==c.version||(Mh(c),l!==c.version))return!0}return!1}function nl(o){if(vc(o),za(o))for(let a=0;a<o.producerNode.length;a++)rd(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function rd(o,a){if(function Ep(o){var a,c;null!==(a=o.liveConsumerNode)&&void 0!==a||(o.liveConsumerNode=[]),null!==(c=o.liveConsumerIndexOfThis)&&void 0!==c||(o.liveConsumerIndexOfThis=[])}(o),vc(o),1===o.liveConsumerNode.length)for(let l=0;l<o.producerNode.length;l++)rd(o.producerNode[l],o.producerIndexOfThis[l]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const l=o.liveConsumerIndexOfThis[a],h=o.liveConsumerNode[a];vc(h),h.producerIndexOfThis[l]=a}}function za(o){var a,c;return o.consumerIsAlwaysLive||(null!==(a=null==o||null===(c=o.liveConsumerNode)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>0}function vc(o){var a,c,l;null!==(a=o.producerNode)&&void 0!==a||(o.producerNode=[]),null!==(c=o.producerIndexOfThis)&&void 0!==c||(o.producerIndexOfThis=[]),null!==(l=o.producerLastReadVersion)&&void 0!==l||(o.producerLastReadVersion=[])}let D=null;function Nr(o){const a=_o(null);try{return o()}finally{_o(a)}}const ui=()=>{},Ho={...el,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:ui};class ii{constructor(a,c,l){this.previousValue=a,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function Di(){return la}function la(o){return o.type.prototype.ngOnChanges&&(o.setInput=da),du}function du(){const o=bp(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Wn)o.previous=a;else for(let l in a)c[l]=a[l];o.current=null,this.ngOnChanges(a)}}function da(o,a,c,l){const h=this.declaredInputs[c],p=bp(o)||function VI(o,a){return o[Tp]=a}(o,{previous:Wn,current:null}),_=p.current||(p.current={}),T=p.previous,S=T[h];_[h]=new ii(S&&S.currentValue,a,T===Wn),o[l]=a}Di.ngInherit=!0;const Tp="__ngSimpleChanges__";function bp(o){return o[Tp]||null}const Kr=function(o,a,c){};function Tr(o){for(;Array.isArray(o);)o=o[tr];return o}function Ss(o,a){return Tr(a[o.index])}function D_(o,a){return o.data[a]}function Yi(o,a){const c=a[o];return Vi(c)?c:c[tr]}function Zi(o,a){return null==a?null:o[a]}function C_(o){o[po]=0}function AD(o){1024&o[dn]||(o[dn]|=1024,UI(o,1))}function sl(o){1024&o[dn]&&(o[dn]&=-1025,UI(o,-1))}function UI(o,a){let c=o[Jn];if(null===c)return;c[Hs]+=a;let l=c;for(c=c[Jn];null!==c&&(1===a&&1===l[Hs]||-1===a&&0===l[Hs]);)c[Hs]+=a,l=c,c=c[Jn]}const bn={lFrame:Qi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function A_(){return bn.bindingsEnabled}function hu(){return null!==bn.skipHydrationRootTNode}function It(){return bn.lFrame.lView}function rr(){return bn.lFrame.tView}function Ui(){let o=ol();for(;null!==o&&64===o.type;)o=o.parent;return o}function ol(){return bn.lFrame.currentTNode}function Da(o,a){const c=bn.lFrame;c.currentTNode=o,c.isParent=a}function od(){return bn.lFrame.isParent}function ad(){bn.lFrame.isParent=!1}function C(){return bn.lFrame.bindingIndex++}function G(o,a){const c=bn.lFrame;c.bindingIndex=c.bindingRootIndex=o,xe(a)}function xe(o){bn.lFrame.currentDirectiveIndex=o}function $e(){return bn.lFrame.currentQueryIndex}function Lt(o){bn.lFrame.currentQueryIndex=o}function un(o){const a=o[$t];return 2===a.type?a.declTNode:1===a.type?o[Kn]:null}function sr(o,a,c){if(c&et.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&et.Host||(h=un(p),null===h||(p=p[Cs],10&h.type))););if(null===h)return!1;a=h,o=p}const l=bn.lFrame=ur();return l.currentTNode=a,l.lView=o,!0}function Ci(o){const a=ur(),c=o[$t];bn.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function ur(){const o=bn.lFrame,a=null===o?null:o.child;return null===a?Qi(o):a}function Qi(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function fr(){const o=bn.lFrame;return bn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fu=fr;function Ca(){const o=fr();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Xi(){return bn.lFrame.selectedIndex}function ud(o){bn.lFrame.selectedIndex=o}function Ai(){const o=bn.lFrame;return D_(o.tView,o.selectedIndex)}let zI=!0;function Vp(){return zI}function Aa(o){zI=o}function k_(o,a){for(let O=a.directiveStart,$=a.directiveEnd;O<$;O++){const oe=o.data[O].type.prototype,{ngAfterContentInit:Ie,ngAfterContentChecked:ut,ngAfterViewInit:Et,ngAfterViewChecked:Bt,ngOnDestroy:tn}=oe;var c,l,h,p,_,T,S;Ie&&(null!==(c=o.contentHooks)&&void 0!==c?c:o.contentHooks=[]).push(-O,Ie),ut&&((null!==(l=o.contentHooks)&&void 0!==l?l:o.contentHooks=[]).push(O,ut),(null!==(h=o.contentCheckHooks)&&void 0!==h?h:o.contentCheckHooks=[]).push(O,ut)),Et&&(null!==(p=o.viewHooks)&&void 0!==p?p:o.viewHooks=[]).push(-O,Et),Bt&&((null!==(_=o.viewHooks)&&void 0!==_?_:o.viewHooks=[]).push(O,Bt),(null!==(T=o.viewCheckHooks)&&void 0!==T?T:o.viewCheckHooks=[]).push(O,Bt)),null!=tn&&(null!==(S=o.destroyHooks)&&void 0!==S?S:o.destroyHooks=[]).push(O,tn)}}function Bp(o,a,c){HI(o,a,3,c)}function N_(o,a,c,l){(3&o[dn])===c&&HI(o,a,c,l)}function O_(o,a){let c=o[dn];(3&c)===a&&(c&=8191,c+=1,o[dn]=c)}function HI(o,a,c,l){const p=null!=l?l:-1,_=a.length-1;let T=0;for(let S=void 0!==l?65535&o[po]:0;S<_;S++)if("number"==typeof a[S+1]){if(T=a[S],null!=l&&T>=l)break}else a[S]<0&&(o[po]+=65536),(T<p||-1==p)&&(qI(o,c,a,S),o[po]=(4294901760&o[po])+S+2),S++}function F_(o,a){Kr(4,o,a);const c=_o(null);try{a.call(o)}finally{_o(c),Kr(5,o,a)}}function qI(o,a,c,l){const h=c[l]<0,p=c[l+1],T=o[h?-c[l]:c[l]];h?o[dn]>>13<o[po]>>16&&(3&o[dn])===a&&(o[dn]+=8192,F_(T,p)):F_(T,p)}const cd=-1;class Oh{constructor(a,c,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function V_(o){return o!==cd}function Tc(o){return 32767&o}function jp(o,a){let c=function Up(o){return o>>16}(o),l=a;for(;c>0;)l=l[Cs],c--;return l}let mi=!0;function Gp(o){const a=mi;return mi=o,a}const RD=255,PD=5;let MD=0;const gu={};function ld(o,a){const c=mu(o,a);if(-1!==c)return c;const l=a[$t];l.firstCreatePass&&(o.injectorIndex=a.length,B_(l.data,o),B_(a,null),B_(l.blueprint,null));const h=zp(o,a),p=o.injectorIndex;if(V_(h)){const _=Tc(h),T=jp(h,a),S=T[$t].data;for(let O=0;O<8;O++)a[p+O]=T[_+O]|S[_+O]}return a[p+8]=h,p}function B_(o,a){o.push(0,0,0,0,0,0,0,0,a)}function mu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function zp(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,l=null,h=a;for(;null!==h;){if(l=e0(h),null===l)return cd;if(c++,h=h[Cs],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return cd}function YI(o,a,c){!function kD(o,a,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(Ts)&&(l=c[Ts]),null==l&&(l=c[Ts]=MD++);const h=l&RD;a.data[o+(h>>PD)]|=1<<h}(o,a,c)}function $_(o,a,c){if(c&et.Optional||void 0!==o)return o;ee()}function Fh(o,a,c,l){if(c&et.Optional&&void 0===l&&(l=null),!(c&(et.Self|et.Host))){const h=o[jo],p=Gt(void 0);try{return h?h.get(a,l,c&et.Optional):Vs(a,l,c&et.Optional)}finally{Gt(p)}}return $_(l,0,c)}function ZI(o,a,c,l=et.Default,h){if(null!==o){if(2048&a[dn]&&!(l&et.Self)){const _=function FD(o,a,c,l,h){let p=o,_=a;for(;null!==p&&null!==_&&2048&_[dn]&&!(512&_[dn]);){const T=U_(p,_,c,l|et.Self,gu);if(T!==gu)return T;let S=p.parent;if(!S){const O=_[cu];if(O){const $=O.get(c,gu,l);if($!==gu)return $}S=e0(_),_=_[Cs]}p=S}return h}(o,a,c,l,gu);if(_!==gu)return _}const p=U_(o,a,c,l,gu);if(p!==gu)return p}return Fh(a,c,l,h)}function U_(o,a,c,l,h){const p=function X1(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ts)?o[Ts]:void 0;return"number"==typeof a?a>=0?a&RD:XI:a}(c);if("function"==typeof p){if(!sr(a,o,l))return l&et.Host?$_(h,0,l):Fh(a,c,l,h);try{let _;if(_=p(l),null!=_||l&et.Optional)return _;ee()}finally{fu()}}else if("number"==typeof p){let _=null,T=mu(o,a),S=cd,O=l&et.Host?a[ir][Kn]:null;for((-1===T||l&et.SkipSelf)&&(S=-1===T?zp(o,a):a[T+8],S!==cd&&Lh(l,!1)?(_=a[$t],T=Tc(S),a=jp(S,a)):T=-1);-1!==T;){const $=a[$t];if(QI(p,T,$.data)){const q=j_(T,a,c,_,l,O);if(q!==gu)return q}S=a[T+8],S!==cd&&Lh(l,a[$t].data[T+8]===O)&&QI(p,T,a)?(_=$,T=Tc(S),a=jp(S,a)):T=-1}}return h}function j_(o,a,c,l,h,p){const _=a[$t],T=_.data[o+8],$=Hp(T,_,c,null==l?qs(T)&&mi:l!=_&&0!=(3&T.type),h&et.Host&&p===T);return null!==$?Gu(a,_,$,T):gu}function Hp(o,a,c,l,h){const p=o.providerIndexes,_=a.data,T=1048575&p,S=o.directiveStart,$=p>>20,oe=h?T+$:o.directiveEnd;for(let Ie=l?T:T+$;Ie<oe;Ie++){const ut=_[Ie];if(Ie<S&&c===ut||Ie>=S&&ut.type===c)return Ie}if(h){const Ie=_[S];if(Ie&&Ws(Ie)&&Ie.type===c)return S}return null}function Gu(o,a,c,l){let h=o[c];const p=a.data;if(function Q1(o){return o instanceof Oh}(h)){const _=h;_.resolving&&function kt(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new be(-200,`Circular dependency in DI detected for ${o}${c}`)}(function gt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ae(o)}(p[c]));const T=Gp(_.canSeeViewProviders);_.resolving=!0;const O=_.injectImpl?Gt(_.injectImpl):null;sr(o,l,et.Default);try{h=o[c]=_.factory(void 0,p,o,l),a.firstCreatePass&&c>=l.directiveStart&&function Z1(o,a,c){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(l){var _,T;const q=la(a);(null!==(_=c.preOrderHooks)&&void 0!==_?_:c.preOrderHooks=[]).push(o,q),(null!==(T=c.preOrderCheckHooks)&&void 0!==T?T:c.preOrderCheckHooks=[]).push(o,q)}var S,O,$;h&&(null!==(S=c.preOrderHooks)&&void 0!==S?S:c.preOrderHooks=[]).push(0-o,h),p&&((null!==(O=c.preOrderHooks)&&void 0!==O?O:c.preOrderHooks=[]).push(o,p),(null!==($=c.preOrderCheckHooks)&&void 0!==$?$:c.preOrderCheckHooks=[]).push(o,p))}(c,p[c],a)}finally{null!==O&&Gt(O),Gp(T),_.resolving=!1,fu()}}return h}function QI(o,a,c){return!!(c[a+(o>>PD)]&1<<o)}function Lh(o,a){return!(o&et.Self||o&et.Host&&a)}class Io{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,l){return ZI(this._tNode,this._lView,a,Pr(l),c)}}function XI(){return new Io(Ui(),It())}function JI(o){return Lr(()=>{const a=o.prototype.constructor,c=a[Br]||Bh(a),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const p=h[Br]||Bh(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Bh(o){return Te(o)?()=>{const a=Bh(Ee(o));return a&&a()}:wr(o)}function e0(o){const a=o[$t],c=a.type;return 2===c?a.declTNode:1===c?o[Kn]:null}function bc(o){return function ND(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const l=c.length;let h=0;for(;h<l;){const p=c[h];if(co(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(Ui(),o)}const hd="__parameters__";function Ys(o,a,c){return Lr(()=>{const l=function $h(o){return function(...c){if(o){const l=o(...c);for(const h in l)this[h]=l[h]}}}(a);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return T.annotation=_,T;function T(S,O,$){const q=S.hasOwnProperty(hd)?S[hd]:Object.defineProperty(S,hd,{value:[]})[hd];for(;q.length<=$;)q.push(null);return(q[$]=q[$]||[]).push(_),S}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Eo(o,a){o.forEach(c=>Array.isArray(c)?Eo(c,a):a(c))}function Zs(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function gd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ll(o,a){const c=[];for(let l=0;l<o;l++)c.push(a);return c}function Sa(o,a,c){let l=dl(o,a);return l>=0?o[1|l]=c:(l=~l,function UD(o,a,c,l){let h=o.length;if(h==a)o.push(c,l);else if(1===h)o.push(l,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=l}}(o,l,a,c)),l}function r0(o,a){const c=dl(o,a);if(c>=0)return o[1|c]}function dl(o,a){return function jD(o,a,c){let l=0,h=o.length>>c;for(;h!==l;){const p=l+(h-l>>1),_=o[p<<c];if(a===_)return p<<c;_>a?h=p:l=p+1}return~(h<<c)}(o,a,1)}const _u=Mr(Ys("Optional"),8),H_=Mr(Ys("SkipSelf"),4);function Xp(o){return 128==(128&o.flags)}var Wh=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Wh||{});const Be=/^>|^->|<!--|-->|--!>|<!-$/g,Y_=/(<|>)/g,vu="\u200b$1\u200b";const _d=new Map;let hl=0;const vd="__ngContext__";function wo(o,a){Vi(a)?(o[vd]=a[_r],function yd(o){_d.set(o[_r],o)}(a)):o[vd]=a}let g0;function m0(o,a){return g0(o,a)}function Jp(o){const a=o[Jn];return Ki(a)?a[Jn]:a}function QD(o){return JD(o[ua])}function XD(o){return JD(o[Li])}function JD(o){for(;null!==o&&!Ki(o);)o=o[Li];return o}function Yh(o,a,c,l,h){if(null!=l){let p,_=!1;Ki(l)?p=l:Vi(l)&&(_=!0,l=l[tr]);const T=Tr(l);0===o&&null!==c?null==h?rC(a,c,T):gl(a,c,T,h||null,!0):1===o&&null!==c?gl(a,c,T,h||null,!0):2===o?function _l(o,a,c){const l=ci(o,a);l&&function yP(o,a,c,l){o.removeChild(a,c,l)}(o,l,a,c)}(a,T,_):3===o&&a.destroyNode(T),null!=p&&function Ed(o,a,c,l,h){const p=c[pi];p!==Tr(c)&&Yh(a,o,l,p,h);for(let T=ri;T<c.length;T++){const S=c[T];Ku(S[$t],S,o,a,l,p)}}(a,o,p,c,h)}}function y0(o,a){return o.createComment(function KD(o){return o.replace(Be,a=>a.replace(Y_,vu))}(a))}function eg(o,a,c){return o.createElement(a,c)}function I0(o,a){const c=o[zo],l=c.indexOf(a);sl(a),c.splice(l,1)}function jr(o,a){if(o.length<=ri)return;const c=ri+a,l=o[c];if(l){const h=l[Ro];null!==h&&h!==o&&I0(h,l),a>0&&(o[c-1][Li]=l[Li]);const p=gd(o,ri+a);!function eC(o,a){Ku(o,a,a[on],2,null,null),a[tr]=null,a[Kn]=null}(l[$t],l);const _=p[bi];null!==_&&_.detachView(p[$t]),l[Jn]=null,l[Li]=null,l[dn]&=-129}return l}function Zh(o,a){if(!(256&a[dn])){const c=a[on];a[Ua]&&nl(a[Ua]),a[go]&&nl(a[go]),c.destroyNode&&Ku(o,a,c,3,null,null),function Js(o){let a=o[ua];if(!a)return xs(o[$t],o);for(;a;){let c=null;if(Vi(a))c=a[ua];else{const l=a[ri];l&&(c=l)}if(!c){for(;a&&!a[Li]&&a!==o;)Vi(a)&&xs(a[$t],a),a=a[Jn];null===a&&(a=o),Vi(a)&&xs(a[$t],a),c=a&&a[Li]}a=c}}(a)}}function xs(o,a){if(!(256&a[dn])){a[dn]&=-129,a[dn]|=256,function nC(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let l=0;l<c.length;l+=2){const h=a[c[l]];if(!(h instanceof Oh)){const p=c[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const T=h[p[_]],S=p[_+1];Kr(4,T,S);try{S.call(T)}finally{Kr(5,T,S)}}else{Kr(4,h,p);try{p.call(h)}finally{Kr(5,h,p)}}}}}(o,a),function si(o,a){const c=o.cleanup,l=a[ss];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const _=c[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else c[p].call(l[c[p+1]]);null!==l&&(a[ss]=null);const h=a[As];if(null!==h){a[As]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,a),1===a[$t].type&&a[on].destroy();const c=a[Ro];if(null!==c&&Ki(a[Jn])){c!==a[Jn]&&I0(c,a);const l=a[bi];null!==l&&l.detachView(o)}!function d0(o){_d.delete(o[_r])}(a)}}function pl(o,a,c){return function Wo(o,a,c){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return c[tr];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=o.data[l.directiveStart+h];if(p===Hr.None||p===Hr.Emulated)return null}return Ss(l,c)}}(o,a.parent,c)}function gl(o,a,c,l,h){o.insertBefore(a,c,l,h)}function rC(o,a,c){o.appendChild(a,c)}function ls(o,a,c,l,h){null!==l?gl(o,a,c,l,h):rC(o,a,c)}function ci(o,a){return o.parentNode(a)}function tg(o,a,c){return Qh(o,a,c)}let E0,Rs,Eu,Qh=function ng(o,a,c){return 40&o.type?Ss(o,c):null};function Iu(o,a,c,l){const h=pl(o,l,a),p=a[on],T=tg(l.parent||a[Kn],l,a);if(null!=h)if(Array.isArray(c))for(let S=0;S<c.length;S++)ls(p,h,c[S],T,!1);else ls(p,h,c,T,!1);void 0!==E0&&E0(p,l,a,c,h)}function ml(o,a){if(null!==a){const c=a.type;if(3&c)return Ss(a,o);if(4&c)return Ha(-1,o[a.index]);if(8&c){const l=a.child;if(null!==l)return ml(o,l);{const h=o[a.index];return Ki(h)?Ha(-1,h):Tr(h)}}if(32&c)return m0(a,o)()||Tr(o[a.index]);{const l=Ac(o,a);return null!==l?Array.isArray(l)?l[0]:ml(Jp(o[ir]),l):ml(o,a.next)}}return null}function Ac(o,a){return null!==a?o[ir][Kn].projection[a.projection]:null}function Ha(o,a){const c=ri+o+1;if(c<a.length){const l=a[c],h=l[$t].firstChild;if(null!==h)return ml(l,h)}return a[pi]}function X_(o,a,c,l,h,p,_){for(;null!=c;){const T=l[c.index],S=c.type;if(_&&0===a&&(T&&wo(Tr(T),l),c.flags|=2),32!=(32&c.flags))if(8&S)X_(o,a,c.child,l,h,p,!1),Yh(a,o,h,T,p);else if(32&S){const O=m0(c,l);let $;for(;$=O();)Yh(a,o,h,$,p);Yh(a,o,h,T,p)}else 16&S?rg(o,a,l,c,h,p):Yh(a,o,h,T,p);c=_?c.projectionNext:c.next}}function Ku(o,a,c,l,h,p){X_(c,l,o.firstChild,a,h,p,!1)}function rg(o,a,c,l,h,p){const _=c[ir],S=_[Kn].projection[l.projection];if(Array.isArray(S))for(let O=0;O<S.length;O++)Yh(a,o,h,S[O],p);else{let O=S;const $=_[Jn];Xp(l)&&(O.flags|=128),X_(o,a,O,$,h,p,!0)}}function b0(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function D0(o,a,c){const{mergedAttrs:l,classes:h,styles:p}=c;null!==l&&Ds(o,a,l),null!==h&&b0(o,a,h),null!==p&&function ig(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function sC(o){Rs=o}function oC(o){var a;return(null===(a=function J_(){if(void 0===Eu&&(Eu=null,qn.trustedTypes))try{Eu=qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Eu}())||void 0===a?void 0:a.createScriptURL(o))||o}class A0{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}function xc(o){return o instanceof A0?o.changingThisBreaksApplicationSecurity:o}function Cd(o,a){const c=function aC(o){return o instanceof A0&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${je})`)}return c===a}const CP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Yu=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Yu||{});function fC(o){const a=Pc();return a?a.sanitize(Yu.URL,o)||"":Cd(o,"URL")?xc(o):function P0(o){return(o=String(o)).match(CP)?o:"unsafe:"+o}(Ae(o))}function Zu(o){const a=Pc();if(a)return oC(a.sanitize(Yu.RESOURCE_URL,o)||"");if(Cd(o,"ResourceURL"))return oC(xc(o));throw new be(904,!1)}function k0(o,a,c){return function cg(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Zu:fC}(a,c)(o)}function Pc(){const o=It();return o&&o[Go].sanitizer}class Rr{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=mn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lg=new Rr("ENVIRONMENT_INITIALIZER"),jn=new Rr("INJECTOR",-1),gC=new Rr("INJECTOR_DEF_TYPES");class dg{get(a,c=he){if(c===he){const l=new Error(`NullInjectorError: No provider for ${tt(a)}!`);throw l.name="NullInjectorError",l}return c}}function mC(...o){return{\u0275providers:O0(0,o),\u0275fromNgModule:!0}}function O0(o,...a){const c=[],l=new Set;let h;const p=_=>{c.push(_)};return Eo(a,_=>{const T=_;ry(T,p,[],l)&&(h||(h=[]),h.push(T))}),void 0!==h&&hg(h,p),c}function hg(o,a){for(let c=0;c<o.length;c++){const{ngModule:l,providers:h}=o[c];iy(h,p=>{a(p,l)})}}function ry(o,a,c,l){if(!(o=Ee(o)))return!1;let h=null,p=di(o);const _=!p&&Mn(o);if(p||_){if(_&&!_.standalone)return!1;h=o}else{const S=o.ngModule;if(p=di(S),!p)return!1;h=S}const T=l.has(h);if(_){if(T)return!1;if(l.add(h),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const O of S)ry(O,a,c,l)}}else{if(!p)return!1;{if(null!=p.imports&&!T){let O;l.add(h);try{Eo(p.imports,$=>{ry($,a,c,l)&&(O||(O=[]),O.push($))})}finally{}void 0!==O&&hg(O,a)}if(!T){const O=wr(h)||(()=>new h);a({provide:h,useFactory:O,deps:Qt},h),a({provide:gC,useValue:h,multi:!0},h),a({provide:lg,useValue:()=>en(h),multi:!0},h)}const S=p.providers;if(null!=S&&!T){const O=o;iy(S,$=>{a($,O)})}}}return h!==o&&void 0!==o.providers}function iy(o,a){for(let c of o)Ce(c)&&(c=c.\u0275providers),Array.isArray(c)?iy(c,a):a(c)}const nf=ae({provide:String,useValue:ae});function Mc(o){return null!==o&&"object"==typeof o&&nf in o}function El(o){return"function"==typeof o}const sy=new Rr("Set Injector scope."),fg={},pg={};let L0;function oy(){return void 0===L0&&(L0=new dg),L0}class vr{}class Sd extends vr{get destroyed(){return this._destroyed}constructor(a,c,l,h){super(),this.parent=c,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ay(a,_=>this.processProvider(_)),this.records.set(jn,uf(void 0,this)),h.has("environment")&&this.records.set(vr,uf(void 0,this));const p=this.records.get(sy);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(gC.multi,Qt,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Er(this),l=Gt(void 0);try{return a()}finally{Er(c),Gt(l)}}get(a,c=he,l=et.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(bs))return a[bs](this);l=Pr(l);const p=Er(this),_=Gt(void 0);try{if(!(l&et.SkipSelf)){let S=this.records.get(a);if(void 0===S){const O=function kc(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rr}(a)&&er(a);S=O&&this.injectableDefInScope(O)?uf(sf(a),fg):null,this.records.set(a,S)}if(null!=S)return this.hydrate(a,S)}return(l&et.Self?oy():this.parent).get(a,c=l&et.Optional&&c===he?null:c)}catch(T){if("NullInjectorError"===T.name){if((T[bt]=T[bt]||[]).unshift(tt(a)),p)throw T;return function wi(o,a,c,l){const h=o[bt];throw a[pr]&&h.unshift(a[pr]),o.message=function Es(o,a,c,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=tt(a);if(Array.isArray(a))h=a.map(tt).join(" -> ");else if("object"==typeof a){let p=[];for(let _ in a)if(a.hasOwnProperty(_)){let T=a[_];p.push(_+":"+("string"==typeof T?JSON.stringify(T):tt(T)))}h=`{${p.join(", ")}}`}return`${c}${l?"("+l+")":""}[${h}]: ${o.replace(Ht,"\n  ")}`}("\n"+o.message,h,c,l),o.ngTokenPath=h,o[bt]=null,o}(T,a,"R3InjectorError",this.source)}throw T}finally{Gt(_),Er(p)}}resolveInjectorInitializers(){const a=Er(this),c=Gt(void 0);try{const h=this.get(lg.multi,Qt,et.Self);for(const p of h)p()}finally{Er(a),Gt(c)}}toString(){const a=[],c=this.records;for(const l of c.keys())a.push(tt(l));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(a){let c=El(a=Ee(a))?a:Ee(a&&a.provide);const l=function MP(o){return Mc(o)?uf(void 0,o.useValue):uf(af(o),fg)}(a);if(El(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=uf(void 0,fg,!0),h.factory=()=>xo(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,l)}hydrate(a,c){return c.value===fg&&(c.value=pg,c.value=c.factory()),"object"==typeof c.value&&c.value&&function cf(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Ee(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function sf(o){const a=er(o),c=null!==a?a.factory:wr(o);if(null!==c)return c;if(o instanceof Rr)throw new be(204,!1);if(o instanceof Function)return function _C(o){const a=o.length;if(a>0)throw ll(a,"?"),new be(204,!1);const c=function Pn(o){return o&&(o[Ar]||o[ln])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new be(204,!1)}function af(o,a,c){let l;if(El(o)){const h=Ee(o);return wr(h)||sf(h)}if(Mc(o))l=()=>Ee(o.useValue);else if(function Il(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...xo(o.deps||[]));else if(function F0(o){return!(!o||!o.useExisting)}(o))l=()=>en(Ee(o.useExisting));else{const h=Ee(o&&(o.useClass||o.provide));if(!function yC(o){return!!o.deps}(o))return wr(h)||sf(h);l=()=>new h(...xo(o.deps))}return l}function uf(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function ay(o,a){for(const c of o)Array.isArray(c)?ay(c,a):c&&Ce(c)?ay(c.\u0275providers,a):a(c)}const V0=new Rr("AppId",{providedIn:"root",factory:()=>vC}),vC="ng",xd=new Rr("Platform Initializer"),gg=new Rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B0=new Rr("CSP nonce",{providedIn:"root",factory:()=>{var o;return(null===(o=function Or(){if(void 0!==Rs)return Rs;if(typeof document<"u")return document;throw new be(210,!1)}().body)||void 0===o||null===(o=o.querySelector("[ngCspNonce]"))||void 0===o?void 0:o.getAttribute("ngCspNonce"))||null}});let $0=(o,a,c)=>null;function U0(o,a,c=!1){return $0(o,a,c)}class H0{}class q0{}class CC{resolveComponentFactory(a){throw function yg(o){const a=Error(`No component factory found for ${tt(o)}.`);return a.ngComponent=o,a}(a)}}let hy=(()=>{class a{}return a.NULL=new CC,a})();function BP(){return Xu(Ui(),It())}function Xu(o,a){return new Od(Ss(o,a))}let Od=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=BP,a})();function $P(o){return o instanceof Od?o.nativeElement:o}class K0{}let Y0=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function AC(){const o=It(),c=Yi(Ui().index,o);return(Vi(c)?c:o)[on]}(),a})(),UP=(()=>{var o;class a{}return(o=a).\u0275prov=mn({token:o,providedIn:"root",factory:()=>null}),a})();class Z0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const SC=new Z0("16.2.4"),Q0={};function bl(o,a=null,c=null,l){const h=Dl(o,a,c,l);return h.resolveInjectorInitializers(),h}function Dl(o,a=null,c=null,l,h=new Set){const p=[c||Qt,mC(o)];return l=l||("object"==typeof o?void 0:tt(o)),new Sd(p,a||oy(),l||null,h)}let To=(()=>{var o;class a{static create(l,h){if(Array.isArray(l))return bl({name:""},h,l,"");{var p;const _=null!==(p=l.name)&&void 0!==p?p:"";return bl({name:_},l.parent,l.providers,_)}}}return(o=a).THROW_IF_NOT_FOUND=he,o.NULL=new dg,o.\u0275prov=mn({token:o,providedIn:"any",factory:()=>en(jn)}),o.__NG_ELEMENT_ID__=-1,a})();function fy(o){return a=>{setTimeout(o,void 0,a)}}const bu=class tE extends E.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,l){let h=a,p=c||(()=>null),_=l;if(a&&"object"==typeof a){var T,S,O;const q=a;h=null===(T=q.next)||void 0===T?void 0:T.bind(q),p=null===(S=q.error)||void 0===S?void 0:S.bind(q),_=null===(O=q.complete)||void 0===O?void 0:O.bind(q)}this.__isAsync&&(p=fy(p),h&&(h=fy(h)),_&&(_=fy(_)));const $=super.subscribe({next:h,error:p,complete:_});return a instanceof m.w0&&a.add($),$}};function kC(...o){}class ts{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bu(!1),this.onMicrotaskEmpty=new bu(!1),this.onStable=new bu(!1),this.onError=new bu(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&c,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function NC(){const o="function"==typeof qn.requestAnimationFrame;let a=qn[o?"requestAnimationFrame":"setTimeout"],c=qn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function OC(o){const a=()=>{!function HP(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(qn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,nE(o),o.isCheckStableRunning=!0,Oc(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),nE(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,h,p,_,T)=>{if(function VC(o){var a;return!(!Array.isArray(o)||1!==o.length)&&!0===(null===(a=o[0].data)||void 0===a?void 0:a.__ignore_ng_zone__)}(T))return c.invokeTask(h,p,_,T);try{return FC(o),c.invokeTask(h,p,_,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),LC(o)}},onInvoke:(c,l,h,p,_,T,S)=>{try{return FC(o),c.invoke(h,p,_,T,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),LC(o)}},onHasTask:(c,l,h,p)=>{c.hasTask(h,p),l===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,nE(o),Oc(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,l,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new be(909,!1)}run(a,c,l){return this._inner.run(a,c,l)}runTask(a,c,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,a,vg,kC,kC);try{return p.runTask(_,c,l)}finally{p.cancelTask(_)}}runGuarded(a,c,l){return this._inner.runGuarded(a,c,l)}runOutsideAngular(a){return this._outer.run(a)}}const vg={};function Oc(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function nE(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function FC(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function LC(o){o._nesting--,Oc(o)}class Ig{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bu,this.onMicrotaskEmpty=new bu,this.onStable=new bu,this.onError=new bu}run(a,c,l){return a.apply(c,l)}runGuarded(a,c,l){return a.apply(c,l)}runOutsideAngular(a){return a()}runTask(a,c,l,h){return a.apply(c,l)}}const Cl=new Rr("",{providedIn:"root",factory:Fc});function Fc(){const o=Dn(ts);let a=!0;return function Ne(...o){const a=(0,le.yG)(o),c=(0,le._6)(o,1/0),l=o;return l.length?1===l.length?(0,De.Xf)(l[0]):(0,ie.J)(c)((0,x.D)(l,a)):_e.E}(new de.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),new de.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{ts.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const _=o.onUnstable.subscribe(()=>{ts.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}}).pipe(pe()))}function Du(o){return o instanceof Function?o():o}let hf=(()=>{var o;class a{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new be(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(o=a).\u0275prov=mn({token:o,providedIn:"root",factory:()=>new o}),a})();function Eg(o){for(;o;){o[dn]|=64;const a=Jp(o);if(Bi(o)&&!a)return o;o=a}return null}function aE(o){return o.ngOriginalError}class Bd{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&aE(a);for(;c&&aE(c);)c=aE(c);return c||null}}const $d=new Rr("",{providedIn:"root",factory:()=>!1});let ec=null;function Vc(o,a){var c;return null!==(c=o[a])&&void 0!==c?c:qC()}function lE(o,a){var c;const l=qC();null!==(c=l.producerNode)&&void 0!==c&&c.length&&(o[a]=ec,l.lView=o,ec=dE())}const WP={...el,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Eg(o.lView)},lView:null};function dE(){return Object.create(WP)}function qC(){var o;return null!==(o=ec)&&void 0!==o||(ec=dE()),ec}const Vn={};function WC(o){bg(rr(),It(),Xi()+o,!1)}function bg(o,a,c,l){if(!l)if(3==(3&a[dn])){const p=o.preOrderCheckHooks;null!==p&&Bp(a,p,c)}else{const p=o.preOrderHooks;null!==p&&N_(a,p,0,c)}ud(c)}function jd(o,a=et.Default){const c=It();return null===c?en(o,a):ZI(Ui(),c,Ee(o),a)}function KC(){throw new Error("invalid")}function gy(o,a,c,l,h,p,_,T,S,O,$){const q=a.blueprint.slice();return q[tr]=h,q[dn]=140|l,(null!==O||o&&2048&o[dn])&&(q[dn]|=2048),C_(q),q[Jn]=q[Cs]=o,q[mr]=c,q[Go]=_||o&&o[Go],q[on]=T||o&&o[on],q[jo]=S||o&&o[jo]||null,q[Kn]=p,q[_r]=function cP(){return hl++}(),q[as]=$,q[cu]=O,q[ir]=2==a.type?o[ir]:q,q}function Gd(o,a,c,l,h){let p=o.data[a];if(null===p)p=function Bc(o,a,c,l,h){const p=ol(),_=od(),S=o.data[a]=function QP(o,a,c,l,h,p){let _=a?a.injectorIndex:-1,T=0;return hu()&&(T|=128),{type:c,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,c,a,l,h);return null===o.firstChild&&(o.firstChild=S),null!==p&&(_?null==p.child&&null!==S.parent&&(p.child=S):null===p.next&&(p.next=S,S.prev=p)),S}(o,a,c,l,h),function b(){return bn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=l,p.attrs=h;const _=function al(){const o=bn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Da(p,!0),p}function $c(o,a,c,l){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(l),o.blueprint.push(l),o.data.push(null);return h}function hE(o,a,c,l,h){const p=Vc(a,Ua),_=Xi(),T=2&l;try{ud(-1),T&&a.length>kn&&bg(o,a,kn,!1),Kr(T?2:0,h);const O=T?p:null,$=_c(O);try{null!==O&&(O.dirty=!1),c(l,h)}finally{Bu(O,$)}}finally{T&&null===a[Ua]&&lE(a,Ua),ud(_),Kr(T?3:1,h)}}function my(o,a,c){if(ba(a)){const l=_o(null);try{const p=a.directiveEnd;for(let _=a.directiveStart;_<p;_++){const T=o.data[_];T.contentQueries&&T.contentQueries(1,c[_],_)}}finally{_o(l)}}}function fE(o,a,c){A_()&&(function eM(o,a,c,l){const h=c.directiveStart,p=c.directiveEnd;qs(c)&&function pf(o,a,c){const l=Ss(a,o),h=ZC(c);let _=16;c.signals?_=4096:c.onPush&&(_=64);const T=gf(o,gy(o,h,null,_,l,a,null,o[Go].rendererFactory.createRenderer(l,c),null,null,null));o[a.index]=T}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||ld(c,a),wo(l,a);const _=c.initialInputs;for(let T=h;T<p;T++){const S=o.data[T],O=Gu(a,o,T,c);wo(O,a),null!==_&&vy(0,T-h,O,S,0,_),Ws(S)&&(Yi(c.index,a)[mr]=Gu(a,o,T,c))}}(o,a,c,Ss(c,a)),64==(64&c.flags)&&vE(o,a,c))}function _y(o,a,c=Ss){const l=a.localNames;if(null!==l){let h=a.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],T=-1===_?c(a,o):o[_];o[h++]=T}}}function ZC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=pE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function pE(o,a,c,l,h,p,_,T,S,O,$){const q=kn+l,oe=q+h,Ie=function gE(o,a){const c=[];for(let l=0;l<a;l++)c.push(l<o?null:Vn);return c}(q,oe),ut="function"==typeof O?O():O;return Ie[$t]={type:o,blueprint:Ie,template:c,queries:null,viewQuery:T,declTNode:a,data:Ie.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:ut,incompleteFirstPass:!1,ssrId:$}}let QC=o=>null;function Dg(o,a,c,l){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===l?Cg(c,a,h,p):l.hasOwnProperty(h)&&Cg(c,a,l[h],p)}return c}function Cg(o,a,c,l){o.hasOwnProperty(c)?o[c].push(a,l):o[c]=[a,l]}function Sg(o,a,c,l){if(A_()){const h=null===l?null:{"":-1},p=function IE(o,a){const c=o.directiveRegistry;let l=null,h=null;if(c)for(let _=0;_<c.length;_++){const T=c[_];if(at(a,T.selectors,!1))if(l||(l=[]),Ws(T))if(null!==T.findHostDirectiveDefs){const S=[];h=h||new Map,T.findHostDirectiveDefs(T,S,h),l.unshift(...S,T),EE(o,a,S.length)}else l.unshift(T),EE(o,a,0);else{var p;h=h||new Map,null===(p=T.findHostDirectiveDefs)||void 0===p||p.call(T,T,l,h),l.push(T)}}return null===l?null:[l,h]}(o,c);let _,T;null===p?_=T=null:[_,T]=p,null!==_&&yy(o,a,c,_,h,T),h&&function tA(o,a,c){if(a){const l=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new be(-301,!1);l.push(a[h],p)}}}(c,l,h)}c.mergedAttrs=gr(c.mergedAttrs,c.attrs)}function yy(o,a,c,l,h,p){for(let q=0;q<l.length;q++)YI(ld(c,a),o,l[q].type);!function nA(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,l.length);for(let q=0;q<l.length;q++){const oe=l[q];oe.providersResolver&&oe.providersResolver(oe)}let _=!1,T=!1,S=$c(o,a,l.length,null);for(let q=0;q<l.length;q++){const oe=l[q];c.mergedAttrs=gr(c.mergedAttrs,oe.hostAttrs),nM(o,c,a,S,oe),tM(S,oe,h),null!==oe.contentQueries&&(c.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(c.flags|=64);const Ie=oe.type.prototype;var O,$;!_&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((null!==(O=o.preOrderHooks)&&void 0!==O?O:o.preOrderHooks=[]).push(c.index),_=!0),T||!Ie.ngOnChanges&&!Ie.ngDoCheck||((null!==($=o.preOrderCheckHooks)&&void 0!==$?$:o.preOrderCheckHooks=[]).push(c.index),T=!0),S++}!function XP(o,a,c){const h=a.directiveEnd,p=o.data,_=a.attrs,T=[];let S=null,O=null;for(let $=a.directiveStart;$<h;$++){const q=p[$],oe=c?c.get(q):null,ut=oe?oe.outputs:null;S=Dg(q.inputs,$,S,oe?oe.inputs:null),O=Dg(q.outputs,$,O,ut);const Et=null===S||null===_||re(a)?null:rA(S,$,_);T.push(Et)}null!==S&&(S.hasOwnProperty("class")&&(a.flags|=8),S.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=T,a.inputs=S,a.outputs=O}(o,c,p)}function vE(o,a,c){const l=c.directiveStart,h=c.directiveEnd,p=c.index,_=function Q(){return bn.lFrame.currentDirectiveIndex}();try{ud(p);for(let T=l;T<h;T++){const S=o.data[T],O=a[T];xe(T),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&eA(S,O)}}finally{ud(-1),xe(_)}}function eA(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function EE(o,a,c){var l;a.componentOffset=c,(null!==(l=o.components)&&void 0!==l?l:o.components=[]).push(a.index)}function tM(o,a,c){if(c){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)c[a.exportAs[l]]=o;Ws(a)&&(c[""]=o)}}function nM(o,a,c,l,h){o.data[l]=h;const p=h.factory||(h.factory=wr(h.type)),_=new Oh(p,Ws(h),jd);o.blueprint[l]=_,c[l]=_,function JP(o,a,c,l,h){const p=h.hostBindings;if(p){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const T=~a.index;(function JC(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(_)!=T&&_.push(T),_.push(c,l,p)}}(o,a,l,$c(o,c,h.hostVars,Vn),h)}function Zo(o,a,c,l,h,p){const _=Ss(o,a);!function xg(o,a,c,l,h,p,_){if(null==p)o.removeAttribute(a,h,c);else{const T=null==_?Ae(p):_(p,l||"",h);o.setAttribute(a,h,T,c)}}(a[on],_,p,o.value,c,l,h)}function vy(o,a,c,l,h,p){const _=p[a];if(null!==_)for(let T=0;T<_.length;)wE(l,c,_[T++],_[T++],_[T++])}function wE(o,a,c,l,h){const p=_o(null);try{const _=o.inputTransforms;null!==_&&_.hasOwnProperty(l)&&(h=_[l].call(a,h)),null!==o.setInput?o.setInput(a,h,c,l):a[l]=h}finally{_o(p)}}function rA(o,a,c){let l=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===l&&(l=[]);const _=o[p];for(let T=0;T<_.length;T+=2)if(_[T]===a){l.push(p,_[T+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function TE(o,a,c,l){return[o,!0,!1,a,null,0,l,c,null,null,null]}function iA(o,a){const c=o.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const p=c[l+1];if(-1!==p){const _=o.data[p];Lt(c[l]),_.contentQueries(2,a[p],p)}}}function gf(o,a){return o[ua]?o[os][Li]=a:o[ua]=a,o[os]=a,a}function bE(o,a,c){Lt(0);const l=_o(null);try{a(o,c)}finally{_o(l)}}function DE(o){return o[ss]||(o[ss]=[])}function CE(o){return o.cleanup||(o.cleanup=[])}function Rg(o,a){const c=o[jo],l=c?c.get(Bd,null):null;l&&l.handleError(a)}function zd(o,a,c,l,h){for(let p=0;p<c.length;){const _=c[p++],T=c[p++];wE(o.data[_],a[_],l,T,h)}}function AE(o,a){const c=Yi(a,o),l=c[$t];!function SE(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(l,c);const h=c[tr];null!==h&&null===c[as]&&(c[as]=U0(h,c[jo])),Pg(l,c,c[mr])}function Pg(o,a,c){Ci(a);try{const l=o.viewQuery;null!==l&&bE(1,l,c);const h=o.template;null!==h&&hE(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&iA(o,a),o.staticViewQueries&&bE(2,o.viewQuery,c);const p=o.components;null!==p&&function oA(o,a){for(let c=0;c<a.length;c++)AE(o,a[c])}(a,p)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{a[dn]&=-5,Ca()}}let aA=(()=>{var o;class a{constructor(){this.all=new Set,this.queue=new Map}create(l,h,p){const _=typeof Zone>"u"?null:Zone.current,T=function hr(o,a,c){const l=Object.create(Ho);c&&(l.consumerAllowSignalWrites=!0),l.fn=o,l.schedule=a;const h=_=>{l.cleanupFn=_};return l.ref={notify:()=>tl(l),run:()=>{if(l.dirty=!1,l.hasRun&&!nd(l))return;l.hasRun=!0;const _=_c(l);try{l.cleanupFn(),l.cleanupFn=ui,l.fn(h)}finally{Bu(l,_)}},cleanup:()=>l.cleanupFn()},l.ref}(l,$=>{this.all.has($)&&this.queue.set($,_)},p);let S;this.all.add(T),T.notify();const O=()=>{var $;T.cleanup(),null===($=S)||void 0===$||$(),this.all.delete(T),this.queue.delete(T)};return S=null==h?void 0:h.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[l,h]of this.queue)this.queue.delete(l),h?h.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=a).\u0275prov=mn({token:o,providedIn:"root",factory:()=>new o}),a})();function Hd(o,a,c){let l=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let _=0;_<a.length;_++){const T=a[_];"number"==typeof T?p=T:1==p?h=Oe(h,T):2==p&&(l=Oe(l,T+": "+a[++_]+";"))}c?o.styles=l:o.stylesWithoutHost=l,c?o.classes=h:o.classesWithoutHost=h}function qd(o,a,c,l,h=!1){for(;null!==c;){const p=a[c.index];null!==p&&l.push(Tr(p)),Ki(p)&&cA(p,l);const _=c.type;if(8&_)qd(o,a,c.child,l);else if(32&_){const T=m0(c,a);let S;for(;S=T();)l.push(S)}else if(16&_){const T=Ac(a,c);if(Array.isArray(T))l.push(...T);else{const S=Jp(a[ir]);qd(S[$t],S,T,l,!0)}}c=h?c.projectionNext:c.next}return l}function cA(o,a){for(let c=ri;c<o.length;c++){const l=o[c],h=l[$t].firstChild;null!==h&&qd(l[$t],l,h,a)}o[pi]!==o[tr]&&a.push(o[pi])}function Ey(o,a,c,l=!0){const h=a[Go],p=h.rendererFactory,_=h.afterRenderEventManager;var S;null===(S=p.begin)||void 0===S||S.call(p),null==_||_.begin();try{xE(o,a,o.template,c)}catch(q){throw l&&Rg(a,q),q}finally{var O,$;null===(O=p.end)||void 0===O||O.call(p),null===($=h.effectManager)||void 0===$||$.flush(),null==_||_.end()}}function xE(o,a,c,l){var h;const p=a[dn];if(256!=(256&p)){null===(h=a[Go].effectManager)||void 0===h||h.flush(),Ci(a);try{C_(a),function w(o){return bn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&hE(o,a,c,2,l);const T=3==(3&p);if(T){const $=o.preOrderCheckHooks;null!==$&&Bp(a,$,null)}else{const $=o.preOrderHooks;null!==$&&N_(a,$,0,null),O_(a,0)}if(function kg(o){for(let a=QD(o);null!==a;a=XD(a)){if(!a[ja])continue;const c=a[zo];for(let l=0;l<c.length;l++){AD(c[l])}}}(a),Mg(a,2),null!==o.contentQueries&&iA(o,a),T){const $=o.contentCheckHooks;null!==$&&Bp(a,$)}else{const $=o.contentHooks;null!==$&&N_(a,$,1),O_(a,1)}!function YC(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const l=Vc(a,go);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)ud(~p);else{const _=p,T=c[++h],S=c[++h];G(T,_),l.dirty=!1;const O=_c(l);try{S(2,a[_])}finally{Bu(l,O)}}}}finally{null===a[go]&&lE(a,go),ud(-1)}}(o,a);const S=o.components;null!==S&&lA(a,S,0);const O=o.viewQuery;if(null!==O&&bE(2,O,l),T){const $=o.viewCheckHooks;null!==$&&Bp(a,$)}else{const $=o.viewHooks;null!==$&&N_(a,$,2),O_(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[dn]&=-73,sl(a)}finally{Ca()}}}function Mg(o,a){for(let c=QD(o);null!==c;c=XD(c))for(let l=ri;l<c.length;l++)PE(c[l],a)}function RE(o,a,c){PE(Yi(a,o),c)}function PE(o,a){if(!function $I(o){return 128==(128&o[dn])}(o))return;const c=o[$t],l=o[dn];if(80&l&&0===a||1024&l||2===a)xE(c,o,c.template,o[mr]);else if(o[Hs]>0){Mg(o,1);const h=c.components;null!==h&&lA(o,h,1)}}function lA(o,a,c){for(let l=0;l<a.length;l++)RE(o,a[l],c)}class Ng{get rootNodes(){const a=this._lView,c=a[$t];return qd(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(a){this._lView[mr]=a}get destroyed(){return 256==(256&this._lView[dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Jn];if(Ki(a)){const c=a[8],l=c?c.indexOf(this):-1;l>-1&&(jr(a,l),gd(c,l))}this._attachedToViewContainer=!1}Zh(this._lView[$t],this._lView)}onDestroy(a){!function Rp(o,a){if(256==(256&o[dn]))throw new be(911,!1);null===o[As]&&(o[As]=[]),o[As].push(a)}(this._lView,a)}markForCheck(){Eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[dn]&=-129}reattach(){this._lView[dn]|=128}detectChanges(){Ey(this._lView[$t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v0(o,a){Ku(o,a,a[on],2,null,null)}(this._lView[$t],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=a}}class iM extends Ng{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ey(a[$t],a,a[mr],!1)}checkNoChanges(){}get context(){return null}}class dA extends hy{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Mn(a);return new Uc(c,this.ngModule)}}function wy(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class oM{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,l){l=Pr(l);const h=this.injector.get(a,Q0,l);return h!==Q0||c===Q0?h:this.parentInjector.get(a,c,l)}}class Uc extends q0{get inputs(){const a=this.componentDef,c=a.inputTransforms,l=wy(a.inputs);if(null!==c)for(const h of l)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return l}get outputs(){return wy(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function fi(o){return o.map(hi).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,l,h){var p;let _=(h=h||this.ngModule)instanceof vr?h:null===(p=h)||void 0===p?void 0:p.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const T=_?new oM(a,_):a,S=T.get(K0,null);if(null===S)throw new be(407,!1);const oe={rendererFactory:S,sanitizer:T.get(UP,null),effectManager:T.get(aA,null),afterRenderEventManager:T.get(hf,null)},Ie=S.createRenderer(null,this.componentDef),ut=this.componentDef.selectors[0][0]||"div",Et=l?function eo(o,a,c,l){const p=l.get($d,!1)||c===Hr.ShadowDom,_=o.selectRootElement(a,p);return function KP(o){QC(o)}(_),_}(Ie,l,this.componentDef.encapsulation,T):eg(Ie,ut,function sM(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ut)),pt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let An=null;null!==Et&&(An=U0(Et,T,!0));const Qn=pE(0,null,null,1,0,null,null,null,null,null,null),lr=gy(null,Qn,null,pt,null,null,oe,Ie,T,null,An);let eu,Zf;Ci(lr);try{const Yc=this.componentDef;let ph,KT=null;Yc.findHostDirectiveDefs?(ph=[],KT=new Map,Yc.findHostDirectiveDefs(Yc,ph,KT),ph.push(Yc)):ph=[Yc];const Vx=function mf(o,a){const c=o[$t],l=kn;return o[l]=a,Gd(c,l,2,"#host",null)}(lr,Et),YT=function kE(o,a,c,l,h,p,_){const T=h[$t];!function Ty(o,a,c,l){for(const h of o)a.mergedAttrs=gr(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Hd(a,a.mergedAttrs,!0),null!==c&&D0(l,c,a))}(l,o,a,_);let S=null;null!==a&&(S=U0(a,h[jo]));const O=p.rendererFactory.createRenderer(a,c);let $=16;c.signals?$=4096:c.onPush&&($=64);const q=gy(h,ZC(c),null,$,h[o.index],o,p,O,null,null,S);return T.firstCreatePass&&EE(T,o,l.length-1),gf(h,q),h[o.index]=q}(Vx,Et,Yc,ph,lr,oe,Ie);Zf=D_(Qn,kn),Et&&function NE(o,a,c,l){if(l)Ds(o,c,["ng-version",SC.full]);else{const{attrs:h,classes:p}=function lo(o){const a=[],c=[];let l=1,h=2;for(;l<o.length;){let p=o[l];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++l]):8===h&&c.push(p);else{if(!Ye(h))break;h=p}l++}return{attrs:a,classes:c}}(a.selectors[0]);h&&Ds(o,c,h),p&&p.length>0&&b0(o,c,p.join(" "))}}(Ie,Yc,Et,l),void 0!==c&&function hA(o,a,c){const l=o.projection=[];for(let h=0;h<a.length;h++){const p=c[h];l.push(null!=p?Array.from(p):null)}}(Zf,this.ngContentSelectors,c),eu=function Og(o,a,c,l,h,p){const _=Ui(),T=h[$t],S=Ss(_,h);yy(T,h,_,c,null,l);for(let $=0;$<c.length;$++)wo(Gu(h,T,_.directiveStart+$,_),h);vE(T,h,_),S&&wo(S,h);const O=Gu(h,T,_.directiveStart+_.componentOffset,_);if(o[mr]=h[mr]=O,null!==p)for(const $ of p)$(O,a);return my(T,_,o),O}(YT,Yc,ph,KT,lr,[OE]),Pg(Qn,lr,null)}finally{Ca()}return new ME(this.componentType,eu,Xu(Zf,lr),lr,Zf)}}class ME extends H0{constructor(a,c,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new iM(h),this.componentType=a}setInput(a,c){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[a])){var p;if(null!==(p=this.previousInputValues)&&void 0!==p||(this.previousInputValues=new Map),this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const _=this._rootLView;zd(_[$t],_,h,a,c),this.previousInputValues.set(a,c),Eg(Yi(this._tNode.index,_))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function OE(){const o=Ui();k_(It()[$t],o)}function tc(o){let a=function by(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const l=[o];for(;a;){let h;if(Ws(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new be(903,!1);h=a.\u0275dir}if(h){if(c){l.push(h);const _=o;_.inputs=Dy(o.inputs),_.inputTransforms=Dy(o.inputTransforms),_.declaredInputs=Dy(o.declaredInputs),_.outputs=Dy(o.outputs);const T=h.hostBindings;T&&LE(o,T);const S=h.viewQuery,O=h.contentQueries;if(S&&FE(o,S),O&&aM(o,O),qe(o.inputs,h.inputs),qe(o.declaredInputs,h.declaredInputs),qe(o.outputs,h.outputs),null!==h.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),qe(_.inputTransforms,h.inputTransforms)),Ws(h)&&h.data.animation){const $=o.data;$.animation=($.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const T=p[_];T&&T.ngInherit&&T(o),T===tc&&(c=!1)}}a=Object.getPrototypeOf(a)}!function fA(o){let a=0,c=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=a+=h.hostVars,h.hostAttrs=gr(h.hostAttrs,c=gr(c,h.hostAttrs))}}(l)}function Dy(o){return o===Wn?{}:o===Qt?[]:o}function FE(o,a){const c=o.viewQuery;o.viewQuery=c?(l,h)=>{a(l,h),c(l,h)}:a}function aM(o,a){const c=o.contentQueries;o.contentQueries=c?(l,h,p)=>{a(l,h,p),c(l,h,p)}:a}function LE(o,a){const c=o.hostBindings;o.hostBindings=c?(l,h)=>{a(l,h),c(l,h)}:a}function jE(o){const a=o.inputConfig,c={};for(const l in a)if(a.hasOwnProperty(l)){const h=a[l];Array.isArray(h)&&h[2]&&(c[l]=h[2])}o.inputTransforms=c}function Ay(o){return!!Fg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Fg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function to(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Vg(o,a,c,l){const h=It();return to(h,C(),a)&&(rr(),Zo(Ai(),h,o,a,c,l)),Vg}function $y(o,a,c,l,h,p,_,T){const S=It(),O=rr(),$=o+kn,q=O.firstCreatePass?function jc(o,a,c,l,h,p,_,T,S){const O=a.consts,$=Gd(a,o,4,_||null,Zi(O,T));Sg(a,c,$,Zi(O,S)),k_(a,$);const q=$.tView=pE(2,$,l,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,O,null);return null!==a.queries&&(a.queries.template(a,$),q.queries=a.queries.embeddedTView($)),$}($,O,S,a,c,l,h,p,_):O.data[$];Da(q,!1);const oe=TA(O,S,q,o);Vp()&&Iu(O,S,oe,q),wo(oe,S),gf(S,S[$]=TE(oe,S,oe,q)),lu(q)&&fE(O,S,q),null!=_&&_y(S,q,T)}let TA=function Uy(o,a,c,l){return Aa(!0),a[on].createComment("")};function zg(o,a,c){const l=It();return to(l,C(),a)&&function Yo(o,a,c,l,h,p,_,T){const S=Ss(a,c);let $,O=a.inputs;!T&&null!=O&&($=O[l])?(zd(o,c,$,l,h),qs(a)&&function _E(o,a){const c=Yi(a,o);16&c[dn]||(c[dn]|=64)}(c,a.index)):3&a.type&&(l=function XC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=_?_(h,a.value||"",l):h,p.setProperty(S,l,h))}(rr(),Ai(),l,o,a,l[on],c,!1),zg}function XE(o,a,c,l,h){const _=h?"class":"style";zd(o,c,a.inputs[_],_,l)}function jy(o,a,c,l){const h=It(),p=rr(),_=kn+o,T=h[on],S=p.firstCreatePass?function JE(o,a,c,l,h,p){const _=a.consts,S=Gd(a,o,2,l,Zi(_,h));return Sg(a,c,S,Zi(_,p)),null!==S.attrs&&Hd(S,S.attrs,!1),null!==S.mergedAttrs&&Hd(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(_,p,h,a,c,l):p.data[_],O=zy(p,h,S,T,a,o);h[_]=O;const $=lu(S);return Da(S,!0),D0(T,O,S),32!=(32&S.flags)&&Vp()&&Iu(p,h,O,S),0===function Nh(){return bn.lFrame.elementDepthCount}()&&wo(O,h),function Pp(){bn.lFrame.elementDepthCount++}(),$&&(fE(p,h,S),my(p,S,h)),null!==l&&_y(h,S),jy}function Tf(){let o=Ui();od()?ad():(o=o.parent,Da(o,!1));const a=o;(function Mp(o){return bn.skipHydrationRootTNode===o})(a)&&function R_(){bn.skipHydrationRootTNode=null}(),function yo(){bn.lFrame.elementDepthCount--}();const c=rr();return c.firstCreatePass&&(k_(c,o),ba(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function L_(o){return 0!=(8&o.flags)}(a)&&XE(c,a,It(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $p(o){return 0!=(16&o.flags)}(a)&&XE(c,a,It(),a.stylesWithoutHost,!1),Tf}function Gy(o,a,c,l){return jy(o,a,c,l),Tf(),Gy}let zy=(o,a,c,l,h,p)=>(Aa(!0),eg(l,h,function GI(){return bn.lFrame.currentNamespace}()));function Hg(o,a,c){const l=It(),h=rr(),p=o+kn,_=h.firstCreatePass?function TM(o,a,c,l,h){const p=a.consts,_=Zi(p,l),T=Gd(a,o,8,"ng-container",_);return null!==_&&Hd(T,_,!0),Sg(a,c,T,Zi(p,h)),null!==a.queries&&a.queries.elementStart(a,T),T}(p,h,l,a,c):h.data[p];Da(_,!0);const T=Hy(h,l,_,o);return l[p]=T,Vp()&&Iu(h,l,T,_),wo(T,l),lu(_)&&(fE(h,l,_),my(h,_,l)),null!=c&&_y(l,_),Hg}function ew(){let o=Ui();const a=rr();return od()?ad():(o=o.parent,Da(o,!1)),a.firstCreatePass&&(k_(a,o),ba(o)&&a.queries.elementEnd(o)),ew}function qg(o,a,c){return Hg(o,a,c),ew(),qg}let Hy=(o,a,c,l)=>(Aa(!0),y0(a[on],""));function nw(o){return!!o&&"function"==typeof o.then}function qy(o){return!!o&&"function"==typeof o.subscribe}function Wy(o,a,c,l){const h=It(),p=rr(),_=Ui();return function Kg(o,a,c,l,h,p,_){const T=lu(l),O=o.firstCreatePass&&CE(o),$=a[mr],q=DE(a);let oe=!0;if(3&l.type||_){const Et=Ss(l,a),Bt=_?_(Et):Et,tn=q.length,pt=_?Qn=>_(Tr(Qn[l.index])):l.index;let An=null;if(!_&&T&&(An=function DA(o,a,c,l){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===c&&h[p+1]===l){const T=a[ss],S=h[p+2];return T.length>S?T[S]:null}"string"==typeof _&&(p+=2)}return null}(o,a,h,l.index)),null!==An)(An.__ngLastListenerFn__||An).__ngNextListenerFn__=p,An.__ngLastListenerFn__=p,oe=!1;else{p=AA(l,a,$,p,!1);const Qn=c.listen(Bt,h,p);q.push(p,Qn),O&&O.push(h,pt,tn,tn+1)}}else p=AA(l,a,$,p,!1);const Ie=l.outputs;let ut;if(oe&&null!==Ie&&(ut=Ie[h])){const Et=ut.length;if(Et)for(let Bt=0;Bt<Et;Bt+=2){const lr=a[ut[Bt]][ut[Bt+1]].subscribe(p),eu=q.length;q.push(p,lr),O&&O.push(h,l.index,eu,-(eu+1))}}}(p,h,h[on],_,o,a,l),Wy}function CA(o,a,c,l){try{return Kr(6,a,c),!1!==c(l)}catch(h){return Rg(o,h),!1}finally{Kr(7,a,c)}}function AA(o,a,c,l,h){return function p(_){if(_===Function)return l;Eg(o.componentOffset>-1?Yi(o.index,a):a);let S=CA(a,c,l,_),O=p.__ngNextListenerFn__;for(;O;)S=CA(a,c,O,_)&&S,O=O.__ngNextListenerFn__;return h&&!1===S&&_.preventDefault(),S}}function SA(o=1){return function pu(o){return(bn.lFrame.contextLView=function Fp(o,a){for(;o>0;)a=a[Cs],o--;return a}(o,bn.lFrame.contextLView))[mr]}(o)}function DM(o,a){let c=null;const l=function vt(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===l?at(o,p,!0):Tn(l,p))return h}else c=h}return c}function Yg(o){const a=It()[ir][Kn];if(!a.projection){const l=a.projection=ll(o?o.length:1,null),h=l.slice();let p=a.child;for(;null!==p;){const _=o?DM(p,o):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function Ky(o,a=0,c){const l=It(),h=rr(),p=Gd(h,kn+o,16,null,c||null);null===p.projection&&(p.projection=a),ad(),(!l[as]||hu())&&32!=(32&p.flags)&&function w0(o,a,c){rg(a[on],0,a,c,pl(o,c,a),tg(c.parent||a[Kn],c,a))}(h,l,p)}function bf(o,a){return o<<17|a<<2}function Gc(o){return o>>17&32767}function aw(o){return 2|o}function Qd(o){return(131068&o)>>2}function uw(o,a){return-131069&o|a<<2}function cw(o){return 1|o}function RA(o,a,c,l,h){const p=o[c+1],_=null===a;let T=l?Gc(p):Qd(p),S=!1;for(;0!==T&&(!1===S||_);){const $=o[T+1];xM(o[T],a)&&(S=!0,o[T+1]=l?cw($):aw($)),T=l?Gc($):Qd($)}S&&(o[c+1]=l?aw(p):cw(p))}function xM(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&dl(o,a)>=0}function Pl(o,a){return function Pu(o,a,c,l){const h=It(),p=rr(),_=function R(o){const a=bn.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);p.firstUpdatePass&&function VA(o,a,c,l){const h=o.data;if(null===h[c+1]){const p=h[Xi()],_=function LA(o,a){return a>=o.expandoStartIndex}(o,c);(function UA(o,a){return 0!=(o.flags&(a?8:16))})(p,l)&&null===a&&!_&&(a=!1),a=function oi(o,a,c,l){const h=function Dt(o){const a=bn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=l?a.residualClasses:a.residualStyles;if(null===h)0===(l?a.classBindings:a.styleBindings)&&(c=Jg(c=Jy(null,o,a,c,l),a.attrs,l),p=null);else{const _=a.directiveStylingLast;if(-1===_||o[_]!==h)if(c=Jy(h,o,a,c,l),null===p){let S=function z$(o,a,c){const l=c?a.classBindings:a.styleBindings;if(0!==Qd(l))return o[Gc(l)]}(o,a,l);void 0!==S&&Array.isArray(S)&&(S=Jy(null,o,a,S[1],l),S=Jg(S,a.attrs,l),function Ma(o,a,c,l){o[Gc(c?a.classBindings:a.styleBindings)]=l}(o,a,l,S))}else p=function zi(o,a,c){let l;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)l=Jg(l,o[p].hostAttrs,c);return Jg(l,a.attrs,c)}(o,a,l)}return void 0!==p&&(l?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,l),function AM(o,a,c,l,h,p){let _=p?a.classBindings:a.styleBindings,T=Gc(_),S=Qd(_);o[l]=c;let $,O=!1;if(Array.isArray(c)?($=c[1],(null===$||dl(c,$)>0)&&(O=!0)):$=c,h)if(0!==S){const oe=Gc(o[T+1]);o[l+1]=bf(oe,T),0!==oe&&(o[oe+1]=uw(o[oe+1],l)),o[T+1]=function ow(o,a){return 131071&o|a<<17}(o[T+1],l)}else o[l+1]=bf(T,0),0!==T&&(o[T+1]=uw(o[T+1],l)),T=l;else o[l+1]=bf(S,0),0===T?T=l:o[S+1]=uw(o[S+1],l),S=l;O&&(o[l+1]=aw(o[l+1])),RA(o,$,l,!0),RA(o,$,l,!1),function SM(o,a,c,l,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&dl(p,a)>=0&&(c[l+1]=cw(c[l+1]))}(a,$,o,l,p),_=bf(T,S),p?a.classBindings=_:a.styleBindings=_}(h,p,a,c,_,l)}}(p,o,_,l),a!==Vn&&to(h,_,a)&&function BA(o,a,c,l,h,p,_,T){if(!(3&a.type))return;const S=o.data,O=S[T+1],$=function xA(o){return 1==(1&o)}(O)?$A(S,a,c,h,Qd(O),_):void 0;gw($)||(gw(p)||function Df(o){return 2==(2&o)}(O)&&(p=$A(S,null,c,h,T,_)),function T0(o,a,c,l,h){if(a)h?o.addClass(c,l):o.removeClass(c,l);else{let p=-1===l.indexOf("-")?void 0:Wh.DashCase;null==h?o.removeStyle(c,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Wh.Important),o.setStyle(c,l,h,p))}}(l,_,function wc(o,a){return Tr(a[o])}(Xi(),c),h,p))}(p,p.data[Xi()],h,h[on],o,h[_+1]=function kM(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=tt(xc(o)))),o}(a,c),l,_)}(o,a,null,!0),Pl}function Jy(o,a,c,l,h){let p=null;const _=c.directiveEnd;let T=c.directiveStylingLast;for(-1===T?T=c.directiveStart:T++;T<_&&(p=a[T],l=Jg(l,p.hostAttrs,h),p!==o);)T++;return null!==o&&(c.directiveStylingLast=T),l}function Jg(o,a,c){const l=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?h=_:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Sa(o,_,!!c||a[++p]))}return void 0===o?null:o}function $A(o,a,c,l,h,p){const _=null===a;let T;for(;h>0;){const S=o[h],O=Array.isArray(S),$=O?S[1]:S,q=null===$;let oe=c[h+1];oe===Vn&&(oe=q?Qt:void 0);let Ie=q?r0(oe,l):$===l?oe:void 0;if(O&&!gw(Ie)&&(Ie=r0(S,l)),gw(Ie)&&(T=Ie,_))return T;const ut=o[h+1];h=_?Gc(ut):Qd(ut)}if(null!==a){let S=p?a.residualClasses:a.residualStyles;null!=S&&(T=r0(S,l))}return T}function gw(o){return void 0!==o}function mw(o,a=""){const c=It(),l=rr(),h=o+kn,p=l.firstCreatePass?Gd(l,h,1,a,null):l.data[h],_=Af(l,c,p,a,o);c[h]=_,Vp()&&Iu(l,c,_,p),Da(p,!1)}let Af=(o,a,c,l,h)=>(Aa(!0),function Q_(o,a){return o.createText(a)}(a[on],l));const Za=void 0;var q$=["en",[["a","p"],["AM","PM"],Za],[["AM","PM"],Za,Za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Za,"{1} 'at' {0}",Za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H$(o){const c=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let kl={};function Pf(o){const a=function iv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=om(a);if(c)return c;const l=a.split("-")[0];if(c=om(l),c)return c;if("en"===l)return q$;throw new be(701,!1)}function QA(o){return Pf(o)[Mf.PluralCase]}function om(o){return o in kl||(kl[o]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[o]),kl[o]}var Mf=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Mf||{});const eh="en-US";let sv=eh;function ds(o,a,c,l,h){if(o=Ee(o),Array.isArray(o))for(let p=0;p<o.length;p++)ds(o[p],a,c,l,h);else{const p=rr(),_=It(),T=Ui();let S=El(o)?o:Ee(o.provide);const O=af(o),$=1048575&T.providerIndexes,q=T.directiveStart,oe=T.providerIndexes>>20;if(El(o)||!o.multi){const Ie=new Oh(O,h,jd),ut=Fl(S,a,h?$:$+oe,q);-1===ut?(YI(ld(T,_),p,S),ks(p,o,a.length),a.push(S),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(Ie),_.push(Ie)):(c[ut]=Ie,_[ut]=Ie)}else{const Ie=Fl(S,a,$+oe,q),ut=Fl(S,a,$,$+oe),Bt=ut>=0&&c[ut];if(h&&!Bt||!h&&!(Ie>=0&&c[Ie])){YI(ld(T,_),p,S);const tn=function Mu(o,a,c,l,h){const p=new Oh(o,c,jd);return p.multi=[],p.index=a,p.componentProviders=0,kw(p,h,l&&!c),p}(h?Ft:Nw,c.length,h,l,O);!h&&Bt&&(c[ut].providerFactory=tn),ks(p,o,a.length,0),a.push(S),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(tn),_.push(tn)}else ks(p,o,Ie>-1?Ie:ut,kw(c[h?ut:Ie],O,!h&&l));!h&&l&&Bt&&c[ut].componentProviders++}}}function ks(o,a,c,l){const h=El(a),p=function rf(o){return!!o.useClass}(a);if(h||p){const S=(p?Ee(a.useClass):a).prototype.ngOnDestroy;if(S){const O=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const $=O.indexOf(c);-1===$?O.push(c,[l,S]):O[$+1].push(l,S)}else O.push(c,S)}}}function kw(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Fl(o,a,c,l){for(let h=c;h<l;h++)if(a[h]===o)return h;return-1}function Nw(o,a,c,l){return Qa(this.multi,[])}function Ft(o,a,c,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=Gu(c,c[$t],this.providerFactory.index,l);p=T.slice(0,_),Qa(h,p);for(let S=_;S<T.length;S++)p.push(T[S])}else p=[],Qa(h,p);return p}function Qa(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Lf(o,a=[]){return c=>{c.providersResolver=(l,h)=>function cv(o,a,c){const l=rr();if(l.firstCreatePass){const h=Ws(o);ds(c,l.data,l.blueprint,h,!0),ds(a,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,a)}}class Wc{}class Ow{}function ak(o,a){return new rh(o,null!=a?a:null,[])}class rh extends Wc{constructor(a,c,l){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dA(this);const h=$r(a);this._bootstrapComponents=Du(h.bootstrap),this._r3Injector=Dl(a,c,[{provide:Wc,useValue:this},{provide:hy,useValue:this.componentFactoryResolver},...l],tt(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class gm extends Ow{constructor(a){super(),this.moduleType=a}create(a){return new rh(this.moduleType,a,[])}}class yS extends Wc{constructor(a){super(),this.componentFactoryResolver=new dA(this),this.instance=null;const c=new Sd([...a.providers,{provide:Wc,useValue:this},{provide:hy,useValue:this.componentFactoryResolver}],a.parent||oy(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function vS(o,a,c=null){return new yS({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let vi=(()=>{var o;class a{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const h=O0(0,l.type),p=h.length>0?vS([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,p)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(o=a).\u0275prov=mn({token:o,providedIn:"environment",factory:()=>new o(en(vr))}),a})();function Ii(o){o.getStandaloneInjector=a=>a.get(vi).getOrCreateStandaloneInjector(o)}function yU(){return this._results[Symbol.iterator]()}class Vl{get changes(){return this._changes||(this._changes=new bu)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Vl.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=yU)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const l=this;l.dirty=!1;const h=function us(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function $D(o,a,c){if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],p=a[l];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(l._results,h,c))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bS(o,a,c,l=!0){const h=a[$t];if(function tC(o,a,c,l){const h=ri+l,p=c.length;l>0&&(c[h-1][Li]=a),l<p-ri?(a[Li]=c[h],Zs(c,ri+l,a)):(c.push(a),a[Li]=null),a[Jn]=c;const _=a[Ro];null!==_&&c!==_&&function fl(o,a){const c=o[zo];a[ir]!==a[Jn][Jn][ir]&&(o[ja]=!0),null===c?o[zo]=[a]:c.push(a)}(_,a);const T=a[bi];null!==T&&T.insertView(o),a[dn]|=128}(h,a,o,c),l){const p=Ha(c,o),_=a[on],T=ci(_,o[pi]);null!==T&&function _P(o,a,c,l,h,p){l[tr]=h,l[Kn]=a,Ku(o,l,c,1,h,p)}(h,o[Kn],_,a,T,p)}}let oh=(()=>{class a{}return a.__NG_ELEMENT_ID__=wm,a})();const DS=oh,CS=class extends DS{constructor(a,c,l){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=l}get ssrId(){var a;return(null===(a=this._declarationTContainer.tView)||void 0===a?void 0:a.ssrId)||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,l){const h=function sh(o,a,c,l){var h,p;const _=a.tView,O=gy(o,_,c,4096&o[dn]?4096:16,null,a,null,null,null,null!==(h=null==l?void 0:l.injector)&&void 0!==h?h:null,null!==(p=null==l?void 0:l.hydrationInfo)&&void 0!==p?p:null);O[Ro]=o[a.index];const q=o[bi];return null!==q&&(O[bi]=q.createEmbeddedView(_)),Pg(_,O,c),O}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:l});return new Ng(h)}};function wm(){return Tm(Ui(),It())}function Tm(o,a){return 4&o.type?new CS(a,o,Xu(o,a)):null}let $f=(()=>{class a{}return a.__NG_ELEMENT_ID__=vk,a})();function vk(){return kS(Ui(),It())}const Ik=$f,MS=class extends Ik{constructor(a,c,l){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=l}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const a=zp(this._hostTNode,this._hostLView);if(V_(a)){const c=jp(a,this._hostLView),l=Tc(a);return new Io(c[$t].data[l+8],c)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=li(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(a,c,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const T=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(T,h,false),T}createComponent(a,c,l,h,p){var _,S;const O=a&&!function pd(o){return"function"==typeof o}(a);let $;if(O)$=c;else{const pt=c||{};$=pt.index,l=pt.injector,h=pt.projectableNodes,p=pt.environmentInjector||pt.ngModuleRef}const q=O?a:new Uc(Mn(a)),oe=l||this.parentInjector;if(!p&&null==q.ngModule){const An=(O?oe:this.parentInjector).get(vr,null);An&&(p=An)}const Ie=Mn(null!==(_=q.componentType)&&void 0!==_?_:{}),ut=(null==Ie?void 0:Ie.id,null),Et=null!==(S=null==ut?void 0:ut.firstChild)&&void 0!==S?S:null,Bt=q.create(oe,h,Et,p),tn=!!ut&&!Xp(this._hostTNode);return this.insertImpl(Bt.hostView,$,tn),Bt}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,l){const h=a._lView;if(function xp(o){return Ki(o[Jn])}(h)){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const O=h[Jn],$=new MS(O,O[Kn],O[Jn]);$.detach($.indexOf(a))}}const _=this._adjustIndex(c),T=this._lContainer;return bS(T,h,_,!l),a.attachToViewContainerRef(),Zs(_v(T),_,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=li(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),l=jr(this._lContainer,c);l&&(gd(_v(this._lContainer),c),Zh(l[$t],l))}detach(a){const c=this._adjustIndex(a,-1),l=jr(this._lContainer,c);return l&&null!=gd(_v(this._lContainer),c)?new Ng(l):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function li(o){return o[8]}function _v(o){return o[8]||(o[8]=[])}function kS(o,a){let c;const l=a[o.index];return Ki(l)?c=l:(c=TE(l,a,null,o),a[o.index]=c,gf(a,c)),Kw(c,a,o,l),new MS(c,o,a)}let Kw=function NS(o,a,c,l){if(o[pi])return;let h;h=8&c.type?Tr(l):function Ww(o,a){const c=o[on],l=c.createComment(""),h=Ss(a,o);return gl(c,ci(c,h),l,function Dc(o,a){return o.nextSibling(a)}(c,h),!1),l}(a,c),o[pi]=h};class yv{constructor(a){this.queryList=a,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class oc{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const l=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<l;p++){const _=c.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new oc(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Tv(a,c).matches&&this.queries[c].setDirty()}}class vv{constructor(a,c,l=null){this.predicate=a,this.flags=c,this.read=l}}class Yw{constructor(a=[]){this.queries=a}elementStart(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let l=0;l<this.length;l++){const h=null!==c?c.length:0,p=this.getByIndex(l).embeddedTView(a,h);p&&(p.indexInDeclarationView=l,null!==c?c.push(p):c=[p])}return null!==c?new Yw(c):null}template(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class bm{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new bm(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==c;)l=l.parent;return c===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(a,c,Tk(c,p)),this.matchTNodeWithReadOption(a,c,Hp(c,a,p,!1,!1))}else l===oh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Hp(c,a,l,!1,!1))}matchTNodeWithReadOption(a,c,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Od||h===$f||h===oh&&4&c.type)this.addMatch(c.index,-2);else{const p=Hp(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,l)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Tk(o,a){const c=o.localNames;if(null!==c)for(let l=0;l<c.length;l+=2)if(c[l]===a)return c[l+1];return null}function OS(o,a,c,l){return-1===c?function bk(o,a){return 11&o.type?Xu(o,a):4&o.type?Tm(o,a):null}(a,o):-2===c?function FS(o,a,c){return c===Od?Xu(a,o):c===oh?Tm(a,o):c===$f?kS(a,o):void 0}(o,a,l):Gu(o,o[$t],c,a)}function LS(o,a,c,l){const h=a[bi].queries[l];if(null===h.matches){const p=o.data,_=c.matches,T=[];for(let S=0;S<_.length;S+=2){const O=_[S];T.push(O<0?null:OS(a,p[O],_[S+1],c.metadata.read))}h.matches=T}return h.matches}function Iv(o,a,c,l){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const _=LS(o,a,h,c);for(let T=0;T<p.length;T+=2){const S=p[T];if(S>0)l.push(_[T/2]);else{const O=p[T+1],$=a[-S];for(let q=ri;q<$.length;q++){const oe=$[q];oe[Ro]===oe[Jn]&&Iv(oe[$t],oe,O,l)}if(null!==$[zo]){const q=$[zo];for(let oe=0;oe<q.length;oe++){const Ie=q[oe];Iv(Ie[$t],Ie,O,l)}}}}}return l}function VS(o){const a=It(),c=rr(),l=$e();Lt(l+1);const h=Tv(c,l);if(o.dirty&&function Sp(o){return 4==(4&o[dn])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?Iv(c,a,l,[]):LS(c,a,h,l);o.reset(p,$P),o.notifyOnChanges()}return!0}return!1}function ah(o,a,c){const l=rr();l.firstCreatePass&&($S(l,new vv(o,a,c),-1),2==(2&a)&&(l.staticViewQueries=!0)),wv(l,It(),a)}function Zw(o,a,c,l){const h=rr();if(h.firstCreatePass){const p=Ui();$S(h,new vv(a,c,l),p.index),function Qw(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}wv(h,It(),c)}function Ev(){return function BS(o,a){return o[bi].queries[a].queryList}(It(),$e())}function wv(o,a,c){const l=new Vl(4==(4&c));(function mE(o,a,c,l){const h=DE(a);h.push(c),o.firstCreatePass&&CE(o).push(l,h.length-1)})(o,a,l,l.destroy),null===a[bi]&&(a[bi]=new oc),a[bi].queries.push(new yv(l))}function $S(o,a,c){null===o.queries&&(o.queries=new Yw),o.queries.track(new bm(a,c))}function Tv(o,a){return o.queries.getByIndex(a)}function Dm(o){return!!$r(o)}const xm=new Rr("Application Initializer");let Rm=(()=>{var o;class a{constructor(){var l;this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p}),this.appInits=null!==(l=Dn(xm,{optional:!0}))&&void 0!==l?l:[]}runInitializers(){if(this.initialized)return;const l=[];for(const p of this.appInits){const _=p();if(nw(_))l.push(_);else if(qy(_)){const T=new Promise((S,O)=>{_.subscribe({complete:S,error:O})});l.push(T)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{h()}).catch(p=>{this.reject(p)}),0===l.length&&h(),this.initialized=!0}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"root"}),a})(),uT=(()=>{var o;class a{log(l){console.log(l)}warn(l){console.warn(l)}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();const Pm=new Rr("LocaleId",{providedIn:"root",factory:()=>Dn(Pm,et.Optional|et.SkipSelf)||function cT(){return typeof $localize<"u"&&$localize.locale||eh}()}),lT=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Rv=(()=>{var o;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ue.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();class Mm{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let dT=(()=>{var o;class a{compileModuleSync(l){return new gm(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),_=Du($r(l).declarations).reduce((T,S)=>{const O=Mn(S);return O&&T.push(new Uc(O)),T},[]);return new Mm(h,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const kv=new Rr(""),dx=new Rr("");let bT,wT=(()=>{var o;class a{constructor(l,h,p){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bT||(function TT(o){bT=o}(p),p.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==_),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:p})}whenStable(l,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,p){return[]}}return(o=a).\u0275fac=function(l){return new(l||o)(en(ts),en(hx),en(dx))},o.\u0275prov=mn({token:o,factory:o.\u0275fac}),a})(),hx=(()=>{var o;class a{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){var p,_;return null!==(p=null===(_=bT)||void 0===_?void 0:_.findTestabilityInTree(this,l,h))&&void 0!==p?p:null}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})(),Ul=null;const DT=new Rr("AllowMultipleToken"),Fm=new Rr("PlatformDestroyListeners"),CT=new Rr("appBootstrapListener");class Hk{constructor(a,c){this.name=a,this.token=c}}function Yk(o,a,c=[]){const l=`Platform: ${a}`,h=new Rr(l);return(p=[])=>{let _=gx();if(!_||_.injector.get(DT,!1)){const T=[...c,...p,{provide:h,useValue:!0}];o?o(T):function qk(o){if(Ul&&!Ul.get(DT,!1))throw new be(400,!1);(function fx(){!function ne(o){D=o}(()=>{throw new be(600,!1)})})(),Ul=o;const a=o.get(Zk);(function Kk(o){const a=o.get(xd,null);null==a||a.forEach(c=>c())})(o)}(function px(o=[],a){return To.create({name:a,providers:[{provide:sy,useValue:"platform"},{provide:Fm,useValue:new Set([()=>Ul=null])},...o]})}(T,l))}return function AT(o){const a=gx();if(!a)throw new be(401,!1);return a}()}}function gx(){var o,a;return null!==(o=null===(a=Ul)||void 0===a?void 0:a.get(Zk))&&void 0!==o?o:null}let Zk=(()=>{var o;class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const p=function Xk(o="zone.js",a){return"noop"===o?new Ig:"zone.js"===o?new ts(a):o}(null==h?void 0:h.ngZone,function Qk(o){var a,c;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(a=null==o?void 0:o.eventCoalescing)&&void 0!==a&&a,shouldCoalesceRunChangeDetection:null!==(c=null==o?void 0:o.runCoalescing)&&void 0!==c&&c}}({eventCoalescing:null==h?void 0:h.ngZoneEventCoalescing,runCoalescing:null==h?void 0:h.ngZoneRunCoalescing}));return p.run(()=>{const _=function _S(o,a,c){return new rh(o,a,c)}(l.moduleType,this.injector,function yx(o){return[{provide:ts,useFactory:o},{provide:lg,multi:!0,useFactory:()=>{const a=Dn(TU,{optional:!0});return()=>a.initialize()}},{provide:_x,useFactory:eN},{provide:Cl,useFactory:Fc}]}(()=>p)),T=_.injector.get(Bd,null);return p.runOutsideAngular(()=>{const S=p.onError.subscribe({next:O=>{T.handleError(O)}});_.onDestroy(()=>{qf(this._modules,_),S.unsubscribe()})}),function Jk(o,a,c){try{const l=c();return nw(l)?l.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>o.handleError(l)),l}}(T,p,()=>{const S=_.injector.get(Rm);return S.runInitializers(),S.donePromise.then(()=>(function cm(o){yt(o,"Expected localeId to be defined"),"string"==typeof o&&(sv=o.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Pm,eh)||eh),this._moduleDoBootstrap(_),_))})})}bootstrapModule(l,h=[]){const p=Nv({},h);return function Hf(o,a,c){const l=new gm(c);return Promise.resolve(l)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(l){const h=l.injector.get(Ja);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new be(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Fm,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=a).\u0275fac=function(l){return new(l||o)(en(To))},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();function Nv(o,a){return Array.isArray(a)?a.reduce(Nv,o):{...o,...a}}let Ja=(()=>{var o;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dn(_x),this.zoneIsStable=Dn(Cl),this.componentTypes=[],this.components=[],this.isStable=Dn(Rv).hasPendingTasks.pipe((0,ft.w)(l=>l?(0,fe.of)(!1):this.zoneIsStable),(0,Re.x)(),pe()),this._injector=Dn(vr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const p=l instanceof q0;if(!this._injector.get(Rm).done)throw!p&&Gs(l),new be(405,!1);let T;T=p?l:this._injector.get(hy).resolveComponentFactory(l),this.componentTypes.push(T.componentType);const S=function zk(o){return o.isBoundToModule}(T)?void 0:this._injector.get(Wc),$=T.create(To.NULL,[],h||T.selector,S),q=$.location.nativeElement,oe=$.injector.get(kv,null);return null==oe||oe.registerApplication(q),$.onDestroy(()=>{this.detachView($.hostView),qf(this.components,$),null==oe||oe.unregisterApplication(q)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;qf(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(CT,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>qf(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new be(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function qf(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const _x=new Rr("",{providedIn:"root",factory:()=>Dn(Bd).handleError.bind(void 0)});function eN(){const o=Dn(ts),a=Dn(Bd);return c=>o.runOutsideAngular(()=>a.handleError(c))}let TU=(()=>{var o;class a{constructor(){this.zone=Dn(ts),this.applicationRef=Dn(Ja)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var l;null===(l=this._onMicrotaskEmptySubscription)||void 0===l||l.unsubscribe()}}return(o=a).\u0275fac=function(l){return new(l||o)},o.\u0275prov=mn({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function tN(){}let rN=(()=>{class a{}return a.__NG_ELEMENT_ID__=iN,a})();function iN(o){return function DU(o,a,c){if(qs(o)&&!c){const l=Yi(o.index,a);return new Ng(l,l)}return 47&o.type?new Ng(a[ir],a):null}(Ui(),It(),16==(16&o))}class Bv{constructor(){}supports(a){return Ay(a)}create(a){return new OT(a)}}const wx=(o,a)=>a;class OT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||wx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,l=this._removalsHead,h=0,p=null;for(;c||l;){const _=!l||c&&c.currentIndex<Tx(l,h,p)?c:l,T=Tx(_,h,p),S=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{p||(p=[]);const O=T-h,$=S-h;if(O!=$){for(let oe=0;oe<O;oe++){const Ie=oe<p.length?p[oe]:p[oe]=0,ut=Ie+oe;$<=ut&&ut<O&&(p[oe]=Ie+1)}p[_.previousIndex]=$-O}}T!==S&&a(_,T,S)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Ay(a))throw new be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,_,c=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)p=a[T],_=this._trackByFn(T,p),null!==c&&Object.is(c.trackById,_)?(l&&(c=this._verifyReinsertion(c,p,_,T)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,_,T),l=!0),c=c._next}else h=0,function lM(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let l;for(;!(l=c.next()).done;)a(l.value)}}(a,T=>{_=this._trackByFn(h,T),null!==c&&Object.is(c.trackById,_)?(l&&(c=this._verifyReinsertion(c,T,_,h)),Object.is(c.item,T)||this._addIdentityChange(c,T)):(c=this._mismatch(c,T,_,h),l=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,l,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new oN(c,l),p,h),a}_verifyReinsertion(a,c,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,l),this._addToMoves(a,l),a}_moveAfter(a,c,l){return this._unlink(a),this._insertAfter(a,c,l),this._addToMoves(a,l),a}_addAfter(a,c,l){return this._insertAfter(a,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,l){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new LT),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,l=a._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class oN{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const c=a._prevDup,l=a._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class LT{constructor(){this.map=new Map}put(a){const c=a.trackById;let l=this.map.get(c);l||(l=new FT,this.map.set(c,l)),l.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tx(o,a,c){const l=o.previousIndex;if(null===l)return l;let h=0;return c&&l<c.length&&(h=c[l]),l+a+h}class bx{constructor(){}supports(a){return a instanceof Map||Fg(a)}create(){return new xU}}class xU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Fg(a)))throw new be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,l);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const l=a._prev;return c._next=a,c._prev=l,a._prev=c,l&&(l._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new Kf(a);return this._records.set(a,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(l=>c(a[l],l))}}class Kf{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dx(){return new VT([new Bv])}let VT=(()=>{var o;class a{constructor(l){this.factories=l}static create(l,h){if(null!=h){const p=h.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||Dx()),deps:[[a,new H_,new _u]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(null!=h)return h;throw new be(901,!1)}}return(o=a).\u0275prov=mn({token:o,providedIn:"root",factory:Dx}),a})();function Cx(){return new BT([new bx])}let BT=(()=>{var o;class a{constructor(l){this.factories=l}static create(l,h){if(h){const p=h.factories.slice();l=l.concat(p)}return new a(l)}static extend(l){return{provide:a,useFactory:h=>a.create(l,h||Cx()),deps:[[a,new H_,new _u]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(h)return h;throw new be(901,!1)}}return(o=a).\u0275prov=mn({token:o,providedIn:"root",factory:Cx}),a})();const $T=Yk(null,"core",[]);let uN=(()=>{var o;class a{constructor(l){}}return(o=a).\u0275fac=function(l){return new(l||o)(en(Ja))},o.\u0275mod=fo({type:o}),o.\u0275inj=Zr({}),a})();function qT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function $m(o,a){const c=Mn(o),l=a.elementInjector||oy();return new Uc(c).create(l,a.projectableNodes,a.hostElement,a.environmentInjector)}function pN(o){const a=Mn(o);if(!a)return null;const c=new Uc(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},95:(rn,rt,z)=>{"use strict";z.d(rt,{u5:()=>xn,Fd:()=>po,qQ:()=>_r,Cf:()=>Ee,JU:()=>Pe,a5:()=>Ln});var E=z(6689),de=(z(6814),z(2459)),ie=z(5592),De=z(7453),_e=z(4829),le=z(4564),x=z(8251),Ne=z(7400),Ue=z(2714),we=z(7398);const Pe=new E.OlP("NgValueAccessor");function Me(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}const Ee=new E.OlP("NgValidators");function ee(V){return null}function te(V){return null!=V}function ue(V){return(0,E.QGY)(V)?(0,de.D)(V):V}function ve(V){let P={};return V.forEach(K=>{P=null!=K?{...P,...K}:P}),0===Object.keys(P).length?null:P}function We(V,P){return P.map(K=>K(V))}function zt(V){return V.map(P=>function Ge(V){return!V.validate}(P)?P:K=>P.validate(K))}function Mt(V){return null!=V?function Zt(V){if(!V)return null;const P=V.filter(te);return 0==P.length?null:function(K){return ve(We(K,P))}}(zt(V)):null}function Ze(V){return null!=V?function ce(V){if(!V)return null;const P=V.filter(te);return 0==P.length?null:function(K){return function fe(...V){const P=(0,le.jO)(V),{args:K,keys:B}=(0,De.D)(V),X=new ie.y(Ct=>{const{length:y}=K;if(!y)return void Ct.complete();const F=new Array(y);let v=y,N=y;for(let W=0;W<y;W++){let ot=!1;(0,_e.Xf)(K[W]).subscribe((0,x.x)(Ct,Vt=>{ot||(ot=!0,N--),F[W]=Vt},()=>v--,void 0,()=>{(!v||!ot)&&(N||Ct.next(B?(0,Ue.n)(B,F):F),Ct.complete())}))}});return P?X.pipe((0,Ne.Z)(P)):X}(We(K,P).map(ue)).pipe((0,we.U)(ve))}}(zt(V)):null}class Bn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,K){return!!this.control&&this.control.hasError(P,K)}getError(P,K){return this.control?this.control.getError(P,K):null}}class Ln extends Bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Er=new E.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Is}),Is="always";let fo=(()=>{var V;class P{}return(V=P).\u0275fac=function(B){return new(B||V)},V.\u0275mod=E.oAB({type:V}),V.\u0275inj=E.cJS({}),P})();function Cs(V){return"number"==typeof V?V:parseFloat(V)}let ir=(()=>{var V;class P{constructor(){this._validator=ee}ngOnChanges(B){if(this.inputName in B){const X=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):ee,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}}return(V=P).\u0275fac=function(B){return new(B||V)},V.\u0275dir=E.lG2({type:V,features:[E.TTD]}),P})();const Ro={provide:Ee,useExisting:(0,E.Gpc)(()=>po),multi:!0};let po=(()=>{var V;class P extends ir{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=B=>Cs(B),this.createValidator=B=>function be(V){return P=>{if(Me(P.value)||Me(V))return null;const K=parseFloat(P.value);return!isNaN(K)&&K>V?{max:{max:V,actual:P.value}}:null}}(B)}}return(V=P).\u0275fac=function(){let K;return function(X){return(K||(K=E.n5z(V)))(X||V)}}(),V.\u0275dir=E.lG2({type:V,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(B,X){2&B&&E.uIk("max",X._enabled?X.max:null)},inputs:{max:"max"},features:[E._Bn([Ro]),E.qOj]}),P})();const bi={provide:Ee,useExisting:(0,E.Gpc)(()=>_r),multi:!0};let _r=(()=>{var V;class P extends ir{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>Cs(B),this.createValidator=B=>function je(V){return P=>{if(Me(P.value)||Me(V))return null;const K=parseFloat(P.value);return!isNaN(K)&&K<V?{min:{min:V,actual:P.value}}:null}}(B)}}return(V=P).\u0275fac=function(){let K;return function(X){return(K||(K=E.n5z(V)))(X||V)}}(),V.\u0275dir=E.lG2({type:V,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(B,X){2&B&&E.uIk("min",X._enabled?X.min:null)},inputs:{min:"min"},features:[E._Bn([bi]),E.qOj]}),P})(),Vi=(()=>{var V;class P{}return(V=P).\u0275fac=function(B){return new(B||V)},V.\u0275mod=E.oAB({type:V}),V.\u0275inj=E.cJS({imports:[fo]}),P})(),xn=(()=>{var V;class P{static withConfig(B){var X;return{ngModule:P,providers:[{provide:Er,useValue:null!==(X=B.callSetDisabledState)&&void 0!==X?X:Is}]}}}return(V=P).\u0275fac=function(B){return new(B||V)},V.\u0275mod=E.oAB({type:V}),V.\u0275inj=E.cJS({imports:[Vi]}),P})()},6593:(rn,rt,z)=>{"use strict";z.d(rt,{Dx:()=>Ln,b2:()=>mt,q6:()=>lt});var E=z(6689),m=z(6814);class de extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends de{static makeCurrent(){(0,m.HT)(new ie)}onAndCancel(ge,Ke,he){return ge.addEventListener(Ke,he),()=>{ge.removeEventListener(Ke,he)}}dispatchEvent(ge,Ke){ge.dispatchEvent(Ke)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,Ke){return(Ke=Ke||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,Ke){return"window"===Ke?window:"document"===Ke?ge:"body"===Ke?ge.body:null}getBaseHref(ge){const Ke=function _e(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==Ke?null:function x(Je){le=le||document.createElement("a"),le.setAttribute("href",Je);const ge=le.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(Ke)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,m.Mx)(document.cookie,ge)}}let le,De=null,Ue=(()=>{var Je;class ge{build(){return new XMLHttpRequest}}return(Je=ge).\u0275fac=function(he){return new(he||Je)},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();const fe=new E.OlP("EventManagerPlugins");let we=(()=>{var Je;class ge{constructor(he,ze){this._zone=ze,this._eventNameToPlugin=new Map,he.forEach(bt=>{bt.manager=this}),this._plugins=he.slice().reverse()}addEventListener(he,ze,bt){return this._findPluginFor(ze).addEventListener(he,ze,bt)}getZone(){return this._zone}_findPluginFor(he){let ze=this._eventNameToPlugin.get(he);if(ze)return ze;if(ze=this._plugins.find(Xe=>Xe.supports(he)),!ze)throw new E.vHH(5101,!1);return this._eventNameToPlugin.set(he,ze),ze}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(fe),E.LFG(E.R0b))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();class me{constructor(ge){this._doc=ge}}const pe="ng-app-id";let Pe=(()=>{var Je;class ge{constructor(he,ze,bt,Xe={}){this.doc=he,this.appId=ze,this.nonce=bt,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,m.PM)(Xe),this.resetHostNodes()}addStyles(he){for(const ze of he)1===this.changeUsageCount(ze,1)&&this.onStyleAdded(ze)}removeStyles(he){for(const ze of he)this.changeUsageCount(ze,-1)<=0&&this.onStyleRemoved(ze)}ngOnDestroy(){const he=this.styleNodesInDOM;he&&(he.forEach(ze=>ze.remove()),he.clear());for(const ze of this.getAllStyles())this.onStyleRemoved(ze);this.resetHostNodes()}addHost(he){this.hostNodes.add(he);for(const ze of this.getAllStyles())this.addStyleToHost(he,ze)}removeHost(he){this.hostNodes.delete(he)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(he){for(const ze of this.hostNodes)this.addStyleToHost(ze,he)}onStyleRemoved(he){var ze;const bt=this.styleRef;null===(ze=bt.get(he))||void 0===ze||null===(ze=ze.elements)||void 0===ze||ze.forEach(Xe=>Xe.remove()),bt.delete(he)}collectServerRenderedStyles(){var he;const ze=null===(he=this.doc.head)||void 0===he?void 0:he.querySelectorAll(`style[${pe}="${this.appId}"]`);if(null!=ze&&ze.length){const bt=new Map;return ze.forEach(Xe=>{null!=Xe.textContent&&bt.set(Xe.textContent,Xe)}),bt}return null}changeUsageCount(he,ze){const bt=this.styleRef;if(bt.has(he)){const Xe=bt.get(he);return Xe.usage+=ze,Xe.usage}return bt.set(he,{usage:ze,elements:[]}),ze}getStyleElement(he,ze){const bt=this.styleNodesInDOM,Xe=null==bt?void 0:bt.get(ze);if((null==Xe?void 0:Xe.parentNode)===he)return bt.delete(ze),Xe.removeAttribute(pe),Xe;{const Ht=this.doc.createElement("style");return this.nonce&&Ht.setAttribute("nonce",this.nonce),Ht.textContent=ze,this.platformIsServer&&Ht.setAttribute(pe,this.appId),Ht}}addStyleToHost(he,ze){var bt;const Xe=this.getStyleElement(he,ze);he.appendChild(Xe);const Ht=this.styleRef,Sn=null===(bt=Ht.get(ze))||void 0===bt?void 0:bt.elements;Sn?Sn.push(Xe):Ht.set(ze,{elements:[Xe],usage:1})}resetHostNodes(){const he=this.hostNodes;he.clear(),he.add(this.doc.head)}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(m.K0),E.LFG(E.AFp),E.LFG(E.Ojb,8),E.LFG(E.Lbi))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g,Me=new E.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Te(Je,ge){return ge.map(Ke=>Ke.replace(Re,Je))}let Ce=(()=>{var Je;class ge{constructor(he,ze,bt,Xe,Ht,Sn,pr,Sr=null){this.eventManager=he,this.sharedStylesHost=ze,this.appId=bt,this.removeStylesOnCompDestroy=Xe,this.doc=Ht,this.platformId=Sn,this.ngZone=pr,this.nonce=Sr,this.rendererByCompId=new Map,this.platformIsServer=(0,m.PM)(Sn),this.defaultRenderer=new st(he,Ht,pr,this.platformIsServer)}createRenderer(he,ze){if(!he||!ze)return this.defaultRenderer;this.platformIsServer&&ze.encapsulation===E.ifc.ShadowDom&&(ze={...ze,encapsulation:E.ifc.Emulated});const bt=this.getOrCreateRenderer(he,ze);return bt instanceof kt?bt.applyToHost(he):bt instanceof gt&&bt.applyStyles(),bt}getOrCreateRenderer(he,ze){const bt=this.rendererByCompId;let Xe=bt.get(ze.id);if(!Xe){const Ht=this.doc,Sn=this.ngZone,pr=this.eventManager,Sr=this.sharedStylesHost,Oi=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(ze.encapsulation){case E.ifc.Emulated:Xe=new kt(pr,Sr,ze,this.appId,Oi,Ht,Sn,Er);break;case E.ifc.ShadowDom:return new Ae(pr,Sr,he,ze,Ht,Sn,this.nonce,Er);default:Xe=new gt(pr,Sr,ze,Oi,Ht,Sn,Er)}bt.set(ze.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(we),E.LFG(Pe),E.LFG(E.AFp),E.LFG(Me),E.LFG(m.K0),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(E.Ojb))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();class st{constructor(ge,Ke,he,ze){this.eventManager=ge,this.doc=Ke,this.ngZone=he,this.platformIsServer=ze,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,Ke){return Ke?this.doc.createElementNS(ft[Ke]||Ke,ge):this.doc.createElement(ge)}createComment(ge){return this.doc.createComment(ge)}createText(ge){return this.doc.createTextNode(ge)}appendChild(ge,Ke){(it(ge)?ge.content:ge).appendChild(Ke)}insertBefore(ge,Ke,he){ge&&(it(ge)?ge.content:ge).insertBefore(Ke,he)}removeChild(ge,Ke){ge&&ge.removeChild(Ke)}selectRootElement(ge,Ke){let he="string"==typeof ge?this.doc.querySelector(ge):ge;if(!he)throw new E.vHH(-5104,!1);return Ke||(he.textContent=""),he}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,Ke,he,ze){if(ze){Ke=ze+":"+Ke;const bt=ft[ze];bt?ge.setAttributeNS(bt,Ke,he):ge.setAttribute(Ke,he)}else ge.setAttribute(Ke,he)}removeAttribute(ge,Ke,he){if(he){const ze=ft[he];ze?ge.removeAttributeNS(ze,Ke):ge.removeAttribute(`${he}:${Ke}`)}else ge.removeAttribute(Ke)}addClass(ge,Ke){ge.classList.add(Ke)}removeClass(ge,Ke){ge.classList.remove(Ke)}setStyle(ge,Ke,he,ze){ze&(E.JOm.DashCase|E.JOm.Important)?ge.style.setProperty(Ke,he,ze&E.JOm.Important?"important":""):ge.style[Ke]=he}removeStyle(ge,Ke,he){he&E.JOm.DashCase?ge.style.removeProperty(Ke):ge.style[Ke]=""}setProperty(ge,Ke,he){ge[Ke]=he}setValue(ge,Ke){ge.nodeValue=Ke}listen(ge,Ke,he){if("string"==typeof ge&&!(ge=(0,m.q)().getGlobalEventTarget(this.doc,ge)))throw new Error(`Unsupported event target ${ge} for event ${Ke}`);return this.eventManager.addEventListener(ge,Ke,this.decoratePreventDefault(he))}decoratePreventDefault(ge){return Ke=>{if("__ngUnwrap__"===Ke)return ge;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ge(Ke)):ge(Ke))&&Ke.preventDefault()}}}function it(Je){return"TEMPLATE"===Je.tagName&&void 0!==Je.content}class Ae extends st{constructor(ge,Ke,he,ze,bt,Xe,Ht,Sn){super(ge,bt,Xe,Sn),this.sharedStylesHost=Ke,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pr=Te(ze.id,ze.styles);for(const Sr of pr){const Oi=document.createElement("style");Ht&&Oi.setAttribute("nonce",Ht),Oi.textContent=Sr,this.shadowRoot.appendChild(Oi)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}appendChild(ge,Ke){return super.appendChild(this.nodeOrShadowRoot(ge),Ke)}insertBefore(ge,Ke,he){return super.insertBefore(this.nodeOrShadowRoot(ge),Ke,he)}removeChild(ge,Ke){return super.removeChild(this.nodeOrShadowRoot(ge),Ke)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gt extends st{constructor(ge,Ke,he,ze,bt,Xe,Ht,Sn){super(ge,bt,Xe,Ht),this.sharedStylesHost=Ke,this.removeStylesOnCompDestroy=ze,this.styles=Sn?Te(Sn,he.styles):he.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kt extends gt{constructor(ge,Ke,he,ze,bt,Xe,Ht,Sn){const pr=ze+"-"+he.id;super(ge,Ke,he,bt,Xe,Ht,Sn,pr),this.contentAttr=function ke(Je){return"_ngcontent-%COMP%".replace(Re,Je)}(pr),this.hostAttr=function Ee(Je){return"_nghost-%COMP%".replace(Re,Je)}(pr)}applyToHost(ge){this.applyStyles(),this.setAttribute(ge,this.hostAttr,"")}createElement(ge,Ke){const he=super.createElement(ge,Ke);return super.setAttribute(he,this.contentAttr,""),he}}let _n=(()=>{var Je;class ge extends me{constructor(he){super(he)}supports(he){return!0}addEventListener(he,ze,bt){return he.addEventListener(ze,bt,!1),()=>this.removeEventListener(he,ze,bt)}removeEventListener(he,ze,bt){return he.removeEventListener(ze,bt)}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(m.K0))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();const dt=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:Je=>Je.altKey,control:Je=>Je.ctrlKey,meta:Je=>Je.metaKey,shift:Je=>Je.shiftKey};let ue=(()=>{var Je;class ge extends me{constructor(he){super(he)}supports(he){return null!=ge.parseEventName(he)}addEventListener(he,ze,bt){const Xe=ge.parseEventName(ze),Ht=ge.eventCallback(Xe.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(he,Xe.domEventName,Ht))}static parseEventName(he){const ze=he.toLowerCase().split("."),bt=ze.shift();if(0===ze.length||"keydown"!==bt&&"keyup"!==bt)return null;const Xe=ge._normalizeKey(ze.pop());let Ht="",Sn=ze.indexOf("code");if(Sn>-1&&(ze.splice(Sn,1),Ht="code."),dt.forEach(Sr=>{const Oi=ze.indexOf(Sr);Oi>-1&&(ze.splice(Oi,1),Ht+=Sr+".")}),Ht+=Xe,0!=ze.length||0===Xe.length)return null;const pr={};return pr.domEventName=bt,pr.fullKey=Ht,pr}static matchEventFullKeyCode(he,ze){let bt=ee[he.key]||he.key,Xe="";return ze.indexOf("code.")>-1&&(bt=he.code,Xe="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),dt.forEach(Ht=>{Ht!==bt&&(0,te[Ht])(he)&&(Xe+=Ht+".")}),Xe+=bt,Xe===ze)}static eventCallback(he,ze,bt){return Xe=>{ge.matchEventFullKeyCode(Xe,he)&&bt.runGuarded(()=>ze(Xe))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(m.K0))},Je.\u0275prov=E.Yz7({token:Je,factory:Je.\u0275fac}),ge})();const lt=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:m.bD},{provide:E.g9A,useValue:function Zt(){ie.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function ce(){return(0,E.RDi)(document),document},deps:[]}]),ht=new E.OlP(""),Rt=[{provide:E.rWj,useClass:class Ne{addToWindow(ge){E.dqk.getAngularTestability=(he,ze=!0)=>{const bt=ge.findTestabilityInTree(he,ze);if(null==bt)throw new E.vHH(5103,!1);return bt},E.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(he=>{const ze=E.dqk.getAllAngularTestabilities();let bt=ze.length,Xe=!1;const Ht=function(Sn){Xe=Xe||Sn,bt--,0==bt&&he(Xe)};ze.forEach(Sn=>{Sn.whenStable(Ht)})})}findTestabilityInTree(ge,Ke,he){if(null==Ke)return null;const ze=ge.getTestability(Ke);return null!=ze?ze:he?(0,m.q)().isShadowRoot(Ke)?this.findTestabilityInTree(ge,Ke.host,!0):this.findTestabilityInTree(ge,Ke.parentElement,!0):null}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],yt=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function Mt(){return new E.qLn},deps:[]},{provide:fe,useClass:_n,multi:!0,deps:[m.K0,E.R0b,E.Lbi]},{provide:fe,useClass:ue,multi:!0,deps:[m.K0]},Ce,Pe,we,{provide:E.FYo,useExisting:Ce},{provide:m.JF,useClass:Ue,deps:[]},[]];let mt=(()=>{var Je;class ge{constructor(he){}static withServerTransition(he){return{ngModule:ge,providers:[{provide:E.AFp,useValue:he.appId}]}}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(ht,12))},Je.\u0275mod=E.oAB({type:Je}),Je.\u0275inj=E.cJS({providers:[...yt,...Rt],imports:[m.ez,E.hGG]}),ge})(),Ln=(()=>{var Je;class ge{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return(Je=ge).\u0275fac=function(he){return new(he||Je)(E.LFG(m.K0))},Je.\u0275prov=E.Yz7({token:Je,factory:function(he){let ze=null;return ze=he?new he:function mn(){return new Ln((0,E.LFG)(m.K0))}(),ze},providedIn:"root"}),ge})();typeof window<"u"&&window},9599:(rn,rt,z)=>{"use strict";z.d(rt,{gz:()=>$r,y6:()=>fo,OD:()=>H,eC:()=>yt,wm:()=>Ap,wN:()=>Ho,F0:()=>Kr,rH:()=>Tr,Bz:()=>rr,Hx:()=>is});var E=z(6689),m=z(5592),de=z(4674),De=z(2459),_e=z(2096),le=z(5619),x=z(2572);const Ue=(0,z(2306).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var fe=z(7537),me=z(4564);function pe(...w){return function we(){return(0,fe.J)(1)}()((0,De.D)(w,(0,me.yG)(w)))}var Pe=z(4829);function ft(w){return new m.y(C=>{(0,Pe.Xf)(w()).subscribe(C)})}var Re=z(8407);function ae(w,C){const R=(0,de.m)(w)?w:()=>w,b=M=>M.error(R());return new m.y(C?M=>C.schedule(b,0,M):b)}var qe=z(6232),tt=z(7394),Oe=z(9360),Me=z(8251);function ke(){return(0,Oe.e)((w,C)=>{let R=null;w._refCount++;const b=(0,Me.x)(C,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(R=null);const M=w._connection,G=R;R=null,M&&(!G||M===G)&&M.unsubscribe(),C.unsubscribe()});w.subscribe(b),b.closed||(R=w.connect())})}class Ee extends m.y{constructor(C,R){super(),this.source=C,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,Oe.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,null==C||C.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new tt.w0;const R=this.getSubject();C.add(this.source.subscribe((0,Me.x)(R,void 0,()=>{this._teardown(),R.complete()},b=>{this._teardown(),R.error(b)},()=>this._teardown()))),C.closed&&(this._connection=null,C=tt.w0.EMPTY)}return C}refCount(){return ke()(this)}}var Te=z(8645),Ce=z(6814),st=z(7398),je=z(4664);function be(w){return w<=0?()=>qe.E:(0,Oe.e)((C,R)=>{let b=0;C.subscribe((0,Me.x)(R,M=>{++b<=w&&(R.next(M),w<=b&&R.complete())}))})}var Ae=z(2181),gt=z(1631);function kt(w){return(0,Oe.e)((C,R)=>{let b=!1;C.subscribe((0,Me.x)(R,M=>{b=!0,R.next(M)},()=>{b||R.next(w),R.complete()}))})}function _n(w=dt){return(0,Oe.e)((C,R)=>{let b=!1;C.subscribe((0,Me.x)(R,M=>{b=!0,R.next(M)},()=>b?R.complete():R.error(w())))})}function dt(){return new Ue}var ee=z(2737);function te(w,C){const R=arguments.length>=2;return b=>b.pipe(w?(0,Ae.h)((M,G)=>w(M,G,b)):ee.y,be(1),R?kt(C):_n(()=>new Ue))}function ue(w,C){return(0,de.m)(C)?(0,gt.z)(w,C,1):(0,gt.z)(w,1)}var ve=z(9397);function We(w){return(0,Oe.e)((C,R)=>{let G,b=null,M=!1;b=C.subscribe((0,Me.x)(R,void 0,void 0,Q=>{G=(0,Pe.Xf)(w(Q,We(w)(C))),b?(b.unsubscribe(),b=null,G.subscribe(R)):M=!0})),M&&(b.unsubscribe(),b=null,G.subscribe(R))})}function Zt(w){return w<=0?()=>qe.E:(0,Oe.e)((C,R)=>{let b=[];C.subscribe((0,Me.x)(R,M=>{b.push(M),w<b.length&&b.shift()},()=>{for(const M of b)R.next(M);R.complete()},void 0,()=>{b=null}))})}function Ze(w){return(0,Oe.e)((C,R)=>{try{C.subscribe(R)}finally{R.add(w)}})}var lt=z(2420),Rt=z(6593);const yt="primary",mt=Symbol("RouteTitle");class En{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const R=this.params[C];return Array.isArray(R)?R[0]:R}return null}getAll(C){if(this.has(C)){const R=this.params[C];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function wn(w){return new En(w)}function Bn(w,C,R){const b=R.path.split("/");if(b.length>w.length||"full"===R.pathMatch&&(C.hasChildren()||b.length<w.length))return null;const M={};for(let G=0;G<b.length;G++){const Q=b[G],xe=w[G];if(Q.startsWith(":"))M[Q.substring(1)]=xe;else if(Q!==xe.path)return null}return{consumed:w.slice(0,b.length),posParams:M}}function Ln(w,C){const R=w?Object.keys(w):void 0,b=C?Object.keys(C):void 0;if(!R||!b||R.length!=b.length)return!1;let M;for(let G=0;G<R.length;G++)if(M=R[G],!Zr(w[M],C[M]))return!1;return!0}function Zr(w,C){if(Array.isArray(w)&&Array.isArray(C)){if(w.length!==C.length)return!1;const R=[...w].sort(),b=[...C].sort();return R.every((M,G)=>b[G]===M)}return w===C}function er(w){return w.length>0?w[w.length-1]:null}function Cr(w){return function ie(w){return!!w&&(w instanceof m.y||(0,de.m)(w.lift)&&(0,de.m)(w.subscribe))}(w)?w:(0,E.QGY)(w)?(0,De.D)(Promise.resolve(w)):(0,_e.of)(w)}const On={exact:function Qr(w,C,R){if(!qn(w.segments,C.segments)||!Un(w.segments,C.segments,R)||w.numberOfChildren!==C.numberOfChildren)return!1;for(const b in C.children)if(!w.children[b]||!Qr(w.children[b],C.children[b],R))return!1;return!0},subset:dr},Pn={exact:function Ar(w,C){return Ln(w,C)},subset:function ln(w,C){return Object.keys(C).length<=Object.keys(w).length&&Object.keys(C).every(R=>Zr(w[R],C[R]))},ignored:()=>!0};function di(w,C,R){return On[R.paths](w.root,C.root,R.matrixParams)&&Pn[R.queryParams](w.queryParams,C.queryParams)&&!("exact"===R.fragment&&w.fragment!==C.fragment)}function dr(w,C,R){return et(w,C,C.segments,R)}function et(w,C,R,b){if(w.segments.length>R.length){const M=w.segments.slice(0,R.length);return!(!qn(M,R)||C.hasChildren()||!Un(M,R,b))}if(w.segments.length===R.length){if(!qn(w.segments,R)||!Un(w.segments,R,b))return!1;for(const M in C.children)if(!w.children[M]||!dr(w.children[M],C.children[M],b))return!1;return!0}{const M=R.slice(0,w.segments.length),G=R.slice(w.segments.length);return!!(qn(w.segments,M)&&Un(w.segments,M,b)&&w.children[yt])&&et(w.children[yt],C,G,b)}}function Un(w,C,R){return C.every((b,M)=>Pn[R](w[M].parameters,b.parameters))}class ys{constructor(C=new Gt([],{}),R={},b=null){this.root=C,this.queryParams=R,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return So.serialize(this)}}class Gt{constructor(C,R){this.segments=C,this.children=R,this.parent=null,Object.values(R).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vs(this)}}class Vs{constructor(C,R){this.path=C,this.parameters=R}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function qn(w,C){return w.length===C.length&&w.every((R,b)=>R.path===C[b].path)}let is=(()=>{var w;class C{}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:function(){return new ki},providedIn:"root"}),C})();class ki{parse(C){const R=new Is(C);return new ys(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(C){const R=`/${ai(C.root,!0)}`,b=function ze(w){const C=Object.keys(w).map(R=>{const b=w[R];return Array.isArray(b)?b.map(M=>`${Fr(R)}=${Fr(M)}`).join("&"):`${Fr(R)}=${Fr(b)}`}).filter(R=>!!R);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${R}${b}${"string"==typeof C.fragment?`#${function zr(w){return encodeURI(w)}(C.fragment)}`:""}`}}const So=new ki;function vs(w){return w.segments.map(C=>Ke(C)).join("/")}function ai(w,C){if(!w.hasChildren())return vs(w);if(C){const R=w.children[yt]?ai(w.children[yt],!1):"",b=[];return Object.entries(w.children).forEach(([M,G])=>{M!==yt&&b.push(`${M}:${ai(G,!1)}`)}),b.length>0?`${R}(${b.join("//")})`:R}{const R=function Bs(w,C){let R=[];return Object.entries(w.children).forEach(([b,M])=>{b===yt&&(R=R.concat(C(M,b)))}),Object.entries(w.children).forEach(([b,M])=>{b!==yt&&(R=R.concat(C(M,b)))}),R}(w,(b,M)=>M===yt?[ai(w.children[yt],!1)]:[`${M}:${ai(b,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[yt]?`${vs(w)}/${R[0]}`:`${vs(w)}/(${R.join("//")})`}}function ao(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(w){return ao(w).replace(/%3B/gi,";")}function Ni(w){return ao(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(w){return decodeURIComponent(w)}function ge(w){return Je(w.replace(/\+/g,"%20"))}function Ke(w){return`${Ni(w.path)}${function he(w){return Object.keys(w).map(C=>`;${Ni(C)}=${Ni(w[C])}`).join("")}(w.parameters)}`}const bt=/^[^\/()?;#]+/;function Xe(w){const C=w.match(bt);return C?C[0]:""}const Ht=/^[^\/()?;=#]+/,pr=/^[^=?&#]+/,Oi=/^[^&#]+/;class Is{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(C.length>0||Object.keys(R).length>0)&&(b[yt]=new Gt(C,R)),b}parseSegment(){const C=Xe(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new E.vHH(4009,!1);return this.capture(C),new Vs(Je(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const R=function Sn(w){const C=w.match(Ht);return C?C[0]:""}(this.remaining);if(!R)return;this.capture(R);let b="";if(this.consumeOptional("=")){const M=Xe(this.remaining);M&&(b=M,this.capture(b))}C[Je(R)]=Je(b)}parseQueryParam(C){const R=function Sr(w){const C=w.match(pr);return C?C[0]:""}(this.remaining);if(!R)return;this.capture(R);let b="";if(this.consumeOptional("=")){const Q=function Er(w){const C=w.match(Oi);return C?C[0]:""}(this.remaining);Q&&(b=Q,this.capture(b))}const M=ge(R),G=ge(b);if(C.hasOwnProperty(M)){let Q=C[M];Array.isArray(Q)||(Q=[Q],C[M]=Q),Q.push(G)}else C[M]=G}parseParens(C){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Xe(this.remaining),M=this.remaining[b.length];if("/"!==M&&")"!==M&&";"!==M)throw new E.vHH(4010,!1);let G;b.indexOf(":")>-1?(G=b.slice(0,b.indexOf(":")),this.capture(G),this.capture(":")):C&&(G=yt);const Q=this.parseChildren();R[G]=1===Object.keys(Q).length?Q[yt]:new Gt([],Q),this.consumeOptional("//")}return R}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new E.vHH(4011,!1)}}function en(w){return w.segments.length>0?new Gt([],{[yt]:w}):w}function Fi(w){const C={};for(const b of Object.keys(w.children)){const G=Fi(w.children[b]);if(b===yt&&0===G.segments.length&&G.hasChildren())for(const[Q,xe]of Object.entries(G.children))C[Q]=xe;else(G.segments.length>0||G.hasChildren())&&(C[b]=G)}return function Dn(w){if(1===w.numberOfChildren&&w.children[yt]){const C=w.children[yt];return new Gt(w.segments.concat(C.segments),C.children)}return w}(new Gt(w.segments,C))}function Pr(w){return w instanceof ys}function Mr(w){var C;let R;const G=en(function b(Q){const xe={};for(const $e of Q.children){const Lt=b($e);xe[$e.outlet]=Lt}const Dt=new Gt(Q.url,xe);return Q===w&&(R=Dt),Dt}(w.root));return null!==(C=R)&&void 0!==C?C:G}function ti(w,C,R,b){let M=w;for(;M.parent;)M=M.parent;if(0===C.length)return Lr(M,M,M,R,b);const G=function Wn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Hr(!0,0,w);let C=0,R=!1;const b=w.reduce((M,G,Q)=>{if("object"==typeof G&&null!=G){if(G.outlets){const xe={};return Object.entries(G.outlets).forEach(([Dt,$e])=>{xe[Dt]="string"==typeof $e?$e.split("/"):$e}),[...M,{outlets:xe}]}if(G.segmentPath)return[...M,G.segmentPath]}return"string"!=typeof G?[...M,G]:0===Q?(G.split("/").forEach((xe,Dt)=>{0==Dt&&"."===xe||(0==Dt&&""===xe?R=!0:".."===xe?C++:""!=xe&&M.push(xe))}),M):[...M,G]},[]);return new Hr(R,C,b)}(C);if(G.toRoot())return Lr(M,M,new Gt([],{}),R,b);const Q=function ws(w,C,R){if(w.isAbsolute)return new Qt(C,!0,0);if(!R)return new Qt(C,!1,NaN);if(null===R.parent)return new Qt(R,!0,0);const b=wi(w.commands[0])?0:1;return function $s(w,C,R){let b=w,M=C,G=R;for(;G>M;){if(G-=M,b=b.parent,!b)throw new E.vHH(4005,!1);M=b.segments.length}return new Qt(b,!1,M-G)}(R,R.segments.length-1+b,w.numberOfDoubleDots)}(G,M,w),xe=Q.processChildren?Br(Q.segmentGroup,Q.index,G.commands):Us(Q.segmentGroup,Q.index,G.commands);return Lr(M,Q.segmentGroup,xe,R,b)}function wi(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Es(w){return"object"==typeof w&&null!=w&&w.outlets}function Lr(w,C,R,b,M){let Q,G={};b&&Object.entries(b).forEach(([Dt,$e])=>{G[Dt]=Array.isArray($e)?$e.map(Lt=>`${Lt}`):`${$e}`}),Q=w===C?R:Vr(w,C,R);const xe=en(Fi(Q));return new ys(xe,G,M)}function Vr(w,C,R){const b={};return Object.entries(w.children).forEach(([M,G])=>{b[M]=G===C?R:Vr(G,C,R)}),new Gt(w.segments,b)}class Hr{constructor(C,R,b){if(this.isAbsolute=C,this.numberOfDoubleDots=R,this.commands=b,C&&b.length>0&&wi(b[0]))throw new E.vHH(4003,!1);const M=b.find(Es);if(M&&M!==er(b))throw new E.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qt{constructor(C,R,b){this.segmentGroup=C,this.processChildren=R,this.index=b}}function Us(w,C,R){if(w||(w=new Gt([],{})),0===w.segments.length&&w.hasChildren())return Br(w,C,R);const b=function Ts(w,C,R){let b=0,M=C;const G={match:!1,pathIndex:0,commandIndex:0};for(;M<w.segments.length;){if(b>=R.length)return G;const Q=w.segments[M],xe=R[b];if(Es(xe))break;const Dt=`${xe}`,$e=b<R.length-1?R[b+1]:null;if(M>0&&void 0===Dt)break;if(Dt&&$e&&"object"==typeof $e&&void 0===$e.outlets){if(!co(Dt,$e,Q))return G;b+=2}else{if(!co(Dt,{},Q))return G;b++}M++}return{match:!0,pathIndex:M,commandIndex:b}}(w,C,R),M=R.slice(b.commandIndex);if(b.match&&b.pathIndex<w.segments.length){const G=new Gt(w.segments.slice(0,b.pathIndex),{});return G.children[yt]=new Gt(w.segments.slice(b.pathIndex),w.children),Br(G,0,M)}return b.match&&0===M.length?new Gt(w.segments,{}):b.match&&!w.hasChildren()?bs(w,C,R):b.match?Br(w,0,M):bs(w,C,R)}function Br(w,C,R){if(0===R.length)return new Gt(w.segments,{});{const b=function uo(w){return Es(w[0])?w[0].outlets:{[yt]:w}}(R),M={};if(Object.keys(b).some(G=>G!==yt)&&w.children[yt]&&1===w.numberOfChildren&&0===w.children[yt].segments.length){const G=Br(w.children[yt],C,R);return new Gt(w.segments,G.children)}return Object.entries(b).forEach(([G,Q])=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(M[G]=Us(w.children[G],C,Q))}),Object.entries(w.children).forEach(([G,Q])=>{void 0===b[G]&&(M[G]=Q)}),new Gt(w.segments,M)}}function bs(w,C,R){const b=w.segments.slice(0,C);let M=0;for(;M<R.length;){const G=R[M];if(Es(G)){const Dt=js(G.outlets);return new Gt(b,Dt)}if(0===M&&wi(R[0])){b.push(new Vs(w.segments[C].path,Ds(R[0]))),M++;continue}const Q=Es(G)?G.outlets[yt]:`${G}`,xe=M<R.length-1?R[M+1]:null;Q&&xe&&wi(xe)?(b.push(new Vs(Q,Ds(xe))),M+=2):(b.push(new Vs(Q,{})),M++)}return new Gt(b,{})}function js(w){const C={};return Object.entries(w).forEach(([R,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(C[R]=bs(new Gt([],{}),0,b))}),C}function Ds(w){const C={};return Object.entries(w).forEach(([R,b])=>C[R]=`${b}`),C}function co(w,C,R){return w==R.path&&Ln(C,R.parameters)}const qr="imperative";class gr{constructor(C,R){this.id=C,this.url=R}}class H extends gr{constructor(C,R,b="imperative",M=null){super(C,R),this.type=0,this.navigationTrigger=b,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class j extends gr{constructor(C,R,b){super(C,R),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class J extends gr{constructor(C,R,b,M){super(C,R),this.reason=b,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class re extends gr{constructor(C,R,b,M){super(C,R),this.reason=b,this.code=M,this.type=16}}class Le extends gr{constructor(C,R,b,M){super(C,R),this.error=b,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Se extends gr{constructor(C,R,b,M){super(C,R),this.urlAfterRedirects=b,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye extends gr{constructor(C,R,b,M){super(C,R),this.urlAfterRedirects=b,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends gr{constructor(C,R,b,M,G){super(C,R),this.urlAfterRedirects=b,this.state=M,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class at extends gr{constructor(C,R,b,M){super(C,R),this.urlAfterRedirects=b,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt extends gr{constructor(C,R,b,M){super(C,R),this.urlAfterRedirects=b,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vn{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tn{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fi{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(C,R,b){this.routerEvent=C,this.position=R,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ti{}class ho{constructor(C){this.url=C}}class wa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fo,this.attachRef=null}}let fo=(()=>{var w;class C{constructor(){this.contexts=new Map}onChildOutletCreated(b,M){const G=this.getOrCreateContext(b);G.outlet=M,this.contexts.set(b,G)}onChildOutletDestroyed(b){const M=this.getContext(b);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let M=this.getContext(b);return M||(M=new wa,this.contexts.set(b,M)),M}getContext(b){return this.contexts.get(b)||null}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();class au{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const R=this.pathFromRoot(C);return R.length>1?R[R.length-2]:null}children(C){const R=oa(C,this._root);return R?R.children.map(b=>b.value):[]}firstChild(C){const R=oa(C,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(C){const R=Ta(C,this._root);return R.length<2?[]:R[R.length-2].children.map(M=>M.value).filter(M=>M!==C)}pathFromRoot(C){return Ta(C,this._root).map(R=>R.value)}}function oa(w,C){if(w===C.value)return C;for(const R of C.children){const b=oa(w,R);if(b)return b}return null}function Ta(w,C){if(w===C.value)return[C];for(const R of C.children){const b=Ta(w,R);if(b.length)return b.unshift(C),b}return[]}class qi{constructor(C,R){this.value=C,this.children=R}toString(){return`TreeNode(${this.value})`}}function Mn(w){const C={};return w&&w.children.forEach(R=>C[R.value.outlet]=R),C}class ni extends au{constructor(C,R){super(C),this.snapshot=R,uu(this,C)}toString(){return this.snapshot.toString()}}function xr(w,C){const R=function Gs(w,C){const Q=new zs([],{},{},"",{},yt,C,null,{});return new aa("",new qi(Q,[]))}(0,C),b=new le.X([new Vs("",{})]),M=new le.X({}),G=new le.X({}),Q=new le.X({}),xe=new le.X(""),Dt=new $r(b,M,Q,xe,G,yt,C,R.root);return Dt.snapshot=R.root,new ni(new qi(Dt,[]),R)}class $r{constructor(C,R,b,M,G,Q,xe,Dt){var $e,Lt;this.urlSubject=C,this.paramsSubject=R,this.queryParamsSubject=b,this.fragmentSubject=M,this.dataSubject=G,this.outlet=Q,this.component=xe,this._futureSnapshot=Dt,this.title=null!==($e=null===(Lt=this.dataSubject)||void 0===Lt?void 0:Lt.pipe((0,st.U)(un=>un[mt])))&&void 0!==$e?$e:(0,_e.of)(void 0),this.url=C,this.params=R,this.queryParams=b,this.fragment=M,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(C=>wn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(C=>wn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $a(w,C="emptyOnly"){const R=w.pathFromRoot;let b=0;if("always"!==C)for(b=R.length-1;b>=1;){const M=R[b],G=R[b-1];if(M.routeConfig&&""===M.routeConfig.path)b--;else{if(G.component)break;b--}}return function Uo(w){return w.reduce((C,R)=>{var b;return{params:{...C.params,...R.params},data:{...C.data,...R.data},resolve:{...R.data,...C.resolve,...null===(b=R.routeConfig)||void 0===b?void 0:b.data,...R._resolvedData}}},{params:{},data:{},resolve:{}})}(R.slice(b))}class zs{get title(){var C;return null===(C=this.data)||void 0===C?void 0:C[mt]}constructor(C,R,b,M,G,Q,xe,Dt,$e){this.url=C,this.params=R,this.queryParams=b,this.fragment=M,this.data=G,this.outlet=Q,this.component=xe,this.routeConfig=Dt,this._resolve=$e}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aa extends au{constructor(C,R){super(R),this.url=C,uu(this,R)}toString(){return tr(this._root)}}function uu(w,C){C.value._routerState=w,C.children.forEach(R=>uu(w,R))}function tr(w){const C=w.children.length>0?` { ${w.children.map(tr).join(", ")} } `:"";return`${w.value}${C}`}function $t(w){if(w.snapshot){const C=w.snapshot,R=w._futureSnapshot;w.snapshot=R,Ln(C.queryParams,R.queryParams)||w.queryParamsSubject.next(R.queryParams),C.fragment!==R.fragment&&w.fragmentSubject.next(R.fragment),Ln(C.params,R.params)||w.paramsSubject.next(R.params),function mn(w,C){if(w.length!==C.length)return!1;for(let R=0;R<w.length;++R)if(!Ln(w[R],C[R]))return!1;return!0}(C.url,R.url)||w.urlSubject.next(R.url),Ln(C.data,R.data)||w.dataSubject.next(R.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function dn(w,C){const R=Ln(w.params,C.params)&&function Ao(w,C){return qn(w,C)&&w.every((R,b)=>Ln(R.parameters,C[b].parameters))}(w.url,C.url);return R&&!(!w.parent!=!C.parent)&&(!w.parent||dn(w.parent,C.parent))}let Jn=(()=>{var w;class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.parentContexts=(0,E.f3M)(fo),this.location=(0,E.f3M)(E.s_b),this.changeDetector=(0,E.f3M)(E.sBO),this.environmentInjector=(0,E.f3M)(E.lqb),this.inputBinder=(0,E.f3M)(Hs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:M,previousValue:G}=b.name;if(M)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var M;return(null===(M=this.parentContexts.getContext(b))||void 0===M?void 0:M.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,M){var G;this.activated=b,this._activatedRoute=M,this.location.insert(b.hostView),null===(G=this.inputBinder)||void 0===G||G.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,M){var G;if(this.isActivated)throw new E.vHH(4013,!1);this._activatedRoute=b;const Q=this.location,Dt=b.snapshot.component,$e=this.parentContexts.getOrCreateContext(this.name).children,Lt=new Li(b,$e,Q.injector);this.activated=Q.createComponent(Dt,{index:Q.length,injector:Lt,environmentInjector:null!=M?M:this.environmentInjector}),this.changeDetector.markForCheck(),null===(G=this.inputBinder)||void 0===G||G.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275dir=E.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[E.TTD]}),C})();class Li{constructor(C,R,b){this.route=C,this.childContexts=R,this.parent=b}get(C,R){return C===$r?this.route:C===fo?this.childContexts:this.parent.get(C,R)}}const Hs=new E.OlP("");let Kn=(()=>{var w;class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var M;null===(M=this.outletDataSubscriptions.get(b))||void 0===M||M.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:M}=b,G=(0,x.a)([M.queryParams,M.params,M.data]).pipe((0,je.w)(([Q,xe,Dt],$e)=>(Dt={...Q,...xe,...Dt},0===$e?(0,_e.of)(Dt):Promise.resolve(Dt)))).subscribe(Q=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(b);const xe=(0,E.qFp)(M.component);if(xe)for(const{templateName:Dt}of xe.inputs)b.activatedComponentRef.setInput(Dt,Q[Dt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,G)}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac}),C})();function mr(w,C,R){if(R&&w.shouldReuseRoute(C.value,R.value.snapshot)){const b=R.value;b._futureSnapshot=C.value;const M=function jo(w,C,R){return C.children.map(b=>{for(const M of R.children)if(w.shouldReuseRoute(b.value,M.value.snapshot))return mr(w,b,M);return mr(w,b)})}(w,C,R);return new qi(b,M)}{if(w.shouldAttach(C.value)){const G=w.retrieve(C.value);if(null!==G){const Q=G.route;return Q.value._futureSnapshot=C.value,Q.children=C.children.map(xe=>mr(w,xe)),Q}}const b=function Go(w){return new $r(new le.X(w.url),new le.X(w.params),new le.X(w.queryParams),new le.X(w.fragment),new le.X(w.data),w.outlet,w.component,w)}(C.value),M=C.children.map(G=>mr(w,G));return new qi(b,M)}}const on="ngNavigationCancelingError";function ua(w,C){const{redirectTo:R,navigationBehaviorOptions:b}=Pr(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,M=os(!1,0,C);return M.url=R,M.navigationBehaviorOptions=b,M}function os(w,C,R){const b=new Error("NavigationCancelingError: "+(w||""));return b[on]=!0,b.cancellationCode=C,R&&(b.url=R),b}function ir(w){return w&&w[on]}let Ro=(()=>{var w;class C{}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275cmp=E.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[E.jDz],decls:1,vars:0,template:function(b,M){1&b&&E._UZ(0,"router-outlet")},dependencies:[Jn],encapsulation:2}),C})();function Vu(w){const C=w.children&&w.children.map(Vu),R=C?{...w,children:C}:{...w};return!R.component&&!R.loadComponent&&(C||R.loadChildren)&&R.outlet&&R.outlet!==yt&&(R.component=Ro),R}function Wi(w){return w.outlet||yt}function pi(w){var C;if(!w)return null;if(null!==(C=w.routeConfig)&&void 0!==C&&C._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const b=R.routeConfig;if(null!=b&&b._loadedInjector)return b._loadedInjector;if(null!=b&&b._injector)return b._injector}return null}class Ga{constructor(C,R,b,M,G){this.routeReuseStrategy=C,this.futureState=R,this.currState=b,this.forwardEvent=M,this.inputBindingEnabled=G}activate(C){const R=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,b,C),$t(this.futureState.root),this.activateChildRoutes(R,b,C)}deactivateChildRoutes(C,R,b){const M=Mn(R);C.children.forEach(G=>{const Q=G.value.outlet;this.deactivateRoutes(G,M[Q],b),delete M[Q]}),Object.values(M).forEach(G=>{this.deactivateRouteAndItsChildren(G,b)})}deactivateRoutes(C,R,b){const M=C.value,G=R?R.value:null;if(M===G)if(M.component){const Q=b.getContext(M.outlet);Q&&this.deactivateChildRoutes(C,R,Q.children)}else this.deactivateChildRoutes(C,R,b);else G&&this.deactivateRouteAndItsChildren(R,b)}deactivateRouteAndItsChildren(C,R){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,R):this.deactivateRouteAndOutlet(C,R)}detachAndStoreRouteSubtree(C,R){const b=R.getContext(C.value.outlet),M=b&&C.value.component?b.children:R,G=Mn(C);for(const Q of Object.keys(G))this.deactivateRouteAndItsChildren(G[Q],M);if(b&&b.outlet){const Q=b.outlet.detach(),xe=b.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:Q,route:C,contexts:xe})}}deactivateRouteAndOutlet(C,R){const b=R.getContext(C.value.outlet),M=b&&C.value.component?b.children:R,G=Mn(C);for(const Q of Object.keys(G))this.deactivateRouteAndItsChildren(G[Q],M);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(C,R,b){const M=Mn(R);C.children.forEach(G=>{this.activateRoutes(G,M[G.value.outlet],b),this.forwardEvent(new fi(G.value.snapshot))}),C.children.length&&this.forwardEvent(new Zn(C.value.snapshot))}activateRoutes(C,R,b){const M=C.value,G=R?R.value:null;if($t(M),M===G)if(M.component){const Q=b.getOrCreateContext(M.outlet);this.activateChildRoutes(C,R,Q.children)}else this.activateChildRoutes(C,R,b);else if(M.component){const Q=b.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const xe=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),Q.children.onOutletReAttached(xe.contexts),Q.attachRef=xe.componentRef,Q.route=xe.route.value,Q.outlet&&Q.outlet.attach(xe.componentRef,xe.route.value),$t(xe.route.value),this.activateChildRoutes(C,null,Q.children)}else{const xe=pi(M.snapshot);Q.attachRef=null,Q.route=M,Q.injector=xe,Q.outlet&&Q.outlet.activateWith(M,Q.injector),this.activateChildRoutes(C,null,Q.children)}}else this.activateChildRoutes(C,null,b)}}class ri{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class fc{constructor(C,R){this.component=C,this.route=R}}function Vi(w,C,R){const b=w._root;return qs(b,C?C._root:null,R,[b.value])}function ba(w,C){const R=Symbol(),b=C.get(w,R);return b===R?"function"!=typeof w||(0,E.Z0I)(w)?C.get(w):w:b}function qs(w,C,R,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const G=Mn(C);return w.children.forEach(Q=>{(function lu(w,C,R,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const G=w.value,Q=C?C.value:null,xe=R?R.getContext(w.value.outlet):null;if(Q&&G.routeConfig===Q.routeConfig){const Dt=function Ws(w,C,R){if("function"==typeof R)return R(w,C);switch(R){case"pathParamsChange":return!qn(w.url,C.url);case"pathParamsOrQueryParamsChange":return!qn(w.url,C.url)||!Ln(w.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dn(w,C)||!Ln(w.queryParams,C.queryParams);default:return!dn(w,C)}}(Q,G,G.routeConfig.runGuardsAndResolvers);Dt?M.canActivateChecks.push(new ri(b)):(G.data=Q.data,G._resolvedData=Q._resolvedData),qs(w,C,G.component?xe?xe.children:null:R,b,M),Dt&&xe&&xe.outlet&&xe.outlet.isActivated&&M.canDeactivateChecks.push(new fc(xe.outlet.component,Q))}else Q&&Bi(C,xe,M),M.canActivateChecks.push(new ri(b)),qs(w,null,G.component?xe?xe.children:null:R,b,M)})(Q,G[Q.value.outlet],R,b.concat([Q.value]),M),delete G[Q.value.outlet]}),Object.entries(G).forEach(([Q,xe])=>Bi(xe,R.getContext(Q),M)),M}function Bi(w,C,R){const b=Mn(w),M=w.value;Object.entries(b).forEach(([G,Q])=>{Bi(Q,M.component?C?C.children.getContext(G):null:C,R)}),R.canDeactivateChecks.push(new fc(M.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,M))}function jt(w){return"function"==typeof w}function Ct(w){return w instanceof Ue||"EmptyError"===(null==w?void 0:w.name)}const y=Symbol("INITIAL_VALUE");function F(){return(0,je.w)(w=>(0,x.a)(w.map(C=>C.pipe(be(1),function it(...w){const C=(0,me.yG)(w);return(0,Oe.e)((R,b)=>{(C?pe(w,R,C):pe(w,R)).subscribe(b)})}(y)))).pipe((0,st.U)(C=>{for(const R of C)if(!0!==R){if(R===y)return y;if(!1===R||R instanceof ys)return R}return!0}),(0,Ae.h)(C=>C!==y),be(1)))}function Ks(w){return(0,Re.z)((0,ve.b)(C=>{if(Pr(C))throw ua(0,C)}),(0,st.U)(C=>!0===C))}class gi{constructor(C){this.segmentGroup=C||null}}class Po{constructor(C){this.urlTree=C}}function mo(w){return ae(new gi(w))}function Wr(w){return ae(new Po(w))}class el{constructor(C,R){this.urlSerializer=C,this.urlTree=R}noMatchError(C){return new E.vHH(4002,!1)}lineralizeSegments(C,R){let b=[],M=R.root;for(;;){if(b=b.concat(M.segments),0===M.numberOfChildren)return(0,_e.of)(b);if(M.numberOfChildren>1||!M.children[yt])return ae(new E.vHH(4e3,!1));M=M.children[yt]}}applyRedirectCommands(C,R,b){return this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),C,b)}applyRedirectCreateUrlTree(C,R,b,M){const G=this.createSegmentGroup(C,R.root,b,M);return new ys(G,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(C,R){const b={};return Object.entries(C).forEach(([M,G])=>{if("string"==typeof G&&G.startsWith(":")){const xe=G.substring(1);b[M]=R[xe]}else b[M]=G}),b}createSegmentGroup(C,R,b,M){const G=this.createSegments(C,R.segments,b,M);let Q={};return Object.entries(R.children).forEach(([xe,Dt])=>{Q[xe]=this.createSegmentGroup(C,Dt,b,M)}),new Gt(G,Q)}createSegments(C,R,b,M){return R.map(G=>G.path.startsWith(":")?this.findPosParam(C,G,M):this.findOrReturn(G,b))}findPosParam(C,R,b){const M=b[R.path.substring(1)];if(!M)throw new E.vHH(4001,!1);return M}findOrReturn(C,R){let b=0;for(const M of R){if(M.path===C.path)return R.splice(b),M;b++}return C}}const td={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mh(w,C,R,b,M){const G=gc(w,C,R);return G.matched?(b=function po(w,C){var R;return w.providers&&!w._injector&&(w._injector=(0,E.MMx)(w.providers,C,`Route: ${w.path}`)),null!==(R=w._injector)&&void 0!==R?R:C}(C,b),function wr(w,C,R,b){const M=C.canMatch;if(!M||0===M.length)return(0,_e.of)(!0);const G=M.map(Q=>{const xe=ba(Q,w);return Cr(function K(w){return w&&jt(w.canMatch)}(xe)?xe.canMatch(C,R):w.runInContext(()=>xe(C,R)))});return(0,_e.of)(G).pipe(F(),Ks())}(b,C,R).pipe((0,st.U)(Q=>!0===Q?G:{...td}))):(0,_e.of)(G)}function gc(w,C,R){var b,M;if(""===C.path)return"full"===C.pathMatch&&(w.hasChildren()||R.length>0)?{...td}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const Q=(C.matcher||Bn)(R,w,C);if(!Q)return{...td};const xe={};Object.entries(null!==(b=Q.posParams)&&void 0!==b?b:{}).forEach(([$e,Lt])=>{xe[$e]=Lt.path});const Dt=Q.consumed.length>0?{...xe,...Q.consumed[Q.consumed.length-1].parameters}:xe;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:R.slice(Q.consumed.length),parameters:Dt,positionalParamSegments:null!==(M=Q.posParams)&&void 0!==M?M:{}}}function mc(w,C,R,b){return R.length>0&&function Bu(w,C,R){return R.some(b=>nl(w,C,b)&&Wi(b)!==yt)}(w,R,b)?{segmentGroup:new Gt(C,_c(b,new Gt(R,w.children))),slicedSegments:[]}:0===R.length&&function nd(w,C,R){return R.some(b=>nl(w,C,b))}(w,R,b)?{segmentGroup:new Gt(w.segments,tl(w,0,R,b,w.children)),slicedSegments:R}:{segmentGroup:new Gt(w.segments,w.children),slicedSegments:R}}function tl(w,C,R,b,M){const G={};for(const Q of b)if(nl(w,R,Q)&&!M[Wi(Q)]){const xe=new Gt([],{});G[Wi(Q)]=xe}return{...M,...G}}function _c(w,C){const R={};R[yt]=C;for(const b of w)if(""===b.path&&Wi(b)!==yt){const M=new Gt([],{});R[Wi(b)]=M}return R}function nl(w,C,R){return(!(w.hasChildren()||C.length>0)||"full"!==R.pathMatch)&&""===R.path}class vc{constructor(C,R,b,M,G,Q,xe){this.injector=C,this.configLoader=R,this.rootComponentType=b,this.config=M,this.urlTree=G,this.paramsInheritanceStrategy=Q,this.urlSerializer=xe,this.allowRedirects=!0,this.applyRedirects=new el(this.urlSerializer,this.urlTree)}noMatchError(C){return new E.vHH(4002,!1)}recognize(){const C=mc(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,yt).pipe(We(R=>{if(R instanceof Po)return this.allowRedirects=!1,this.urlTree=R.urlTree,this.match(R.urlTree);throw R instanceof gi?this.noMatchError(R):R}),(0,st.U)(R=>{const b=new zs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,{}),M=new qi(b,R),G=new aa("",M),Q=function xo(w,C,R=null,b=null){return ti(Mr(w),C,R,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return Q.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(Q),this.inheritParamsAndData(G._root),{state:G,tree:Q}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,yt).pipe(We(b=>{throw b instanceof gi?this.noMatchError(b):b}))}inheritParamsAndData(C){const R=C.value,b=$a(R,this.paramsInheritanceStrategy);R.params=Object.freeze(b.params),R.data=Object.freeze(b.data),C.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(C,R,b,M){return 0===b.segments.length&&b.hasChildren()?this.processChildren(C,R,b):this.processSegment(C,R,b,b.segments,M,!0)}processChildren(C,R,b){const M=[];for(const G of Object.keys(b.children))"primary"===G?M.unshift(G):M.push(G);return(0,De.D)(M).pipe(ue(G=>{const Q=b.children[G],xe=function ja(w,C){const R=w.filter(b=>Wi(b)===C);return R.push(...w.filter(b=>Wi(b)!==C)),R}(R,G);return this.processSegmentGroup(C,xe,Q,G)}),function zt(w,C){return(0,Oe.e)(function Ge(w,C,R,b,M){return(G,Q)=>{let xe=R,Dt=C,$e=0;G.subscribe((0,Me.x)(Q,Lt=>{const un=$e++;Dt=xe?w(Dt,Lt,un):(xe=!0,Lt),b&&Q.next(Dt)},M&&(()=>{xe&&Q.next(Dt),Q.complete()})))}}(w,C,arguments.length>=2,!0))}((G,Q)=>(G.push(...Q),G)),kt(null),function Mt(w,C){const R=arguments.length>=2;return b=>b.pipe(w?(0,Ae.h)((M,G)=>w(M,G,b)):ee.y,Zt(1),R?kt(C):_n(()=>new Ue))}(),(0,gt.z)(G=>{if(null===G)return mo(b);const Q=Ic(G);return function Ep(w){w.sort((C,R)=>C.value.outlet===yt?-1:R.value.outlet===yt?1:C.value.outlet.localeCompare(R.value.outlet))}(Q),(0,_e.of)(Q)}))}processSegment(C,R,b,M,G,Q){return(0,De.D)(R).pipe(ue(xe=>{var Dt;return this.processSegmentAgainstRoute(null!==(Dt=xe._injector)&&void 0!==Dt?Dt:C,R,xe,b,M,G,Q).pipe(We($e=>{if($e instanceof gi)return(0,_e.of)(null);throw $e}))}),te(xe=>!!xe),We(xe=>{if(Ct(xe))return function rd(w,C,R){return 0===C.length&&!w.children[R]}(b,M,G)?(0,_e.of)([]):mo(b);throw xe}))}processSegmentAgainstRoute(C,R,b,M,G,Q,xe){return function yc(w,C,R,b){return!!(Wi(w)===b||b!==yt&&nl(C,R,w))&&("**"===w.path||gc(C,w,R).matched)}(b,M,G,Q)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(C,M,b,G,Q,xe):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,M,R,b,G,Q):mo(M):mo(M)}expandSegmentAgainstRouteUsingRedirect(C,R,b,M,G,Q){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,b,M,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(C,R,b,M,G,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,R,b,M){const G=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Wr(G):this.applyRedirects.lineralizeSegments(b,G).pipe((0,gt.z)(Q=>{const xe=new Gt(Q,{});return this.processSegment(C,R,xe,Q,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,R,b,M,G,Q){const{matched:xe,consumedSegments:Dt,remainingSegments:$e,positionalParamSegments:Lt}=gc(R,M,G);if(!xe)return mo(R);const un=this.applyRedirects.applyRedirectCommands(Dt,M.redirectTo,Lt);return M.redirectTo.startsWith("/")?Wr(un):this.applyRedirects.lineralizeSegments(M,un).pipe((0,gt.z)(sr=>this.processSegment(C,b,R,sr.concat($e),Q,!1)))}matchSegmentAgainstRoute(C,R,b,M,G,Q){let xe;if("**"===b.path){var Dt,$e;const Lt=M.length>0?er(M).parameters:{},un=new zs(M,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ec(b),Wi(b),null!==(Dt=null!==($e=b.component)&&void 0!==$e?$e:b._loadedComponent)&&void 0!==Dt?Dt:null,b,$u(b));xe=(0,_e.of)({snapshot:un,consumedSegments:[],remainingSegments:[]}),R.children={}}else xe=Mh(R,b,M,C).pipe((0,st.U)(({matched:Lt,consumedSegments:un,remainingSegments:sr,parameters:Ci})=>{var ur,Qi;return Lt?{snapshot:new zs(un,Ci,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ec(b),Wi(b),null!==(ur=null!==(Qi=b.component)&&void 0!==Qi?Qi:b._loadedComponent)&&void 0!==ur?ur:null,b,$u(b)),consumedSegments:un,remainingSegments:sr}:null}));return xe.pipe((0,je.w)(Lt=>{var un;return null===Lt?mo(R):(C=null!==(un=b._injector)&&void 0!==un?un:C,this.getChildConfig(C,b,M).pipe((0,je.w)(({routes:sr})=>{var Ci;const ur=null!==(Ci=b._loadedInjector)&&void 0!==Ci?Ci:C,{snapshot:Qi,consumedSegments:fr,remainingSegments:fu}=Lt,{segmentGroup:Ca,slicedSegments:pu}=mc(R,fr,fu,sr);if(0===pu.length&&Ca.hasChildren())return this.processChildren(ur,sr,Ca).pipe((0,st.U)(Xi=>null===Xi?null:[new qi(Qi,Xi)]));if(0===sr.length&&0===pu.length)return(0,_e.of)([new qi(Qi,[])]);const Fp=Wi(b)===G;return this.processSegment(ur,sr,Ca,pu,Fp?yt:G,!0).pipe((0,st.U)(Xi=>[new qi(Qi,Xi)]))})))}))}getChildConfig(C,R,b){return R.children?(0,_e.of)({routes:R.children,injector:C}):R.loadChildren?void 0!==R._loadedRoutes?(0,_e.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function $i(w,C,R,b){const M=C.canLoad;if(void 0===M||0===M.length)return(0,_e.of)(!0);const G=M.map(Q=>{const xe=ba(Q,w);return Cr(function xn(w){return w&&jt(w.canLoad)}(xe)?xe.canLoad(C,R):w.runInContext(()=>xe(C,R)))});return(0,_e.of)(G).pipe(F(),Ks())}(C,R,b).pipe((0,gt.z)(M=>M?this.configLoader.loadChildren(C,R).pipe((0,ve.b)(G=>{R._loadedRoutes=G.routes,R._loadedInjector=G.injector})):function _o(w){return ae(os(!1,3))}())):(0,_e.of)({routes:[],injector:C})}}function kh(w){const C=w.value.routeConfig;return C&&""===C.path}function Ic(w){const C=[],R=new Set;for(const b of w){if(!kh(b)){C.push(b);continue}const M=C.find(G=>b.value.routeConfig===G.value.routeConfig);void 0!==M?(M.children.push(...b.children),R.add(M)):C.push(b)}for(const b of R){const M=Ic(b.children);C.push(new qi(b.value,M))}return C.filter(b=>!R.has(b))}function Ec(w){return w.data||{}}function $u(w){return w.resolve||{}}function se(w){return"string"==typeof w.title||null===w.title}function ct(w){return(0,je.w)(C=>{const R=w(C);return R?(0,De.D)(R).pipe((0,st.U)(()=>C)):(0,_e.of)(C)})}const St=new E.OlP("ROUTES");let Nn=(()=>{var w;class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,E.f3M)(E.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,_e.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const M=Cr(b.loadComponent()).pipe((0,st.U)(zn),(0,ve.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=Q}),Ze(()=>{this.componentLoaders.delete(b)})),G=new Ee(M,()=>new Te.x).pipe(ke());return this.componentLoaders.set(b,G),G}loadChildren(b,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,_e.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const Q=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,st.U)(Dt=>{this.onLoadEndListener&&this.onLoadEndListener(M);let $e,Lt;return Array.isArray(Dt)?Lt=Dt:($e=Dt.create(b).injector,Lt=$e.get(St,[],E.XFs.Self|E.XFs.Optional).flat()),{routes:Lt.map(Vu),injector:$e}}),Ze(()=>{this.childrenLoaders.delete(M)})),xe=new Ee(Q,()=>new Te.x).pipe(ke());return this.childrenLoaders.set(M,xe),xe}loadModuleFactoryOrRoutes(b){return Cr(b()).pipe((0,st.U)(zn),(0,gt.z)(M=>M instanceof E.YKP||Array.isArray(M)?(0,_e.of)(M):(0,De.D)(this.compiler.compileModuleAsync(M))))}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();function zn(w){return function Yn(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Rn=(()=>{var w;class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te.x,this.transitionAbortSubject=new Te.x,this.configLoader=(0,E.f3M)(Nn),this.environmentInjector=(0,E.f3M)(E.lqb),this.urlSerializer=(0,E.f3M)(is),this.rootContexts=(0,E.f3M)(fo),this.inputBindingEnabled=null!==(0,E.f3M)(Hs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new vn(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Wt(G))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var M;const G=++this.navigationId;null===(M=this.transitions)||void 0===M||M.next({...this.transitions.value,...b,id:G})}setupNavigations(b,M,G){return this.transitions=new le.X({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:b.urlHandlingStrategy.extract(M),urlAfterRedirects:b.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qr,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ae.h)(Q=>0!==Q.id),(0,st.U)(Q=>({...Q,extractedUrl:b.urlHandlingStrategy.extract(Q.rawUrl)})),(0,je.w)(Q=>{this.currentTransition=Q;let xe=!1,Dt=!1;return(0,_e.of)(Q).pipe((0,ve.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,je.w)($e=>{var Lt;const un=$e.currentBrowserUrl.toString(),sr=!b.navigated||$e.extractedUrl.toString()!==un||un!==$e.currentUrlTree.toString(),Ci=null!==(Lt=$e.extras.onSameUrlNavigation)&&void 0!==Lt?Lt:b.onSameUrlNavigation;if(!sr&&"reload"!==Ci){const ur="";return this.events.next(new re($e.id,this.urlSerializer.serialize($e.rawUrl),ur,0)),$e.resolve(null),qe.E}if(b.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,_e.of)($e).pipe((0,je.w)(ur=>{var Qi,fr;const fu=null===(Qi=this.transitions)||void 0===Qi?void 0:Qi.getValue();return this.events.next(new H(ur.id,this.urlSerializer.serialize(ur.extractedUrl),ur.source,ur.restoredState)),fu!==(null===(fr=this.transitions)||void 0===fr?void 0:fr.getValue())?qe.E:Promise.resolve(ur)}),function b_(w,C,R,b,M,G){return(0,gt.z)(Q=>function za(w,C,R,b,M,G,Q="emptyOnly"){return new vc(w,C,R,b,M,Q,G).recognize()}(w,C,R,b,Q.extractedUrl,M,G).pipe((0,st.U)(({state:xe,tree:Dt})=>({...Q,targetSnapshot:xe,urlAfterRedirects:Dt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,ve.b)(ur=>{Q.targetSnapshot=ur.targetSnapshot,Q.urlAfterRedirects=ur.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ur.urlAfterRedirects};const Qi=new Se(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(Qi)}));if(sr&&b.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:ur,extractedUrl:Qi,source:fr,restoredState:fu,extras:Ca}=$e,pu=new H(ur,this.urlSerializer.serialize(Qi),fr,fu);this.events.next(pu);const Fp=xr(0,this.rootComponentType).snapshot;return this.currentTransition=Q={...$e,targetSnapshot:Fp,urlAfterRedirects:Qi,extras:{...Ca,skipLocationChange:!1,replaceUrl:!1}},(0,_e.of)(Q)}{const ur="";return this.events.next(new re($e.id,this.urlSerializer.serialize($e.extractedUrl),ur,1)),$e.resolve(null),qe.E}}),(0,ve.b)($e=>{const Lt=new Ye($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Lt)}),(0,st.U)($e=>(this.currentTransition=Q={...$e,guards:Vi($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},Q)),function v(w,C){return(0,gt.z)(R=>{const{targetSnapshot:b,currentSnapshot:M,guards:{canActivateChecks:G,canDeactivateChecks:Q}}=R;return 0===Q.length&&0===G.length?(0,_e.of)({...R,guardsResult:!0}):function N(w,C,R,b){return(0,De.D)(w).pipe((0,gt.z)(M=>function nr(w,C,R,b,M){const G=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,_e.of)(!0);const Q=G.map(xe=>{var Dt;const $e=null!==(Dt=pi(C))&&void 0!==Dt?Dt:M,Lt=ba(xe,$e);return Cr(function P(w){return w&&jt(w.canDeactivate)}(Lt)?Lt.canDeactivate(w,C,R,b):$e.runInContext(()=>Lt(w,C,R,b))).pipe(te())});return(0,_e.of)(Q).pipe(F())}(M.component,M.route,R,C,b)),te(M=>!0!==M,!0))}(Q,b,M,w).pipe((0,gt.z)(xe=>xe&&function kr(w){return"boolean"==typeof w}(xe)?function W(w,C,R,b){return(0,De.D)(C).pipe(ue(M=>pe(function Vt(w,C){return null!==w&&C&&C(new Tn(w)),(0,_e.of)(!0)}(M.route.parent,b),function ot(w,C){return null!==w&&C&&C(new hi(w)),(0,_e.of)(!0)}(M.route,b),function hn(w,C,R){const b=C[C.length-1],G=C.slice(0,C.length-1).reverse().map(Q=>function Ki(w){const C=w.routeConfig?w.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:w,guards:C}:null}(Q)).filter(Q=>null!==Q).map(Q=>ft(()=>{const xe=Q.guards.map(Dt=>{var $e;const Lt=null!==($e=pi(Q.node))&&void 0!==$e?$e:R,un=ba(Dt,Lt);return Cr(function V(w){return w&&jt(w.canActivateChild)}(un)?un.canActivateChild(b,w):Lt.runInContext(()=>un(b,w))).pipe(te())});return(0,_e.of)(xe).pipe(F())}));return(0,_e.of)(G).pipe(F())}(w,M.path,R),function qt(w,C,R){const b=C.routeConfig?C.routeConfig.canActivate:null;if(!b||0===b.length)return(0,_e.of)(!0);const M=b.map(G=>ft(()=>{var Q;const xe=null!==(Q=pi(C))&&void 0!==Q?Q:R,Dt=ba(G,xe);return Cr(function pc(w){return w&&jt(w.canActivate)}(Dt)?Dt.canActivate(C,w):xe.runInContext(()=>Dt(C,w))).pipe(te())}));return(0,_e.of)(M).pipe(F())}(w,M.route,R))),te(M=>!0!==M,!0))}(b,G,w,C):(0,_e.of)(xe)),(0,st.U)(xe=>({...R,guardsResult:xe})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,ve.b)($e=>{if(Q.guardsResult=$e.guardsResult,Pr($e.guardsResult))throw ua(0,$e.guardsResult);const Lt=new _t($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(Lt)}),(0,Ae.h)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",3),!1)),ct($e=>{if($e.guards.canActivateChecks.length)return(0,_e.of)($e).pipe((0,ve.b)(Lt=>{const un=new at(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(un)}),(0,je.w)(Lt=>{let un=!1;return(0,_e.of)(Lt).pipe(function D(w,C){return(0,gt.z)(R=>{const{targetSnapshot:b,guards:{canActivateChecks:M}}=R;if(!M.length)return(0,_e.of)(R);let G=0;return(0,De.D)(M).pipe(ue(Q=>function L(w,C,R,b){const M=w.routeConfig,G=w._resolve;return void 0!==(null==M?void 0:M.title)&&!se(M)&&(G[mt]=M.title),function ne(w,C,R,b){const M=function k(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===M.length)return(0,_e.of)({});const G={};return(0,De.D)(M).pipe((0,gt.z)(Q=>function Y(w,C,R,b){var M;const G=null!==(M=pi(C))&&void 0!==M?M:b,Q=ba(w,G);return Cr(Q.resolve?Q.resolve(C,R):G.runInContext(()=>Q(C,R)))}(w[Q],C,R,b).pipe(te(),(0,ve.b)(xe=>{G[Q]=xe}))),Zt(1),function ce(w){return(0,st.U)(()=>w)}(G),We(Q=>Ct(Q)?qe.E:ae(Q)))}(G,w,C,b).pipe((0,st.U)(Q=>(w._resolvedData=Q,w.data=$a(w,R).resolve,M&&se(M)&&(w.data[mt]=M.title),null)))}(Q.route,b,w,C)),(0,ve.b)(()=>G++),Zt(1),(0,gt.z)(Q=>G===M.length?(0,_e.of)(R):qe.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,ve.b)({next:()=>un=!0,complete:()=>{un||this.cancelNavigationTransition(Lt,"",2)}}))}),(0,ve.b)(Lt=>{const un=new vt(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(un)}))}),ct($e=>{const Lt=un=>{var sr;const Ci=[];null!==(sr=un.routeConfig)&&void 0!==sr&&sr.loadComponent&&!un.routeConfig._loadedComponent&&Ci.push(this.configLoader.loadComponent(un.routeConfig).pipe((0,ve.b)(ur=>{un.component=ur}),(0,st.U)(()=>{})));for(const ur of un.children)Ci.push(...Lt(ur));return Ci};return(0,x.a)(Lt($e.targetSnapshot.root)).pipe(kt(),be(1))}),ct(()=>this.afterPreactivation()),(0,st.U)($e=>{const Lt=function ss(w,C,R){const b=mr(w,C._root,R?R._root:void 0);return new ni(b,C)}(b.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=Q={...$e,targetRouterState:Lt},Q}),(0,ve.b)(()=>{this.events.next(new Ti)}),((w,C,R,b)=>(0,st.U)(M=>(new Ga(C,M.targetRouterState,M.currentRouterState,R,b).activate(w),M)))(this.rootContexts,b.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),be(1),(0,ve.b)({next:$e=>{var Lt;xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new j($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),null===(Lt=b.titleStrategy)||void 0===Lt||Lt.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{xe=!0}}),function ht(w){return(0,Oe.e)((C,R)=>{(0,Pe.Xf)(w).subscribe((0,Me.x)(R,()=>R.complete(),lt.Z)),!R.closed&&C.subscribe(R)})}(this.transitionAbortSubject.pipe((0,ve.b)($e=>{throw $e}))),Ze(()=>{var $e;xe||Dt||this.cancelNavigationTransition(Q,"",1),(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.id)===Q.id&&(this.currentNavigation=null)}),We($e=>{if(Dt=!0,ir($e))this.events.next(new J(Q.id,this.urlSerializer.serialize(Q.extractedUrl),$e.message,$e.cancellationCode)),function Cs(w){return ir(w)&&Pr(w.url)}($e)?this.events.next(new ho($e.url)):Q.resolve(!1);else{var Lt;this.events.next(new Le(Q.id,this.urlSerializer.serialize(Q.extractedUrl),$e,null!==(Lt=Q.targetSnapshot)&&void 0!==Lt?Lt:void 0));try{Q.resolve(b.errorHandler($e))}catch(un){Q.reject(un)}}return qe.E}))}))}cancelNavigationTransition(b,M,G){const Q=new J(b.id,this.urlSerializer.serialize(b.extractedUrl),M,G);this.events.next(Q),b.resolve(!1)}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();function Nr(w){return w!==qr}let hr=(()=>{var w;class C{buildTitle(b){let M,G=b.root;for(;void 0!==G;){var Q;M=null!==(Q=this.getResolvedTitleForRoute(G))&&void 0!==Q?Q:M,G=G.children.find(xe=>xe.outlet===yt)}return M}getResolvedTitleForRoute(b){return b.data[mt]}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:function(){return(0,E.f3M)(ui)},providedIn:"root"}),C})(),ui=(()=>{var w;class C extends hr{constructor(b){super(),this.title=b}updateTitle(b){const M=this.buildTitle(b);void 0!==M&&this.title.setTitle(M)}}return(w=C).\u0275fac=function(b){return new(b||w)(E.LFG(Rt.Dx))},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})(),Ho=(()=>{var w;class C{}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:function(){return(0,E.f3M)(ii)},providedIn:"root"}),C})();class Ur{shouldDetach(C){return!1}store(C,R){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,R){return C.routeConfig===R.routeConfig}}let ii=(()=>{var w;class C extends Ur{}return(w=C).\u0275fac=function(){let R;return function(M){return(R||(R=E.n5z(w)))(M||w)}}(),w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();const Di=new E.OlP("",{providedIn:"root",factory:()=>({})});let la=(()=>{var w;class C{}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:function(){return(0,E.f3M)(du)},providedIn:"root"}),C})(),du=(()=>{var w;class C{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,M){return b}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();var da=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(da||{});function Tp(w,C){w.events.pipe((0,Ae.h)(R=>R instanceof j||R instanceof J||R instanceof Le||R instanceof re),(0,st.U)(R=>R instanceof j||R instanceof re?da.COMPLETE:R instanceof J&&(0===R.code||1===R.code)?da.REDIRECTING:da.FAILED),(0,Ae.h)(R=>R!==da.REDIRECTING),be(1)).subscribe(()=>{C()})}function bp(w){throw w}function VI(w,C,R){return C.parse("/")}const Dp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{var w;class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var b,M;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(b=null===(M=this.location.getState())||void 0===M?void 0:M.\u0275routerPageId)&&void 0!==b?b:this.currentPageId}get events(){return this._events}constructor(){var b,M;this.disposed=!1,this.currentPageId=0,this.console=(0,E.f3M)(E.c2e),this.isNgZoneEnabled=!1,this._events=new Te.x,this.options=(0,E.f3M)(Di,{optional:!0})||{},this.pendingTasks=(0,E.f3M)(E.HDt),this.errorHandler=this.options.errorHandler||bp,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||VI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,E.f3M)(la),this.routeReuseStrategy=(0,E.f3M)(Ho),this.titleStrategy=(0,E.f3M)(hr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(b=null===(M=(0,E.f3M)(St,{optional:!0}))||void 0===M?void 0:M.flat())&&void 0!==b?b:[],this.navigationTransitions=(0,E.f3M)(Rn),this.urlSerializer=(0,E.f3M)(is),this.location=(0,E.f3M)(Ce.Ye),this.componentInputBindingEnabled=!!(0,E.f3M)(Hs,{optional:!0}),this.eventsSubscription=new tt.w0,this.isNgZoneEnabled=(0,E.f3M)(E.R0b)instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ys,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(G=>{this.lastSuccessfulId=G.id,this.currentPageId=this.browserPageId},G=>{this.console.warn(`Unhandled Navigation Error: ${G}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(id(M)&&this._events.next(M));if(M instanceof H)Nr(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(M instanceof re)this.rawUrlTree=G.rawUrl;else if(M instanceof Se){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(Q,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(M instanceof Ti)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(M instanceof J)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory(G);else if(M instanceof ho){const Q=this.urlHandlingStrategy.merge(M.url,G.currentRawUrl),xe={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nr(G.source)};this.scheduleNavigation(Q,qr,null,xe,{resolve:G.resolve,reject:G.reject,promise:G.promise})}M instanceof Le&&this.restoreHistory(G,!0),M instanceof j&&(this.navigated=!0),id(M)&&this._events.next(M)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qr,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const M="popstate"===b.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,M,b.state)},0)}))}navigateToSyncWithBrowser(b,M,G){const Q={replaceUrl:!0},xe=null!=G&&G.navigationId?G:null;if(G){const $e={...G};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(Q.state=$e)}const Dt=this.parseUrl(b);this.scheduleNavigation(Dt,M,xe,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Vu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,M={}){const{relativeTo:G,queryParams:Q,fragment:xe,queryParamsHandling:Dt,preserveFragment:$e}=M,Lt=$e?this.currentUrlTree.fragment:xe;let sr,un=null;switch(Dt){case"merge":un={...this.currentUrlTree.queryParams,...Q};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=Q||null}null!==un&&(un=this.removeEmptyProps(un));try{sr=Mr(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),sr=this.currentUrlTree.root}return ti(sr,b,un,null!=Lt?Lt:null)}navigateByUrl(b,M={skipLocationChange:!1}){const G=Pr(b)?b:this.parseUrl(b),Q=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(Q,qr,null,M)}navigate(b,M={skipLocationChange:!1}){return function rl(w){for(let C=0;C<w.length;C++)if(null==w[C])throw new E.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,M),M)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let M;try{M=this.urlSerializer.parse(b)}catch(G){M=this.malformedUriErrorHandler(G,this.urlSerializer,b)}return M}isActive(b,M){let G;if(G=!0===M?{...Dp}:!1===M?{...BI}:M,Pr(b))return di(this.currentUrlTree,b,G);const Q=this.parseUrl(b);return di(this.currentUrlTree,Q,G)}removeEmptyProps(b){return Object.keys(b).reduce((M,G)=>{const Q=b[G];return null!=Q&&(M[G]=Q),M},{})}scheduleNavigation(b,M,G,Q,xe){if(this.disposed)return Promise.resolve(!1);let Dt,$e,Lt;xe?(Dt=xe.resolve,$e=xe.reject,Lt=xe.promise):Lt=new Promise((sr,Ci)=>{Dt=sr,$e=Ci});const un=this.pendingTasks.add();return Tp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(un))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:Q,resolve:Dt,reject:$e,promise:Lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Lt.catch(sr=>Promise.reject(sr))}setBrowserUrl(b,M){const G=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(G)||M.extras.replaceUrl){const xe={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(G,"",xe)}else{const Q={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(G,"",Q)}}restoreHistory(b,M=!1){if("computed"===this.canceledNavigationResolution){var G;const xe=this.currentPageId-this.browserPageId;0!==xe?this.location.historyGo(xe):this.currentUrlTree===(null===(G=this.getCurrentNavigation())||void 0===G?void 0:G.finalUrl)&&0===xe&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,M){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:M}:{navigationId:b}}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();function id(w){return!(w instanceof Ti||w instanceof ho)}let Tr=(()=>{var w;class C{constructor(b,M,G,Q,xe,Dt){var $e;this.router=b,this.route=M,this.tabIndexAttribute=G,this.renderer=Q,this.el=xe,this.locationStrategy=Dt,this.href=null,this.commands=null,this.onChanges=new Te.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Lt=null===($e=xe.nativeElement.tagName)||void 0===$e?void 0:$e.toLowerCase();this.isAnchorElement="a"===Lt||"area"===Lt,this.isAnchorElement?this.subscription=b.events.subscribe(un=>{un instanceof j&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,M,G,Q,xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||M||G||Q||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;this.href=null!==this.urlTree&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,E.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(b,M){const G=this.renderer,Q=this.el.nativeElement;null!==M?G.setAttribute(Q,b,M):G.removeAttribute(Q,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(w=C).\u0275fac=function(b){return new(b||w)(E.Y36(Kr),E.Y36($r),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(Ce.S$))},w.\u0275dir=E.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,M){1&b&&E.NdJ("click",function(Q){return M.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&b&&E.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",E.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",E.VuI],replaceUrl:["replaceUrl","replaceUrl",E.VuI],routerLink:"routerLink"},standalone:!0,features:[E.Xq5,E.TTD]}),C})();class Ss{}let Ap=(()=>{var w;class C{preload(b,M){return M().pipe(We(()=>(0,_e.of)(null)))}}return(w=C).\u0275fac=function(b){return new(b||w)},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})(),il=(()=>{var w;class C{constructor(b,M,G,Q,xe){this.router=b,this.injector=G,this.preloadingStrategy=Q,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(b=>b instanceof j),ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,M){const G=[];for(const $e of M){var Q,xe;$e.providers&&!$e._injector&&($e._injector=(0,E.MMx)($e.providers,b,`Route: ${$e.path}`));const Lt=null!==(Q=$e._injector)&&void 0!==Q?Q:b,un=null!==(xe=$e._loadedInjector)&&void 0!==xe?xe:Lt;var Dt;($e.loadChildren&&!$e._loadedRoutes&&void 0===$e.canLoad||$e.loadComponent&&!$e._loadedComponent)&&G.push(this.preloadConfig(Lt,$e)),($e.children||$e._loadedRoutes)&&G.push(this.processRoutes(un,null!==(Dt=$e.children)&&void 0!==Dt?Dt:$e._loadedRoutes))}return(0,De.D)(G).pipe((0,fe.J)())}preloadConfig(b,M){return this.preloadingStrategy.preload(M,()=>{let G;G=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(b,M):(0,_e.of)(null);const Q=G.pipe((0,gt.z)(xe=>{var Dt;return null===xe?(0,_e.of)(void 0):(M._loadedRoutes=xe.routes,M._loadedInjector=xe.injector,this.processRoutes(null!==(Dt=xe.injector)&&void 0!==Dt?Dt:b,xe.routes))}));if(M.loadComponent&&!M._loadedComponent){const xe=this.loader.loadComponent(M);return(0,De.D)([Q,xe]).pipe((0,fe.J)())}return Q})}}return(w=C).\u0275fac=function(b){return new(b||w)(E.LFG(Kr),E.LFG(E.Sil),E.LFG(E.lqb),E.LFG(Ss),E.LFG(Nn))},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),C})();const Yi=new E.OlP("");let Sp=(()=>{var w;class C{constructor(b,M,G,Q,xe={}){this.urlSerializer=b,this.transitions=M,this.viewportScroller=G,this.zone=Q,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration=xe.scrollPositionRestoration||"disabled",xe.anchorScrolling=xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof H?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof j?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof re&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof lo&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lo(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){var b,M;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(M=this.scrollEventsSubscription)||void 0===M||M.unsubscribe()}}return(w=C).\u0275fac=function(b){E.$Z()},w.\u0275prov=E.Yz7({token:w,factory:w.\u0275fac}),C})();function Zi(w,C){return{\u0275kind:w,\u0275providers:C}}function Rp(){const w=(0,E.f3M)(E.zs3);return C=>{var R,b;const M=w.get(E.z2F);if(C!==M.components[0])return;const G=w.get(Kr),Q=w.get(Uu);1===w.get(bn)&&G.initialNavigation(),null===(R=w.get(Pp,null,E.XFs.Optional))||void 0===R||R.setUpPreloading(),null===(b=w.get(Yi,null,E.XFs.Optional))||void 0===b||b.init(),G.resetRootComponentType(M.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const Uu=new E.OlP("",{factory:()=>new Te.x}),bn=new E.OlP("",{providedIn:"root",factory:()=>1}),Pp=new E.OlP("");function yo(w){return Zi(0,[{provide:Pp,useExisting:il},{provide:Ss,useExisting:w}])}const kp=new E.OlP("ROUTER_FORROOT_GUARD"),R_=[Ce.Ye,{provide:is,useClass:ki},Kr,fo,{provide:$r,useFactory:function xp(w){return w.routerState.root},deps:[Kr]},Nn,[]];function It(){return new E.PXZ("Router",Kr)}let rr=(()=>{var w;class C{constructor(b){}static forRoot(b,M){return{ngModule:C,providers:[R_,[],{provide:St,multi:!0,useValue:b},{provide:kp,useFactory:ol,deps:[[Kr,new E.FiY,new E.tp0]]},{provide:Di,useValue:M||{}},null!=M&&M.useHash?{provide:Ce.S$,useClass:Ce.Do}:{provide:Ce.S$,useClass:Ce.b0},{provide:Yi,useFactory:()=>{const w=(0,E.f3M)(Ce.EM),C=(0,E.f3M)(E.R0b),R=(0,E.f3M)(Di),b=(0,E.f3M)(Rn),M=(0,E.f3M)(is);return R.scrollOffset&&w.setOffset(R.scrollOffset),new Sp(M,b,w,C,R)}},null!=M&&M.preloadingStrategy?yo(M.preloadingStrategy).\u0275providers:[],{provide:E.PXZ,multi:!0,useFactory:It},null!=M&&M.initialNavigation?al(M):[],null!=M&&M.bindToComponentInputs?Zi(8,[Kn,{provide:Hs,useExisting:Kn}]).\u0275providers:[],[{provide:Da,useFactory:Rp},{provide:E.tb,multi:!0,useExisting:Da}]]}}static forChild(b){return{ngModule:C,providers:[{provide:St,multi:!0,useValue:b}]}}}return(w=C).\u0275fac=function(b){return new(b||w)(E.LFG(kp,8))},w.\u0275mod=E.oAB({type:w}),w.\u0275inj=E.cJS({}),C})();function ol(w){return"guarded"}function al(w){return["disabled"===w.initialNavigation?Zi(3,[{provide:E.ip1,multi:!0,useFactory:()=>{const C=(0,E.f3M)(Kr);return()=>{C.setUpLocationChangeListener()}}},{provide:bn,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Zi(2,[{provide:bn,useValue:0},{provide:E.ip1,multi:!0,deps:[E.zs3],useFactory:C=>{const R=C.get(Ce.V_,Promise.resolve());return()=>R.then(()=>new Promise(b=>{const M=C.get(Kr),G=C.get(Uu);Tp(M,()=>{b(!0)}),C.get(Rn).afterPreactivation=()=>(b(!0),G.closed?(0,_e.of)(void 0):G),M.initialNavigation()}))}}]).\u0275providers:[]]}const Da=new E.OlP("")},7027:(rn,rt,z)=>{"use strict";z.d(rt,{dr:()=>Ao,W2:()=>bt,Gu:()=>Is,gu:()=>en,Q$:()=>Hr,jP:()=>bi,yq:()=>hi,ZU:()=>fi,UN:()=>as,wd:()=>ou,sr:()=>au,Pc:()=>X,r4:()=>V});var E=z(5861),m=z(6689),de=z(95),ie=z(7582),De=z(4829),_e=z(5592),le=z(1631),x=z(4266),Ne=z(4674),Ue=z(7400);const fe=["addListener","removeListener"],we=["addEventListener","removeEventListener"],me=["on","off"];function pe(y,F,v,N){if((0,Ne.m)(v)&&(N=v,v=void 0),N)return pe(y,F,v).pipe((0,Ue.Z)(N));const[W,ot]=function ae(y){return(0,Ne.m)(y.addEventListener)&&(0,Ne.m)(y.removeEventListener)}(y)?we.map(Vt=>qt=>y[Vt](F,qt,v)):function ft(y){return(0,Ne.m)(y.addListener)&&(0,Ne.m)(y.removeListener)}(y)?fe.map(Pe(y,F)):function Re(y){return(0,Ne.m)(y.on)&&(0,Ne.m)(y.off)}(y)?me.map(Pe(y,F)):[];if(!W&&(0,x.z)(y))return(0,le.z)(Vt=>pe(Vt,F,v))((0,De.Xf)(y));if(!W)throw new TypeError("Invalid event target");return new _e.y(Vt=>{const qt=(...hn)=>Vt.next(1<hn.length?hn:hn[0]);return W(qt),()=>ot(qt)})}function Pe(y,F){return v=>N=>y[v](F,N)}var qe=z(8645),tt=z(5619),Oe=z(2572),Me=z(2096),ke=z(9599),je=(z(1774),z(2650),z(1904),z(9203),z(2085)),be=z(839),it=z(3365),Ae=z(1651),kt=(z(5662),z(1647)),ee=(z(6225),z(619),z(1688)),ue=z(2181),ve=z(4664),We=z(3997),Ge=z(6814);const Zt=je.i,ce=["*"],Ze=["outlet"],lt=["tabsInner"],ht=[[["","slot","top"]],"*"],Rt=["[slot=top]","*"],En=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),Ar=(y,F)=>{const v=y.prototype;F.forEach(N=>{Object.defineProperty(v,N,{get(){return this.el[N]},set(W){this.z.runOutsideAngular(()=>this.el[N]=W)}})})},Qr=(y,F)=>{const v=y.prototype;F.forEach(N=>{v[N]=function(){const W=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,W))}})},ln=(y,F,v)=>{v.forEach(N=>y[N]=pe(F,N))};function et(y){return function(v){const{defineCustomElementFn:N,inputs:W,methods:ot}=y;return void 0!==N&&N(),W&&Ar(v,W),ot&&Qr(v,ot),v}}let Ao=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({})],y),y})(),bt=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement,ln(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),Is=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["collapse","mode","translucent"]})],y),y})(),en=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),Hr=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","mode","position"]})],y),y})(),hi=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","mode","selectedTab","translucent"]})],y),y})(),fi=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],y),y})(),ou=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","size"]})],y),y})(),au=(()=>{let y=class{constructor(v,N,W){this.z=W,v.detach(),this.el=N.nativeElement}};return y.\u0275fac=function(v){return new(v||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(v,N){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,ie.gn)([et({inputs:["color","mode"]})],y),y})(),oa=(()=>{class y{get(v,N){const W=qi();return W?W.get(v,N):null}getBoolean(v,N){const W=qi();return!!W&&W.getBoolean(v,N)}getNumber(v,N){const W=qi();return W?W.getNumber(v,N):0}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ta=new m.OlP("USERCONFIG"),qi=()=>{if(typeof window<"u"){const y=window.Ionic;if(null!=y&&y.config)return y.config}return null};let Mn=(()=>{class y{constructor(v,N){this.doc=v,this.backButton=new qe.x,this.keyboardDidShow=new qe.x,this.keyboardDidHide=new qe.x,this.pause=new qe.x,this.resume=new qe.x,this.resize=new qe.x,N.run(()=>{var W;let ot;this.win=v.defaultView,this.backButton.subscribeWithPriority=function(Vt,qt){return this.subscribe(hn=>hn.register(Vt,nr=>N.run(()=>qt(nr))))},xr(this.pause,v,"pause"),xr(this.resume,v,"resume"),xr(this.backButton,v,"ionBackButton"),xr(this.resize,this.win,"resize"),xr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),xr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Vt=>{ot=Vt}),null!==(W=this.win)&&void 0!==W&&W.cordova?v.addEventListener("deviceready",()=>{ot("cordova")},{once:!0}):ot("dom")})}is(v){return(0,je.a)(this.win,v)}platforms(){return(0,je.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(v){return ni(this.win.location.href,v)}isLandscape(){return!this.isPortrait()}isPortrait(){var v,N;return null===(v=(N=this.win).matchMedia)||void 0===v?void 0:v.call(N,"(orientation: portrait)").matches}testUserAgent(v){const N=this.win.navigator;return!!(null!=N&&N.userAgent&&N.userAgent.indexOf(v)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(v){return new(v||y)(m.LFG(Ge.K0),m.LFG(m.R0b))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ni=(y,F)=>{F=F.replace(/[[\]\\]/g,"\\$&");const N=new RegExp("[\\?&]"+F+"=([^&#]*)").exec(y);return N?decodeURIComponent(N[1].replace(/\+/g," ")):null},xr=(y,F,v)=>{F&&F.addEventListener(v,N=>{y.next(null!=N?N.detail:void 0)})};let Gs=(()=>{class y{constructor(v,N,W,ot){this.location=N,this.serializer=W,this.router=ot,this.direction=$a,this.animated=Uo,this.guessDirection="forward",this.lastNavId=-1,ot&&ot.events.subscribe(Vt=>{if(Vt instanceof ke.OD){const qt=Vt.restoredState?Vt.restoredState.navigationId:Vt.id;this.guessDirection=qt<this.lastNavId?"back":"forward",this.guessAnimation=Vt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Vt.id:qt}}),v.backButton.subscribeWithPriority(0,Vt=>{this.pop(),Vt()})}navigateForward(v,N={}){return this.setDirection("forward",N.animated,N.animationDirection,N.animation),this.navigate(v,N)}navigateBack(v,N={}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.navigate(v,N)}navigateRoot(v,N={}){return this.setDirection("root",N.animated,N.animationDirection,N.animation),this.navigate(v,N)}back(v={animated:!0,animationDirection:"back"}){return this.setDirection("back",v.animated,v.animationDirection,v.animation),this.location.back()}pop(){var v=this;return(0,E.Z)(function*(){let N=v.topOutlet;for(;N;){if(yield N.pop())return!0;N=N.parentOutlet}return!1})()}setDirection(v,N,W,ot){this.direction=v,this.animated=$r(v,N,W),this.animationBuilder=ot}setTopOutlet(v){this.topOutlet=v}consumeTransition(){let N,v="root";const W=this.animationBuilder;return"auto"===this.direction?(v=this.guessDirection,N=this.guessAnimation):(N=this.animated,v=this.direction),this.direction=$a,this.animated=Uo,this.animationBuilder=void 0,{direction:v,animation:N,animationBuilder:W}}navigate(v,N){if(Array.isArray(v))return this.router.navigate(v,N);{const W=this.serializer.parse(v.toString());return void 0!==N.queryParams&&(W.queryParams={...N.queryParams}),void 0!==N.fragment&&(W.fragment=N.fragment),this.router.navigateByUrl(W,N)}}}return y.\u0275fac=function(v){return new(v||y)(m.LFG(Mn),m.LFG(Ge.Ye),m.LFG(ke.Hx),m.LFG(ke.F0,8))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const $r=(y,F,v)=>{if(!1!==F){if(void 0!==v)return v;if("forward"===y||"back"===y)return y;if("root"===y&&!0===F)return"forward"}},$a="auto",Uo=void 0;class zs{constructor(F={}){this.data=F}get(F){return this.data[F]}}let aa=(()=>{class y{constructor(){this.zone=(0,m.f3M)(m.R0b),this.applicationRef=(0,m.f3M)(m.z2F)}create(v,N,W){return new uu(v,N,this.applicationRef,this.zone,W)}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})();class uu{constructor(F,v,N,W,ot){this.environmentInjector=F,this.injector=v,this.applicationRef=N,this.zone=W,this.elementReferenceKey=ot,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(F,v,N,W){return this.zone.run(()=>new Promise(ot=>{const Vt={...N};void 0!==this.elementReferenceKey&&(Vt[this.elementReferenceKey]=F),ot(tr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,F,v,Vt,W,this.elementReferenceKey))}))}removeViewFromDom(F,v){return this.zone.run(()=>new Promise(N=>{const W=this.elRefMap.get(v);if(W){W.destroy(),this.elRefMap.delete(v);const ot=this.elEventsMap.get(v);ot&&(ot(),this.elEventsMap.delete(v))}N()}))}}const tr=(y,F,v,N,W,ot,Vt,qt,hn,nr,$i)=>{const Ks=m.zs3.create({providers:Li(hn),parent:v}),wr=(0,m.LMc)(qt,{environmentInjector:F,elementInjector:Ks}),gi=wr.instance,Po=wr.location.nativeElement;if(hn&&($i&&void 0!==gi[$i]&&console.error(`[Ionic Error]: ${$i} is a reserved property when using ${Vt.tagName.toLowerCase()}. Rename or remove the "${$i}" property from ${qt.name}.`),Object.assign(gi,hn)),nr)for(const Wr of nr)Po.classList.add(Wr);const mo=dn(y,gi,Po);return Vt.appendChild(Po),N.attachView(wr.hostView),W.set(Po,wr),ot.set(Po,mo),Po},$t=[Ae.L,Ae.a,Ae.b,Ae.c,Ae.d],dn=(y,F,v)=>y.run(()=>{const N=$t.filter(W=>"function"==typeof F[W]).map(W=>{const ot=Vt=>F[W](Vt.detail);return v.addEventListener(W,ot),()=>v.removeEventListener(W,ot)});return()=>N.forEach(W=>W())}),Jn=new m.OlP("NavParamsToken"),Li=y=>[{provide:Jn,useValue:y},{provide:zs,useFactory:Hs,deps:[Jn]}],Hs=y=>new zs(y),ss=(y,F)=>((y=y.filter(v=>v.stackId!==F.stackId)).push(F),y),Go=(y,F)=>{const v=y.createUrlTree(["."],{relativeTo:F});return y.serializeUrl(v)},on=(y,F)=>!F||y.stackId!==F.stackId,ua=(y,F)=>{if(!y)return;const v=os(F);for(let N=0;N<v.length;N++){if(N>=y.length)return v[N];if(v[N]!==y[N])return}},os=y=>y.split("/").map(F=>F.trim()).filter(F=>""!==F),Cs=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class ir{constructor(F,v,N,W,ot,Vt){this.containerEl=v,this.router=N,this.navCtrl=W,this.zone=ot,this.location=Vt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==F?os(F):void 0}createView(F,v){var N;const W=Go(this.router,v),ot=null==F||null===(N=F.location)||void 0===N?void 0:N.nativeElement,Vt=dn(this.zone,F.instance,ot);return{id:this.nextId++,stackId:ua(this.tabsPrefix,W),unlistenEvents:Vt,element:ot,ref:F,url:W}}getExistingView(F){const v=Go(this.router,F),N=this.views.find(W=>W.url===v);return N&&N.ref.changeDetectorRef.reattach(),N}setActive(F){var v,N;const W=this.navCtrl.consumeTransition();let{direction:ot,animation:Vt,animationBuilder:qt}=W;const hn=this.activeView,nr=on(F,hn);nr&&(ot="back",Vt=void 0);const $i=this.views.slice();let Ks;const wr=this.router;wr.getCurrentNavigation?Ks=wr.getCurrentNavigation():null!==(v=wr.navigations)&&void 0!==v&&v.value&&(Ks=wr.navigations.value),null!==(N=Ks)&&void 0!==N&&null!==(N=N.extras)&&void 0!==N&&N.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const gi=this.views.includes(F),Po=this.insertView(F,ot);gi||F.ref.changeDetectorRef.detectChanges();const mo=F.animationBuilder;return void 0===qt&&"back"===ot&&!nr&&void 0!==mo&&(qt=mo),hn&&(hn.animationBuilder=qt),this.zone.runOutsideAngular(()=>this.wait(()=>(hn&&hn.ref.changeDetectorRef.detach(),F.ref.changeDetectorRef.reattach(),this.transition(F,hn,Vt,this.canGoBack(1),!1,qt).then(()=>Ro(F,Po,$i,this.location,this.zone)).then(()=>({enteringView:F,direction:ot,animation:Vt,tabSwitch:nr})))))}canGoBack(F,v=this.getActiveStackId()){return this.getStack(v).length>F}pop(F,v=this.getActiveStackId()){return this.zone.run(()=>{const N=this.getStack(v);if(N.length<=F)return Promise.resolve(!1);const W=N[N.length-F-1];let ot=W.url;const Vt=W.savedData;if(Vt){var qt;const nr=Vt.get("primary");null!=nr&&null!==(qt=nr.route)&&void 0!==qt&&null!==(qt=qt._routerState)&&void 0!==qt&&qt.snapshot.url&&(ot=nr.route._routerState.snapshot.url)}const{animationBuilder:hn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ot,{...W.savedExtras,animation:hn}).then(()=>!0)})}startBackTransition(){const F=this.activeView;if(F){const v=this.getStack(F.stackId),N=v[v.length-2],W=N.animationBuilder;return this.wait(()=>this.transition(N,F,"back",this.canGoBack(2),!0,W))}return Promise.resolve()}endBackTransition(F){F?(this.skipTransition=!0,this.pop(1)):this.activeView&&po(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(F){const v=this.getStack(F);return v.length>0?v[v.length-1]:void 0}getRootUrl(F){const v=this.getStack(F);return v.length>0?v[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Cs),this.activeView=void 0,this.views=[]}getStack(F){return this.views.filter(v=>v.stackId===F)}insertView(F,v){return this.activeView=F,this.views=((y,F,v)=>"root"===v?ss(y,F):"forward"===v?((y,F)=>(y.indexOf(F)>=0?y=y.filter(N=>N.stackId!==F.stackId||N.id<=F.id):y.push(F),y))(y,F):((y,F)=>y.indexOf(F)>=0?y.filter(N=>N.stackId!==F.stackId||N.id<=F.id):ss(y,F))(y,F))(this.views,F,v),this.views.slice()}transition(F,v,N,W,ot,Vt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(v===F)return Promise.resolve(!1);const qt=F?F.element:void 0,hn=v?v.element:void 0,nr=this.containerEl;return qt&&qt!==hn&&(qt.classList.add("ion-page"),qt.classList.add("ion-page-invisible"),qt.parentElement!==nr&&nr.appendChild(qt),nr.commit)?nr.commit(qt,hn,{duration:void 0===N?0:void 0,direction:N,showGoBack:W,progressAnimation:ot,animationBuilder:Vt}):Promise.resolve(!1)}wait(F){var v=this;return(0,E.Z)(function*(){void 0!==v.runningTask&&(yield v.runningTask,v.runningTask=void 0);const N=v.runningTask=F();return N.finally(()=>v.runningTask=void 0),N})()}}const Ro=(y,F,v,N,W)=>"function"==typeof requestAnimationFrame?new Promise(ot=>{requestAnimationFrame(()=>{po(y,F,v,N,W),ot()})}):Promise.resolve(),po=(y,F,v,N,W)=>{W.run(()=>v.filter(ot=>!F.includes(ot)).forEach(Cs)),F.forEach(ot=>{const qt=N.path().split("?")[0].split("#")[0];if(ot!==y&&ot.url!==qt){const hn=ot.element;hn.setAttribute("aria-hidden","true"),hn.classList.add("ion-page-hidden"),ot.ref.changeDetectorRef.detach()}})};let bi=(()=>{class y{constructor(v,N,W,ot,Vt,qt,hn,nr){this.parentOutlet=nr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new tt.X(null),this.activated=null,this._activatedRoute=null,this.name=ke.eC,this.stackWillChange=new m.vpe,this.stackDidChange=new m.vpe,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.parentContexts=(0,m.f3M)(ke.y6),this.location=(0,m.f3M)(m.s_b),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(cu,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,m.f3M)(oa),this.navCtrl=(0,m.f3M)(Gs),this.nativeEl=ot.nativeElement,this.name=v||ke.eC,this.tabsPrefix="true"===N?Go(Vt,hn):void 0,this.stackCtrl=new ir(this.tabsPrefix,this.nativeEl,Vt,this.navCtrl,qt,W),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(v){this.nativeEl.animation=v}set animated(v){this.nativeEl.animated=v}set swipeGesture(v){this._swipeGesture=v,this.nativeEl.swipeHandler=v?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:N=>this.stackCtrl.endBackTransition(N)}:void 0}ngOnDestroy(){var v;this.stackCtrl.destroy(),null===(v=this.inputBinder)||void 0===v||v.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const v=this.getContext();null!=v&&v.route&&this.activateWith(v.route,v.injector)}new Promise(v=>(0,be.c)(this.nativeEl,v)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(v,N){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const N=this.getContext();this.activatedView.savedData=new Map(N.children.contexts);const W=this.activatedView.savedData.get("primary");if(W&&N.route&&(W.route={...N.route}),this.activatedView.savedExtras={},N.route){const ot=N.route.snapshot;this.activatedView.savedExtras.queryParams=ot.queryParams,this.activatedView.savedExtras.fragment=ot.fragment}}const v=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,N){var W;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;let ot,Vt=this.stackCtrl.getExistingView(v);if(Vt){ot=this.activated=Vt.ref;const nr=Vt.savedData;nr&&(this.getContext().children.contexts=nr),this.updateActivatedRouteProxy(ot.instance,v)}else{var qt;const nr=v._futureSnapshot,$i=this.parentContexts.getOrCreateContext(this.name).children,Ks=new tt.X(null),wr=this.createActivatedRouteProxy(Ks,v),gi=new _r(wr,$i,this.location.injector),Po=null!==(qt=nr.routeConfig.component)&&void 0!==qt?qt:nr.component;ot=this.activated=this.location.createComponent(Po,{index:this.location.length,injector:gi,environmentInjector:null!=N?N:this.environmentInjector}),Ks.next(ot.instance),Vt=this.stackCtrl.createView(this.activated,v),this.proxyMap.set(ot.instance,wr),this.currentActivatedRoute$.next({component:ot.instance,activatedRoute:v})}null===(W=this.inputBinder)||void 0===W||W.bindActivatedRouteToOutletComponent(this),this.activatedView=Vt,this.navCtrl.setTopOutlet(this);const hn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Vt,tabSwitch:on(Vt,hn)}),this.stackCtrl.setActive(Vt).then(nr=>{this.activateEvents.emit(ot.instance),this.stackDidChange.emit(nr)})}canGoBack(v=1,N){return this.stackCtrl.canGoBack(v,N)}pop(v=1,N){return this.stackCtrl.pop(v,N)}getLastUrl(v){const N=this.stackCtrl.getLastUrl(v);return N?N.url:void 0}getLastRouteView(v){return this.stackCtrl.getLastUrl(v)}getRootView(v){return this.stackCtrl.getRootUrl(v)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(v,N){const W=new ke.gz;return W._futureSnapshot=N._futureSnapshot,W._routerState=N._routerState,W.snapshot=N.snapshot,W.outlet=N.outlet,W.component=N.component,W._paramMap=this.proxyObservable(v,"paramMap"),W._queryParamMap=this.proxyObservable(v,"queryParamMap"),W.url=this.proxyObservable(v,"url"),W.params=this.proxyObservable(v,"params"),W.queryParams=this.proxyObservable(v,"queryParams"),W.fragment=this.proxyObservable(v,"fragment"),W.data=this.proxyObservable(v,"data"),W}proxyObservable(v,N){return v.pipe((0,ue.h)(W=>!!W),(0,ve.w)(W=>this.currentActivatedRoute$.pipe((0,ue.h)(ot=>null!==ot&&ot.component===W),(0,ve.w)(ot=>ot&&ot.activatedRoute[N]),(0,We.x)())))}updateActivatedRouteProxy(v,N){const W=this.proxyMap.get(v);if(!W)throw new Error("Could not find activated route proxy for view");W._futureSnapshot=N._futureSnapshot,W._routerState=N._routerState,W.snapshot=N.snapshot,W.outlet=N.outlet,W.component=N.component,this.currentActivatedRoute$.next({component:v,activatedRoute:N})}}return y.\u0275fac=function(v){return new(v||y)(m.$8M("name"),m.$8M("tabs"),m.Y36(Ge.Ye),m.Y36(m.SBq),m.Y36(ke.F0),m.Y36(m.R0b),m.Y36(ke.gz),m.Y36(y,12))},y.\u0275dir=m.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class _r{constructor(F,v,N){this.route=F,this.childContexts=v,this.parent=N}get(F,v){return F===ke.gz?this.route:F===ke.y6?this.childContexts:this.parent.get(F,v)}}const cu=new m.OlP("");let As=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){var N;null===(N=this.outletDataSubscriptions.get(v))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:N}=v,W=(0,Oe.a)([N.queryParams,N.params,N.data]).pipe((0,ve.w)(([ot,Vt,qt],hn)=>(qt={...ot,...Vt,...qt},0===hn?(0,Me.of)(qt):Promise.resolve(qt)))).subscribe(ot=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(v);const Vt=(0,m.qFp)(N.component);if(Vt)for(const{templateName:qt}of Vt.inputs)v.activatedComponentRef.setInput(qt,ot[qt]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,W)}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})(),as=(()=>{class y{constructor(v){this.navCtrl=v,this.ionTabsWillChange=new m.vpe,this.ionTabsDidChange=new m.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:v,tabSwitch:N}){const W=v.stackId;N&&void 0!==W&&this.ionTabsWillChange.emit({tab:W})}onStackDidChange({enteringView:v,tabSwitch:N}){const W=v.stackId;N&&void 0!==W&&(this.tabBar&&(this.tabBar.selectedTab=W),this.ionTabsDidChange.emit({tab:W}))}select(v){const N="string"==typeof v,W=N?v:v.detail.tab,ot=this.outlet.getActiveStackId()===W,Vt=`${this.outlet.tabsPrefix}/${W}`;if(N||v.stopPropagation(),ot){const qt=this.outlet.getActiveStackId(),hn=this.outlet.getLastRouteView(qt);if((null==hn?void 0:hn.url)===Vt)return;const nr=this.outlet.getRootView(W);return this.navCtrl.navigateRoot(Vt,{...nr&&Vt===nr.url&&nr.savedExtras,animated:!0,animationDirection:"back"})}{const qt=this.outlet.getLastRouteView(W);return this.navCtrl.navigateRoot((null==qt?void 0:qt.url)||Vt,{...null==qt?void 0:qt.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(v=>{const N=v.el.getAttribute("slot");N!==this.tabBarSlot&&(this.tabBarSlot=N,this.relocateTabBar())})}relocateTabBar(){const v=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(v):this.tabsInner.nativeElement.after(v)}}return y.\u0275fac=function(v){return new(v||y)(m.Y36(Gs))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-tabs"]],contentQueries:function(v,N,W){if(1&v&&(m.Suo(W,hi,5),m.Suo(W,hi,4)),2&v){let ot;m.iGM(ot=m.CRH())&&(N.tabBar=ot.first),m.iGM(ot=m.CRH())&&(N.tabBars=ot)}},viewQuery:function(v,N){if(1&v&&(m.Gf(Ze,5,bi),m.Gf(lt,7,m.SBq)),2&v){let W;m.iGM(W=m.CRH())&&(N.outlet=W.first),m.iGM(W=m.CRH())&&(N.tabsInner=W.first)}},hostBindings:function(v,N){1&v&&m.NdJ("ionTabButtonClick",function(ot){return N.select(ot)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Rt,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(v,N){1&v&&(m.F$t(ht),m.Hsn(0),m.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),m.NdJ("stackWillChange",function(ot){return N.onStackWillChange(ot)})("stackDidChange",function(ot){return N.onStackDidChange(ot)}),m.qZA()(),m.Hsn(5,1))},dependencies:[bi],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),y})();const pi={provide:de.Cf,useExisting:(0,m.Gpc)(()=>ca),multi:!0};let ca=(()=>{class y extends de.Fd{}return y.\u0275fac=function(){let F;return function(N){return(F||(F=m.n5z(y)))(N||y)}}(),y.\u0275dir=m.lG2({type:y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(v,N){2&v&&m.uIk("max",N._enabled?N.max:null)},features:[m._Bn([pi]),m.qOj]}),y})();const zo={provide:de.Cf,useExisting:(0,m.Gpc)(()=>Ga),multi:!0};let Ga=(()=>{class y extends de.qQ{}return y.\u0275fac=function(){let F;return function(N){return(F||(F=m.n5z(y)))(N||y)}}(),y.\u0275dir=m.lG2({type:y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(v,N){2&v&&m.uIk("min",N._enabled?N.min:null)},features:[m._Bn([zo]),m.qOj]}),y})();class ri{constructor(F){this.ctrl=F}create(F){return this.ctrl.create(F||{})}dismiss(F,v,N){return this.ctrl.dismiss(F,v,N)}getTop(){return this.ctrl.getTop()}}let lu=(()=>{class y extends ri{constructor(){super(kt.m),this.angularDelegate=(0,m.f3M)(aa),this.injector=(0,m.f3M)(m.zs3),this.environmentInjector=(0,m.f3M)(m.lqb)}create(v){return super.create({...v,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})(),Ws=(()=>{class y extends ri{constructor(){super(kt.c),this.angularDelegate=(0,m.f3M)(aa),this.injector=(0,m.f3M)(m.zs3),this.environmentInjector=(0,m.f3M)(m.lqb)}create(v){return super.create({...v,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})();class V{shouldDetach(F){return!1}shouldAttach(F){return!1}store(F,v){}retrieve(F){return null}shouldReuseRoute(F,v){if(F.routeConfig!==v.routeConfig)return!1;const N=F.params,W=v.params,ot=Object.keys(N),Vt=Object.keys(W);if(ot.length!==Vt.length)return!1;for(const qt of ot)if(W[qt]!==N[qt])return!1;return!0}}const P=(y,F,v)=>()=>{if(F.defaultView&&typeof window<"u"){(0,it.s)({...y,_zoneGate:ot=>v.run(ot)});const W="__zone_symbol__addEventListener"in F.body?"__zone_symbol__addEventListener":"addEventListener";return function zt(){var y=[];if(typeof window<"u"){var F=window;(!F.customElements||F.Element&&(!F.Element.prototype.closest||!F.Element.prototype.matches||!F.Element.prototype.remove||!F.Element.prototype.getRootNode))&&y.push(z.e(6748).then(z.t.bind(z,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||F.NodeList&&!F.NodeList.prototype.forEach||!F.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(z.e(2214).then(z.t.bind(z,2668,23)))}return Promise.all(y)}().then(()=>((y,F)=>{if(!(typeof window>"u"))return Zt(),(0,ee.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),F)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:En,jmp:ot=>v.runOutsideAngular(ot),ael(ot,Vt,qt,hn){ot[W](Vt,qt,hn)},rel(ot,Vt,qt,hn){ot.removeEventListener(Vt,qt,hn)}}))}};let X=(()=>{class y{static forRoot(v){return{ngModule:y,providers:[{provide:Ta,useValue:v},{provide:m.ip1,useFactory:P,multi:!0,deps:[Ta,Ge.K0,m.R0b]},{provide:cu,useFactory:Ct,deps:[ke.F0]}]}}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275mod=m.oAB({type:y}),y.\u0275inj=m.cJS({providers:[aa,lu,Ws],imports:[Ge.ez]}),y})();function Ct(y){return null!=y&&y.componentInputBindingEnabled?new As:null}},5861:(rn,rt,z)=>{"use strict";function E(de,ie,De,_e,le,x,Ne){try{var Ue=de[x](Ne),fe=Ue.value}catch(we){return void De(we)}Ue.done?ie(fe):Promise.resolve(fe).then(_e,le)}function m(de){return function(){var ie=this,De=arguments;return new Promise(function(_e,le){var x=de.apply(ie,De);function Ne(fe){E(x,_e,le,Ne,Ue,"next",fe)}function Ue(fe){E(x,_e,le,Ne,Ue,"throw",fe)}Ne(void 0)})}}z.d(rt,{Z:()=>m})},7582:(rn,rt,z)=>{"use strict";function ie(ee,te){var ue={};for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&te.indexOf(ve)<0&&(ue[ve]=ee[ve]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ve=Object.getOwnPropertySymbols(ee);We<ve.length;We++)te.indexOf(ve[We])<0&&Object.prototype.propertyIsEnumerable.call(ee,ve[We])&&(ue[ve[We]]=ee[ve[We]])}return ue}function De(ee,te,ue,ve){var zt,We=arguments.length,Ge=We<3?te:null===ve?ve=Object.getOwnPropertyDescriptor(te,ue):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ge=Reflect.decorate(ee,te,ue,ve);else for(var Zt=ee.length-1;Zt>=0;Zt--)(zt=ee[Zt])&&(Ge=(We<3?zt(Ge):We>3?zt(te,ue,Ge):zt(te,ue))||Ge);return We>3&&Ge&&Object.defineProperty(te,ue,Ge),Ge}function we(ee,te,ue,ve){return new(ue||(ue=Promise))(function(Ge,zt){function Zt(Ze){try{ce(ve.next(Ze))}catch(lt){zt(lt)}}function Mt(Ze){try{ce(ve.throw(Ze))}catch(lt){zt(lt)}}function ce(Ze){Ze.done?Ge(Ze.value):function We(Ge){return Ge instanceof ue?Ge:new ue(function(zt){zt(Ge)})}(Ze.value).then(Zt,Mt)}ce((ve=ve.apply(ee,te||[])).next())})}function Oe(ee){return this instanceof Oe?(this.v=ee,this):new Oe(ee)}function Me(ee,te,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,ve=ue.apply(ee,te||[]),Ge=[];return We={},zt("next"),zt("throw"),zt("return"),We[Symbol.asyncIterator]=function(){return this},We;function zt(ht){ve[ht]&&(We[ht]=function(Rt){return new Promise(function(yt,mt){Ge.push([ht,Rt,yt,mt])>1||Zt(ht,Rt)})})}function Zt(ht,Rt){try{!function Mt(ht){ht.value instanceof Oe?Promise.resolve(ht.value.v).then(ce,Ze):lt(Ge[0][2],ht)}(ve[ht](Rt))}catch(yt){lt(Ge[0][3],yt)}}function ce(ht){Zt("next",ht)}function Ze(ht){Zt("throw",ht)}function lt(ht,Rt){ht(Rt),Ge.shift(),Ge.length&&Zt(Ge[0][0],Ge[0][1])}}function Ee(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,te=ee[Symbol.asyncIterator];return te?te.call(ee):(ee=function ft(ee){var te="function"==typeof Symbol&&Symbol.iterator,ue=te&&ee[te],ve=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ve>=ee.length&&(ee=void 0),{value:ee&&ee[ve++],done:!ee}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ue={},ve("next"),ve("throw"),ve("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function ve(Ge){ue[Ge]=ee[Ge]&&function(zt){return new Promise(function(Zt,Mt){!function We(Ge,zt,Zt,Mt){Promise.resolve(Mt).then(function(ce){Ge({value:ce,done:Zt})},zt)}(Zt,Mt,(zt=ee[Ge](zt)).done,zt.value)})}}}z.d(rt,{FC:()=>Me,KL:()=>Ee,_T:()=>ie,gn:()=>De,mG:()=>we,qq:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=6939)}]);