(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{5776:(vn,pt,Z)=>{"use strict";Z.d(pt,{u7:()=>_b,Jj:()=>Gu,IX:()=>gE,my:()=>fs,xU:()=>Tl,Lz:()=>Il,WA:()=>Vt,F8:()=>Ud,$q:()=>fg,W:()=>wl,EK:()=>Xe,PU:()=>Fv,l7:()=>vu,Ky:()=>Xt,Xb:()=>sr,Cf:()=>Br,K9:()=>qg,Me:()=>Iy,yq:()=>_r,Wi:()=>sb,ET:()=>dA,Ab:()=>Sb,vr:()=>LE,Fc:()=>cb,hJ:()=>rA,B$:()=>iA,at:()=>pE,oe:()=>RE,AK:()=>Bv,TF:()=>ju,JU:()=>eg,ST:()=>ab,fH:()=>aA,Ix:()=>cA,Wu:()=>Rv,Lx:()=>SE,qY:()=>Ns,GL:()=>qd,QT:()=>Hd,kl:()=>pg,Xk:()=>vb,PL:()=>Ib,UQ:()=>gg,zN:()=>kv,ad:()=>oA,nP:()=>xb,b9:()=>DE,vh:()=>h_,Pb:()=>lA,L$:()=>lb,cf:()=>Nv,sc:()=>hA,Xo:()=>If,IO:()=>yf,iE:()=>uf,Eo:()=>ob,i3:()=>Vv,Bt:()=>$v,pl:()=>g_,Ub:()=>uc,qK:()=>uA,TQ:()=>AE,e0:()=>CE,r7:()=>Eb,Mx:()=>l_,ar:()=>vf});var De,b=Z(5861),E=Z(4303),Ye=Z(4537),_e=Z(7879),ke=Z(9058),Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L={},ze=ze||{},pe=Ve||self;function de(l){var i=typeof l;return"array"==(i="object"!=i?i:l?Array.isArray(l)?"array":i:"null")||"object"==i&&"number"==typeof l.length}function ve(l){var i=typeof l;return"object"==i&&null!=l||"function"==i}var Re="closure_uid_"+(1e9*Math.random()>>>0),je=0;function at(l,i,o){return l.call.apply(l.bind,arguments)}function We(l,i,o){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,d),l.apply(i,p)}}return function(){return l.apply(i,arguments)}}function Ee(l,i,o){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:We).apply(null,arguments)}function ot(l,i){var o=Array.prototype.slice.call(arguments,1);return function(){var d=o.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function ht(l,i){function o(){}o.prototype=i.prototype,l.$=i.prototype,l.prototype=new o,l.prototype.constructor=l,l.ac=function(d,p,_){for(var I=Array(arguments.length-2),k=2;k<arguments.length;k++)I[k-2]=arguments[k];return i.prototype[p].apply(d,I)}}function et(){this.s=this.s,this.o=this.o}et.prototype.s=!1,et.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function J(l){Object.prototype.hasOwnProperty.call(l,Re)&&l[Re]||(l[Re]=++je)}(this)},et.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ze=Array.prototype.indexOf?function(l,i){return Array.prototype.indexOf.call(l,i,void 0)}:function(l,i){if("string"==typeof l)return"string"!=typeof i||1!=i.length?-1:l.indexOf(i,0);for(let o=0;o<l.length;o++)if(o in l&&l[o]===i)return o;return-1};function Le(l){const i=l.length;if(0<i){const o=Array(i);for(let d=0;d<i;d++)o[d]=l[d];return o}return[]}function Ne(l,i){for(let o=1;o<arguments.length;o++){const d=arguments[o];if(de(d)){const p=l.length||0,_=d.length||0;l.length=p+_;for(let I=0;I<_;I++)l[p+I]=d[I]}else l.push(d)}}function we(l,i){this.type=l,this.g=this.target=i,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var l=!1,i=Object.defineProperty({},"passive",{get:function(){l=!0}});try{pe.addEventListener("test",()=>{},i),pe.removeEventListener("test",()=>{},i)}catch{}return l}();function qe(l){return/^[\s\xa0]*$/.test(l)}function ct(){var l=pe.navigator;return l&&(l=l.userAgent)?l:""}function Ht(l){return-1!=ct().indexOf(l)}function Tt(l){return Tt[" "](l),l}Tt[" "]=function(){};var nt,l,Tn=Ht("Opera"),_n=Ht("Trident")||Ht("MSIE"),It=Ht("Edge"),me=It||_n,Te=Ht("Gecko")&&!(-1!=ct().toLowerCase().indexOf("webkit")&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),Pe=-1!=ct().toLowerCase().indexOf("webkit")&&!Ht("Edge");function Me(){var l=pe.document;return l?l.documentMode:void 0}e:{var tt="",Qt=(l=ct(),Te?/rv:([^\);]+)(\)|;)/.exec(l):It?/Edge\/([\d\.]+)/.exec(l):_n?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Pe?/WebKit\/(\S+)/.exec(l):Tn?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Qt&&(tt=Qt?Qt[1]:""),_n){var ln=Me();if(null!=ln&&ln>parseFloat(tt)){nt=String(ln);break e}}nt=tt}var Mn=pe.document&&_n&&(Me()||parseInt(nt,10))||void 0;function Jn(l,i){if(we.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var o=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=i,i=l.relatedTarget){if(Te){e:{try{Tt(i.nodeName);var p=!0;break e}catch{}p=!1}p||(i=null)}}else"mouseover"==o?i=l.fromElement:"mouseout"==o&&(i=l.toElement);this.relatedTarget=i,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:en[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Jn.$.h.call(this)}}ht(Jn,we);var en={2:"touch",3:"pen",4:"mouse"};Jn.prototype.h=function(){Jn.$.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function $e(l,i,o,d,p){this.listener=l,this.proxy=null,this.src=i,this.type=o,this.capture=!!d,this.la=p,this.key=++Ke,this.fa=this.ia=!1}function Ut(l){l.fa=!0,l.listener=null,l.proxy=null,l.src=null,l.la=null}function fn(l,i,o){for(const d in l)i.call(o,l[d],d,l)}function on(l){const i={};for(const o in l)i[o]=l[o];return i}const Bn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $n(l,i){let o,d;for(let p=1;p<arguments.length;p++){for(o in d=arguments[p],d)l[o]=d[o];for(let _=0;_<Bn.length;_++)o=Bn[_],Object.prototype.hasOwnProperty.call(d,o)&&(l[o]=d[o])}}function Xn(l){this.src=l,this.g={},this.h=0}function zn(l,i){var o=i.type;if(o in l.g){var _,d=l.g[o],p=Ze(d,i);(_=0<=p)&&Array.prototype.splice.call(d,p,1),_&&(Ut(i),0==l.g[o].length&&(delete l.g[o],l.h--))}}function xn(l,i,o,d){for(var p=0;p<l.length;++p){var _=l[p];if(!_.fa&&_.listener==i&&_.capture==!!o&&_.la==d)return p}return-1}Xn.prototype.add=function(l,i,o,d,p){var _=l.toString();(l=this.g[_])||(l=this.g[_]=[],this.h++);var I=xn(l,i,d,p);return-1<I?(i=l[I],o||(i.ia=!1)):((i=new $e(i,this.src,_,!!d,p)).ia=o,l.push(i)),i};var In="closure_lm_"+(1e6*Math.random()|0),Or={};function Ur(l,i,o,d,p){if(d&&d.once)return fr(l,i,o,d,p);if(Array.isArray(i)){for(var _=0;_<i.length;_++)Ur(l,i[_],o,d,p);return null}return o=wr(o),l&&l[mt]?l.O(i,o,ve(d)?!!d.capture:!!d,p):qr(l,i,o,!1,d,p)}function qr(l,i,o,d,p,_){if(!i)throw Error("Invalid event type");var I=ve(p)?!!p.capture:!!p,k=Ei(l);if(k||(l[In]=k=new Xn(l)),(o=k.add(i,o,d,I,_)).proxy)return o;if(d=function Ln(){const i=sn;return function l(o){return i.call(l.src,l.listener,o)}}(),o.proxy=d,d.src=l,d.listener=o,l.addEventListener)Ge||(p=I),void 0===p&&(p=!1),l.addEventListener(i.toString(),d,p);else if(l.attachEvent)l.attachEvent(Ji(i.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return o}function fr(l,i,o,d,p){if(Array.isArray(i)){for(var _=0;_<i.length;_++)fr(l,i[_],o,d,p);return null}return o=wr(o),l&&l[mt]?l.P(i,o,ve(d)?!!d.capture:!!d,p):qr(l,i,o,!0,d,p)}function bt(l,i,o,d,p){if(Array.isArray(i))for(var _=0;_<i.length;_++)bt(l,i[_],o,d,p);else d=ve(d)?!!d.capture:!!d,o=wr(o),l&&l[mt]?(l=l.i,(i=String(i).toString())in l.g&&-1<(o=xn(_=l.g[i],o,d,p))&&(Ut(_[o]),Array.prototype.splice.call(_,o,1),0==_.length&&(delete l.g[i],l.h--))):l&&(l=Ei(l))&&(i=l.g[i.toString()],l=-1,i&&(l=xn(i,o,d,p)),(o=-1<l?i[l]:null)&&gr(o))}function gr(l){if("number"!=typeof l&&l&&!l.fa){var i=l.src;if(i&&i[mt])zn(i.i,l);else{var o=l.type,d=l.proxy;i.removeEventListener?i.removeEventListener(o,d,l.capture):i.detachEvent?i.detachEvent(Ji(o),d):i.addListener&&i.removeListener&&i.removeListener(d),(o=Ei(i))?(zn(o,l),0==o.h&&(o.src=null,i[In]=null)):Ut(l)}}}function Ji(l){return l in Or?Or[l]:Or[l]="on"+l}function sn(l,i){if(l.fa)l=!0;else{i=new Jn(i,this);var o=l.listener,d=l.la||l.src;l.ia&&gr(l),l=o.call(d,i)}return l}function Ei(l){return(l=l[In])instanceof Xn?l:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function wr(l){return"function"==typeof l?l:(l[es]||(l[es]=function(i){return l.handleEvent(i)}),l[es])}function Lr(){et.call(this),this.i=new Xn(this),this.S=this,this.J=null}function Sr(l,i){var o,d=l.J;if(d)for(o=[];d;d=d.J)o.push(d);if(l=l.S,d=i.type||i,"string"==typeof i)i=new we(i,l);else if(i instanceof we)i.target=i.target||l;else{var p=i;$n(i=new we(d,l),p)}if(p=!0,o)for(var _=o.length-1;0<=_;_--){var I=i.g=o[_];p=gn(I,d,!0,i)&&p}if(p=gn(I=i.g=l,d,!0,i)&&p,p=gn(I,d,!1,i)&&p,o)for(_=0;_<o.length;_++)p=gn(I=i.g=o[_],d,!1,i)&&p}function gn(l,i,o,d){if(!(i=l.i.g[String(i)]))return!0;i=i.concat();for(var p=!0,_=0;_<i.length;++_){var I=i[_];if(I&&!I.fa&&I.capture==o){var k=I.listener,F=I.la||I.src;I.ia&&zn(l.i,I),p=!1!==k.call(F,d)&&p}}return p&&!d.defaultPrevented}ht(Lr,et),Lr.prototype[mt]=!0,Lr.prototype.removeEventListener=function(l,i,o,d){bt(this,l,i,o,d)},Lr.prototype.N=function(){if(Lr.$.N.call(this),this.i){var i,l=this.i;for(i in l.g){for(var o=l.g[i],d=0;d<o.length;d++)Ut(o[d]);delete l.g[i],l.h--}}this.J=null},Lr.prototype.O=function(l,i,o,d){return this.i.add(String(l),i,!1,o,d)},Lr.prototype.P=function(l,i,o,d){return this.i.add(String(l),i,!0,o,d)};var Lt=pe.JSON.stringify;function Nn(){var l=ee;let i=null;return l.g&&(i=l.g,l.g=l.g.next,l.g||(l.h=null),i.next=null),i}var Hn=new class pn{constructor(i,o){this.i=i,this.j=o,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new jr,l=>l.reset());class jr{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Se(l){var i=1;l=l.split(":");const o=[];for(;0<i&&l.length;)o.push(l.shift()),i--;return l.length&&o.push(l.join(":")),o}function ie(l){pe.setTimeout(()=>{throw l},0)}let te,be=!1,ee=new class er{constructor(){this.h=this.g=null}add(i,o){const d=Hn.get();d.set(i,o),this.h?this.h.next=d:this.g=d,this.h=d}},Fe=()=>{const l=pe.Promise.resolve(void 0);te=()=>{l.then(_t)}};var _t=()=>{for(var l;l=Nn();){try{l.h.call(l.g)}catch(o){ie(o)}var i=Hn;i.j(l),100>i.h&&(i.h++,l.next=i.g,i.g=l)}be=!1};function Ft(l,i){Lr.call(this),this.h=l||1,this.g=i||pe,this.j=Ee(this.qb,this),this.l=Date.now()}function Dn(l){l.ga=!1,l.T&&(l.g.clearTimeout(l.T),l.T=null)}function Kn(l,i,o){if("function"==typeof l)o&&(l=Ee(l,o));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ee(l.handleEvent,l)}return 2147483647<Number(i)?-1:pe.setTimeout(l,i||0)}function Er(l){l.g=Kn(()=>{l.g=null,l.i&&(l.i=!1,Er(l))},l.j);const i=l.h;l.h=null,l.m.apply(null,i)}ht(Ft,Lr),(De=Ft.prototype).ga=!1,De.T=null,De.qb=function(){if(this.ga){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-l):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sr(this,"tick"),this.ga&&(Dn(this),this.start()))}},De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.N=function(){Ft.$.N.call(this),Dn(this),delete this.g};class Un extends et{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(l){et.call(this),this.h=l,this.g={}}ht(Gr,et);var Mr=[];function ts(l,i,o,d){Array.isArray(o)||(o&&(Mr[0]=o.toString()),o=Mr);for(var p=0;p<o.length;p++){var _=Ur(i,o[p],d||l.handleEvent,!1,l.h||l);if(!_)break;l.g[_.key]=_}}function Xr(l){fn(l.g,function(i,o){this.g.hasOwnProperty(o)&&gr(i)},l),l.g={}}function bs(){this.g=!0}function ms(l,i,o,d){l.info(function(){return"XMLHTTP TEXT ("+i+"): "+function Ri(l,i){if(!l.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o)for(l=0;l<o.length;l++)if(Array.isArray(o[l])){var d=o[l];if(!(2>d.length)){var p=d[1];if(Array.isArray(p)&&!(1>p.length)){var _=p[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var I=1;I<p.length;I++)p[I]=""}}}return Lt(o)}catch{return i}}(l,o)+(d?" "+d:"")})}Gr.prototype.N=function(){Gr.$.N.call(this),Xr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bs.prototype.Ea=function(){this.g=!1},bs.prototype.info=function(){};var mi={},Fs=null;function ri(){return Fs=Fs||new Lr}function wi(l){we.call(this,mi.Ta,l)}function Fi(l){const i=ri();Sr(i,new wi(i))}function _i(l,i){we.call(this,mi.STAT_EVENT,l),this.stat=i}function jn(l){const i=ri();Sr(i,new _i(i,l))}function ns(l,i){we.call(this,mi.Ua,l),this.size=i}function kr(l,i){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){l()},i)}mi.Ta="serverreachability",ht(wi,we),mi.STAT_EVENT="statevent",ht(_i,we),mi.Ua="timingevent",ht(ns,we);var yr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function di(){}function Do(){}di.prototype.h=null;var Hi,rs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ds(){we.call(this,"d")}function co(){we.call(this,"c")}function zr(){}function Pi(l,i,o,d){this.l=l,this.j=i,this.m=o,this.W=d||1,this.U=new Gr(this),this.P=Yt,this.V=new Ft(l=me?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}ht(Ds,we),ht(co,we),ht(zr,di),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Hi=new zr;var Yt=45e3,X={},ge={};function Be(l,i,o){l.L=1,l.v=yi(Cs(i)),l.s=o,l.S=!0,Oe(l,null)}function Oe(l,i){l.G=Date.now(),Mt(l),l.A=Cs(l.v);var o=l.A,d=l.W;Array.isArray(d)||(d=[String(d)]),Vi(o.i,"t",d),l.C=0,o=l.l.J,l.h=new ut,l.g=Ko(l.l,o?i:null,!l.s),0<l.O&&(l.M=new Un(Ee(l.Pa,l,l.g),l.O)),ts(l.U,l.g,"readystatechange",l.nb),i=l.I?on(l.I):{},l.s?(l.u||(l.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",l.g.ha(l.A,l.u,l.s,i)):(l.u="GET",l.g.ha(l.A,l.u,null,i)),Fi(),function Tr(l,i,o,d,p,_){l.info(function(){if(l.g)if(_)for(var I="",k=_.split("&"),F=0;F<k.length;F++){var K=k[F].split("=");if(1<K.length){var ne=K[0];K=K[1];var he=ne.split("_");I=2<=he.length&&"type"==he[1]?I+(ne+"=")+K+"&":I+(ne+"=redacted&")}}else I=null;else I=_;return"XMLHTTP REQ ("+d+") [attempt "+p+"]: "+i+"\n"+o+"\n"+I})}(l.j,l.u,l.A,l.m,l.W,l.s)}function ft(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.l.Ha}function dt(l,i,o){let p,d=!0;for(;!l.J&&l.C<o.length;){if(p=Pt(l,o),p==ge){4==i&&(l.o=4,jn(14),d=!1),ms(l.j,l.m,null,"[Incomplete Response]");break}if(p==X){l.o=4,jn(15),ms(l.j,l.m,o,"[Invalid Chunk]"),d=!1;break}ms(l.j,l.m,p,null),Fn(l,p)}ft(l)&&p!=ge&&p!=X&&(l.h.g="",l.C=0),4!=i||0!=o.length||l.h.h||(l.o=1,jn(16),d=!1),l.i=l.i&&d,d?0<o.length&&!l.ba&&(l.ba=!0,(i=l.l).g==l&&i.ca&&!i.M&&(i.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),j(i),i.M=!0,jn(11))):(ms(l.j,l.m,o,"[Invalid Chunked Response]"),Sn(l),an(l))}function Pt(l,i){var o=l.C,d=i.indexOf("\n",o);return-1==d?ge:(o=Number(i.substring(o,d)),isNaN(o)?X:(d+=1)+o>i.length?ge:(i=i.slice(d,d+o),l.C=d+o,i))}function Mt(l){l.Y=Date.now()+l.P,St(l,l.P)}function St(l,i){if(null!=l.B)throw Error("WatchDog timer not null");l.B=kr(Ee(l.lb,l),i)}function $t(l){l.B&&(pe.clearTimeout(l.B),l.B=null)}function an(l){0==l.l.H||l.J||Zt(l.l,l)}function Sn(l){$t(l);var i=l.M;i&&"function"==typeof i.sa&&i.sa(),l.M=null,Dn(l.V),Xr(l.U),l.g&&(i=l.g,l.g=null,i.abort(),i.sa())}function Fn(l,i){try{var o=l.l;if(0!=o.H&&(o.g==l||uo(o.i,l)))if(!l.K&&uo(o.i,l)&&3==o.H){try{var d=o.Ja.g.parse(i)}catch{d=null}if(Array.isArray(d)&&3==d.length){var p=d;if(0==p[0]){e:if(!o.u){if(o.g){if(!(o.g.G+3e3<l.G))break e;Et(o),W(o)}C(o),jn(18)}}else o.Fa=p[1],0<o.Fa-o.V&&37500>p[2]&&o.G&&0==o.A&&!o.v&&(o.v=kr(Ee(o.ib,o),6e3));if(1>=Yn(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else lr(o,11)}else if((l.K||o.g==l)&&Et(o),!qe(i))for(p=o.Ja.g.parse(i),i=0;i<p.length;i++){let K=p[i];if(o.V=K[0],K=K[1],2==o.H)if("c"==K[0]){o.K=K[1],o.pa=K[2];const ne=K[3];null!=ne&&(o.ra=ne,o.l.info("VER="+o.ra));const he=K[4];null!=he&&(o.Ga=he,o.l.info("SVER="+o.Ga));const Ce=K[5];null!=Ce&&"number"==typeof Ce&&0<Ce&&(o.L=d=1.5*Ce,o.l.info("backChannelRequestTimeoutMs_="+d)),d=o;const Je=l.g;if(Je){const xt=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xt){var _=d.i;_.g||-1==xt.indexOf("spdy")&&-1==xt.indexOf("quic")&&-1==xt.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(Ho(_,_.h),_.h=null))}if(d.F){const Gt=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Gt&&(d.Da=Gt,Cn(d.I,d.F,Gt))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-l.G,o.l.info("Handshake RTT: "+o.S+"ms"));var I=l;if((d=o).wa=Js(d,d.J?d.pa:null,d.Y),I.K){$s(d.i,I);var k=I,F=d.L;F&&k.setTimeout(F),k.B&&($t(k),Mt(k)),d.g=I}else z(d);0<o.j.length&&le(o)}else"stop"!=K[0]&&"close"!=K[0]||lr(o,7);else 3==o.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?lr(o,7):Sl(o):"noop"!=K[0]&&o.h&&o.h.Aa(K),o.A=0)}Fi()}catch{}}function hi(l,i){if(l.forEach&&"function"==typeof l.forEach)l.forEach(i,void 0);else if(de(l)||"string"==typeof l)Array.prototype.forEach.call(l,i,void 0);else for(var o=function ai(l){if(l.ta&&"function"==typeof l.ta)return l.ta();if(!l.Z||"function"!=typeof l.Z){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(de(l)||"string"==typeof l){var i=[];l=l.length;for(var o=0;o<l;o++)i.push(o);return i}i=[],o=0;for(const d in l)i[o++]=d;return i}}}(l),d=function Qn(l){if(l.Z&&"function"==typeof l.Z)return l.Z();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(de(l)){for(var i=[],o=l.length,d=0;d<o;d++)i.push(l[d]);return i}for(d in i=[],o=0,l)i[o++]=l[d];return i}(l),p=d.length,_=0;_<p;_++)i.call(void 0,d[_],o&&o[_],l)}(De=Pi.prototype).setTimeout=function(l){this.P=l},De.nb=function(l){l=l.target;const i=this.M;i&&3==$i(l)?i.l():this.Pa(l)},De.Pa=function(l){try{if(l==this.g)e:{const ne=$i(this.g);var i=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||me||this.g&&(this.h.h||this.g.ja()||ja(this.g)))){this.J||4!=ne||7==i||Fi(),$t(this);var o=this.g.da();this.ca=o;t:if(ft(this)){var d=ja(this.g);l="";var p=d.length,_=4==$i(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),an(this);var I="";break t}this.h.i=new pe.TextDecoder}for(i=0;i<p;i++)this.h.h=!0,l+=this.h.i.decode(d[i],{stream:_&&i==p-1});d.splice(0,p),this.h.g+=l,this.C=0,I=this.h.g}else I=this.g.ja();if(this.i=200==o,function Ti(l,i,o,d,p,_,I){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+p+"]: "+i+"\n"+o+"\n"+_+" "+I})}(this.j,this.u,this.A,this.m,this.W,ne,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,F=this.g;if((k=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qe(k)){var K=k;break t}}K=null}if(!(o=K)){this.i=!1,this.o=3,jn(12),Sn(this),an(this);break e}ms(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fn(this,o)}this.S?(dt(this,ne,I),me&&this.i&&3==ne&&(ts(this.U,this.V,"tick",this.mb),this.V.start())):(ms(this.j,this.m,I,null),Fn(this,I)),4==ne&&Sn(this),this.i&&!this.J&&(4==ne?Zt(this.l,this):(this.i=!1,Mt(this)))}else(function So(l){const i={};l=(l.g&&2<=$i(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let d=0;d<l.length;d++){if(qe(l[d]))continue;var o=Se(l[d]);const p=o[0];if("string"!=typeof(o=o[1]))continue;o=o.trim();const _=i[p]||[];i[p]=_,_.push(o)}!function rr(l,i){for(const o in l)i.call(void 0,l[o],o,l)}(i,function(d){return d.join(", ")})})(this.g),400==o&&0<I.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),Sn(this),an(this)}}}catch{}},De.mb=function(){if(this.g){var l=$i(this.g),i=this.g.ja();this.C<i.length&&($t(this),dt(this,l,i),this.i&&4!=l&&Mt(this))}},De.cancel=function(){this.J=!0,Sn(this)},De.lb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Ci(l,i){l.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.L&&(Fi(),jn(17)),Sn(this),this.o=2,an(this)):St(this,this.Y-l)};var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bi(l){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof bi){this.h=l.h,is(this,l.j),this.s=l.s,this.g=l.g,zo(this,l.m),this.l=l.l;var i=l.i,o=new Zr;o.i=i.i,i.g&&(o.g=new Map(i.g),o.h=i.h),As(this,o),this.o=l.o}else l&&(i=String(l).match(Co))?(this.h=!1,is(this,i[1]||"",!0),this.s=Yr(i[2]||""),this.g=Yr(i[3]||"",!0),zo(this,i[4]),this.l=Yr(i[5]||"",!0),As(this,i[6]||"",!0),this.o=Yr(i[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}function Cs(l){return new bi(l)}function is(l,i,o){l.j=o?Yr(i,!0):i,l.j&&(l.j=l.j.replace(/:$/,""))}function zo(l,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);l.m=i}else l.m=null}function As(l,i,o){i instanceof Zr?(l.i=i,function Bi(l,i){i&&!l.j&&(rn(l),l.i=null,l.g.forEach(function(o,d){var p=d.toLowerCase();d!=p&&(ir(this,d),Vi(this,p,o))},l)),l.j=i}(l.i,l.h)):(o||(i=Ss(i,lo)),l.i=new Zr(i,l.h))}function Cn(l,i,o){l.i.set(i,o)}function yi(l){return Cn(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Yr(l,i){return l?i?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ss(l,i,o){return"string"==typeof l?(l=encodeURI(l).replace(i,ci),o&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ci(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}bi.prototype.toString=function(){var l=[],i=this.j;i&&l.push(Ss(i,Ua,!0),":");var o=this.g;return(o||"file"==i)&&(l.push("//"),(i=this.s)&&l.push(Ss(i,Ua,!0),"@"),l.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&l.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&l.push("/"),l.push(Ss(o,"/"==o.charAt(0)?_s:ca,!0))),(o=this.i.toString())&&l.push("?",o),(o=this.o)&&l.push("#",Ss(o,ic)),l.join("")};var Ua=/[#\/\?@]/g,ca=/[#\?:]/g,_s=/[#\?]/g,lo=/[#\?@]/g,ic=/#/g;function Zr(l,i){this.h=this.g=null,this.i=l||null,this.j=!!i}function rn(l){l.g||(l.g=new Map,l.h=0,l.i&&function Vs(l,i){if(l){l=l.split("&");for(var o=0;o<l.length;o++){var d=l[o].indexOf("="),p=null;if(0<=d){var _=l[o].substring(0,d);p=l[o].substring(d+1)}else _=l[o];i(_,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}(l.i,function(i,o){l.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}function ir(l,i){rn(l),i=ys(l,i),l.g.has(i)&&(l.i=null,l.h-=l.g.get(i).length,l.g.delete(i))}function Wr(l,i){return rn(l),i=ys(l,i),l.g.has(i)}function Vi(l,i,o){ir(l,i),0<o.length&&(l.i=null,l.g.set(ys(l,i),Le(o)),l.h+=o.length)}function ys(l,i){return i=String(i),l.j&&(i=i.toLowerCase()),i}function Jr(l){this.l=l||Bs,l=pe.PerformanceNavigationTiming?0<(l=pe.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(De=Zr.prototype).add=function(l,i){rn(this),this.i=null,l=ys(this,l);var o=this.g.get(l);return o||this.g.set(l,o=[]),o.push(i),this.h+=1,this},De.forEach=function(l,i){rn(this),this.g.forEach(function(o,d){o.forEach(function(p){l.call(i,p,d,this)},this)},this)},De.ta=function(){rn(this);const l=Array.from(this.g.values()),i=Array.from(this.g.keys()),o=[];for(let d=0;d<i.length;d++){const p=l[d];for(let _=0;_<p.length;_++)o.push(i[d])}return o},De.Z=function(l){rn(this);let i=[];if("string"==typeof l)Wr(this,l)&&(i=i.concat(this.g.get(ys(this,l))));else{l=Array.from(this.g.values());for(let o=0;o<l.length;o++)i=i.concat(l[o])}return i},De.set=function(l,i){return rn(this),this.i=null,Wr(this,l=ys(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[i]),this.h+=1,this},De.get=function(l,i){return l&&0<(l=this.Z(l)).length?String(l[0]):i},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],i=Array.from(this.g.keys());for(var o=0;o<i.length;o++){var d=i[o];const _=encodeURIComponent(String(d)),I=this.Z(d);for(d=0;d<I.length;d++){var p=_;""!==I[d]&&(p+="="+encodeURIComponent(String(I[d]))),l.push(p)}}return this.i=l.join("&")};var Bs=10;function Ao(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Yn(l){return l.h?1:l.g?l.g.size:0}function uo(l,i){return l.h?l.h==i:!!l.g&&l.g.has(i)}function Ho(l,i){l.g?l.g.add(i):l.h=i}function $s(l,i){l.h&&l.h==i?l.h=null:l.g&&l.g.has(i)&&l.g.delete(i)}function Fr(l){if(null!=l.h)return l.i.concat(l.h.F);if(null!=l.g&&0!==l.g.size){let i=l.i;for(const o of l.g.values())i=i.concat(o.F);return i}return Le(l.i)}Jr.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var qo=class{stringify(l){return pe.JSON.stringify(l,void 0)}parse(l){return pe.JSON.parse(l,void 0)}};function Wo(){this.g=new qo}function Us(l,i,o){const d=o||"";try{hi(l,function(p,_){let I=p;ve(p)&&(I=Lt(p)),i.push(d+_+"="+encodeURIComponent(I))})}catch(p){throw i.push(d+"type="+encodeURIComponent("_badmap")),p}}function ba(l,i,o,d,p){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,p(d)}catch{}}function vs(l){this.l=l.fc||null,this.j=l.ob||!1}function xs(l,i){Lr.call(this),this.F=l,this.u=i,this.m=void 0,this.readyState=la,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht(vs,di),vs.prototype.g=function(){return new xs(this.l,this.j)},vs.prototype.i=function(l){return function(){return l}}({}),ht(xs,Lr);var la=0;function Da(l){l.j.read().then(l.Xa.bind(l)).catch(l.ka.bind(l))}function cr(l){l.readyState=4,l.l=null,l.j=null,l.A=null,Ca(l)}function Ca(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(De=xs.prototype).open=function(l,i){if(this.readyState!=la)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=i,this.readyState=1,Ca(this)},De.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(i.body=l),(this.F||pe).fetch(new Request(this.B,i)).then(this.$a.bind(this),this.ka.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cr(this)),this.readyState=la},De.$a=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Da(this)}else l.text().then(this.Za.bind(this),this.ka.bind(this))},De.Xa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var i=l.value?l.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!l.done}))&&(this.response=this.responseText+=i)}l.done?cr(this):Ca(this),3==this.readyState&&Da(this)}},De.Za=function(l){this.g&&(this.response=this.responseText=l,cr(this))},De.Ya=function(l){this.g&&(this.response=l,cr(this))},De.ka=function(){this.g&&cr(this)},De.setRequestHeader=function(l,i){this.v.append(l,i)},De.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],i=this.h.entries();for(var o=i.next();!o.done;)l.push((o=o.value)[0]+": "+o[1]),o=i.next();return l.join("\r\n")},Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Rs=pe.JSON.parse;function fi(l){Lr.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qi,this.L=this.M=!1}ht(fi,Lr);var qi="",sc=/^https?$/i,Aa=["POST","PUT"];function Mi(l,i){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=i,l.m=5,Xc(l),Wi(l)}function Xc(l){l.F||(l.F=!0,Sr(l,"complete"),Sr(l,"error"))}function Is(l){if(l.h&&typeof ze<"u"&&(!l.C[1]||4!=$i(l)||2!=l.da()))if(l.v&&4==$i(l))Kn(l.La,0,l);else if(Sr(l,"readystatechange"),4==$i(l)){l.h=!1;try{const I=l.da();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var d;if(d=0===I){var p=String(l.I).match(Co)[1]||null;!p&&pe.self&&pe.self.location&&(p=pe.self.location.protocol.slice(0,-1)),d=!sc.test(p?p.toLowerCase():"")}o=d}if(o)Sr(l,"complete"),Sr(l,"success");else{l.m=6;try{var _=2<$i(l)?l.g.statusText:""}catch{_=""}l.j=_+" ["+l.da()+"]",Xc(l)}}finally{Wi(l)}}}function Wi(l,i){if(l.g){Sa(l);const o=l.g,d=l.C[0]?()=>{}:null;l.g=null,l.C=null,i||Sr(l,"ready");try{o.onreadystatechange=d}catch{}}}function Sa(l){l.g&&l.L&&(l.g.ontimeout=null),l.A&&(pe.clearTimeout(l.A),l.A=null)}function $i(l){return l.g?l.g.readyState:0}function ja(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.K){case qi:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ac(l){let i="";return fn(l,function(o,d){i+=d,i+=":",i+=o,i+="\r\n"}),i}function cc(l,i,o){e:{for(d in o){var d=!1;break e}d=!0}d||(o=ac(o),"string"==typeof l?null!=o&&encodeURIComponent(String(o)):Cn(l,i,o))}function ei(l,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[l]||i}function cu(l){this.Ga=0,this.j=[],this.l=new bs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ei("failFast",!1,l),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ei("baseRetryDelayMs",5e3,l),this.hb=ei("retryDelaySeedMs",1e4,l),this.eb=ei("forwardChannelMaxRetries",2,l),this.xa=ei("forwardChannelRequestTimeoutMs",2e4,l),this.va=l&&l.xmlHttpFactory||void 0,this.Ha=l&&l.dc||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.i=new Jr(l&&l.concurrentRequestLimit),this.Ja=new Wo,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=l&&l.bc||!1,l&&l.Ea&&this.l.Ea(),l&&l.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&l&&l.detectBufferingProxy||!1,this.qa=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.qa=l.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sl(l){if(V(l),3==l.H){var i=l.W++,o=Cs(l.I);if(Cn(o,"SID",l.K),Cn(o,"RID",i),Cn(o,"TYPE","terminate"),kt(l,o),(i=new Pi(l,l.l,i)).L=2,i.v=yi(Cs(o)),o=!1,pe.navigator&&pe.navigator.sendBeacon)try{o=pe.navigator.sendBeacon(i.v.toString(),"")}catch{}!o&&pe.Image&&((new Image).src=i.v,o=!0),o||(i.g=Ko(i.l,null),i.g.ha(i.v)),i.G=Date.now(),Mt(i)}Nr(l)}function W(l){l.g&&(j(l),l.g.cancel(),l.g=null)}function V(l){W(l),l.u&&(pe.clearTimeout(l.u),l.u=null),Et(l),l.i.cancel(),l.m&&("number"==typeof l.m&&pe.clearTimeout(l.m),l.m=null)}function le(l){if(!Ao(l.i)&&!l.m){l.m=!0;var i=l.Na;te||Fe(),be||(te(),be=!0),ee.add(i,l),l.C=0}}function fe(l,i){var o;o=i?i.m:l.W++;const d=Cs(l.I);Cn(d,"SID",l.K),Cn(d,"RID",o),Cn(d,"AID",l.V),kt(l,d),l.o&&l.s&&cc(d,l.o,l.s),o=new Pi(l,l.l,o,l.C+1),null===l.o&&(o.I=l.s),i&&(l.j=i.F.concat(l.j)),i=D(l,o,1e3),o.setTimeout(Math.round(.5*l.xa)+Math.round(.5*l.xa*Math.random())),Ho(l.i,o),Be(o,d,i)}function kt(l,i){l.na&&fn(l.na,function(o,d){Cn(i,d,o)}),l.h&&hi({},function(o,d){Cn(i,d,o)})}function D(l,i,o){o=Math.min(l.j.length,o);var d=l.h?Ee(l.h.Va,l.h,l):null;e:{var p=l.j;let _=-1;for(;;){const I=["count="+o];-1==_?0<o?(_=p[0].g,I.push("ofs="+_)):_=0:I.push("ofs="+_);let k=!0;for(let F=0;F<o;F++){let K=p[F].g;const ne=p[F].map;if(K-=_,0>K)_=Math.max(0,p[F].g-100),k=!1;else try{Us(ne,I,"req"+K+"_")}catch{d&&d(ne)}}if(k){d=I.join("&");break e}}}return l=l.j.splice(0,o),i.F=l,d}function z(l){if(!l.g&&!l.u){l.ba=1;var i=l.Ma;te||Fe(),be||(te(),be=!0),ee.add(i,l),l.A=0}}function C(l){return!(l.g||l.u||3<=l.A||(l.ba++,l.u=kr(Ee(l.Ma,l),yn(l,l.A)),l.A++,0))}function j(l){null!=l.B&&(pe.clearTimeout(l.B),l.B=null)}function ae(l){l.g=new Pi(l,l.l,"rpc",l.ba),null===l.o&&(l.g.I=l.s),l.g.O=0;var i=Cs(l.wa);Cn(i,"RID","rpc"),Cn(i,"SID",l.K),Cn(i,"AID",l.V),Cn(i,"CI",l.G?"0":"1"),!l.G&&l.qa&&Cn(i,"TO",l.qa),Cn(i,"TYPE","xmlhttp"),kt(l,i),l.o&&l.s&&cc(i,l.o,l.s),l.L&&l.g.setTimeout(l.L);var o=l.g;l=l.pa,o.L=1,o.v=yi(Cs(i)),o.s=null,o.S=!0,Oe(o,l)}function Et(l){null!=l.v&&(pe.clearTimeout(l.v),l.v=null)}function Zt(l,i){var o=null;if(l.g==i){Et(l),j(l),l.g=null;var d=2}else{if(!uo(l.i,i))return;o=i.F,$s(l.i,i),d=1}if(0!=l.H)if(i.i)if(1==d){o=i.s?i.s.length:0,i=Date.now()-i.G;var p=l.C;Sr(d=ri(),new ns(d,o)),le(l)}else z(l);else if(3==(p=i.o)||0==p&&0<i.ca||!(1==d&&function H(l,i){return!(Yn(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.j=i.F.concat(l.j),0):1==l.H||2==l.H||l.C>=(l.cb?0:l.eb)||(l.m=kr(Ee(l.Na,l,i),yn(l,l.C)),l.C++,0)))}(l,i)||2==d&&C(l)))switch(o&&0<o.length&&(i=l.i,i.i=i.i.concat(o)),p){case 1:lr(l,5);break;case 4:lr(l,10);break;case 3:lr(l,6);break;default:lr(l,2)}}function yn(l,i){let o=l.ab+Math.floor(Math.random()*l.hb);return l.isActive()||(o*=2),o*i}function lr(l,i){if(l.l.info("Error code "+i),2==i){var o=null;l.h&&(o=null);var d=Ee(l.pb,l);o||(o=new bi("//www.google.com/images/cleardot.gif"),pe.location&&"http"==pe.location.protocol||is(o,"https"),yi(o)),function wa(l,i){const o=new bs;if(pe.Image){const d=new Image;d.onload=ot(ba,o,d,"TestLoadImage: loaded",!0,i),d.onerror=ot(ba,o,d,"TestLoadImage: error",!1,i),d.onabort=ot(ba,o,d,"TestLoadImage: abort",!1,i),d.ontimeout=ot(ba,o,d,"TestLoadImage: timeout",!1,i),pe.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else i(!1)}(o.toString(),d)}else jn(2);l.H=0,l.h&&l.h.za(i),Nr(l),V(l)}function Nr(l){if(l.H=0,l.ma=[],l.h){const i=Fr(l.i);(0!=i.length||0!=l.j.length)&&(Ne(l.ma,i),Ne(l.ma,l.j),l.i.i.length=0,Le(l.j),l.j.length=0),l.h.ya()}}function Js(l,i,o){var d=o instanceof bi?Cs(o):new bi(o);if(""!=d.g)i&&(d.g=i+"."+d.g),zo(d,d.m);else{var p=pe.location;d=p.protocol,i=i?i+"."+p.hostname:p.hostname,p=+p.port;var _=new bi(null);d&&is(_,d),i&&(_.g=i),p&&zo(_,p),o&&(_.l=o),d=_}return i=l.Da,(o=l.F)&&i&&Cn(d,o,i),Cn(d,"VER",l.ra),kt(l,d),d}function Ko(l,i,o){if(i&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new fi(o&&l.Ha&&!l.va?new vs({ob:!0}):l.va)).Oa(l.J),i}function Ui(){}function ss(){if(_n&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function Ai(l,i){Lr.call(this),this.g=new cu(i),this.l=l,this.h=i&&i.messageUrlParams||null,l=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(l?l["X-WebChannel-Content-Type"]=i.messageContentType:l={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.Ca&&(l?l["X-WebChannel-Client-Profile"]=i.Ca:l={"X-WebChannel-Client-Profile":i.Ca}),this.g.U=l,(l=i&&i.cc)&&!qe(l)&&(this.g.o=l),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!qe(i)&&(this.g.F=i,null!==(l=this.h)&&i in l&&i in(l=this.h)&&delete l[i]),this.j=new Ac(this)}function xo(l){Ds.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var i=l.__sm__;if(i){e:{for(const o in i){l=o;break e}l=void 0}(this.i=l)&&(l=this.i,i=null!==i&&l in i?i[l]:void 0),this.data=i}else this.data=l}function os(){co.call(this),this.status=1}function Ac(l){this.g=l}function Yo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lu(l,i,o){o||(o=0);var d=Array(16);if("string"==typeof i)for(var p=0;16>p;++p)d[p]=i.charCodeAt(o++)|i.charCodeAt(o++)<<8|i.charCodeAt(o++)<<16|i.charCodeAt(o++)<<24;else for(p=0;16>p;++p)d[p]=i[o++]|i[o++]<<8|i[o++]<<16|i[o++]<<24;var _=l.g[3],I=(i=l.g[0])+(_^(o=l.g[1])&((p=l.g[2])^_))+d[0]+3614090360&4294967295;I=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=(o=(p=(_=(i=o+(I<<7&4294967295|I>>>25))+((I=_+(p^i&(o^p))+d[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^_&(i^o))+d[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=o+(i^p&(_^i))+d[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=i+(_^o&(p^_))+d[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=_+(p^i&(o^p))+d[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^_&(i^o))+d[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=o+(i^p&(_^i))+d[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=i+(_^o&(p^_))+d[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=_+(p^i&(o^p))+d[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^_&(i^o))+d[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=o+(i^p&(_^i))+d[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=i+(_^o&(p^_))+d[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=_+(p^i&(o^p))+d[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^_&(i^o))+d[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=o+(i^p&(_^i))+d[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=i+(p^_&(o^p))+d[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^p&(i^o))+d[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=p+(i^o&(_^i))+d[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^i&(p^_))+d[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=i+(p^_&(o^p))+d[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^p&(i^o))+d[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=p+(i^o&(_^i))+d[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^i&(p^_))+d[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=i+(p^_&(o^p))+d[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^p&(i^o))+d[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=p+(i^o&(_^i))+d[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^i&(p^_))+d[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=i+(p^_&(o^p))+d[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^p&(i^o))+d[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=p+(i^o&(_^i))+d[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^i&(p^_))+d[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=i+(o^p^_)+d[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=_+(i^o^p)+d[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=p+(_^i^o)+d[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^_^i)+d[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=i+(o^p^_)+d[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=_+(i^o^p)+d[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=p+(_^i^o)+d[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^_^i)+d[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=i+(o^p^_)+d[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=_+(i^o^p)+d[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=p+(_^i^o)+d[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^_^i)+d[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=i+(o^p^_)+d[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=_+(i^o^p)+d[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=p+(_^i^o)+d[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^_^i)+d[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=i+(p^(o|~_))+d[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(i|~p))+d[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=p+(i^(_|~o))+d[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(p|~i))+d[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=i+(p^(o|~_))+d[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(i|~p))+d[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=p+(i^(_|~o))+d[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(p|~i))+d[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=i+(p^(o|~_))+d[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(i|~p))+d[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=p+(i^(_|~o))+d[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(p|~i))+d[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((_=(i=o+((I=i+(p^(o|~_))+d[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(i|~p))+d[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((p=_+((I=p+(i^(_|~o))+d[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~i))+d[9]+3951481745&4294967295,l.g[0]=l.g[0]+i&4294967295,l.g[1]=l.g[1]+(p+(I<<21&4294967295|I>>>11))&4294967295,l.g[2]=l.g[2]+p&4294967295,l.g[3]=l.g[3]+_&4294967295}function Kr(l,i){this.h=i;for(var o=[],d=!0,p=l.length-1;0<=p;p--){var _=0|l[p];d&&_==i||(o[p]=_,d=!1)}this.g=o}(De=fi.prototype).Oa=function(l){this.M=l},De.ha=function(l,i,o,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+l);i=i?i.toUpperCase():"GET",this.I=l,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hi.g(),this.C=function Xs(l){return l.h||(l.h=l.i())}(this.u?this.u:Hi),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(i,String(l),!0),this.G=!1}catch(_){return void Mi(this,_)}if(l=o||"",o=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var p in d)o.set(p,d[p]);else{if("function"!=typeof d.keys||"function"!=typeof d.get)throw Error("Unknown input type for opt_headers: "+String(d));for(const _ of d.keys())o.set(_,d.get(_))}d=Array.from(o.keys()).find(_=>"content-type"==_.toLowerCase()),p=pe.FormData&&l instanceof pe.FormData,!(0<=Ze(Aa,i))||d||p||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,I]of o)this.g.setRequestHeader(_,I);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sa(this),0<this.B&&((this.L=function oc(l){return _n&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=Kn(this.ua,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(_){Mi(this,_)}},De.ua=function(){typeof ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sr(this,"timeout"),this.abort(8))},De.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Sr(this,"complete"),Sr(this,"abort"),Wi(this))},De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wi(this,!0)),fi.$.N.call(this)},De.La=function(){this.s||(this.G||this.v||this.l?Is(this):this.kb())},De.kb=function(){Is(this)},De.isActive=function(){return!!this.g},De.da=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},De.Wa=function(l){if(this.g){var i=this.g.responseText;return l&&0==i.indexOf(l)&&(i=i.substring(l.length)),Rs(i)}},De.Ia=function(){return this.m},De.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=cu.prototype).ra=8,De.H=1,De.Na=function(l){if(this.m)if(this.m=null,1==this.H){if(!l){this.W=Math.floor(1e5*Math.random()),l=this.W++;const p=new Pi(this,this.l,l);let _=this.s;if(this.U&&(_?(_=on(_),$n(_,this.U)):_=this.U),null!==this.o||this.O||(p.I=_,_=null),this.P)e:{for(var i=0,o=0;o<this.j.length;o++){var d=this.j[o];if(void 0===(d="__data__"in d.map&&"string"==typeof(d=d.map.__data__)?d.length:void 0))break;if(4096<(i+=d)){i=o;break e}if(4096===i||o===this.j.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=D(this,p,i),Cn(o=Cs(this.I),"RID",l),Cn(o,"CVER",22),this.F&&Cn(o,"X-HTTP-Session-Id",this.F),kt(this,o),_&&(this.O?i="headers="+encodeURIComponent(String(ac(_)))+"&"+i:this.o&&cc(o,this.o,_)),Ho(this.i,p),this.bb&&Cn(o,"TYPE","init"),this.P?(Cn(o,"$req",i),Cn(o,"SID","null"),p.aa=!0,Be(p,o,null)):Be(p,o,i),this.H=2}}else 3==this.H&&(l?fe(this,l):0==this.j.length||Ao(this.i)||fe(this))},De.Ma=function(){if(this.u=null,ae(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var l=2*this.S;this.l.info("BP detection timer enabled: "+l),this.B=kr(Ee(this.jb,this),l)}},De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),W(this),ae(this))},De.ib=function(){null!=this.v&&(this.v=null,W(this),C(this),jn(19))},De.pb=function(l){l?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))},De.isActive=function(){return!!this.h&&this.h.isActive(this)},(De=Ui.prototype).Ba=function(){},De.Aa=function(){},De.za=function(){},De.ya=function(){},De.isActive=function(){return!0},De.Va=function(){},ss.prototype.g=function(l,i){return new Ai(l,i)},ht(Ai,Lr),Ai.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var l=this.g,i=this.l,o=this.h||void 0;jn(0),l.Y=i,l.na=o||{},l.G=l.aa,l.I=Js(l,null,l.Y),le(l)},Ai.prototype.close=function(){Sl(this.g)},Ai.prototype.u=function(l){var i=this.g;if("string"==typeof l){var o={};o.__data__=l,l=o}else this.v&&((o={}).__data__=Lt(l),l=o);i.j.push(new class{constructor(l,i){this.g=l,this.map=i}}(i.fb++,l)),3==i.H&&le(i)},Ai.prototype.N=function(){this.g.h=null,delete this.j,Sl(this.g),delete this.g,Ai.$.N.call(this)},ht(xo,Ds),ht(os,co),ht(Ac,Ui),Ac.prototype.Ba=function(){Sr(this.g,"a")},Ac.prototype.Aa=function(l){Sr(this.g,new xo(l))},Ac.prototype.za=function(l){Sr(this.g,new os)},Ac.prototype.ya=function(){Sr(this.g,"b")},ht(Yo,function xa(){this.blockSize=-1}),Yo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yo.prototype.j=function(l,i){void 0===i&&(i=l.length);for(var o=i-this.blockSize,d=this.m,p=this.h,_=0;_<i;){if(0==p)for(;_<=o;)lu(this,l,_),_+=this.blockSize;if("string"==typeof l){for(;_<i;)if(d[p++]=l.charCodeAt(_++),p==this.blockSize){lu(this,d),p=0;break}}else for(;_<i;)if(d[p++]=l[_++],p==this.blockSize){lu(this,d),p=0;break}}this.h=p,this.i+=i},Yo.prototype.l=function(){var l=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);l[0]=128;for(var i=1;i<l.length-8;++i)l[i]=0;var o=8*this.i;for(i=l.length-8;i<l.length;++i)l[i]=255&o,o/=256;for(this.j(l),l=Array(16),i=o=0;4>i;++i)for(var d=0;32>d;d+=8)l[o++]=this.g[i]>>>d&255;return l};var oh={};function xl(l){return-128<=l&&128>l?function Rt(l,i){var o=oh;return Object.prototype.hasOwnProperty.call(o,l)?o[l]:o[l]=i(l)}(l,function(i){return new Kr([0|i],0>i?-1:0)}):new Kr([0|l],0>l?-1:0)}function ua(l){if(isNaN(l)||!isFinite(l))return Sc;if(0>l)return Ki(ua(-l));for(var i=[],o=1,d=0;l>=o;d++)i[d]=l/o|0,o*=Jc;return new Kr(i,0)}var Jc=4294967296,Sc=xl(0),el=xl(1),ah=xl(16777216);function da(l){if(0!=l.h)return!1;for(var i=0;i<l.g.length;i++)if(0!=l.g[i])return!1;return!0}function ho(l){return-1==l.h}function Ki(l){for(var i=l.g.length,o=[],d=0;d<i;d++)o[d]=~l.g[d];return new Kr(o,~l.h).add(el)}function xc(l,i){return l.add(Ki(i))}function lc(l,i){for(;(65535&l[i])!=l[i];)l[i+1]+=l[i]>>>16,l[i]&=65535,i++}function Rc(l,i){this.g=l,this.h=i}function du(l,i){if(da(i))throw Error("division by zero");if(da(l))return new Rc(Sc,Sc);if(ho(l))return i=du(Ki(l),i),new Rc(Ki(i.g),Ki(i.h));if(ho(i))return i=du(l,Ki(i)),new Rc(Ki(i.g),i.h);if(30<l.g.length){if(ho(l)||ho(i))throw Error("slowDivide_ only works with positive integers.");for(var o=el,d=i;0>=d.X(l);)o=Rl(o),d=Rl(d);var p=Ra(o,1),_=Ra(d,1);for(d=Ra(d,2),o=Ra(o,2);!da(d);){var I=_.add(d);0>=I.X(l)&&(p=p.add(o),_=I),d=Ra(d,1),o=Ra(o,1)}return i=xc(l,p.R(i)),new Rc(p,i)}for(p=Sc;0<=l.X(i);){for(o=Math.max(1,Math.floor(l.ea()/i.ea())),d=48>=(d=Math.ceil(Math.log(o)/Math.LN2))?1:Math.pow(2,d-48),I=(_=ua(o)).R(i);ho(I)||0<I.X(l);)I=(_=ua(o-=d)).R(i);da(_)&&(_=el),p=p.add(_),l=xc(l,I)}return new Rc(p,l)}function Rl(l){for(var i=l.g.length+1,o=[],d=0;d<i;d++)o[d]=l.D(d)<<1|l.D(d-1)>>>31;return new Kr(o,l.h)}function Ra(l,i){var o=i>>5;i%=32;for(var d=l.g.length-o,p=[],_=0;_<d;_++)p[_]=0<i?l.D(_+o)>>>i|l.D(_+o+1)<<32-i:l.D(_+o);return new Kr(p,l.h)}(De=Kr.prototype).ea=function(){if(ho(this))return-Ki(this).ea();for(var l=0,i=1,o=0;o<this.g.length;o++){var d=this.D(o);l+=(0<=d?d:Jc+d)*i,i*=Jc}return l},De.toString=function(l){if(2>(l=l||10)||36<l)throw Error("radix out of range: "+l);if(da(this))return"0";if(ho(this))return"-"+Ki(this).toString(l);for(var i=ua(Math.pow(l,6)),o=this,d="";;){var p=du(o,i).g,_=((0<(o=xc(o,p.R(i))).g.length?o.g[0]:o.h)>>>0).toString(l);if(da(o=p))return _+d;for(;6>_.length;)_="0"+_;d=_+d}},De.D=function(l){return 0>l?0:l<this.g.length?this.g[l]:this.h},De.X=function(l){return ho(l=xc(this,l))?-1:da(l)?0:1},De.abs=function(){return ho(this)?Ki(this):this},De.add=function(l){for(var i=Math.max(this.g.length,l.g.length),o=[],d=0,p=0;p<=i;p++){var _=d+(65535&this.D(p))+(65535&l.D(p)),I=(_>>>16)+(this.D(p)>>>16)+(l.D(p)>>>16);d=I>>>16,o[p]=(I&=65535)<<16|(_&=65535)}return new Kr(o,-2147483648&o[o.length-1]?-1:0)},De.R=function(l){if(da(this)||da(l))return Sc;if(ho(this))return ho(l)?Ki(this).R(Ki(l)):Ki(Ki(this).R(l));if(ho(l))return Ki(this.R(Ki(l)));if(0>this.X(ah)&&0>l.X(ah))return ua(this.ea()*l.ea());for(var i=this.g.length+l.g.length,o=[],d=0;d<2*i;d++)o[d]=0;for(d=0;d<this.g.length;d++)for(var p=0;p<l.g.length;p++){var _=this.D(d)>>>16,I=65535&this.D(d),k=l.D(p)>>>16,F=65535&l.D(p);o[2*d+2*p]+=I*F,lc(o,2*d+2*p),o[2*d+2*p+1]+=_*F,lc(o,2*d+2*p+1),o[2*d+2*p+1]+=I*k,lc(o,2*d+2*p+1),o[2*d+2*p+2]+=_*k,lc(o,2*d+2*p+2)}for(d=0;d<i;d++)o[d]=o[2*d+1]<<16|o[2*d];for(d=i;d<2*i;d++)o[d]=0;return new Kr(o,0)},De.gb=function(l){return du(this,l).h},De.and=function(l){for(var i=Math.max(this.g.length,l.g.length),o=[],d=0;d<i;d++)o[d]=this.D(d)&l.D(d);return new Kr(o,this.h&l.h)},De.or=function(l){for(var i=Math.max(this.g.length,l.g.length),o=[],d=0;d<i;d++)o[d]=this.D(d)|l.D(d);return new Kr(o,this.h|l.h)},De.xor=function(l){for(var i=Math.max(this.g.length,l.g.length),o=[],d=0;d<i;d++)o[d]=this.D(d)^l.D(d);return new Kr(o,this.h^l.h)},ss.prototype.createWebChannel=ss.prototype.g,Ai.prototype.send=Ai.prototype.u,Ai.prototype.open=Ai.prototype.m,Ai.prototype.close=Ai.prototype.close,yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,bo.COMPLETE="complete",Do.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Lr.prototype.listen=Lr.prototype.O,fi.prototype.listenOnce=fi.prototype.P,fi.prototype.getLastError=fi.prototype.Sa,fi.prototype.getLastErrorCode=fi.prototype.Ia,fi.prototype.getStatus=fi.prototype.da,fi.prototype.getResponseJson=fi.prototype.Wa,fi.prototype.getResponseText=fi.prototype.ja,fi.prototype.send=fi.prototype.ha,fi.prototype.setWithCredentials=fi.prototype.Oa,Yo.prototype.digest=Yo.prototype.l,Yo.prototype.reset=Yo.prototype.reset,Yo.prototype.update=Yo.prototype.j,Kr.prototype.add=Kr.prototype.add,Kr.prototype.multiply=Kr.prototype.R,Kr.prototype.modulo=Kr.prototype.gb,Kr.prototype.compare=Kr.prototype.X,Kr.prototype.toNumber=Kr.prototype.ea,Kr.prototype.toString=Kr.prototype.toString,Kr.prototype.getBits=Kr.prototype.D,Kr.fromNumber=ua,Kr.fromString=function uu(l,i){if(0==l.length)throw Error("number format error: empty string");if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if("-"==l.charAt(0))return Ki(uu(l.substring(1),i));if(0<=l.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=ua(Math.pow(i,8)),d=Sc,p=0;p<l.length;p+=8){var _=Math.min(8,l.length-p),I=parseInt(l.substring(p,p+_),i);8>_?(_=ua(Math.pow(i,_)),d=d.R(_).add(ua(I))):d=(d=d.R(o)).add(ua(I))}return d};var xr,ur,ii,ti,as,Ga,Pc,js,Gs,Pa,Qo,hu,Ff,Ug,fu,Vf,ji,ch,rd,si,id,pu,fo,Bf,$f,tl,po,lh,jg,uh,eo,dh,Gg,Uf,jf,sd,hh,ar,Gf,oy,zg,zf,Hf,sy=L.createWebChannelTransport=function(){return new ss},P=L.getStatEventTarget=function(){return ri()},q=L.ErrorCode=yr,ye=L.EventType=bo,$=L.Event=mi,ue=L.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wt=(L.FetchXmlHttpFactory=vs,L.WebChannel=Do),qt=L.XhrIo=fi,vr=L.Md5=Yo,Ir=L.Integer=Kr;const Hg="@firebase/firestore";class cs{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let od="10.3.1";const nl=new _e.Yd("@firebase/firestore");function rl(){return nl.logLevel}function uc(l){nl.setLogLevel(l)}function zt(l,...i){if(nl.logLevel<=_e.in.DEBUG){const o=i.map(fh);nl.debug(`Firestore (${od}): ${l}`,...o)}}function At(l,...i){if(nl.logLevel<=_e.in.ERROR){const o=i.map(fh);nl.error(`Firestore (${od}): ${l}`,...o)}}function _r(l,...i){if(nl.logLevel<=_e.in.WARN){const o=i.map(fh);nl.warn(`Firestore (${od}): ${l}`,...o)}}function fh(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Rn(l="Unexpected state"){const i=`FIRESTORE (${od}) INTERNAL ASSERTION FAILED: `+l;throw At(i),new Error(i)}function En(l,i){l||Rn()}function qg(l,i){l||Rn()}function dn(l,i){return l}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends ke.ZR{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}class Wg{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class ay{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(cs.UNAUTHENTICATED))}shutdown(){}}class cy{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Ro{constructor(i){this.t=i,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){var d=this;let p=this.i;const _=K=>this.i!==p?(p=this.i,o(K)):Promise.resolve();let I=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new ls,i.enqueueRetryable(()=>_(this.currentUser))};const k=()=>{const K=I;i.enqueueRetryable((0,b.Z)(function*(){yield K.promise,yield _(d.currentUser)}))},F=K=>{zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new ls)}},0),k()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(d=>this.i!==i?(zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(En("string"==typeof d.accessToken),new Wg(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return En(null===i||"string"==typeof i),new cs(i)}}class il{constructor(i,o,d){this.l=i,this.h=o,this.P=d,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A{constructor(i,o,d){this.l=i,this.h=o,this.P=d}getToken(){return Promise.resolve(new il(this.l,this.h,this.P))}start(i,o){i.enqueueRetryable(()=>o(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,o){const d=_=>{null!=_.error&&zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const I=_.token!==this.R;return this.R=_.token,zt("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?o(_.token):Promise.resolve()};this.o=_=>{i.enqueueRetryable(()=>d(_))};const p=_=>{zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>p(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?p(_):zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(En("string"==typeof o.token),this.R=o.token,new M(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function B(l){const i=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(o);else for(let d=0;d<l;d++)o[d]=Math.floor(256*Math.random());return o}class re{static V(){const o=62*Math.floor(256/62);let d="";for(;d.length<20;){const p=B(40);for(let _=0;_<p.length;++_)d.length<20&&p[_]<o&&(d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(p[_]%62))}return d}}function se(l,i){return l<i?-1:l>i?1:0}function Qe(l,i,o){return l.length===i.length&&l.every((d,p)=>o(d,i[p]))}function jt(l){return l+"\0"}class Xe{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new Vt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Vt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new Vt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Vt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Xe.fromMillis(Date.now())}static fromDate(i){return Xe.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),d=Math.floor(1e6*(i-1e3*o));return new Xe(o,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?se(this.nanoseconds,i.nanoseconds):se(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(i){this.timestamp=i}static fromTimestamp(i){return new yt(i)}static min(){return new yt(new Xe(0,0))}static max(){return new yt(new Xe(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qn{constructor(i,o,d){void 0===o?o=0:o>i.length&&Rn(),void 0===d?d=i.length-o:d>i.length-o&&Rn(),this.segments=i,this.offset=o,this.len=d}get length(){return this.len}isEqual(i){return 0===qn.comparator(this,i)}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof qn?i.forEach(d=>{o.push(d)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,d=this.limit();o<d;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const d=Math.min(i.length,o.length);for(let p=0;p<d;p++){const _=i.get(p),I=o.get(p);if(_<I)return-1;if(_>I)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class Wn extends qn{construct(i,o,d){return new Wn(i,o,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const d of i){if(d.indexOf("//")>=0)throw new Vt(lt.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);o.push(...d.split("/").filter(p=>p.length>0))}return new Wn(o)}static emptyPath(){return new Wn([])}}const to=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends qn{construct(i,o,d){return new sr(i,o,d)}static isValidIdentifier(i){return to.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(i){const o=[];let d="",p=0;const _=()=>{if(0===d.length)throw new Vt(lt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(d),d=""};let I=!1;for(;p<i.length;){const k=i[p];if("\\"===k){if(p+1===i.length)throw new Vt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const F=i[p+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Vt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);d+=F,p+=2}else"`"===k?(I=!I,p++):"."!==k||I?(d+=k,p++):(_(),p++)}if(_(),I)throw new Vt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new sr(o)}static emptyPath(){return new sr([])}}class Xt{constructor(i){this.path=i}static fromPath(i){return new Xt(Wn.fromString(i))}static fromName(i){return new Xt(Wn.fromString(i).popFirst(5))}static empty(){return new Xt(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Wn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,o){return Wn.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Xt(new Wn(i.slice()))}}class Xo{constructor(i,o,d,p){this.indexId=i,this.collectionGroup=o,this.fields=d,this.indexState=p}}function sl(l){return l.fields.find(i=>2===i.kind)}function ha(l){return l.fields.filter(i=>2!==i.kind)}Xo.UNKNOWN_ID=-1;class Mc{constructor(i,o){this.fieldPath=i,this.kind=o}}class dc{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new dc(0,za.min())}}function Yi(l,i){const o=l.toTimestamp().seconds,d=l.toTimestamp().nanoseconds+1,p=yt.fromTimestamp(1e9===d?new Xe(o+1,0):new Xe(o,d));return new za(p,Xt.empty(),i)}function ly(l){return new za(l.readTime,l.key,-1)}class za{constructor(i,o,d){this.readTime=i,this.documentKey=o,this.largestBatchId=d}static min(){return new za(yt.min(),Xt.empty(),-1)}static max(){return new za(yt.max(),Xt.empty(),-1)}}function qf(l,i){let o=l.readTime.compareTo(i.readTime);return 0!==o?o:(o=Xt.comparator(l.documentKey,i.documentKey),0!==o?o:se(l.largestBatchId,i.largestBatchId))}const r0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Pl(l){return(xr=xr||(0,b.Z)(function*(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==r0)throw i;zt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class st{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new st((d,p)=>{this.nextCallback=_=>{this.wrapSuccess(i,_).next(d,p)},this.catchCallback=_=>{this.wrapFailure(o,_).next(d,p)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof st?o:st.resolve(o)}catch(o){return st.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):st.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):st.reject(o)}static resolve(i){return new st((o,d)=>{o(i)})}static reject(i){return new st((o,d)=>{d(i)})}static waitFor(i){return new st((o,d)=>{let p=0,_=0,I=!1;i.forEach(k=>{++p,k.next(()=>{++_,I&&_===p&&o()},F=>d(F))}),I=!0,_===p&&o()})}static or(i){let o=st.resolve(!1);for(const d of i)o=o.next(p=>p?st.resolve(p):d());return o}static forEach(i,o){const d=[];return i.forEach((p,_)=>{d.push(o.call(this,p,_))}),this.waitFor(d)}static mapArray(i,o){return new st((d,p)=>{const _=i.length,I=new Array(_);let k=0;for(let F=0;F<_;F++){const K=F;o(i[K]).next(ne=>{I[K]=ne,++k,k===_&&d(I)},ne=>p(ne))}})}static doWhile(i,o){return new st((d,p)=>{const _=()=>{!0===i()?o().next(()=>{_()},p):d()};_()})}}class hc{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.m=new ls,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{o.error?this.m.reject(new mu(i,o.error)):this.m.resolve()},this.transaction.onerror=d=>{const p=o0(d.target.error);this.m.reject(new mu(i,p))}}static open(i,o,d,p){try{return new hc(o,i.transaction(p,d))}catch(_){throw new mu(o,_)}}get g(){return this.m.promise}abort(i){i&&this.m.reject(i),this.aborted||(zt("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const o=this.transaction.objectStore(i);return new dy(o)}}class kc{constructor(i,o,d){this.name=i,this.version=o,this.S=d,12.2===kc.D((0,ke.z$)())&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return zt("SimpleDb","Removing database:",i),_u(window.indexedDB.deleteDatabase(i)).toPromise()}static C(){if(!(0,ke.hl)())return!1;if(kc.v())return!0;const i=(0,ke.z$)(),o=kc.D(i),d=0<o&&o<10,p=kc.F(i),_=0<p&&p<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||d||_)}static v(){var i;return typeof process<"u"&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.M)}static O(i,o){return i.store(o)}static D(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(d)}static F(i){const o=i.match(/Android ([\d.]+)/i),d=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(d)}N(i){var o=this;return(0,b.Z)(function*(){return o.db||(zt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((d,p)=>{const _=indexedDB.open(o.name,o.version);_.onsuccess=I=>{d(I.target.result)},_.onblocked=()=>{p(new mu(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=I=>{const k=I.target.error;p("VersionError"===k.name?new Vt(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Vt(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new mu(i,k))},_.onupgradeneeded=I=>{zt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',I.oldVersion),o.S.B(I.target.result,_.transaction,I.oldVersion,o.version).next(()=>{zt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.L&&(o.db.onversionchange=d=>o.L(d)),o.db})()}k(i){this.L=i,this.db&&(this.db.onversionchange=o=>i(o))}runTransaction(i,o,d,p){var _=this;return(0,b.Z)(function*(){const I="readonly"===o;let k=0;for(;;){++k;try{_.db=yield _.N(i);const F=hc.open(_.db,i,I?"readonly":"readwrite",d),K=p(F).next(ne=>(F.p(),ne)).catch(ne=>(F.abort(ne),st.reject(ne))).toPromise();return K.catch(()=>{}),yield F.g,K}catch(F){const K=F,ne="FirebaseError"!==K.name&&k<3;if(zt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ne),_.close(),!ne)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Kg{constructor(i){this.q=i,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(i){this.q=i}done(){this.K=!0}W(i){this.$=i}delete(){return _u(this.q.delete())}}class mu extends Vt{constructor(i,o){super(lt.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function fc(l){return"IndexedDbTransactionError"===l.name}class dy{constructor(i){this.store=i}put(i,o){let d;return void 0!==o?(zt("SimpleDb","PUT",this.store.name,i,o),d=this.store.put(o,i)):(zt("SimpleDb","PUT",this.store.name,"<auto-key>",i),d=this.store.put(i)),_u(d)}add(i){return zt("SimpleDb","ADD",this.store.name,i,i),_u(this.store.add(i))}get(i){return _u(this.store.get(i)).next(o=>(void 0===o&&(o=null),zt("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return zt("SimpleDb","DELETE",this.store.name,i),_u(this.store.delete(i))}count(){return zt("SimpleDb","COUNT",this.store.name),_u(this.store.count())}G(i,o){const d=this.options(i,o);if(d.index||"function"!=typeof this.store.getAll){const p=this.cursor(d),_=[];return this.j(p,(I,k)=>{_.push(k)}).next(()=>_)}{const p=this.store.getAll(d.range);return new st((_,I)=>{p.onerror=k=>{I(k.target.error)},p.onsuccess=k=>{_(k.target.result)}})}}H(i,o){const d=this.store.getAll(i,null===o?void 0:o);return new st((p,_)=>{d.onerror=I=>{_(I.target.error)},d.onsuccess=I=>{p(I.target.result)}})}J(i,o){zt("SimpleDb","DELETE ALL",this.store.name);const d=this.options(i,o);d.Y=!1;const p=this.cursor(d);return this.j(p,(_,I,k)=>k.delete())}Z(i,o){let d;o?d=i:(d={},o=i);const p=this.cursor(d);return this.j(p,o)}X(i){const o=this.cursor({});return new st((d,p)=>{o.onerror=_=>{const I=o0(_.target.error);p(I)},o.onsuccess=_=>{const I=_.target.result;I?i(I.primaryKey,I.value).next(k=>{k?I.continue():d()}):d()}})}j(i,o){const d=[];return new st((p,_)=>{i.onerror=I=>{_(I.target.error)},i.onsuccess=I=>{const k=I.target.result;if(!k)return void p();const F=new Kg(k),K=o(k.primaryKey,k.value,F);if(K instanceof st){const ne=K.catch(he=>(F.done(),st.reject(he)));d.push(ne)}F.isDone?p():null===F.U?k.continue():k.continue(F.U)}}).next(()=>st.waitFor(d))}options(i,o){let d;return void 0!==i&&("string"==typeof i?d=i:o=i),{index:d,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const d=this.store.index(i.index);return i.Y?d.openKeyCursor(i.range,o):d.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function _u(l){return new st((i,o)=>{l.onsuccess=d=>{i(d.target.result)},l.onerror=d=>{const p=o0(d.target.error);o(p)}})}let s0=!1;function o0(l){const i=kc.D((0,ke.z$)());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(o)>=0){const d=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return s0||(s0=!0,setTimeout(()=>{throw d},0)),d}}return l}class Wf{constructor(i,o){this.asyncQueue=i,this.ee=o,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(i){var o=this;zt("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,(0,b.Z)(function*(){o.task=null;try{zt("IndexBackiller",`Documents written: ${yield o.ee.ne()}`)}catch(d){fc(d)?zt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",d):yield Pl(d)}yield o.te(6e4)}))}}class Yg{constructor(i,o){this.localStore=i,this.persistence=o}ne(i=50){var o=this;return(0,b.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",d=>o.re(d,i))})()}re(i,o){const d=new Set;let p=o,_=!0;return st.doWhile(()=>!0===_&&p>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(I=>{if(null!==I&&!d.has(I))return zt("IndexBackiller",`Processing collection: ${I}`),this.ie(i,I,p).next(k=>{p-=k,d.add(I)});_=!1})).next(()=>o-p)}ie(i,o,d){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,o).next(p=>this.localStore.localDocuments.getNextDocuments(i,o,p,d).next(_=>{const I=_.changes;return this.localStore.indexManager.updateIndexEntries(i,I).next(()=>this.se(p,_)).next(k=>(zt("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(i,o,k))).next(()=>I.size)}))}se(i,o){let d=i;return o.changes.forEach((p,_)=>{const I=ly(_);qf(I,d)>0&&(d=I)}),new za(d.readTime,d.documentKey,Math.max(o.batchId,i.largestBatchId))}}let Ma=(()=>{class l{constructor(o,d){this.previousValue=o,d&&(d.sequenceNumberHandler=p=>this.oe(p),this._e=p=>d.writeSequenceNumber(p))}oe(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this._e&&this._e(o),o}}return l.ae=-1,l})();function Kf(l){return null==l}function yu(l){return 0===l&&1/l==-1/0}function a0(l){return"number"==typeof l&&Number.isInteger(l)&&!yu(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function No(l){let i="";for(let o=0;o<l.length;o++)i.length>0&&(i=l0(i)),i=c0(l.get(o),i);return l0(i)}function c0(l,i){let o=i;const d=l.length;for(let p=0;p<d;p++){const _=l.charAt(p);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function l0(l){return l+"\x01\x01"}function ol(l){const i=l.length;if(En(i>=2),2===i)return En("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Wn.emptyPath();const o=i-2,d=[];let p="";for(let _=0;_<i;){const I=l.indexOf("\x01",_);switch((I<0||I>o)&&Rn(),l.charAt(I+1)){case"\x01":const k=l.substring(_,I);let F;0===p.length?F=k:(p+=k,F=p,p=""),d.push(F);break;case"\x10":p+=l.substring(_,I),p+="\0";break;case"\x11":p+=l.substring(_,I+1);break;default:Rn()}_=I+2}return new Wn(d)}const Yf=["userId","batchId"];function Ml(l,i){return[l,No(i)]}function hy(l,i,o){return[l,No(i),o]}const ph={},Zg=["prefixPath","collectionGroup","readTime","documentId"],Zf=["prefixPath","collectionGroup","documentId"],Ew=["collectionGroup","readTime","prefixPath","documentId"],Qf=["canonicalId","targetId"],u0=["targetId","path"],Tw=["path","targetId"],al=["collectionId","parent"],ww=["indexId","uid"],gh=["uid","sequenceNumber"],no=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d0=["indexId","uid","orderedDocumentKey"],Po=["userId","collectionPath","documentId"],fy=["userId","collectionPath","largestBatchId"],h0=["userId","collectionGroup","largestBatchId"],py=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],f0=[...py,"documentOverlays"],gy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],my=gy,bw=[...my,"indexConfiguration","indexState","indexEntries"];class mh extends uy{constructor(i,o){super(),this.ue=i,this.currentSequenceNumber=o}}function us(l,i){const o=dn(l);return kc.O(o.ue,i)}function p0(l){let i=0;for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i++;return i}function kl(l,i){for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&i(o,l[o])}function _y(l){for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}class vi{constructor(i,o){this.comparator=i,this.root=o||pi.EMPTY}insert(i,o){return new vi(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(i){return new vi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,pi.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const d=this.comparator(i,o.key);if(0===d)return o.value;d<0?o=o.left:d>0&&(o=o.right)}return null}indexOf(i){let o=0,d=this.root;for(;!d.isEmpty();){const p=this.comparator(i,d.key);if(0===p)return o+d.left.size;p<0?d=d.left:(o+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,d)=>(i(o,d),!1))}toString(){const i=[];return this.inorderTraversal((o,d)=>(i.push(`${o}:${d}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Xf(this.root,i,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Xf(this.root,i,this.comparator,!0)}}class Xf{constructor(i,o,d,p){this.isReverse=p,this.nodeStack=[];let _=1;for(;!i.isEmpty();)if(_=o?d(i.key,o):1,o&&p&&(_*=-1),_<0)i=this.isReverse?i.left:i.right;else{if(0===_){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class pi{constructor(i,o,d,p,_){this.key=i,this.value=o,this.color=null!=d?d:pi.RED,this.left=null!=p?p:pi.EMPTY,this.right=null!=_?_:pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,d,p,_){return new pi(null!=i?i:this.key,null!=o?o:this.value,null!=d?d:this.color,null!=p?p:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,d){let p=this;const _=d(i,p.key);return p=_<0?p.copy(null,null,null,p.left.insert(i,o,d),null):0===_?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(i,o,d)),p.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let d,p=this;if(o(i,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(i,o),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===o(i,p.key)){if(p.right.isEmpty())return pi.EMPTY;d=p.right.min(),p=p.copy(d.key,d.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(i,o))}return p.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const i=this.left.check();if(i!==this.right.check())throw Rn();return i+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(i,o,d,p,_){return this}insert(i,o,d){return new pi(i,o)}remove(i,o){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(i){this.comparator=i,this.data=new vi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,d)=>(i(o),!1))}forEachInRange(i,o){const d=this.data.getIteratorFrom(i[0]);for(;d.hasNext();){const p=d.getNext();if(this.comparator(p.key,i[1])>=0)return;o(p.key)}}forEachWhile(i,o){let d;for(d=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();d.hasNext();)if(!i(d.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(i){return new yy(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(d=>{o=o.add(d)}),o}isEqual(i){if(!(i instanceof Gi)||this.size!==i.size)return!1;const o=this.data.getIterator(),d=i.data.getIterator();for(;o.hasNext();){const p=o.getNext().key,_=d.getNext().key;if(0!==this.comparator(p,_))return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new Gi(this.comparator);return o.data=i,o}}class yy{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nl(l){return l.hasNext()?l.getNext():void 0}class ka{constructor(i){this.fields=i,i.sort(sr.comparator)}static empty(){return new ka([])}unionWith(i){let o=new Gi(sr.comparator);for(const d of this.fields)o=o.add(d);for(const d of i)o=o.add(d);return new ka(o.toArray())}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return Qe(this.fields,i.fields,(o,d)=>o.isEqual(d))}}class vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Iy(){return typeof atob<"u"}class zi{constructor(i){this.binaryString=i}static fromBase64String(i){const o=function(p){try{return atob(p)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new vy("Invalid base64 string: "+_):_}}(i);return new zi(o)}static fromUint8Array(i){const o=function(p){let _="";for(let I=0;I<p.length;++I)_+=String.fromCharCode(p[I]);return _}(i);return new zi(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(o){const d=new Uint8Array(o.length);for(let p=0;p<o.length;p++)d[p]=o.charCodeAt(p);return d}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return se(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const _h=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(l){if(En(!!l),"string"==typeof l){let i=0;const o=_h.exec(l);if(En(!!o),o[1]){let p=o[1];p=(p+"000000000").substr(0,9),i=Number(p)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:i}}return{seconds:Es(l.seconds),nanos:Es(l.nanos)}}function Es(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Nc(l){return"string"==typeof l?zi.fromBase64String(l):zi.fromUint8Array(l)}function Ol(l){var i,o;return"server_timestamp"===(null===(o=((null===(i=null==l?void 0:l.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Ey(l){const i=l.mapValue.fields.__previous_value__;return Ol(i)?Ey(i):i}function ad(l){const i=Ha(l.mapValue.fields.__local_write_time__.timestampValue);return new Xe(i.seconds,i.nanos)}class Dw{constructor(i,o,d,p,_,I,k,F,K){this.databaseId=i,this.appId=o,this.persistenceKey=d,this.host=p,this.ssl=_,this.forceLongPolling=I,this.autoDetectLongPolling=k,this.longPollingOptions=F,this.useFetchStreams=K}}class vu{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof vu&&i.projectId===this.projectId&&i.database===this.database}}const cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ty={nullValue:"NULL_VALUE"};function ld(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ol(l)?4:YC(l)?9007199254740991:10:Rn()}function Mo(l,i){if(l===i)return!0;const o=ld(l);if(o!==ld(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return ad(l).isEqual(ad(i));case 3:return function(p,_){if("string"==typeof p.timestampValue&&"string"==typeof _.timestampValue&&p.timestampValue.length===_.timestampValue.length)return p.timestampValue===_.timestampValue;const I=Ha(p.timestampValue),k=Ha(_.timestampValue);return I.seconds===k.seconds&&I.nanos===k.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return _=i,Nc(l.bytesValue).isEqual(Nc(_.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(p,_){return Es(p.geoPointValue.latitude)===Es(_.geoPointValue.latitude)&&Es(p.geoPointValue.longitude)===Es(_.geoPointValue.longitude)}(l,i);case 2:return function(p,_){if("integerValue"in p&&"integerValue"in _)return Es(p.integerValue)===Es(_.integerValue);if("doubleValue"in p&&"doubleValue"in _){const I=Es(p.doubleValue),k=Es(_.doubleValue);return I===k?yu(I)===yu(k):isNaN(I)&&isNaN(k)}return!1}(l,i);case 9:return Qe(l.arrayValue.values||[],i.arrayValue.values||[],Mo);case 10:return function(p,_){const I=p.mapValue.fields||{},k=_.mapValue.fields||{};if(p0(I)!==p0(k))return!1;for(const F in I)if(I.hasOwnProperty(F)&&(void 0===k[F]||!Mo(I[F],k[F])))return!1;return!0}(l,i);default:return Rn()}var _}function Oc(l,i){return void 0!==(l.values||[]).find(o=>Mo(o,i))}function Ll(l,i){if(l===i)return 0;const o=ld(l),d=ld(i);if(o!==d)return se(o,d);switch(o){case 0:case 9007199254740991:return 0;case 1:return se(l.booleanValue,i.booleanValue);case 2:return function(_,I){const k=Es(_.integerValue||_.doubleValue),F=Es(I.integerValue||I.doubleValue);return k<F?-1:k>F?1:k===F?0:isNaN(k)?isNaN(F)?0:-1:1}(l,i);case 3:return Jf(l.timestampValue,i.timestampValue);case 4:return Jf(ad(l),ad(i));case 5:return se(l.stringValue,i.stringValue);case 6:return function(_,I){const k=Nc(_),F=Nc(I);return k.compareTo(F)}(l.bytesValue,i.bytesValue);case 7:return function(_,I){const k=_.split("/"),F=I.split("/");for(let K=0;K<k.length&&K<F.length;K++){const ne=se(k[K],F[K]);if(0!==ne)return ne}return se(k.length,F.length)}(l.referenceValue,i.referenceValue);case 8:return function(_,I){const k=se(Es(_.latitude),Es(I.latitude));return 0!==k?k:se(Es(_.longitude),Es(I.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(_,I){const k=_.values||[],F=I.values||[];for(let K=0;K<k.length&&K<F.length;++K){const ne=Ll(k[K],F[K]);if(ne)return ne}return se(k.length,F.length)}(l.arrayValue,i.arrayValue);case 10:return function(_,I){if(_===cd.mapValue&&I===cd.mapValue)return 0;if(_===cd.mapValue)return 1;if(I===cd.mapValue)return-1;const k=_.fields||{},F=Object.keys(k),K=I.fields||{},ne=Object.keys(K);F.sort(),ne.sort();for(let he=0;he<F.length&&he<ne.length;++he){const Ce=se(F[he],ne[he]);if(0!==Ce)return Ce;const Je=Ll(k[F[he]],K[ne[he]]);if(0!==Je)return Je}return se(F.length,ne.length)}(l.mapValue,i.mapValue);default:throw Rn()}}function Jf(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return se(l,i);const o=Ha(l),d=Ha(i),p=se(o.seconds,d.seconds);return 0!==p?p:se(o.nanos,d.nanos)}function Zi(l){return Qg(l)}function Qg(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(o){const d=Ha(o);return`time(${d.seconds},${d.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Nc(l.bytesValue).toBase64():"referenceValue"in l?Xt.fromName(l.referenceValue).toString():"geoPointValue"in l?function(o){return`geo(${o.latitude},${o.longitude})`}(l.geoPointValue):"arrayValue"in l?function(o){let d="[",p=!0;for(const _ of o.values||[])p?p=!1:d+=",",d+=Qg(_);return d+"]"}(l.arrayValue):"mapValue"in l?function(o){const d=Object.keys(o.fields||{}).sort();let p="{",_=!0;for(const I of d)_?_=!1:p+=",",p+=`${I}:${Qg(o.fields[I])}`;return p+"}"}(l.mapValue):Rn()}function Fl(l,i){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`}}function qa(l){return!!l&&"integerValue"in l}function cl(l){return!!l&&"arrayValue"in l}function wy(l){return!!l&&"nullValue"in l}function Xg(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Iu(l){return!!l&&"mapValue"in l}function ep(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const i={mapValue:{fields:{}}};return kl(l.mapValue.fields,(o,d)=>i.mapValue.fields[o]=ep(d)),i}if(l.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(l.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=ep(l.arrayValue.values[o]);return i}return Object.assign({},l)}function YC(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZC(l){return"nullValue"in l?Ty:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Fl(vu.empty(),Xt.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:Rn()}function uR(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Fl(vu.empty(),Xt.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?cd:Rn()}function Wa(l,i){const o=Ll(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?-1:!l.inclusive&&i.inclusive?1:0}function by(l,i){const o=Ll(l.value,i.value);return 0!==o?o:l.inclusive&&!i.inclusive?1:!l.inclusive&&i.inclusive?-1:0}class zs{constructor(i){this.value=i}static empty(){return new zs({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let d=0;d<i.length-1;++d)if(o=(o.mapValue.fields||{})[i.get(d)],!Iu(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=ep(o)}setAll(i){let o=sr.emptyPath(),d={},p=[];i.forEach((I,k)=>{if(!o.isImmediateParentOf(k)){const F=this.getFieldsMap(o);this.applyChanges(F,d,p),d={},p=[],o=k.popLast()}I?d[k.lastSegment()]=ep(I):p.push(k.lastSegment())});const _=this.getFieldsMap(o);this.applyChanges(_,d,p)}delete(i){const o=this.field(i.popLast());Iu(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return Mo(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let d=0;d<i.length;++d){let p=o.mapValue.fields[i.get(d)];Iu(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},o.mapValue.fields[i.get(d)]=p),o=p}return o.mapValue.fields}applyChanges(i,o,d){kl(o,(p,_)=>i[p]=_);for(const p of d)delete i[p]}clone(){return new zs(ep(this.value))}}function Cw(l){const i=[];return kl(l.fields,(o,d)=>{const p=new sr([o]);if(Iu(d)){const _=Cw(d.mapValue).fields;if(0===_.length)i.push(p);else for(const I of _)i.push(p.child(I))}else i.push(p)}),new ka(i)}class Qi{constructor(i,o,d,p,_,I,k){this.key=i,this.documentType=o,this.version=d,this.readTime=p,this.createTime=_,this.data=I,this.documentState=k}static newInvalidDocument(i){return new Qi(i,0,yt.min(),yt.min(),yt.min(),zs.empty(),0)}static newFoundDocument(i,o,d,p){return new Qi(i,1,o,yt.min(),d,p,0)}static newNoDocument(i,o){return new Qi(i,2,o,yt.min(),yt.min(),zs.empty(),0)}static newUnknownDocument(i,o){return new Qi(i,3,o,yt.min(),yt.min(),zs.empty(),2)}convertToFoundDocument(i,o){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=i),this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Qi&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vl{constructor(i,o){this.position=i,this.inclusive=o}}function Dy(l,i,o){let d=0;for(let p=0;p<l.position.length;p++){const _=i[p],I=l.position[p];if(d=_.field.isKeyField()?Xt.comparator(Xt.fromName(I.referenceValue),o.key):Ll(I,o.data.field(_.field)),"desc"===_.dir&&(d*=-1),0!==d)break}return d}function g0(l,i){if(null===l)return null===i;if(null===i||l.inclusive!==i.inclusive||l.position.length!==i.position.length)return!1;for(let o=0;o<l.position.length;o++)if(!Mo(l.position[o],i.position[o]))return!1;return!0}class yh{constructor(i,o="asc"){this.field=i,this.dir=o}}function Aw(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}class tp{}class Vr extends tp{constructor(i,o,d){super(),this.field=i,this.op=o,this.value=d}static create(i,o,d){return i.isKeyField()?"in"===o||"not-in"===o?this.createKeyFieldInFilter(i,o,d):new Sw(i,o,d):"array-contains"===o?new Eh(i,d):"in"===o?new rp(i,d):"not-in"===o?new _0(i,d):"array-contains-any"===o?new Jg(i,d):new Vr(i,o,d)}static createKeyFieldInFilter(i,o,d){return"in"===o?new m0(i,d):new xw(i,d)}matches(i){const o=i.data.field(this.field);return"!="===this.op?null!==o&&this.matchesComparison(Ll(o,this.value)):null!==o&&ld(this.value)===ld(o)&&this.matchesComparison(Ll(o,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class oi extends tp{constructor(i,o){super(),this.filters=i,this.op=o,this.ce=null}static create(i,o){return new oi(i,o)}matches(i){return vh(this)?void 0===this.filters.find(o=>!o.matches(i)):void 0!==this.filters.find(o=>o.matches(i))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((i,o)=>i.concat(o.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const i=this.le(o=>o.isInequality());return null!==i?i.field:null}le(i){for(const o of this.getFlattenedFilters())if(i(o))return o;return null}}function vh(l){return"and"===l.op}function ud(l){return"or"===l.op}function dd(l){return Ih(l)&&vh(l)}function Ih(l){for(const i of l.filters)if(i instanceof oi)return!1;return!0}function Cy(l){if(l instanceof Vr)return l.field.canonicalString()+l.op.toString()+Zi(l.value);if(dd(l))return l.filters.map(i=>Cy(i)).join(",");{const i=l.filters.map(o=>Cy(o)).join(",");return`${l.op}(${i})`}}function Ay(l,i){return l instanceof Vr?(d=l,(p=i)instanceof Vr&&d.op===p.op&&d.field.isEqual(p.field)&&Mo(d.value,p.value)):l instanceof oi?function(d,p){return p instanceof oi&&d.op===p.op&&d.filters.length===p.filters.length&&d.filters.reduce((_,I,k)=>_&&Ay(I,p.filters[k]),!0)}(l,i):void Rn();var d,p}function Sy(l,i){const o=l.filters.concat(i);return oi.create(o,l.op)}function np(l){return l instanceof Vr?`${(o=l).field.canonicalString()} ${o.op} ${Zi(o.value)}`:l instanceof oi?function(o){return o.op.toString()+" {"+o.getFilters().map(np).join(" ,")+"}"}(l):"Filter";var o}class Sw extends Vr{constructor(i,o,d){super(i,o,d),this.key=Xt.fromName(d.referenceValue)}matches(i){const o=Xt.comparator(i.key,this.key);return this.matchesComparison(o)}}class m0 extends Vr{constructor(i,o){super(i,"in",o),this.keys=Eu(0,o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class xw extends Vr{constructor(i,o){super(i,"not-in",o),this.keys=Eu(0,o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function Eu(l,i){var o;return((null===(o=i.arrayValue)||void 0===o?void 0:o.values)||[]).map(d=>Xt.fromName(d.referenceValue))}class Eh extends Vr{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return cl(o)&&Oc(o.arrayValue,this.value)}}class rp extends Vr{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return null!==o&&Oc(this.value.arrayValue,o)}}class _0 extends Vr{constructor(i,o){super(i,"not-in",o)}matches(i){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return null!==o&&!Oc(this.value.arrayValue,o)}}class Jg extends Vr{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!cl(o)||!o.arrayValue.values)&&o.arrayValue.values.some(d=>Oc(this.value.arrayValue,d))}}class xy{constructor(i,o=null,d=[],p=[],_=null,I=null,k=null){this.path=i,this.collectionGroup=o,this.orderBy=d,this.filters=p,this.limit=_,this.startAt=I,this.endAt=k,this.he=null}}function em(l,i=null,o=[],d=[],p=null,_=null,I=null){return new xy(l,i,o,d,p,_,I)}function Bl(l){const i=dn(l);if(null===i.he){let o=i.path.canonicalString();null!==i.collectionGroup&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(d=>Cy(d)).join(","),o+="|ob:",o+=i.orderBy.map(d=>{return(_=d).field.canonicalString()+_.dir;var _}).join(","),Kf(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(d=>Zi(d)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(d=>Zi(d)).join(",")),i.he=o}return i.he}function hd(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(let o=0;o<l.orderBy.length;o++)if(!Aw(l.orderBy[o],i.orderBy[o]))return!1;if(l.filters.length!==i.filters.length)return!1;for(let o=0;o<l.filters.length;o++)if(!Ay(l.filters[o],i.filters[o]))return!1;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!g0(l.startAt,i.startAt)&&g0(l.endAt,i.endAt)}function Th(l){return Xt.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function wh(l,i){return l.filters.filter(o=>o instanceof Vr&&o.field.isEqual(i))}function y0(l,i,o){let d=Ty,p=!0;for(const _ of wh(l,i)){let I=Ty,k=!0;switch(_.op){case"<":case"<=":I=ZC(_.value);break;case"==":case"in":case">=":I=_.value;break;case">":I=_.value,k=!1;break;case"!=":case"not-in":I=Ty}Wa({value:d,inclusive:p},{value:I,inclusive:k})<0&&(d=I,p=k)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(i)){const I=o.position[_];Wa({value:d,inclusive:p},{value:I,inclusive:o.inclusive})<0&&(d=I,p=o.inclusive);break}return{value:d,inclusive:p}}function Rw(l,i,o){let d=cd,p=!0;for(const _ of wh(l,i)){let I=cd,k=!0;switch(_.op){case">=":case">":I=uR(_.value),k=!1;break;case"==":case"in":case"<=":I=_.value;break;case"<":I=_.value,k=!1;break;case"!=":case"not-in":I=cd}by({value:d,inclusive:p},{value:I,inclusive:k})>0&&(d=I,p=k)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(i)){const I=o.position[_];by({value:d,inclusive:p},{value:I,inclusive:o.inclusive})>0&&(d=I,p=o.inclusive);break}return{value:d,inclusive:p}}class pc{constructor(i,o=null,d=[],p=[],_=null,I="F",k=null,F=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=d,this.filters=p,this.limit=_,this.limitType=I,this.startAt=k,this.endAt=F,this.Pe=null,this.Ie=null,this.de=null}}function Ry(l,i,o,d,p,_,I,k){return new pc(l,i,o,d,p,_,I,k)}function gc(l){return new pc(l)}function v0(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Py(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}function bh(l){for(const i of l.filters){const o=i.getFirstInequalityField();if(null!==o)return o}return null}function Lc(l){return null!==l.collectionGroup}function ip(l){const i=dn(l);if(null===i.Pe){i.Pe=[];const o=bh(i),d=Py(i);if(null!==o&&null===d)o.isKeyField()||i.Pe.push(new yh(o)),i.Pe.push(new yh(sr.keyField(),"asc"));else{let p=!1;for(const _ of i.explicitOrderBy)i.Pe.push(_),_.field.isKeyField()&&(p=!0);if(!p){const _=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.Pe.push(new yh(sr.keyField(),_))}}}return i.Pe}function ro(l){const i=dn(l);return i.Ie||(i.Ie=function My(l,i){if("F"===l.limitType)return em(l.path,l.collectionGroup,i,l.filters,l.limit,l.startAt,l.endAt);{i=i.map(p=>new yh(p.field,"desc"===p.dir?"asc":"desc"));const o=l.endAt?new Vl(l.endAt.position,l.endAt.inclusive):null,d=l.startAt?new Vl(l.startAt.position,l.startAt.inclusive):null;return em(l.path,l.collectionGroup,i,l.filters,l.limit,o,d)}}(i,ip(l))),i.Ie}function Pw(l,i){i.getFirstInequalityField(),bh(l);const o=l.filters.concat([i]);return new pc(l.path,l.collectionGroup,l.explicitOrderBy.slice(),o,l.limit,l.limitType,l.startAt,l.endAt)}function ky(l,i,o){return new pc(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),i,o,l.startAt,l.endAt)}function tm(l,i){return hd(ro(l),ro(i))&&l.limitType===i.limitType}function Mw(l){return`${Bl(ro(l))}|lt:${l.limitType}`}function fd(l){return`Query(target=${function(o){let d=o.path.canonicalString();return null!==o.collectionGroup&&(d+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(d+=`, filters: [${o.filters.map(p=>np(p)).join(", ")}]`),Kf(o.limit)||(d+=", limit: "+o.limit),o.orderBy.length>0&&(d+=`, orderBy: [${o.orderBy.map(p=>{return`${(I=p).field.canonicalString()} (${I.dir})`;var I}).join(", ")}]`),o.startAt&&(d+=", startAt: ",d+=o.startAt.inclusive?"b:":"a:",d+=o.startAt.position.map(p=>Zi(p)).join(",")),o.endAt&&(d+=", endAt: ",d+=o.endAt.inclusive?"a:":"b:",d+=o.endAt.position.map(p=>Zi(p)).join(",")),`Target(${d})`}(ro(l))}; limitType=${l.limitType})`}function ll(l,i){return i.isFoundDocument()&&function(d,p){const _=p.key.path;return null!==d.collectionGroup?p.key.hasCollectionId(d.collectionGroup)&&d.path.isPrefixOf(_):Xt.isDocumentKey(d.path)?d.path.isEqual(_):d.path.isImmediateParentOf(_)}(l,i)&&function(d,p){for(const _ of ip(d))if(!_.field.isKeyField()&&null===p.data.field(_.field))return!1;return!0}(l,i)&&function(d,p){for(const _ of d.filters)if(!_.matches(p))return!1;return!0}(l,i)&&(p=i,!((d=l).startAt&&!function(I,k,F){const K=Dy(I,k,F);return I.inclusive?K<=0:K<0}(d.startAt,ip(d),p)||d.endAt&&!function(I,k,F){const K=Dy(I,k,F);return I.inclusive?K>=0:K>0}(d.endAt,ip(d),p)));var d,p}function pd(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function nm(l){return(i,o)=>{let d=!1;for(const p of ip(l)){const _=I0(p,i,o);if(0!==_)return _;d=d||p.field.isKeyField()}return 0}}function I0(l,i,o){const d=l.field.isKeyField()?Xt.comparator(i.key,o.key):function(_,I,k){const F=I.data.field(_),K=k.data.field(_);return null!==F&&null!==K?Ll(F,K):Rn()}(l.field,i,o);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return Rn()}}class mc{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0!==d)for(const[p,_]of d)if(this.equalsFn(p,i))return _}has(i){return void 0!==this.get(i)}set(i,o){const d=this.mapKeyFn(i),p=this.inner[d];if(void 0===p)return this.inner[d]=[[i,o]],void this.innerSize++;for(let _=0;_<p.length;_++)if(this.equalsFn(p[_][0],i))return void(p[_]=[i,o]);p.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),d=this.inner[o];if(void 0===d)return!1;for(let p=0;p<d.length;p++)if(this.equalsFn(d[p][0],i))return 1===d.length?delete this.inner[o]:d.splice(p,1),this.innerSize--,!0;return!1}forEach(i){kl(this.inner,(o,d)=>{for(const[p,_]of d)i(p,_)})}isEmpty(){return _y(this.inner)}size(){return this.innerSize}}const E0=new vi(Xt.comparator);function go(){return E0}const Ny=new vi(Xt.comparator);function Dh(...l){let i=Ny;for(const o of l)i=i.insert(o.key,o);return i}function sp(l){let i=Ny;return l.forEach((o,d)=>i=i.insert(o,d.overlayedDocument)),i}function _c(){return im()}function rm(){return im()}function im(){return new mc(l=>l.toString(),(l,i)=>l.isEqual(i))}const kw=new vi(Xt.comparator),QC=new Gi(Xt.comparator);function Rr(...l){let i=QC;for(const o of l)i=i.add(o);return i}const T0=new Gi(se);function sm(){return T0}function Oy(l,i){if(l.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(i)?"-0":i}}function Ly(l){return{integerValue:""+l}}function om(l,i){return a0(i)?Ly(i):Oy(l,i)}class op{constructor(){this._=void 0}}function w0(l,i,o){return l instanceof Tu?function(p,_){const I={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return _&&Ol(_)&&(_=Ey(_)),_&&(I.fields.__previous_value__=_),{mapValue:I}}(o,i):l instanceof ul?mo(l,i):l instanceof yc?Fy(l,i):function(p,_){const I=ap(p,_),k=b0(I)+b0(p.Te);return qa(I)&&qa(p.Te)?Ly(k):Oy(p.serializer,k)}(l,i)}function fa(l,i,o){return l instanceof ul?mo(l,i):l instanceof yc?Fy(l,i):o}function ap(l,i){return l instanceof Si?qa(d=i)||(_=d)&&"doubleValue"in _?i:{integerValue:0}:null;var d,_}class Tu extends op{}class ul extends op{constructor(i){super(),this.elements=i}}function mo(l,i){const o=Ch(i);for(const d of l.elements)o.some(p=>Mo(p,d))||o.push(d);return{arrayValue:{values:o}}}class yc extends op{constructor(i){super(),this.elements=i}}function Fy(l,i){let o=Ch(i);for(const d of l.elements)o=o.filter(p=>!Mo(p,d));return{arrayValue:{values:o}}}class Si extends op{constructor(i,o){super(),this.serializer=i,this.Te=o}}function b0(l){return Es(l.integerValue||l.doubleValue)}function Ch(l){return cl(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class gd{constructor(i,o){this.field=i,this.transform=o}}class Nw{constructor(i,o){this.version=i,this.transformResults=o}}class Xi{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new Xi}static exists(i){return new Xi(void 0,i)}static updateTime(i){return new Xi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function cp(l,i){return void 0!==l.updateTime?i.isFoundDocument()&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i.isFoundDocument()}class am{}function cm(l,i){if(!l.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return l.isNoDocument()?new $l(l.key,Xi.none()):new wu(l.key,l.data,Xi.none());{const o=l.data,d=zs.empty();let p=new Gi(sr.comparator);for(let _ of i.fields)if(!p.has(_)){let I=o.field(_);null===I&&_.length>1&&(_=_.popLast(),I=o.field(_)),null===I?d.delete(_):d.set(_,I),p=p.add(_)}return new vc(l.key,d,new ka(p.toArray()),Xi.none())}}function Vy(l,i,o){l instanceof wu?function(p,_,I){const k=p.value.clone(),F=Sh(p.fieldTransforms,_,I.transformResults);k.setAll(F),_.convertToFoundDocument(I.version,k).setHasCommittedMutations()}(l,i,o):l instanceof vc?function(p,_,I){if(!cp(p.precondition,_))return void _.convertToUnknownDocument(I.version);const k=Sh(p.fieldTransforms,_,I.transformResults),F=_.data;F.setAll(Ah(p)),F.setAll(k),_.convertToFoundDocument(I.version,F).setHasCommittedMutations()}(l,i,o):i.convertToNoDocument(o.version).setHasCommittedMutations()}function lp(l,i,o,d){return l instanceof wu?function(_,I,k,F){if(!cp(_.precondition,I))return k;const K=_.value.clone(),ne=md(_.fieldTransforms,F,I);return K.setAll(ne),I.convertToFoundDocument(I.version,K).setHasLocalMutations(),null}(l,i,o,d):l instanceof vc?function(_,I,k,F){if(!cp(_.precondition,I))return k;const K=md(_.fieldTransforms,F,I),ne=I.data;return ne.setAll(Ah(_)),ne.setAll(K),I.convertToFoundDocument(I.version,ne).setHasLocalMutations(),null===k?null:k.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(he=>he.field))}(l,i,o,d):(k=o,cp(l.precondition,I=i)?(I.convertToNoDocument(I.version).setHasLocalMutations(),null):k);var I,k}function Hs(l,i){let o=null;for(const d of l.fieldTransforms){const p=i.data.field(d.field),_=ap(d.transform,p||null);null!=_&&(null===o&&(o=zs.empty()),o.set(d.field,_))}return o||null}function up(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.precondition.isEqual(i.precondition)&&(p=i.fieldTransforms,!!(void 0===(d=l.fieldTransforms)&&void 0===p||d&&p&&Qe(d,p,(_,I)=>function D0(l,i){return l.field.isEqual(i.field)&&(p=i.transform,(d=l.transform)instanceof ul&&p instanceof ul||d instanceof yc&&p instanceof yc?Qe(d.elements,p.elements,Mo):d instanceof Si&&p instanceof Si?Mo(d.Te,p.Te):d instanceof Tu&&p instanceof Tu);var d,p}(_,I))))&&(0===l.type?l.value.isEqual(i.value):1!==l.type||l.data.isEqual(i.data)&&l.fieldMask.isEqual(i.fieldMask));var d,p}class wu extends am{constructor(i,o,d,p=[]){super(),this.key=i,this.value=o,this.precondition=d,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class vc extends am{constructor(i,o,d,p,_=[]){super(),this.key=i,this.data=o,this.fieldMask=d,this.precondition=p,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Ah(l){const i=new Map;return l.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const d=l.data.field(o);i.set(o,d)}}),i}function Sh(l,i,o){const d=new Map;En(l.length===o.length);for(let p=0;p<o.length;p++){const _=l[p],I=_.transform,k=i.data.field(_.field);d.set(_.field,fa(I,k,o[p]))}return d}function md(l,i,o){const d=new Map;for(const p of l){const _=p.transform,I=o.data.field(p.field);d.set(p.field,w0(_,I,i))}return d}class $l extends am{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dp extends am{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hp{constructor(i,o,d,p){this.batchId=i,this.localWriteTime=o,this.baseMutations=d,this.mutations=p}applyToRemoteDocument(i,o){const d=o.mutationResults;for(let p=0;p<this.mutations.length;p++){const _=this.mutations[p];_.key.isEqual(i.key)&&Vy(_,i,d[p])}}applyToLocalView(i,o){for(const d of this.baseMutations)d.key.isEqual(i.key)&&(o=lp(d,i,o,this.localWriteTime));for(const d of this.mutations)d.key.isEqual(i.key)&&(o=lp(d,i,o,this.localWriteTime));return o}applyToLocalDocumentSet(i,o){const d=rm();return this.mutations.forEach(p=>{const _=i.get(p.key),I=_.overlayedDocument;let k=this.applyToLocalView(I,_.mutatedFields);k=o.has(p.key)?null:k;const F=cm(I,k);null!==F&&d.set(p.key,F),I.isValidDocument()||I.convertToNoDocument(yt.min())}),d}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),Rr())}isEqual(i){return this.batchId===i.batchId&&Qe(this.mutations,i.mutations,(o,d)=>up(o,d))&&Qe(this.baseMutations,i.baseMutations,(o,d)=>up(o,d))}}class xh{constructor(i,o,d,p){this.batch=i,this.commitVersion=o,this.mutationResults=d,this.docVersions=p}static from(i,o,d){En(i.mutations.length===d.length);let p=kw;const _=i.mutations;for(let I=0;I<_.length;I++)p=p.insert(_[I].key,d[I].version);return new xh(i,o,d,p)}}class _d{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lm{constructor(i,o){this.count=i,this.unchangedNames=o}}var qs,ni;function A0(l){switch(l){default:return Rn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function By(l){if(void 0===l)return At("GRPC error has no .code"),lt.UNKNOWN;switch(l){case qs.OK:return lt.OK;case qs.CANCELLED:return lt.CANCELLED;case qs.UNKNOWN:return lt.UNKNOWN;case qs.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case qs.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case qs.INTERNAL:return lt.INTERNAL;case qs.UNAVAILABLE:return lt.UNAVAILABLE;case qs.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case qs.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case qs.NOT_FOUND:return lt.NOT_FOUND;case qs.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case qs.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case qs.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case qs.ABORTED:return lt.ABORTED;case qs.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case qs.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case qs.DATA_LOSS:return lt.DATA_LOSS;default:return Rn()}}(ni=qs||(qs={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";function fp(){return new TextEncoder}const um=new Ir([4294967295,4294967295],0);function $y(l){const i=fp().encode(l),o=new vr;return o.update(i),new Uint8Array(o.digest())}function Rh(l){const i=new DataView(l.buffer),o=i.getUint32(0,!0),d=i.getUint32(4,!0),p=i.getUint32(8,!0),_=i.getUint32(12,!0);return[new Ir([o,d],0),new Ir([p,_],0)]}class pp{constructor(i,o,d){if(this.bitmap=i,this.padding=o,this.hashCount=d,o<0||o>=8)throw new bu(`Invalid padding: ${o}`);if(d<0)throw new bu(`Invalid hash count: ${d}`);if(i.length>0&&0===this.hashCount)throw new bu(`Invalid hash count: ${d}`);if(0===i.length&&0!==o)throw new bu(`Invalid padding when bitmap length is 0: ${o}`);this.Ae=8*i.length-o,this.Re=Ir.fromNumber(this.Ae)}Ve(i,o,d){let p=i.add(o.multiply(Ir.fromNumber(d)));return 1===p.compare(um)&&(p=new Ir([p.getBits(0),p.getBits(1)],0)),p.modulo(this.Re).toNumber()}me(i){return 0!=(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(0===this.Ae)return!1;const o=$y(i),[d,p]=Rh(o);for(let _=0;_<this.hashCount;_++){const I=this.Ve(d,p,_);if(!this.me(I))return!1}return!0}static create(i,o,d){const p=i%8==0?0:8-i%8,_=new Uint8Array(Math.ceil(i/8)),I=new pp(_,p,o);return d.forEach(k=>I.insert(k)),I}insert(i){if(0===this.Ae)return;const o=$y(i),[d,p]=Rh(o);for(let _=0;_<this.hashCount;_++){const I=this.Ve(d,p,_);this.fe(I)}}fe(i){const o=Math.floor(i/8);this.bitmap[o]|=1<<i%8}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fc{constructor(i,o,d,p,_){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=d,this.documentUpdates=p,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(i,o,d){const p=new Map;return p.set(i,Du.createSynthesizedTargetChangeForCurrentChange(i,o,d)),new Fc(yt.min(),p,new vi(se),go(),Rr())}}class Du{constructor(i,o,d,p,_){this.resumeToken=i,this.current=o,this.addedDocuments=d,this.modifiedDocuments=p,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(i,o,d){return new Du(d,o,Rr(),Rr(),Rr())}}class vd{constructor(i,o,d,p){this.ge=i,this.removedTargetIds=o,this.key=d,this.pe=p}}class S0{constructor(i,o){this.targetId=i,this.ye=o}}class Ow{constructor(i,o,d=zi.EMPTY_BYTE_STRING,p=null){this.state=i,this.targetIds=o,this.resumeToken=d,this.cause=p}}class gp{constructor(){this.we=0,this.Se=mp(),this.be=zi.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(i){i.approximateByteSize()>0&&(this.Ce=!0,this.be=i)}xe(){let i=Rr(),o=Rr(),d=Rr();return this.Se.forEach((p,_)=>{switch(_){case 0:i=i.add(p);break;case 2:o=o.add(p);break;case 1:d=d.add(p);break;default:Rn()}}),new Du(this.be,this.De,i,o,d)}Oe(){this.Ce=!1,this.Se=mp()}Ne(i,o){this.Ce=!0,this.Se=this.Se.insert(i,o)}Be(i){this.Ce=!0,this.Se=this.Se.remove(i)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class dm{constructor(i){this.Qe=i,this.Ke=new Map,this.$e=go(),this.Ue=hm(),this.We=new vi(se)}Ge(i){for(const o of i.ge)i.pe&&i.pe.isFoundDocument()?this.ze(o,i.pe):this.je(o,i.key,i.pe);for(const o of i.removedTargetIds)this.je(o,i.key,i.pe)}He(i){this.forEachTarget(i,o=>{const d=this.Je(o);switch(i.state){case 0:this.Ye(o)&&d.Me(i.resumeToken);break;case 1:d.ke(),d.ve||d.Oe(),d.Me(i.resumeToken);break;case 2:d.ke(),d.ve||this.removeTarget(o);break;case 3:this.Ye(o)&&(d.qe(),d.Me(i.resumeToken));break;case 4:this.Ye(o)&&(this.Ze(o),d.Me(i.resumeToken));break;default:Rn()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.Ke.forEach((d,p)=>{this.Ye(p)&&o(p)})}Xe(i){const o=i.targetId,d=i.ye.count,p=this.et(o);if(p){const _=p.target;if(Th(_))if(0===d){const I=new Xt(_.path);this.je(o,I,Qi.newNoDocument(I,yt.min()))}else En(1===d);else{const I=this.tt(o);if(I!==d){const k=this.nt(i),F=k?this.rt(k,i,I):1;0!==F&&(this.Ze(o),this.We=this.We.insert(o,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(i){const o=i.ye.unchangedNames;if(!o||!o.bits)return null;const{bits:{bitmap:d="",padding:p=0},hashCount:_=0}=o;let I,k;try{I=Nc(d).toUint8Array()}catch(F){if(F instanceof vy)return _r("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{k=new pp(I,p,_)}catch(F){return _r(F instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===k.Ae?null:k}rt(i,o,d){return o.ye.count===d-this.ot(i,o.targetId)?0:2}ot(i,o){const d=this.Qe.getRemoteKeysForTarget(o);let p=0;return d.forEach(_=>{const I=this.Qe.st(),k=`projects/${I.projectId}/databases/${I.database}/documents/${_.path.canonicalString()}`;i.mightContain(k)||(this.je(o,_,null),p++)}),p}_t(i){const o=new Map;this.Ke.forEach((_,I)=>{const k=this.et(I);if(k){if(_.current&&Th(k.target)){const F=new Xt(k.target.path);null!==this.$e.get(F)||this.ut(I,F)||this.je(I,F,Qi.newNoDocument(F,i))}_.Fe&&(o.set(I,_.xe()),_.Oe())}});let d=Rr();this.Ue.forEach((_,I)=>{let k=!0;I.forEachWhile(F=>{const K=this.et(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(k=!1,!1)}),k&&(d=d.add(_))}),this.$e.forEach((_,I)=>I.setReadTime(i));const p=new Fc(i,o,this.We,this.$e,d);return this.$e=go(),this.Ue=hm(),this.We=new vi(se),p}ze(i,o){if(!this.Ye(i))return;const d=this.ut(i,o.key)?2:0;this.Je(i).Ne(o.key,d),this.$e=this.$e.insert(o.key,o),this.Ue=this.Ue.insert(o.key,this.ct(o.key).add(i))}je(i,o,d){if(!this.Ye(i))return;const p=this.Je(i);this.ut(i,o)?p.Ne(o,1):p.Be(o),this.Ue=this.Ue.insert(o,this.ct(o).delete(i)),d&&(this.$e=this.$e.insert(o,d))}removeTarget(i){this.Ke.delete(i)}tt(i){const o=this.Je(i).xe();return this.Qe.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Le(i){this.Je(i).Le()}Je(i){let o=this.Ke.get(i);return o||(o=new gp,this.Ke.set(i,o)),o}ct(i){let o=this.Ue.get(i);return o||(o=new Gi(se),this.Ue=this.Ue.insert(i,o)),o}Ye(i){const o=null!==this.et(i);return o||zt("WatchChangeAggregator","Detected inactive target",i),o}et(i){const o=this.Ke.get(i);return o&&o.ve?null:this.Qe.lt(i)}Ze(i){this.Ke.set(i,new gp),this.Qe.getRemoteKeysForTarget(i).forEach(o=>{this.je(i,o,null)})}ut(i,o){return this.Qe.getRemoteKeysForTarget(i).has(o)}}function hm(){return new vi(Xt.comparator)}function mp(){return new vi(Xt.comparator)}const fm={asc:"ASCENDING",desc:"DESCENDING"},pm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x0={and:"AND",or:"OR"};class _p{constructor(i,o){this.databaseId=i,this.useProto3Json=o}}function Ic(l,i){return l.useProto3Json||Kf(i)?i:{value:i}}function Cu(l,i){return l.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function gm(l,i){return l.useProto3Json?i.toBase64():i.toUint8Array()}function mm(l,i){return Cu(l,i.toTimestamp())}function Ms(l){return En(!!l),yt.fromTimestamp(function(o){const d=Ha(o);return new Xe(d.seconds,d.nanos)}(l))}function yp(l,i){return(d=l,new Wn(["projects",d.projectId,"databases",d.database])).child("documents").child(i).canonicalString();var d}function Ph(l){const i=Wn.fromString(l);return En(Em(i)),i}function vp(l,i){return yp(l.databaseId,i.path)}function Vc(l,i){const o=Ph(i);if(o.get(1)!==l.databaseId.projectId)throw new Vt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+l.databaseId.projectId);if(o.get(3)!==l.databaseId.database)throw new Vt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+l.databaseId.database);return new Xt(_m(o))}function Uy(l,i){return yp(l.databaseId,i)}function R0(l){const i=Ph(l);return 4===i.length?Wn.emptyPath():_m(i)}function Au(l){return new Wn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function _m(l){return En(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function ym(l,i,o){return{name:vp(l,i),fields:o.value.mapValue.fields}}function Ip(l,i,o){const d=Vc(l,i.name),p=Ms(i.updateTime),_=i.createTime?Ms(i.createTime):yt.min(),I=new zs({mapValue:{fields:i.fields}}),k=Qi.newFoundDocument(d,p,_,I);return o&&k.setHasCommittedMutations(),o?k.setHasCommittedMutations():k}function kh(l,i){let o;if(i instanceof wu)o={update:ym(l,i.key,i.value)};else if(i instanceof $l)o={delete:vp(l,i.key)};else if(i instanceof vc)o={update:ym(l,i.key,i.data),updateMask:k0(i.fieldMask)};else{if(!(i instanceof dp))return Rn();o={verify:vp(l,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(d=>function(_,I){const k=I.transform;if(k instanceof Tu)return{fieldPath:I.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(k instanceof ul)return{fieldPath:I.field.canonicalString(),appendMissingElements:{values:k.elements}};if(k instanceof yc)return{fieldPath:I.field.canonicalString(),removeAllFromArray:{values:k.elements}};if(k instanceof Si)return{fieldPath:I.field.canonicalString(),increment:k.Te};throw Rn()}(0,d))),i.precondition.isNone||(o.currentDocument=void 0!==(_=i.precondition).updateTime?{updateTime:mm(l,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Rn()),o;var _}function vm(l,i){const o=i.currentDocument?void 0!==(_=i.currentDocument).updateTime?Xi.updateTime(Ms(_.updateTime)):void 0!==_.exists?Xi.exists(_.exists):Xi.none():Xi.none(),d=i.updateTransforms?i.updateTransforms.map(p=>function(I,k){let F=null;"setToServerValue"in k?(En("REQUEST_TIME"===k.setToServerValue),F=new Tu):"appendMissingElements"in k?F=new ul(k.appendMissingElements.values||[]):"removeAllFromArray"in k?F=new yc(k.removeAllFromArray.values||[]):"increment"in k?F=new Si(I,k.increment):Rn();const K=sr.fromServerFormat(k.fieldPath);return new gd(K,F)}(l,p)):[];var _;if(i.update){const p=Vc(l,i.update.name),_=new zs({mapValue:{fields:i.update.fields}});if(i.updateMask){const I=new ka((i.updateMask.fieldPaths||[]).map(ne=>sr.fromServerFormat(ne)));return new vc(p,_,I,o,d)}return new wu(p,_,o,d)}if(i.delete){const p=Vc(l,i.delete);return new $l(p,o)}if(i.verify){const p=Vc(l,i.verify);return new dp(p,o)}return Rn()}function Gy(l,i){return{documents:[Uy(l,i.path)]}}function Nh(l,i){const o={structuredQuery:{}},d=i.path;null!==i.collectionGroup?(o.parent=Uy(l,d),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=Uy(l,d.popLast()),o.structuredQuery.from=[{collectionId:d.lastSegment()}]);const p=function(F){if(0!==F.length)return M0(oi.create(F,"and"))}(i.filters);p&&(o.structuredQuery.where=p);const _=function(F){if(0!==F.length)return F.map(K=>{return{field:Ul((he=K).field),direction:P0(he.dir)};var he})}(i.orderBy);_&&(o.structuredQuery.orderBy=_);const I=Ic(l,i.limit);return null!==I&&(o.structuredQuery.limit=I),i.startAt&&(o.structuredQuery.startAt={before:(F=i.startAt).inclusive,values:F.position}),i.endAt&&(o.structuredQuery.endAt=function(F){return{before:!F.inclusive,values:F.position}}(i.endAt)),o;var F}function Fw(l){let i=R0(l.parent);const o=l.structuredQuery,d=o.from?o.from.length:0;let p=null;if(d>0){En(1===d);const ne=o.from[0];ne.allDescendants?p=ne.collectionId:i=i.child(ne.collectionId)}let _=[];o.where&&(_=function(he){const Ce=Im(he);return Ce instanceof oi&&dd(Ce)?Ce.getFilters():[Ce]}(o.where));let I=[];o.orderBy&&(I=o.orderBy.map(Ce=>{return new yh(Su((xt=Ce).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let k=null;o.limit&&(k=function(he){let Ce;return Ce="object"==typeof he?he.value:he,Kf(Ce)?null:Ce}(o.limit));let F=null;var he;o.startAt&&(F=new Vl((he=o.startAt).values||[],!!he.before));let K=null;return o.endAt&&(K=function(he){return new Vl(he.values||[],!he.before)}(o.endAt)),Ry(i,p,I,_,k,"F",F,K)}function Im(l){return void 0!==l.unaryFilter?function(o){switch(o.unaryFilter.op){case"IS_NAN":const d=Su(o.unaryFilter.field);return Vr.create(d,"==",{doubleValue:NaN});case"IS_NULL":const p=Su(o.unaryFilter.field);return Vr.create(p,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Su(o.unaryFilter.field);return Vr.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const I=Su(o.unaryFilter.field);return Vr.create(I,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}(l):void 0!==l.fieldFilter?Vr.create(Su((o=l).fieldFilter.field),function(p){switch(p){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(o.fieldFilter.op),o.fieldFilter.value):void 0!==l.compositeFilter?function(o){return oi.create(o.compositeFilter.filters.map(d=>Im(d)),function(p){switch(p){case"AND":return"and";case"OR":return"or";default:return Rn()}}(o.compositeFilter.op))}(l):Rn();var o}function P0(l){return fm[l]}function Vw(l){return pm[l]}function Bw(l){return x0[l]}function Ul(l){return{fieldPath:l.canonicalString()}}function Su(l){return sr.fromServerFormat(l.fieldPath)}function M0(l){return l instanceof Vr?function(o){if("=="===o.op){if(Xg(o.value))return{unaryFilter:{field:Ul(o.field),op:"IS_NAN"}};if(wy(o.value))return{unaryFilter:{field:Ul(o.field),op:"IS_NULL"}}}else if("!="===o.op){if(Xg(o.value))return{unaryFilter:{field:Ul(o.field),op:"IS_NOT_NAN"}};if(wy(o.value))return{unaryFilter:{field:Ul(o.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(o.field),op:Vw(o.op),value:o.value}}}(l):l instanceof oi?function(o){const d=o.getFilters().map(p=>M0(p));return 1===d.length?d[0]:{compositeFilter:{op:Bw(o.op),filters:d}}}(l):Rn()}function k0(l){const i=[];return l.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function Em(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Bc{constructor(i,o,d,p,_=yt.min(),I=yt.min(),k=zi.EMPTY_BYTE_STRING,F=null){this.target=i,this.targetId=o,this.purpose=d,this.sequenceNumber=p,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=k,this.expectedCount=F}withSequenceNumber(i){return new Bc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,o){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}class $w{constructor(i){this.ht=i}}function Ep(l,i){const o=i.key,d={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Tm(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())d.document={name:vp(_=l.ht,(I=i).key),fields:I.data.value.mapValue.fields,updateTime:Cu(_,I.version.toTimestamp()),createTime:Cu(_,I.createTime.toTimestamp())};else if(i.isNoDocument())d.noDocument={path:o.path.toArray(),readTime:Tp(i.version)};else{if(!i.isUnknownDocument())return Rn();d.unknownDocument={path:o.path.toArray(),version:Tp(i.version)}}var _,I;return d}function Tm(l){const i=l.toTimestamp();return[i.seconds,i.nanoseconds]}function Tp(l){const i=l.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function Lh(l){const i=new Xe(l.seconds,l.nanoseconds);return yt.fromTimestamp(i)}function Fh(l,i){const o=(i.baseMutations||[]).map(_=>vm(l.ht,_));for(let _=0;_<i.mutations.length-1;++_)_+1<i.mutations.length&&void 0!==i.mutations[_+1].transform&&(i.mutations[_].updateTransforms=i.mutations[_+1].transform.fieldTransforms,i.mutations.splice(_+1,1),++_);const d=i.mutations.map(_=>vm(l.ht,_)),p=Xe.fromMillis(i.localWriteTimeMs);return new hp(i.batchId,p,o,d)}function zy(l){const i=Lh(l.readTime),o=void 0!==l.lastLimboFreeSnapshotVersion?Lh(l.lastLimboFreeSnapshotVersion):yt.min();let d;return d=void 0!==l.query.documents?(En(1===(_=l.query).documents.length),ro(gc(R0(_.documents[0])))):function(_){return ro(Fw(_))}(l.query),new Bc(d,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,i,o,zi.fromBase64String(l.resumeToken));var _}function XC(l,i){const o=Tp(i.snapshotVersion),d=Tp(i.lastLimboFreeSnapshotVersion);let p;p=Th(i.target)?Gy(l.ht,i.target):Nh(l.ht,i.target);const _=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:Bl(i.target),readTime:o,resumeToken:_,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:d,query:p}}function wm(l){const i=Fw({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ky(i,i.limit,"L"):i}function N0(l,i){return new _d(i.largestBatchId,vm(l.ht,i.overlayMutation))}function Uw(l,i){const o=i.path.lastSegment();return[l,No(i.path.popLast()),o]}function jw(l,i,o,d){return{indexId:l,uid:i.uid||"",sequenceNumber:o,readTime:Tp(d.readTime),documentKey:No(d.documentKey.path),largestBatchId:d.largestBatchId}}class JC{getBundleMetadata(i,o){return Hy(i).get(o).next(d=>{if(d)return{id:(_=d).bundleId,createTime:Lh(_.createTime),version:_.version};var _})}saveBundleMetadata(i,o){return Hy(i).put({bundleId:(p=o).id,createTime:Tp(Ms(p.createTime)),version:p.version});var p}getNamedQuery(i,o){return Na(i).get(o).next(d=>{if(d)return{name:(_=d).name,query:wm(_.bundledQuery),readTime:Lh(_.readTime)};var _})}saveNamedQuery(i,o){return Na(i).put({name:(p=o).name,readTime:Tp(Ms(p.readTime)),bundledQuery:p.bundledQuery});var p}}function Hy(l){return us(l,"bundles")}function Na(l){return us(l,"namedQueries")}class jl{constructor(i,o){this.serializer=i,this.userId=o}static Pt(i,o){return new jl(i,o.uid||"")}getOverlay(i,o){return Id(i).get(Uw(this.userId,o)).next(d=>d?N0(this.serializer,d):null)}getOverlays(i,o){const d=_c();return st.forEach(o,p=>this.getOverlay(i,p).next(_=>{null!==_&&d.set(p,_)})).next(()=>d)}saveOverlays(i,o,d){const p=[];return d.forEach((_,I)=>{const k=new _d(o,I);p.push(this.It(i,k))}),st.waitFor(p)}removeOverlaysForBatchId(i,o,d){const p=new Set;o.forEach(I=>p.add(No(I.getCollectionPath())));const _=[];return p.forEach(I=>{const k=IDBKeyRange.bound([this.userId,I,d],[this.userId,I,d+1],!1,!0);_.push(Id(i).J("collectionPathOverlayIndex",k))}),st.waitFor(_)}getOverlaysForCollection(i,o,d){const p=_c(),_=No(o),I=IDBKeyRange.bound([this.userId,_,d],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Id(i).G("collectionPathOverlayIndex",I).next(k=>{for(const F of k){const K=N0(this.serializer,F);p.set(K.getKey(),K)}return p})}getOverlaysForCollectionGroup(i,o,d,p){const _=_c();let I;const k=IDBKeyRange.bound([this.userId,o,d],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Id(i).Z({index:"collectionGroupOverlayIndex",range:k},(F,K,ne)=>{const he=N0(this.serializer,K);_.size()<p||he.largestBatchId===I?(_.set(he.getKey(),he),I=he.largestBatchId):ne.done()}).next(()=>_)}It(i,o){return Id(i).put(function(p,_,I){const[k,F,K]=Uw(_,I.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:I.mutation.key.getCollectionGroup(),largestBatchId:I.largestBatchId,overlayMutation:kh(p.ht,I.mutation)}}(this.serializer,this.userId,o))}}function Id(l){return us(l,"documentOverlays")}class Gl{constructor(){}dt(i,o){this.Tt(i,o),o.Et()}Tt(i,o){if("nullValue"in i)this.At(o,5);else if("booleanValue"in i)this.At(o,10),o.Rt(i.booleanValue?1:0);else if("integerValue"in i)this.At(o,15),o.Rt(Es(i.integerValue));else if("doubleValue"in i){const d=Es(i.doubleValue);isNaN(d)?this.At(o,13):(this.At(o,15),yu(d)?o.Rt(0):o.Rt(d))}else if("timestampValue"in i){const d=i.timestampValue;this.At(o,20),"string"==typeof d?o.Vt(d):(o.Vt(`${d.seconds||""}`),o.Rt(d.nanos||0))}else if("stringValue"in i)this.ft(i.stringValue,o),this.gt(o);else if("bytesValue"in i)this.At(o,30),o.yt(Nc(i.bytesValue)),this.gt(o);else if("referenceValue"in i)this.wt(i.referenceValue,o);else if("geoPointValue"in i){const d=i.geoPointValue;this.At(o,45),o.Rt(d.latitude||0),o.Rt(d.longitude||0)}else"mapValue"in i?YC(i)?this.At(o,Number.MAX_SAFE_INTEGER):(this.St(i.mapValue,o),this.gt(o)):"arrayValue"in i?(this.bt(i.arrayValue,o),this.gt(o)):Rn()}ft(i,o){this.At(o,25),this.Dt(i,o)}Dt(i,o){o.Vt(i)}St(i,o){const d=i.fields||{};this.At(o,55);for(const p of Object.keys(d))this.ft(p,o),this.Tt(d[p],o)}bt(i,o){const d=i.values||[];this.At(o,50);for(const p of d)this.Tt(p,o)}wt(i,o){this.At(o,37),Xt.fromName(i).path.forEach(d=>{this.At(o,60),this.Dt(d,o)})}At(i,o){i.Rt(o)}gt(i){i.Rt(2)}}function qy(l){if(0===l)return 8;let i=0;return!(l>>4)&&(i+=4,l<<=4),!(l>>6)&&(i+=2,l<<=2),!(l>>7)&&(i+=1),i}function O0(l){const i=64-function(d){let p=0;for(let _=0;_<8;++_){const I=qy(255&d[_]);if(p+=I,8!==I)break}return p}(l);return Math.ceil(i/8)}Gl.Ct=new Gl;class Gw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Ft(d.value),d=o.next();this.Mt()}xt(i){const o=i[Symbol.iterator]();let d=o.next();for(;!d.done;)this.Ot(d.value),d=o.next();this.Nt()}Bt(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Ft(d);else if(d<2048)this.Ft(960|d>>>6),this.Ft(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Ft(480|d>>>12),this.Ft(128|63&d>>>6),this.Ft(128|63&d);else{const p=o.codePointAt(0);this.Ft(240|p>>>18),this.Ft(128|63&p>>>12),this.Ft(128|63&p>>>6),this.Ft(128|63&p)}}this.Mt()}Lt(i){for(const o of i){const d=o.charCodeAt(0);if(d<128)this.Ot(d);else if(d<2048)this.Ot(960|d>>>6),this.Ot(128|63&d);else if(o<"\ud800"||"\udbff"<o)this.Ot(480|d>>>12),this.Ot(128|63&d>>>6),this.Ot(128|63&d);else{const p=o.codePointAt(0);this.Ot(240|p>>>18),this.Ot(128|63&p>>>12),this.Ot(128|63&p>>>6),this.Ot(128|63&p)}}this.Nt()}kt(i){const o=this.qt(i),d=O0(o);this.Qt(1+d),this.buffer[this.position++]=255&d;for(let p=o.length-d;p<o.length;++p)this.buffer[this.position++]=255&o[p]}Kt(i){const o=this.qt(i),d=O0(o);this.Qt(1+d),this.buffer[this.position++]=~(255&d);for(let p=o.length-d;p<o.length;++p)this.buffer[this.position++]=~(255&o[p])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(i){this.Qt(i.length),this.buffer.set(i,this.position),this.position+=i.length}zt(){return this.buffer.slice(0,this.position)}qt(i){const o=function(_){const I=new DataView(new ArrayBuffer(8));return I.setFloat64(0,_,!1),new Uint8Array(I.buffer)}(i),d=0!=(128&o[0]);o[0]^=d?255:128;for(let p=1;p<o.length;++p)o[p]^=d?255:0;return o}Ft(i){const o=255&i;0===o?(this.Ut(0),this.Ut(255)):255===o?(this.Ut(255),this.Ut(0)):this.Ut(o)}Ot(i){const o=255&i;0===o?(this.Gt(0),this.Gt(255)):255===o?(this.Gt(255),this.Gt(0)):this.Gt(i)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(i){this.Qt(1),this.buffer[this.position++]=i}Gt(i){this.Qt(1),this.buffer[this.position++]=~i}Qt(i){const o=i+this.position;if(o<=this.buffer.length)return;let d=2*this.buffer.length;d<o&&(d=o);const p=new Uint8Array(d);p.set(this.buffer),this.buffer=p}}class zw{constructor(i){this.jt=i}yt(i){this.jt.vt(i)}Vt(i){this.jt.Bt(i)}Rt(i){this.jt.kt(i)}Et(){this.jt.$t()}}class bm{constructor(i){this.jt=i}yt(i){this.jt.xt(i)}Vt(i){this.jt.Lt(i)}Rt(i){this.jt.Kt(i)}Et(){this.jt.Wt()}}class xu{constructor(){this.jt=new Gw,this.Ht=new zw(this.jt),this.Jt=new bm(this.jt)}seed(i){this.jt.seed(i)}Yt(i){return 0===i?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ed{constructor(i,o,d,p){this.indexId=i,this.documentKey=o,this.arrayValue=d,this.directionalValue=p}Zt(){const i=this.directionalValue.length,o=0===i||255===this.directionalValue[i-1]?i+1:i,d=new Uint8Array(o);return d.set(this.directionalValue,0),o!==i?d.set([0],this.directionalValue.length):++d[d.length-1],new Ed(this.indexId,this.documentKey,this.arrayValue,d)}}function Ru(l,i){let o=l.indexId-i.indexId;return 0!==o?o:(o=Dm(l.arrayValue,i.arrayValue),0!==o?o:(o=Dm(l.directionalValue,i.directionalValue),0!==o?o:Xt.comparator(l.documentKey,i.documentKey)))}function Dm(l,i){for(let o=0;o<l.length&&o<i.length;++o){const d=l[o]-i[o];if(0!==d)return d}return l.length-i.length}class Wy{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Xt=i.orderBy,this.en=[];for(const o of i.filters){const d=o;d.isInequality()?this.tn=d:this.en.push(d)}}nn(i){En(i.collectionGroup===this.collectionId);const o=sl(i);if(void 0!==o&&!this.rn(o))return!1;const d=ha(i);let p=new Set,_=0,I=0;for(;_<d.length&&this.rn(d[_]);++_)p=p.add(d[_].fieldPath.canonicalString());if(_===d.length)return!0;if(void 0!==this.tn){if(!p.has(this.tn.field.canonicalString())){const k=d[_];if(!this.sn(this.tn,k)||!this.on(this.Xt[I++],k))return!1}++_}for(;_<d.length;++_)if(I>=this.Xt.length||!this.on(this.Xt[I++],d[_]))return!1;return!0}_n(){let i=new Gi(sr.comparator);const o=[];for(const d of this.en)if(!d.field.isKeyField())if("array-contains"===d.op||"array-contains-any"===d.op)o.push(new Mc(d.field,2));else{if(i.has(d.field))continue;i=i.add(d.field),o.push(new Mc(d.field,0))}for(const d of this.Xt)d.field.isKeyField()||i.has(d.field)||(i=i.add(d.field),o.push(new Mc(d.field,"asc"===d.dir?0:1)));return new Xo(Xo.UNKNOWN_ID,this.collectionId,o,dc.empty())}rn(i){for(const o of this.en)if(this.sn(o,i))return!0;return!1}sn(i,o){return!(void 0===i||!i.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===i.op||"array-contains-any"===i.op)}on(i,o){return!!i.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===i.dir||1===o.kind&&"desc"===i.dir)}}function Ky(l){var i,o;if(En(l instanceof Vr||l instanceof oi),l instanceof Vr){if(l instanceof rp){const p=(null===(o=null===(i=l.value.arrayValue)||void 0===i?void 0:i.values)||void 0===o?void 0:o.map(_=>Vr.create(l.field,"==",_)))||[];return oi.create(p,"or")}return l}const d=l.filters.map(p=>Ky(p));return oi.create(d,l.op)}function L0(l){if(0===l.getFilters().length)return[];const i=Am(Ky(l));return En(Vh(i)),Cm(i)||wp(i)?[i]:i.getFilters()}function Cm(l){return l instanceof Vr}function wp(l){return l instanceof oi&&dd(l)}function Vh(l){return Cm(l)||wp(l)||function(o){if(o instanceof oi&&ud(o)){for(const d of o.getFilters())if(!Cm(d)&&!wp(d))return!1;return!0}return!1}(l)}function Am(l){if(En(l instanceof Vr||l instanceof oi),l instanceof Vr)return l;if(1===l.filters.length)return Am(l.filters[0]);const i=l.filters.map(d=>Am(d));let o=oi.create(i,l.op);return o=hl(o),Vh(o)?o:(En(o instanceof oi),En(vh(o)),En(o.filters.length>1),o.filters.reduce((d,p)=>Bh(d,p)))}function Bh(l,i){let o;return En(l instanceof Vr||l instanceof oi),En(i instanceof Vr||i instanceof oi),o=l instanceof Vr?i instanceof Vr?oi.create([l,i],"and"):Yy(l,i):i instanceof Vr?Yy(i,l):function(p,_){if(En(p.filters.length>0&&_.filters.length>0),vh(p)&&vh(_))return Sy(p,_.getFilters());const I=ud(p)?p:_,k=ud(p)?_:p,F=I.filters.map(K=>Bh(K,k));return oi.create(F,"or")}(l,i),hl(o)}function Yy(l,i){if(vh(i))return Sy(i,l.getFilters());{const o=i.filters.map(d=>Bh(l,d));return oi.create(o,"or")}}function hl(l){if(En(l instanceof Vr||l instanceof oi),l instanceof Vr)return l;const i=l.getFilters();if(1===i.length)return hl(i[0]);if(Ih(l))return l;const o=i.map(p=>hl(p)),d=[];return o.forEach(p=>{p instanceof Vr?d.push(p):p instanceof oi&&(p.op===l.op?d.push(...p.filters):d.push(p))}),1===d.length?d[0]:oi.create(d,l.op)}class F0{constructor(){this.an=new Sm}addToCollectionParentIndex(i,o){return this.an.add(o),st.resolve()}getCollectionParents(i,o){return st.resolve(this.an.getEntries(o))}addFieldIndex(i,o){return st.resolve()}deleteFieldIndex(i,o){return st.resolve()}deleteAllFieldIndexes(i){return st.resolve()}createTargetIndexes(i,o){return st.resolve()}getDocumentsMatchingTarget(i,o){return st.resolve(null)}getIndexType(i,o){return st.resolve(0)}getFieldIndexes(i,o){return st.resolve([])}getNextCollectionGroupToUpdate(i){return st.resolve(null)}getMinOffset(i,o){return st.resolve(za.min())}getMinOffsetFromCollectionGroup(i,o){return st.resolve(za.min())}updateCollectionGroup(i,o,d){return st.resolve()}updateIndexEntries(i,o){return st.resolve()}}class Sm{constructor(){this.index={}}add(i){const o=i.lastSegment(),d=i.popLast(),p=this.index[o]||new Gi(Wn.comparator),_=!p.has(d);return this.index[o]=p.add(d),_}has(i){const o=i.lastSegment(),d=i.popLast(),p=this.index[o];return p&&p.has(d)}getEntries(i){return(this.index[i]||new Gi(Wn.comparator)).toArray()}}const $h=new Uint8Array(0);class Zy{constructor(i,o){this.user=i,this.databaseId=o,this.un=new Sm,this.cn=new mc(d=>Bl(d),(d,p)=>hd(d,p)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.un.has(o)){const d=o.lastSegment(),p=o.popLast();i.addOnCommittedListener(()=>{this.un.add(o)});const _={collectionId:d,parent:No(p)};return Qy(i).put(_)}return st.resolve()}getCollectionParents(i,o){const d=[],p=IDBKeyRange.bound([o,""],[jt(o),""],!1,!0);return Qy(i).G(p).next(_=>{for(const I of _){if(I.collectionId!==o)break;d.push(ol(I.parent))}return d})}addFieldIndex(i,o){const d=Uh(i),p={indexId:(k=o).indexId,collectionGroup:k.collectionGroup,fields:k.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var k;delete p.indexId;const _=d.add(p);if(o.indexState){const I=wd(i);return _.next(k=>{I.put(jw(k,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return _.next()}deleteFieldIndex(i,o){const d=Uh(i),p=wd(i),_=Td(i);return d.delete(o.indexId).next(()=>p.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}deleteAllFieldIndexes(i){const o=Uh(i),d=Td(i),p=wd(i);return o.J().next(()=>d.J()).next(()=>p.J())}createTargetIndexes(i,o){return st.forEach(this.ln(o),d=>this.getIndexType(i,d).next(p=>{if(0===p||1===p){const _=new Wy(d);return this.addFieldIndex(i,_._n())}}))}getDocumentsMatchingTarget(i,o){const d=Td(i);let p=!0;const _=new Map;return st.forEach(this.ln(o),I=>this.hn(i,I).next(k=>{p&&(p=!!k),_.set(I,k)})).next(()=>{if(p){let I=Rr();const k=[];return st.forEach(_,(F,K)=>{var Gn;zt("IndexedDbIndexManager",`Using index ${Gn=F,`id=${Gn.indexId}|cg=${Gn.collectionGroup}|f=${Gn.fields.map(Pr=>`${Pr.fieldPath}:${Pr.kind}`).join(",")}`} to execute ${Bl(o)}`);const ne=function(Gn,Pr){const mr=sl(Pr);if(void 0===mr)return null;for(const br of wh(Gn,mr.fieldPath))switch(br.op){case"array-contains-any":return br.value.arrayValue.values||[];case"array-contains":return[br.value]}return null}(K,F),he=function(Gn,Pr){const mr=new Map;for(const br of ha(Pr))for(const Ts of wh(Gn,br.fieldPath))switch(Ts.op){case"==":case"in":mr.set(br.fieldPath.canonicalString(),Ts.value);break;case"not-in":case"!=":return mr.set(br.fieldPath.canonicalString(),Ts.value),Array.from(mr.values())}return null}(K,F),Ce=function(Gn,Pr){const mr=[];let br=!0;for(const Ts of ha(Pr)){const Tc=0===Ts.kind?y0(Gn,Ts.fieldPath,Gn.startAt):Rw(Gn,Ts.fieldPath,Gn.startAt);mr.push(Tc.value),br&&(br=Tc.inclusive)}return new Vl(mr,br)}(K,F),Je=function(Gn,Pr){const mr=[];let br=!0;for(const Ts of ha(Pr)){const Tc=0===Ts.kind?Rw(Gn,Ts.fieldPath,Gn.endAt):y0(Gn,Ts.fieldPath,Gn.endAt);mr.push(Tc.value),br&&(br=Tc.inclusive)}return new Vl(mr,br)}(K,F),xt=this.Pn(F,K,Ce),Gt=this.Pn(F,K,Je),Jt=this.In(F,K,he),On=this.dn(F.indexId,ne,xt,Ce.inclusive,Gt,Je.inclusive,Jt);return st.forEach(On,hr=>d.H(hr,o.limit).next(Gn=>{Gn.forEach(Pr=>{const mr=Xt.fromSegments(Pr.documentKey);I.has(mr)||(I=I.add(mr),k.push(mr))})}))}).next(()=>k)}return st.resolve(null)})}ln(i){let o=this.cn.get(i);return o||(o=0===i.filters.length?[i]:L0(oi.create(i.filters,"and")).map(d=>em(i.path,i.collectionGroup,i.orderBy,d.getFilters(),i.limit,i.startAt,i.endAt)),this.cn.set(i,o),o)}dn(i,o,d,p,_,I,k){const F=(null!=o?o.length:1)*Math.max(d.length,_.length),K=F/(null!=o?o.length:1),ne=[];for(let he=0;he<F;++he){const Ce=o?this.Tn(o[he/K]):$h,Je=this.En(i,Ce,d[he%K],p),xt=this.An(i,Ce,_[he%K],I),Gt=k.map(Jt=>this.En(i,Ce,Jt,!0));ne.push(...this.createRange(Je,xt,Gt))}return ne}En(i,o,d,p){const _=new Ed(i,Xt.empty(),o,d);return p?_:_.Zt()}An(i,o,d,p){const _=new Ed(i,Xt.empty(),o,d);return p?_.Zt():_}hn(i,o){const d=new Wy(o),p=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,p).next(_=>{let I=null;for(const k of _)d.nn(k)&&(!I||k.fields.length>I.fields.length)&&(I=k);return I})}getIndexType(i,o){let d=2;const p=this.ln(o);return st.forEach(p,_=>this.hn(i,_).next(I=>{I?0!==d&&I.fields.length<function(F){let K=new Gi(sr.comparator),ne=!1;for(const he of F.filters)for(const Ce of he.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?ne=!0:K=K.add(Ce.field));for(const he of F.orderBy)he.field.isKeyField()||(K=K.add(he.field));return K.size+(ne?1:0)}(_)&&(d=1):d=0})).next(()=>null!==o.limit&&p.length>1&&2===d?1:d)}Rn(i,o){const d=new xu;for(const p of ha(i)){const _=o.data.field(p.fieldPath);if(null==_)return null;const I=d.Yt(p.kind);Gl.Ct.dt(_,I)}return d.zt()}Tn(i){const o=new xu;return Gl.Ct.dt(i,o.Yt(0)),o.zt()}Vn(i,o){const d=new xu;return Gl.Ct.dt(Fl(this.databaseId,o),d.Yt(function(_){const I=ha(_);return 0===I.length?0:I[I.length-1].kind}(i))),d.zt()}In(i,o,d){if(null===d)return[];let p=[];p.push(new xu);let _=0;for(const I of ha(i)){const k=d[_++];for(const F of p)if(this.mn(o,I.fieldPath)&&cl(k))p=this.fn(p,I,k);else{const K=F.Yt(I.kind);Gl.Ct.dt(k,K)}}return this.gn(p)}Pn(i,o,d){return this.In(i,o,d.position)}gn(i){const o=[];for(let d=0;d<i.length;++d)o[d]=i[d].zt();return o}fn(i,o,d){const p=[...i],_=[];for(const I of d.arrayValue.values||[])for(const k of p){const F=new xu;F.seed(k.zt()),Gl.Ct.dt(I,F.Yt(o.kind)),_.push(F)}return _}mn(i,o){return!!i.filters.find(d=>d instanceof Vr&&d.field.isEqual(o)&&("in"===d.op||"not-in"===d.op))}getFieldIndexes(i,o){const d=Uh(i),p=wd(i);return(o?d.G("collectionGroupIndex",IDBKeyRange.bound(o,o)):d.G()).next(_=>{const I=[];return st.forEach(_,k=>p.get([k.indexId,this.uid]).next(F=>{I.push(function(ne,he){const Ce=he?new dc(he.sequenceNumber,new za(Lh(he.readTime),new Xt(ol(he.documentKey)),he.largestBatchId)):dc.empty(),Je=ne.fields.map(([xt,Gt])=>new Mc(sr.fromServerFormat(xt),Gt));return new Xo(ne.indexId,ne.collectionGroup,Je,Ce)}(k,F))})).next(()=>I)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>0===o.length?null:(o.sort((d,p)=>{const _=d.indexState.sequenceNumber-p.indexState.sequenceNumber;return 0!==_?_:se(d.collectionGroup,p.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,d){const p=Uh(i),_=wd(i);return this.pn(i).next(I=>p.G("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(k=>st.forEach(k,F=>_.put(jw(F.indexId,this.user,I,d)))))}updateIndexEntries(i,o){const d=new Map;return st.forEach(o,(p,_)=>{const I=d.get(p.collectionGroup);return(I?st.resolve(I):this.getFieldIndexes(i,p.collectionGroup)).next(k=>(d.set(p.collectionGroup,k),st.forEach(k,F=>this.yn(i,p,F).next(K=>{const ne=this.wn(_,F);return K.isEqual(ne)?st.resolve():this.Sn(i,_,F,K,ne)}))))})}bn(i,o,d,p){return Td(i).put({indexId:p.indexId,uid:this.uid,arrayValue:p.arrayValue,directionalValue:p.directionalValue,orderedDocumentKey:this.Vn(d,o.key),documentKey:o.key.path.toArray()})}Dn(i,o,d,p){return Td(i).delete([p.indexId,this.uid,p.arrayValue,p.directionalValue,this.Vn(d,o.key),o.key.path.toArray()])}yn(i,o,d){const p=Td(i);let _=new Gi(Ru);return p.Z({index:"documentKeyIndex",range:IDBKeyRange.only([d.indexId,this.uid,this.Vn(d,o)])},(I,k)=>{_=_.add(new Ed(d.indexId,o,k.arrayValue,k.directionalValue))}).next(()=>_)}wn(i,o){let d=new Gi(Ru);const p=this.Rn(o,i);if(null==p)return d;const _=sl(o);if(null!=_){const I=i.data.field(_.fieldPath);if(cl(I))for(const k of I.arrayValue.values||[])d=d.add(new Ed(o.indexId,i.key,this.Tn(k),p))}else d=d.add(new Ed(o.indexId,i.key,$h,p));return d}Sn(i,o,d,p,_){zt("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const I=[];return function(F,K,ne,he,Ce){const Je=F.getIterator(),xt=K.getIterator();let Gt=Nl(Je),Jt=Nl(xt);for(;Gt||Jt;){let On=!1,hr=!1;if(Gt&&Jt){const Gn=ne(Gt,Jt);Gn<0?hr=!0:Gn>0&&(On=!0)}else null!=Gt?hr=!0:On=!0;On?(he(Jt),Jt=Nl(xt)):hr?(Ce(Gt),Gt=Nl(Je)):(Gt=Nl(Je),Jt=Nl(xt))}}(p,_,Ru,k=>{I.push(this.bn(i,o,d,k))},k=>{I.push(this.Dn(i,o,d,k))}),st.waitFor(I)}pn(i){let o=1;return wd(i).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(d,p,_)=>{_.done(),o=p.sequenceNumber+1}).next(()=>o)}createRange(i,o,d){d=d.sort((I,k)=>Ru(I,k)).filter((I,k,F)=>!k||0!==Ru(I,F[k-1]));const p=[];p.push(i);for(const I of d){const k=Ru(I,i),F=Ru(I,o);if(0===k)p[0]=i.Zt();else if(k>0&&F<0)p.push(I),p.push(I.Zt());else if(F>0)break}p.push(o);const _=[];for(let I=0;I<p.length;I+=2){if(this.Cn(p[I],p[I+1]))return[];_.push(IDBKeyRange.bound([p[I].indexId,this.uid,p[I].arrayValue,p[I].directionalValue,$h,[]],[p[I+1].indexId,this.uid,p[I+1].arrayValue,p[I+1].directionalValue,$h,[]]))}return _}Cn(i,o){return Ru(i,o)>0}getMinOffsetFromCollectionGroup(i,o){return this.getFieldIndexes(i,o).next(xm)}getMinOffset(i,o){return st.mapArray(this.ln(o),d=>this.hn(i,d).next(p=>p||Rn())).next(xm)}}function Qy(l){return us(l,"collectionParents")}function Td(l){return us(l,"indexEntries")}function Uh(l){return us(l,"indexConfiguration")}function wd(l){return us(l,"indexState")}function xm(l){En(0!==l.length);let i=l[0].indexState.offset,o=i.largestBatchId;for(let d=1;d<l.length;d++){const p=l[d].indexState.offset;qf(p,i)<0&&(i=p),o<p.largestBatchId&&(o=p.largestBatchId)}return new za(i.readTime,i.documentKey,o)}const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(i,o,d){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=d}static withCacheSize(i){return new Jo(i,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bd(l,i,o){const d=l.store("mutations"),p=l.store("documentMutations"),_=[],I=IDBKeyRange.only(o.batchId);let k=0;const F=d.Z({range:I},(ne,he,Ce)=>(k++,Ce.delete()));_.push(F.next(()=>{En(1===k)}));const K=[];for(const ne of o.mutations){const he=hy(i,ne.key.path,o.batchId);_.push(p.delete(he)),K.push(ne.key)}return st.waitFor(_).next(()=>K)}function Qr(l){if(!l)return 0;let i;if(l.document)i=l.document;else if(l.unknownDocument)i=l.unknownDocument;else{if(!l.noDocument)throw Rn();i=l.noDocument}return JSON.stringify(i).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class zl{constructor(i,o,d,p){this.userId=i,this.serializer=o,this.indexManager=d,this.referenceDelegate=p,this.vn={}}static Pt(i,o,d,p){En(""!==i.uid);const _=i.isAuthenticated()?i.uid:"";return new zl(_,o,d,p)}checkEmpty(i){let o=!0;const d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fl(i).Z({index:"userMutationsIndex",range:d},(p,_,I)=>{o=!1,I.done()}).next(()=>o)}addMutationBatch(i,o,d,p){const _=Hl(i),I=fl(i);return I.add({}).next(k=>{En("number"==typeof k);const F=new hp(k,o,d,p),K=function(Je,xt,Gt){const Jt=Gt.baseMutations.map(hr=>kh(Je.ht,hr)),On=Gt.mutations.map(hr=>kh(Je.ht,hr));return{userId:xt,batchId:Gt.batchId,localWriteTimeMs:Gt.localWriteTime.toMillis(),baseMutations:Jt,mutations:On}}(this.serializer,this.userId,F),ne=[];let he=new Gi((Ce,Je)=>se(Ce.canonicalString(),Je.canonicalString()));for(const Ce of p){const Je=hy(this.userId,Ce.key.path,k);he=he.add(Ce.key.path.popLast()),ne.push(I.put(K)),ne.push(_.put(Je,ph))}return he.forEach(Ce=>{ne.push(this.indexManager.addToCollectionParentIndex(i,Ce))}),i.addOnCommittedListener(()=>{this.vn[k]=F.keys()}),st.waitFor(ne).next(()=>F)})}lookupMutationBatch(i,o){return fl(i).get(o).next(d=>d?(En(d.userId===this.userId),Fh(this.serializer,d)):null)}Fn(i,o){return this.vn[o]?st.resolve(this.vn[o]):this.lookupMutationBatch(i,o).next(d=>{if(d){const p=d.keys();return this.vn[o]=p,p}return null})}getNextMutationBatchAfterBatchId(i,o){const d=o+1,p=IDBKeyRange.lowerBound([this.userId,d]);let _=null;return fl(i).Z({index:"userMutationsIndex",range:p},(I,k,F)=>{k.userId===this.userId&&(En(k.batchId>=d),_=Fh(this.serializer,k)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let d=-1;return fl(i).Z({index:"userMutationsIndex",range:o,reverse:!0},(p,_,I)=>{d=_.batchId,I.done()}).next(()=>d)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fl(i).G("userMutationsIndex",o).next(d=>d.map(p=>Fh(this.serializer,p)))}getAllMutationBatchesAffectingDocumentKey(i,o){const d=Ml(this.userId,o.path),p=IDBKeyRange.lowerBound(d),_=[];return Hl(i).Z({range:p},(I,k,F)=>{const[K,ne,he]=I,Ce=ol(ne);if(K===this.userId&&o.path.isEqual(Ce))return fl(i).get(he).next(Je=>{if(!Je)throw Rn();En(Je.userId===this.userId),_.push(Fh(this.serializer,Je))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Gi(se);const p=[];return o.forEach(_=>{const I=Ml(this.userId,_.path),k=IDBKeyRange.lowerBound(I),F=Hl(i).Z({range:k},(K,ne,he)=>{const[Ce,Je,xt]=K,Gt=ol(Je);Ce===this.userId&&_.path.isEqual(Gt)?d=d.add(xt):he.done()});p.push(F)}),st.waitFor(p).next(()=>this.Mn(i,d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,p=d.length+1,_=Ml(this.userId,d),I=IDBKeyRange.lowerBound(_);let k=new Gi(se);return Hl(i).Z({range:I},(F,K,ne)=>{const[he,Ce,Je]=F,xt=ol(Ce);he===this.userId&&d.isPrefixOf(xt)?xt.length===p&&(k=k.add(Je)):ne.done()}).next(()=>this.Mn(i,k))}Mn(i,o){const d=[],p=[];return o.forEach(_=>{p.push(fl(i).get(_).next(I=>{if(null===I)throw Rn();En(I.userId===this.userId),d.push(Fh(this.serializer,I))}))}),st.waitFor(p).next(()=>d)}removeMutationBatch(i,o){return bd(i.ue,this.userId,o).next(d=>(i.addOnCommittedListener(()=>{this.xn(o.batchId)}),st.forEach(d,p=>this.referenceDelegate.markPotentiallyOrphaned(i,p))))}xn(i){delete this.vn[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return st.resolve();const d=IDBKeyRange.lowerBound([this.userId]),p=[];return Hl(i).Z({range:d},(_,I,k)=>{if(_[0]===this.userId){const F=ol(_[1]);p.push(F)}else k.done()}).next(()=>{En(0===p.length)})})}containsKey(i,o){return Rm(i,this.userId,o)}On(i){return Pm(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rm(l,i,o){const d=Ml(i,o.path),p=d[1],_=IDBKeyRange.lowerBound(d);let I=!1;return Hl(l).Z({range:_,Y:!0},(k,F,K)=>{const[ne,he,Ce]=k;ne===i&&he===p&&(I=!0),K.done()}).next(()=>I)}function fl(l){return us(l,"mutations")}function Hl(l){return us(l,"documentMutations")}function Pm(l){return us(l,"mutationQueues")}class Pu{constructor(i){this.Nn=i}next(){return this.Nn+=2,this.Nn}static Bn(){return new Pu(0)}static Ln(){return new Pu(-1)}}class Xy{constructor(i,o){this.referenceDelegate=i,this.serializer=o}allocateTargetId(i){return this.kn(i).next(o=>{const d=new Pu(o.highestTargetId);return o.highestTargetId=d.next(),this.qn(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.kn(i).next(o=>yt.fromTimestamp(new Xe(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.kn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,d){return this.kn(i).next(p=>(p.highestListenSequenceNumber=o,d&&(p.lastRemoteSnapshotVersion=d.toTimestamp()),o>p.highestListenSequenceNumber&&(p.highestListenSequenceNumber=o),this.qn(i,p)))}addTargetData(i,o){return this.Qn(i,o).next(()=>this.kn(i).next(d=>(d.targetCount+=1,this.Kn(o,d),this.qn(i,d))))}updateTargetData(i,o){return this.Qn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>Mu(i).delete(o.targetId)).next(()=>this.kn(i)).next(d=>(En(d.targetCount>0),d.targetCount-=1,this.qn(i,d)))}removeTargets(i,o,d){let p=0;const _=[];return Mu(i).Z((I,k)=>{const F=zy(k);F.sequenceNumber<=o&&null===d.get(F.targetId)&&(p++,_.push(this.removeTargetData(i,F)))}).next(()=>st.waitFor(_)).next(()=>p)}forEachTarget(i,o){return Mu(i).Z((d,p)=>{const _=zy(p);o(_)})}kn(i){return jh(i).get("targetGlobalKey").next(o=>(En(null!==o),o))}qn(i,o){return jh(i).put("targetGlobalKey",o)}Qn(i,o){return Mu(i).put(XC(this.serializer,o))}Kn(i,o){let d=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,d=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,d=!0),d}getTargetCount(i){return this.kn(i).next(o=>o.targetCount)}getTargetData(i,o){const d=Bl(o),p=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]);let _=null;return Mu(i).Z({range:p,index:"queryTargetsIndex"},(I,k,F)=>{const K=zy(k);hd(o,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(i,o,d){const p=[],_=ku(i);return o.forEach(I=>{const k=No(I.path);p.push(_.put({targetId:d,path:k})),p.push(this.referenceDelegate.addReference(i,d,I))}),st.waitFor(p)}removeMatchingKeys(i,o,d){const p=ku(i);return st.forEach(o,_=>{const I=No(_.path);return st.waitFor([p.delete([d,I]),this.referenceDelegate.removeReference(i,d,_)])})}removeMatchingKeysForTargetId(i,o){const d=ku(i),p=IDBKeyRange.bound([o],[o+1],!1,!0);return d.delete(p)}getMatchingKeysForTargetId(i,o){const d=IDBKeyRange.bound([o],[o+1],!1,!0),p=ku(i);let _=Rr();return p.Z({range:d,Y:!0},(I,k,F)=>{const K=ol(I[1]),ne=new Xt(K);_=_.add(ne)}).next(()=>_)}containsKey(i,o){const d=No(o.path),p=IDBKeyRange.bound([d],[jt(d)],!1,!0);let _=0;return ku(i).Z({index:"documentTargetsIndex",Y:!0,range:p},([I,k],F,K)=>{0!==I&&(_++,K.done())}).next(()=>_>0)}lt(i,o){return Mu(i).get(o).next(d=>d?zy(d):null)}}function Mu(l){return us(l,"targets")}function jh(l){return us(l,"targetGlobal")}function ku(l){return us(l,"targetDocuments")}function bp([l,i],[o,d]){const p=se(l,o);return 0===p?se(i,d):p}class B0{constructor(i){this.$n=i,this.buffer=new Gi(bp),this.Un=0}Wn(){return++this.Un}Gn(i){const o=[i,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(o);else{const d=this.buffer.last();bp(o,d)<0&&(this.buffer=this.buffer.delete(d).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Dp{constructor(i,o,d){this.garbageCollector=i,this.asyncQueue=o,this.localStore=d,this.zn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return null!==this.zn}jn(i){var o=this;zt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,b.Z)(function*(){o.zn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(d){fc(d)?zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Pl(d)}yield o.jn(3e5)}))}}class Jy{constructor(i,o){this.Hn=i,this.params=o}calculateTargetCount(i,o){return this.Hn.Jn(i).next(d=>Math.floor(o/100*d))}nthSequenceNumber(i,o){if(0===o)return st.resolve(Ma.ae);const d=new B0(o);return this.Hn.forEachTarget(i,p=>d.Gn(p.sequenceNumber)).next(()=>this.Hn.Yn(i,p=>d.Gn(p))).next(()=>d.maxValue)}removeTargets(i,o,d){return this.Hn.removeTargets(i,o,d)}removeOrphanedDocuments(i,o){return this.Hn.removeOrphanedDocuments(i,o)}collect(i,o){return-1===this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(V0)):this.getCacheSize(i).next(d=>d<this.params.cacheSizeCollectionThreshold?(zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${d} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.Zn(i,o))}getCacheSize(i){return this.Hn.getCacheSize(i)}Zn(i,o){let d,p,_,I,k,F,K;const ne=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(he=>(he>this.params.maximumSequenceNumbersToCollect?(zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${he}`),p=this.params.maximumSequenceNumbersToCollect):p=he,I=Date.now(),this.nthSequenceNumber(i,p))).next(he=>(d=he,k=Date.now(),this.removeTargets(i,d,o))).next(he=>(_=he,F=Date.now(),this.removeOrphanedDocuments(i,d))).next(he=>(K=Date.now(),rl()<=_e.in.DEBUG&&zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ne}ms\n\tDetermined least recently used ${p} in `+(k-I)+`ms\n\tRemoved ${_} targets in `+(F-k)+`ms\n\tRemoved ${he} documents in `+(K-F)+`ms\nTotal Duration: ${K-ne}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:_,documentsRemoved:he})))}}class Nu{constructor(i,o){this.db=i,this.garbageCollector=function Mm(l,i){return new Jy(l,i)}(this,o)}Jn(i){const o=this.Xn(i);return this.db.getTargetCache().getTargetCount(i).next(d=>o.next(p=>d+p))}Xn(i){let o=0;return this.Yn(i,d=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}Yn(i,o){return this.er(i,(d,p)=>o(p))}addReference(i,o,d){return Cp(i,d)}removeReference(i,o,d){return Cp(i,d)}removeTargets(i,o,d){return this.db.getTargetCache().removeTargets(i,o,d)}markPotentiallyOrphaned(i,o){return Cp(i,o)}tr(i,o){return function(p,_){let I=!1;return Pm(p).X(k=>Rm(p,k,_).next(F=>(F&&(I=!0),st.resolve(!F)))).next(()=>I)}(i,o)}removeOrphanedDocuments(i,o){const d=this.db.getRemoteDocumentCache().newChangeBuffer(),p=[];let _=0;return this.er(i,(I,k)=>{if(k<=o){const F=this.tr(i,I).next(K=>{if(!K)return _++,d.getEntry(i,I).next(()=>(d.removeEntry(I,yt.min()),ku(i).delete([0,No(I.path)])))});p.push(F)}}).next(()=>st.waitFor(p)).next(()=>d.apply(i)).next(()=>_)}removeTarget(i,o){const d=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,d)}updateLimboDocument(i,o){return Cp(i,o)}er(i,o){const d=ku(i);let p,_=Ma.ae;return d.Z({index:"documentTargetsIndex"},([I,k],{path:F,sequenceNumber:K})=>{0===I?(_!==Ma.ae&&o(new Xt(ol(p)),_),_=K,p=F):_=Ma.ae}).next(()=>{_!==Ma.ae&&o(new Xt(ol(p)),_)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Cp(l,i){return ku(l).put((p=l.currentSequenceNumber,{targetId:0,path:No(i.path),sequenceNumber:p}));var p}class Ap{constructor(){this.changes=new mc(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,Qi.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const d=this.changes.get(o);return void 0!==d?st.resolve(d):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Sp{constructor(i){this.serializer=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,d){return Lo(i).put(d)}removeEntry(i,o,d){return Lo(i).delete(function(_,I){const k=_.path.toArray();return[k.slice(0,k.length-2),k[k.length-2],Tm(I),k[k.length-1]]}(o,d))}updateMetadata(i,o){return this.getMetadata(i).next(d=>(d.byteSize+=o,this.nr(i,d)))}getEntry(i,o){let d=Qi.newInvalidDocument(o);return Lo(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ql(o))},(p,_)=>{d=this.rr(o,_)}).next(()=>d)}ir(i,o){let d={size:0,document:Qi.newInvalidDocument(o)};return Lo(i).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ql(o))},(p,_)=>{d={document:this.rr(o,_),size:Qr(_)}}).next(()=>d)}getEntries(i,o){let d=go();return this.sr(i,o,(p,_)=>{const I=this.rr(p,_);d=d.insert(p,I)}).next(()=>d)}_r(i,o){let d=go(),p=new vi(Xt.comparator);return this.sr(i,o,(_,I)=>{const k=this.rr(_,I);d=d.insert(_,k),p=p.insert(_,Qr(I))}).next(()=>({documents:d,ar:p}))}sr(i,o,d){if(o.isEmpty())return st.resolve();let p=new Gi(tv);o.forEach(F=>p=p.add(F));const _=IDBKeyRange.bound(ql(p.first()),ql(p.last())),I=p.getIterator();let k=I.getNext();return Lo(i).Z({index:"documentKeyIndex",range:_},(F,K,ne)=>{const he=Xt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;k&&tv(k,he)<0;)d(k,null),k=I.getNext();k&&k.isEqual(he)&&(d(k,K),k=I.hasNext()?I.getNext():null),k?ne.W(ql(k)):ne.done()}).next(()=>{for(;k;)d(k,null),k=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(i,o,d,p,_){const I=o.path,k=[I.popLast().toArray(),I.lastSegment(),Tm(d.readTime),d.documentKey.path.isEmpty()?"":d.documentKey.path.lastSegment()],F=[I.popLast().toArray(),I.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lo(i).G(IDBKeyRange.bound(k,F,!0)).next(K=>{null==_||_.incrementDocumentReadCount(K.length);let ne=go();for(const he of K){const Ce=this.rr(Xt.fromSegments(he.prefixPath.concat(he.collectionGroup,he.documentId)),he);Ce.isFoundDocument()&&(ll(o,Ce)||p.has(Ce.key))&&(ne=ne.insert(Ce.key,Ce))}return ne})}getAllFromCollectionGroup(i,o,d,p){let _=go();const I=xp(o,d),k=xp(o,za.max());return Lo(i).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,k,!0)},(F,K,ne)=>{const he=this.rr(Xt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(he.key,he),_.size===p&&ne.done()}).next(()=>_)}newChangeBuffer(i){return new km(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return Gh(i).get("remoteDocumentGlobalKey").next(o=>(En(!!o),o))}nr(i,o){return Gh(i).put("remoteDocumentGlobalKey",o)}rr(i,o){if(o){const d=function dl(l,i){let o;if(i.document)o=Ip(l.ht,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const d=Xt.fromSegments(i.noDocument.path),p=Lh(i.noDocument.readTime);o=Qi.newNoDocument(d,p),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return Rn();{const d=Xt.fromSegments(i.unknownDocument.path),p=Lh(i.unknownDocument.version);o=Qi.newUnknownDocument(d,p)}}return i.readTime&&o.setReadTime(function(p){const _=new Xe(p[0],p[1]);return yt.fromTimestamp(_)}(i.readTime)),o}(this.serializer,o);if(!d.isNoDocument()||!d.version.isEqual(yt.min()))return d}return Qi.newInvalidDocument(i)}}function ev(l){return new Sp(l)}class km extends Ap{constructor(i,o){super(),this.ur=i,this.trackRemovals=o,this.cr=new mc(d=>d.toString(),(d,p)=>d.isEqual(p))}applyChanges(i){const o=[];let d=0,p=new Gi((_,I)=>se(_.canonicalString(),I.canonicalString()));return this.changes.forEach((_,I)=>{const k=this.cr.get(_);if(o.push(this.ur.removeEntry(i,_,k.readTime)),I.isValidDocument()){const F=Ep(this.ur.serializer,I);p=p.add(_.path.popLast());const K=Qr(F);d+=K-k.size,o.push(this.ur.addEntry(i,_,F))}else if(d-=k.size,this.trackRemovals){const F=Ep(this.ur.serializer,I.convertToNoDocument(yt.min()));o.push(this.ur.addEntry(i,_,F))}}),p.forEach(_=>{o.push(this.ur.indexManager.addToCollectionParentIndex(i,_))}),o.push(this.ur.updateMetadata(i,d)),st.waitFor(o)}getFromCache(i,o){return this.ur.ir(i,o).next(d=>(this.cr.set(o,{size:d.size,readTime:d.document.readTime}),d.document))}getAllFromCache(i,o){return this.ur._r(i,o).next(({documents:d,ar:p})=>(p.forEach((_,I)=>{this.cr.set(_,{size:I,readTime:d.get(_).readTime})}),d))}}function Gh(l){return us(l,"remoteDocumentGlobal")}function Lo(l){return us(l,"remoteDocumentsV14")}function ql(l){const i=l.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function xp(l,i){const o=i.documentKey.path.toArray();return[l,Tm(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function tv(l,i){const o=l.path.toArray(),d=i.path.toArray();let p=0;for(let _=0;_<o.length-2&&_<d.length-2;++_)if(p=se(o[_],d[_]),p)return p;return p=se(o.length,d.length),p||(p=se(o[o.length-2],d[d.length-2]),p||se(o[o.length-1],d[d.length-1]))}class $0{constructor(i,o){this.overlayedDocument=i,this.mutatedFields=o}}class Nm{constructor(i,o,d,p){this.remoteDocumentCache=i,this.mutationQueue=o,this.documentOverlayCache=d,this.indexManager=p}getDocument(i,o){let d=null;return this.documentOverlayCache.getOverlay(i,o).next(p=>(d=p,this.remoteDocumentCache.getEntry(i,o))).next(p=>(null!==d&&lp(d.mutation,p,ka.empty(),Xe.now()),p))}getDocuments(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.getLocalViewOfDocuments(i,d,Rr()).next(()=>d))}getLocalViewOfDocuments(i,o,d=Rr()){const p=_c();return this.populateOverlays(i,p,o).next(()=>this.computeViews(i,o,p,d).next(_=>{let I=Dh();return _.forEach((k,F)=>{I=I.insert(k,F.overlayedDocument)}),I}))}getOverlayedDocuments(i,o){const d=_c();return this.populateOverlays(i,d,o).next(()=>this.computeViews(i,o,d,Rr()))}populateOverlays(i,o,d){const p=[];return d.forEach(_=>{o.has(_)||p.push(_)}),this.documentOverlayCache.getOverlays(i,p).next(_=>{_.forEach((I,k)=>{o.set(I,k)})})}computeViews(i,o,d,p){let _=go();const I=im(),k=im();return o.forEach((F,K)=>{const ne=d.get(K.key);p.has(K.key)&&(void 0===ne||ne.mutation instanceof vc)?_=_.insert(K.key,K):void 0!==ne?(I.set(K.key,ne.mutation.getFieldMask()),lp(ne.mutation,K,ne.mutation.getFieldMask(),Xe.now())):I.set(K.key,ka.empty())}),this.recalculateAndSaveOverlays(i,_).next(F=>(F.forEach((K,ne)=>I.set(K,ne)),o.forEach((K,ne)=>{var he;return k.set(K,new $0(ne,null!==(he=I.get(K))&&void 0!==he?he:null))}),k))}recalculateAndSaveOverlays(i,o){const d=im();let p=new vi((I,k)=>I-k),_=Rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,o).next(I=>{for(const k of I)k.keys().forEach(F=>{const K=o.get(F);if(null===K)return;let ne=d.get(F)||ka.empty();ne=k.applyToLocalView(K,ne),d.set(F,ne);const he=(p.get(k.batchId)||Rr()).add(F);p=p.insert(k.batchId,he)})}).next(()=>{const I=[],k=p.getReverseIterator();for(;k.hasNext();){const F=k.getNext(),K=F.key,ne=F.value,he=rm();ne.forEach(Ce=>{if(!_.has(Ce)){const Je=cm(o.get(Ce),d.get(Ce));null!==Je&&he.set(Ce,Je),_=_.add(Ce)}}),I.push(this.documentOverlayCache.saveOverlays(i,K,he))}return st.waitFor(I)}).next(()=>d)}recalculateAndSaveOverlaysForDocumentKeys(i,o){return this.remoteDocumentCache.getEntries(i,o).next(d=>this.recalculateAndSaveOverlays(i,d))}getDocumentsMatchingQuery(i,o,d,p){return Xt.isDocumentKey((I=o).path)&&null===I.collectionGroup&&0===I.filters.length?this.getDocumentsMatchingDocumentQuery(i,o.path):Lc(o)?this.getDocumentsMatchingCollectionGroupQuery(i,o,d,p):this.getDocumentsMatchingCollectionQuery(i,o,d,p);var I}getNextDocuments(i,o,d,p){return this.remoteDocumentCache.getAllFromCollectionGroup(i,o,d,p).next(_=>{const I=p-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,o,d.largestBatchId,p-_.size):st.resolve(_c());let k=-1,F=_;return I.next(K=>st.forEach(K,(ne,he)=>(k<he.largestBatchId&&(k=he.largestBatchId),_.get(ne)?st.resolve():this.remoteDocumentCache.getEntry(i,ne).next(Ce=>{F=F.insert(ne,Ce)}))).next(()=>this.populateOverlays(i,K,_)).next(()=>this.computeViews(i,F,K,Rr())).next(ne=>({batchId:k,changes:sp(ne)})))})}getDocumentsMatchingDocumentQuery(i,o){return this.getDocument(i,new Xt(o)).next(d=>{let p=Dh();return d.isFoundDocument()&&(p=p.insert(d.key,d)),p})}getDocumentsMatchingCollectionGroupQuery(i,o,d,p){const _=o.collectionGroup;let I=Dh();return this.indexManager.getCollectionParents(i,_).next(k=>st.forEach(k,F=>{const K=(he=o,Ce=F.child(_),new pc(Ce,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Ce;return this.getDocumentsMatchingCollectionQuery(i,K,d,p).next(ne=>{ne.forEach((he,Ce)=>{I=I.insert(he,Ce)})})}).next(()=>I))}getDocumentsMatchingCollectionQuery(i,o,d,p){let _;return this.documentOverlayCache.getOverlaysForCollection(i,o.path,d.largestBatchId).next(I=>(_=I,this.remoteDocumentCache.getDocumentsMatchingQuery(i,o,d,_,p))).next(I=>{_.forEach((F,K)=>{const ne=K.getKey();null===I.get(ne)&&(I=I.insert(ne,Qi.newInvalidDocument(ne)))});let k=Dh();return I.forEach((F,K)=>{const ne=_.get(F);void 0!==ne&&lp(ne.mutation,K,ka.empty(),Xe.now()),ll(o,K)&&(k=k.insert(F,K))}),k})}}class Dd{constructor(i){this.serializer=i,this.lr=new Map,this.hr=new Map}getBundleMetadata(i,o){return st.resolve(this.lr.get(o))}saveBundleMetadata(i,o){return this.lr.set(o.id,{id:(p=o).id,version:p.version,createTime:Ms(p.createTime)}),st.resolve();var p}getNamedQuery(i,o){return st.resolve(this.hr.get(o))}saveNamedQuery(i,o){return this.hr.set(o.name,{name:(p=o).name,query:wm(p.bundledQuery),readTime:Ms(p.readTime)}),st.resolve();var p}}class U0{constructor(){this.overlays=new vi(Xt.comparator),this.Pr=new Map}getOverlay(i,o){return st.resolve(this.overlays.get(o))}getOverlays(i,o){const d=_c();return st.forEach(o,p=>this.getOverlay(i,p).next(_=>{null!==_&&d.set(p,_)})).next(()=>d)}saveOverlays(i,o,d){return d.forEach((p,_)=>{this.It(i,o,_)}),st.resolve()}removeOverlaysForBatchId(i,o,d){const p=this.Pr.get(d);return void 0!==p&&(p.forEach(_=>this.overlays=this.overlays.remove(_)),this.Pr.delete(d)),st.resolve()}getOverlaysForCollection(i,o,d){const p=_c(),_=o.length+1,I=new Xt(o.child("")),k=this.overlays.getIteratorFrom(I);for(;k.hasNext();){const F=k.getNext().value,K=F.getKey();if(!o.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>d&&p.set(F.getKey(),F)}return st.resolve(p)}getOverlaysForCollectionGroup(i,o,d,p){let _=new vi((K,ne)=>K-ne);const I=this.overlays.getIterator();for(;I.hasNext();){const K=I.getNext().value;if(K.getKey().getCollectionGroup()===o&&K.largestBatchId>d){let ne=_.get(K.largestBatchId);null===ne&&(ne=_c(),_=_.insert(K.largestBatchId,ne)),ne.set(K.getKey(),K)}}const k=_c(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,ne)=>k.set(K,ne)),!(k.size()>=p)););return st.resolve(k)}It(i,o,d){const p=this.overlays.get(d.key);if(null!==p){const I=this.Pr.get(p.largestBatchId).delete(d.key);this.Pr.set(p.largestBatchId,I)}this.overlays=this.overlays.insert(d.key,new _d(o,d));let _=this.Pr.get(o);void 0===_&&(_=Rr(),this.Pr.set(o,_)),this.Pr.set(o,_.add(d.key))}}class Om{constructor(){this.Ir=new Gi(_o.dr),this.Tr=new Gi(_o.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(i,o){const d=new _o(i,o);this.Ir=this.Ir.add(d),this.Tr=this.Tr.add(d)}Ar(i,o){i.forEach(d=>this.addReference(d,o))}removeReference(i,o){this.Rr(new _o(i,o))}Vr(i,o){i.forEach(d=>this.removeReference(d,o))}mr(i){const o=new Xt(new Wn([])),d=new _o(o,i),p=new _o(o,i+1),_=[];return this.Tr.forEachInRange([d,p],I=>{this.Rr(I),_.push(I.key)}),_}gr(){this.Ir.forEach(i=>this.Rr(i))}Rr(i){this.Ir=this.Ir.delete(i),this.Tr=this.Tr.delete(i)}pr(i){const o=new Xt(new Wn([])),d=new _o(o,i),p=new _o(o,i+1);let _=Rr();return this.Tr.forEachInRange([d,p],I=>{_=_.add(I.key)}),_}containsKey(i){const o=new _o(i,0),d=this.Ir.firstAfterOrEqual(o);return null!==d&&i.isEqual(d.key)}}class _o{constructor(i,o){this.key=i,this.yr=o}static dr(i,o){return Xt.comparator(i.key,o.key)||se(i.yr,o.yr)}static Er(i,o){return se(i.yr,o.yr)||Xt.comparator(i.key,o.key)}}class Lm{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.mutationQueue=[],this.wr=1,this.Sr=new Gi(_o.dr)}checkEmpty(i){return st.resolve(0===this.mutationQueue.length)}addMutationBatch(i,o,d,p){const _=this.wr;this.wr++;const I=new hp(_,o,d,p);this.mutationQueue.push(I);for(const k of p)this.Sr=this.Sr.add(new _o(k.key,_)),this.indexManager.addToCollectionParentIndex(i,k.key.path.popLast());return st.resolve(I)}lookupMutationBatch(i,o){return st.resolve(this.br(o))}getNextMutationBatchAfterBatchId(i,o){const p=this.Dr(o+1),_=p<0?0:p;return st.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(i){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const d=new _o(o,0),p=new _o(o,Number.POSITIVE_INFINITY),_=[];return this.Sr.forEachInRange([d,p],I=>{const k=this.br(I.yr);_.push(k)}),st.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(i,o){let d=new Gi(se);return o.forEach(p=>{const _=new _o(p,0),I=new _o(p,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([_,I],k=>{d=d.add(k.yr)})}),st.resolve(this.Cr(d))}getAllMutationBatchesAffectingQuery(i,o){const d=o.path,p=d.length+1;let _=d;Xt.isDocumentKey(_)||(_=_.child(""));const I=new _o(new Xt(_),0);let k=new Gi(se);return this.Sr.forEachWhile(F=>{const K=F.key.path;return!!d.isPrefixOf(K)&&(K.length===p&&(k=k.add(F.yr)),!0)},I),st.resolve(this.Cr(k))}Cr(i){const o=[];return i.forEach(d=>{const p=this.br(d);null!==p&&o.push(p)}),o}removeMutationBatch(i,o){En(0===this.vr(o.batchId,"removed")),this.mutationQueue.shift();let d=this.Sr;return st.forEach(o.mutations,p=>{const _=new _o(p.key,o.batchId);return d=d.delete(_),this.referenceDelegate.markPotentiallyOrphaned(i,p.key)}).next(()=>{this.Sr=d})}xn(i){}containsKey(i,o){const d=new _o(o,0),p=this.Sr.firstAfterOrEqual(d);return st.resolve(o.isEqual(p&&p.key))}performConsistencyCheck(i){return st.resolve()}vr(i,o){return this.Dr(i)}Dr(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}br(i){const o=this.Dr(i);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class nv{constructor(i){this.Fr=i,this.docs=new vi(Xt.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const d=o.key,p=this.docs.get(d),_=p?p.size:0,I=this.Fr(o);return this.docs=this.docs.insert(d,{document:o.mutableCopy(),size:I}),this.size+=I-_,this.indexManager.addToCollectionParentIndex(i,d.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const d=this.docs.get(o);return st.resolve(d?d.document.mutableCopy():Qi.newInvalidDocument(o))}getEntries(i,o){let d=go();return o.forEach(p=>{const _=this.docs.get(p);d=d.insert(p,_?_.document.mutableCopy():Qi.newInvalidDocument(p))}),st.resolve(d)}getDocumentsMatchingQuery(i,o,d,p){let _=go();const I=o.path,k=new Xt(I.child("")),F=this.docs.getIteratorFrom(k);for(;F.hasNext();){const{key:K,value:{document:ne}}=F.getNext();if(!I.isPrefixOf(K.path))break;K.path.length>I.length+1||qf(ly(ne),d)<=0||(p.has(ne.key)||ll(o,ne))&&(_=_.insert(ne.key,ne.mutableCopy()))}return st.resolve(_)}getAllFromCollectionGroup(i,o,d,p){Rn()}Mr(i,o){return st.forEach(this.docs,d=>o(d))}newChangeBuffer(i){return new j0(this)}getSize(i){return st.resolve(this.size)}}class j0 extends Ap{constructor(i){super(),this.ur=i}applyChanges(i){const o=[];return this.changes.forEach((d,p)=>{p.isValidDocument()?o.push(this.ur.addEntry(i,p)):this.ur.removeEntry(d)}),st.waitFor(o)}getFromCache(i,o){return this.ur.getEntry(i,o)}getAllFromCache(i,o){return this.ur.getEntries(i,o)}}class rv{constructor(i){this.persistence=i,this.Or=new mc(o=>Bl(o),hd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Om,this.targetCount=0,this.Lr=Pu.Bn()}forEachTarget(i,o){return this.Or.forEach((d,p)=>o(p)),st.resolve()}getLastRemoteSnapshotVersion(i){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return st.resolve(this.Nr)}allocateTargetId(i){return this.highestTargetId=this.Lr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(i,o,d){return d&&(this.lastRemoteSnapshotVersion=d),o>this.Nr&&(this.Nr=o),st.resolve()}Qn(i){this.Or.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.Lr=new Pu(o),this.highestTargetId=o),i.sequenceNumber>this.Nr&&(this.Nr=i.sequenceNumber)}addTargetData(i,o){return this.Qn(o),this.targetCount+=1,st.resolve()}updateTargetData(i,o){return this.Qn(o),st.resolve()}removeTargetData(i,o){return this.Or.delete(o.target),this.Br.mr(o.targetId),this.targetCount-=1,st.resolve()}removeTargets(i,o,d){let p=0;const _=[];return this.Or.forEach((I,k)=>{k.sequenceNumber<=o&&null===d.get(k.targetId)&&(this.Or.delete(I),_.push(this.removeMatchingKeysForTargetId(i,k.targetId)),p++)}),st.waitFor(_).next(()=>p)}getTargetCount(i){return st.resolve(this.targetCount)}getTargetData(i,o){const d=this.Or.get(o)||null;return st.resolve(d)}addMatchingKeys(i,o,d){return this.Br.Ar(o,d),st.resolve()}removeMatchingKeys(i,o,d){this.Br.Vr(o,d);const p=this.persistence.referenceDelegate,_=[];return p&&o.forEach(I=>{_.push(p.markPotentiallyOrphaned(i,I))}),st.waitFor(_)}removeMatchingKeysForTargetId(i,o){return this.Br.mr(o),st.resolve()}getMatchingKeysForTargetId(i,o){const d=this.Br.pr(o);return st.resolve(d)}containsKey(i,o){return st.resolve(this.Br.containsKey(o))}}class zh{constructor(i,o){this.kr={},this.overlays={},this.qr=new Ma(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=i(this),this.Kr=new rv(this),this.indexManager=new F0,this.remoteDocumentCache=new nv(d=>this.referenceDelegate.$r(d)),this.serializer=new $w(o),this.Ur=new Dd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new U0,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let d=this.kr[i.toKey()];return d||(d=new Lm(o,this.referenceDelegate),this.kr[i.toKey()]=d),d}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(i,o,d){zt("MemoryPersistence","Starting transaction:",i);const p=new Hw(this.qr.next());return this.referenceDelegate.Wr(),d(p).next(_=>this.referenceDelegate.Gr(p).next(()=>_)).toPromise().then(_=>(p.raiseOnCommittedEvent(),_))}zr(i,o){return st.or(Object.values(this.kr).map(d=>()=>d.containsKey(i,o)))}}class Hw extends uy{constructor(i){super(),this.currentSequenceNumber=i}}class Fm{constructor(i){this.persistence=i,this.jr=new Om,this.Hr=null}static Jr(i){return new Fm(i)}get Yr(){if(this.Hr)return this.Hr;throw Rn()}addReference(i,o,d){return this.jr.addReference(d,o),this.Yr.delete(d.toString()),st.resolve()}removeReference(i,o,d){return this.jr.removeReference(d,o),this.Yr.add(d.toString()),st.resolve()}markPotentiallyOrphaned(i,o){return this.Yr.add(o.toString()),st.resolve()}removeTarget(i,o){this.jr.mr(o.targetId).forEach(p=>this.Yr.add(p.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(i,o.targetId).next(p=>{p.forEach(_=>this.Yr.add(_.toString()))}).next(()=>d.removeTargetData(i,o))}Wr(){this.Hr=new Set}Gr(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Yr,d=>{const p=Xt.fromPath(d);return this.Zr(i,p).next(_=>{_||o.removeEntry(p,yt.min())})}).next(()=>(this.Hr=null,o.apply(i)))}updateLimboDocument(i,o){return this.Zr(i,o).next(d=>{d?this.Yr.delete(o.toString()):this.Yr.add(o.toString())})}$r(i){return 0}Zr(i,o){return st.or([()=>st.resolve(this.jr.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.zr(i,o)])}}class G0{constructor(i){this.serializer=i}B(i,o,d,p){const _=new hc("createOrUpgrade",o);var F;d<1&&p>=1&&(i.createObjectStore("owner"),(F=i).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yf,{unique:!0}),F.createObjectStore("documentMutations"),z0(i),function(F){F.createObjectStore("remoteDocuments")}(i));let I=st.resolve();return d<3&&p>=3&&(0!==d&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(i),z0(i)),I=I.next(()=>function(F){const K=F.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ne)}(_))),d<4&&p>=4&&(0!==d&&(I=I.next(()=>function(F,K){return K.store("mutations").G().next(ne=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yf,{unique:!0});const he=K.store("mutations"),Ce=ne.map(Je=>he.put(Je));return st.waitFor(Ce)})}(i,_))),I=I.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),d<5&&p>=5&&(I=I.next(()=>this.ei(_))),d<6&&p>=6&&(I=I.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(i),this.ti(_)))),d<7&&p>=7&&(I=I.next(()=>this.ni(_))),d<8&&p>=8&&(I=I.next(()=>this.ri(i,_))),d<9&&p>=9&&(I=I.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(i)})),d<10&&p>=10&&(I=I.next(()=>this.ii(_))),d<11&&p>=11&&(I=I.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),d<12&&p>=12&&(I=I.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Po});K.createIndex("collectionPathOverlayIndex",fy,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",h0,{unique:!1})}(i)})),d<13&&p>=13&&(I=I.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:Zg});K.createIndex("documentKeyIndex",Zf),K.createIndex("collectionGroupIndex",Ew)}(i)).next(()=>this.si(i,_)).next(()=>i.deleteObjectStore("remoteDocuments"))),d<14&&p>=14&&(I=I.next(()=>this.oi(i,_))),d<15&&p>=15&&(I=I.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:ww}).createIndex("sequenceNumberIndex",gh,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:no}).createIndex("documentKeyIndex",d0,{unique:!1})}(i))),I}ti(i){let o=0;return i.store("remoteDocuments").Z((d,p)=>{o+=Qr(p)}).next(()=>{const d={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",d)})}ei(i){const o=i.store("mutationQueues"),d=i.store("mutations");return o.G().next(p=>st.forEach(p,_=>{const I=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return d.G("userMutationsIndex",I).next(k=>st.forEach(k,F=>{En(F.userId===_.userId);const K=Fh(this.serializer,F);return bd(i,_.userId,K).next(()=>{})}))}))}ni(i){const o=i.store("targetDocuments"),d=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(p=>{const _=[];return d.Z((I,k)=>{const F=new Wn(I),K=[0,No(F)];_.push(o.get(K).next(ne=>ne?st.resolve():o.put({targetId:0,path:No(F),sequenceNumber:p.highestListenSequenceNumber})))}).next(()=>st.waitFor(_))})}ri(i,o){i.createObjectStore("collectionParents",{keyPath:al});const d=o.store("collectionParents"),p=new Sm,_=I=>{if(p.add(I)){const k=I.lastSegment(),F=I.popLast();return d.put({collectionId:k,parent:No(F)})}};return o.store("remoteDocuments").Z({Y:!0},(I,k)=>{const F=new Wn(I);return _(F.popLast())}).next(()=>o.store("documentMutations").Z({Y:!0},([I,k,F],K)=>{const ne=ol(k);return _(ne.popLast())}))}ii(i){const o=i.store("targets");return o.Z((d,p)=>{const _=zy(p),I=XC(this.serializer,_);return o.put(I)})}si(i,o){const d=o.store("remoteDocuments"),p=[];return d.Z((_,I)=>{const k=o.store("remoteDocumentsV14"),F=(he=I,he.document?new Xt(Wn.fromString(he.document.name).popFirst(5)):he.noDocument?Xt.fromSegments(he.noDocument.path):he.unknownDocument?Xt.fromSegments(he.unknownDocument.path):Rn()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};var he;p.push(k.put(K))}).next(()=>st.waitFor(p))}oi(i,o){const d=o.store("mutations"),p=ev(this.serializer),_=new zh(Fm.Jr,this.serializer.ht);return d.G().next(I=>{const k=new Map;return I.forEach(F=>{var K;let ne=null!==(K=k.get(F.userId))&&void 0!==K?K:Rr();Fh(this.serializer,F).keys().forEach(he=>ne=ne.add(he)),k.set(F.userId,ne)}),st.forEach(k,(F,K)=>{const ne=new cs(K),he=jl.Pt(this.serializer,ne),Ce=_.getIndexManager(ne),Je=zl.Pt(ne,this.serializer,Ce,_.referenceDelegate);return new Nm(p,Je,he,Ce).recalculateAndSaveOverlaysForDocumentKeys(new mh(o,Ma.ae),F).next()})})}}function z0(l){l.createObjectStore("targetDocuments",{keyPath:u0}).createIndex("documentTargetsIndex",Tw,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qf,{unique:!0}),l.createObjectStore("targetGlobal")}const iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cd{constructor(i,o,d,p,_,I,k,F,K,ne,he=15){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=d,this._i=_,this.window=I,this.document=k,this.ai=K,this.ui=ne,this.ci=he,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=Ce=>Promise.resolve(),!Cd.C())throw new Vt(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nu(this,p),this.Ti=o+"main",this.serializer=new $w(F),this.Ei=new kc(this.Ti,this.ci,new G0(this.serializer)),this.Kr=new Xy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ev(this.serializer),this.Ur=new JC,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===ne&&At("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(lt.FAILED_PRECONDITION,iv);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Kr.getHighestSequenceNumber(i))}).then(i=>{this.qr=new Ma(i,this.ai)}).then(()=>{this.Qr=!0}).catch(i=>(this.Ei&&this.Ei.close(),Promise.reject(i)))}gi(i){var d,o=this;return this.di=function(p){return(d=d||(0,b.Z)(function*(_){if(o.started)return i(_)})).apply(this,arguments)},i(this.isPrimary)}setDatabaseDeletedListener(i){var o;this.Ei.k(function(d){return(o=o||(0,b.Z)(function*(p){null===p.newVersion&&(yield i())})).apply(this,arguments)})}setNetworkEnabled(i){var o=this;this.networkEnabled!==i&&(this.networkEnabled=i,this._i.enqueueAndForget((0,b.Z)(function*(){o.started&&(yield o.Ri())})))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Ad(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(i).next(o=>{o||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(i)).next(o=>this.isPrimary&&!o?this.wi(i).next(()=>!1):!!o&&this.Si(i).next(()=>!0))).catch(i=>{if(fc(i))return zt("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this._i.enqueueRetryable(()=>this.di(i)),this.isPrimary=i})}pi(i){return Hh(i).get("owner").next(o=>st.resolve(this.bi(o)))}Di(i){return Ad(i).delete(this.clientId)}Ci(){var i=this;return(0,b.Z)(function*(){if(i.isPrimary&&!i.vi(i.Ii,18e5)){i.Ii=Date.now();const o=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",d=>{const p=us(d,"clientMetadata");return p.G().next(_=>{const I=i.Fi(_,18e5),k=_.filter(F=>-1===I.indexOf(F));return st.forEach(k,F=>p.delete(F.clientId)).next(()=>k)})}).catch(()=>[]);if(i.Ai)for(const d of o)i.Ai.removeItem(i.Mi(d.clientId))}})()}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(i){return!!i&&i.ownerId===this.clientId}yi(i){return this.ui?st.resolve(!0):Hh(i).get("owner").next(o=>{if(null!==o&&this.vi(o.leaseTimestampMs,5e3)&&!this.xi(o.ownerId)){if(this.bi(o)&&this.networkEnabled)return!0;if(!this.bi(o)){if(!o.allowTabSynchronization)throw new Vt(lt.FAILED_PRECONDITION,iv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ad(i).G().next(d=>void 0===this.Fi(d,5e3).find(p=>!(this.clientId===p.clientId||!(!this.networkEnabled&&p.networkEnabled||!this.inForeground&&p.inForeground&&this.networkEnabled===p.networkEnabled))))}).next(o=>(this.isPrimary!==o&&zt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var i=this;return(0,b.Z)(function*(){i.Qr=!1,i.Oi(),i.Pi&&(i.Pi.cancel(),i.Pi=null),i.Ni(),i.Bi(),yield i.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const d=new mh(o,Ma.ae);return i.wi(d).next(()=>i.Di(d))}),i.Ei.close(),i.Li()})()}Fi(i,o){return i.filter(d=>this.vi(d.updateTimeMs,o)&&!this.xi(d.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",i=>Ad(i).G().next(o=>this.Fi(o,18e5).map(d=>d.clientId)))}get started(){return this.Qr}getMutationQueue(i,o){return zl.Pt(i,this.serializer,o,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new Zy(i,this.serializer.ht.databaseId)}getDocumentOverlayCache(i){return jl.Pt(this.serializer,i)}getBundleCache(){return this.Ur}runTransaction(i,o,d){zt("IndexedDbPersistence","Starting transaction:",i);const p="readonly"===o?"readonly":"readwrite",_=15===(F=this.ci)?bw:14===F?my:13===F?gy:12===F?f0:11===F?py:void Rn();var F;let I;return this.Ei.runTransaction(i,p,_,k=>(I=new mh(k,this.qr?this.qr.next():Ma.ae),"readwrite-primary"===o?this.pi(I).next(F=>!!F||this.yi(I)).next(F=>{if(!F)throw At(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new Vt(lt.FAILED_PRECONDITION,r0);return d(I)}).next(F=>this.Si(I).next(()=>F)):this.qi(I).next(()=>d(I)))).then(k=>(I.raiseOnCommittedEvent(),k))}qi(i){return Hh(i).get("owner").next(o=>{if(null!==o&&this.vi(o.leaseTimestampMs,5e3)&&!this.xi(o.ownerId)&&!this.bi(o)&&!(this.ui||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Vt(lt.FAILED_PRECONDITION,iv)})}Si(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hh(i).put("owner",o)}static C(){return kc.C()}wi(i){const o=Hh(i);return o.get("owner").next(d=>this.bi(d)?(zt("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):st.resolve())}vi(i,o){const d=Date.now();return!(i<d-o||i>d&&(At(`Detected an update time that is in the future: ${i} > ${d}`),1))}Vi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.li=()=>{this.Oi();const o=/(?:Version|Mobile)\/1[456]/;(0,ke.G6)()&&(navigator.appVersion.match(o)||navigator.userAgent.match(o))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(i){var o;try{const d=null!==(null===(o=this.Ai)||void 0===o?void 0:o.getItem(this.Mi(i)));return zt("IndexedDbPersistence",`Client '${i}' ${d?"is":"is not"} zombied in LocalStorage`),d}catch(d){return At("IndexedDbPersistence","Failed to get zombied client id.",d),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(i){At("Failed to set zombie client id.",i)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Hh(l){return us(l,"owner")}function Ad(l){return us(l,"clientMetadata")}function qh(l,i){let o=l.projectId;return l.isDefaultDatabase||(o+="."+l.database),"firestore/"+i+"/"+o+"/"}class Sd{constructor(i,o,d,p){this.targetId=i,this.fromCache=o,this.Qi=d,this.Ki=p}static $i(i,o){let d=Rr(),p=Rr();for(const _ of o.docChanges)switch(_.type){case 0:d=d.add(_.doc.key);break;case 1:p=p.add(_.doc.key)}return new Sd(i,o.fromCache,d,p)}}class sv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}class Vm{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(i,o){this.ji=i,this.indexManager=o,this.Ui=!0}getDocumentsMatchingQuery(i,o,d,p){const _={result:null};return this.Hi(i,o).next(I=>{_.result=I}).next(()=>{if(!_.result)return this.Ji(i,o,p,d).next(I=>{_.result=I})}).next(()=>{if(_.result)return;const I=new sv;return this.Yi(i,o,I).next(k=>{if(_.result=k,this.Wi)return this.Zi(i,o,I,k.size)})}).next(()=>_.result)}Zi(i,o,d,p){return d.documentReadCount<this.Gi?(rl()<=_e.in.DEBUG&&zt("QueryEngine","SDK will not create cache indexes for query:",fd(o),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),st.resolve()):(rl()<=_e.in.DEBUG&&zt("QueryEngine","Query:",fd(o),"scans",d.documentReadCount,"local documents and returns",p,"documents as results."),d.documentReadCount>this.zi*p?(rl()<=_e.in.DEBUG&&zt("QueryEngine","The SDK decides to create cache indexes for query:",fd(o),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,ro(o))):st.resolve())}Hi(i,o){if(v0(o))return st.resolve(null);let d=ro(o);return this.indexManager.getIndexType(i,d).next(p=>0===p?null:(null!==o.limit&&1===p&&(o=ky(o,null,"F"),d=ro(o)),this.indexManager.getDocumentsMatchingTarget(i,d).next(_=>{const I=Rr(..._);return this.ji.getDocuments(i,I).next(k=>this.indexManager.getMinOffset(i,d).next(F=>{const K=this.Xi(o,k);return this.es(o,K,I,F.readTime)?this.Hi(i,ky(o,null,"F")):this.ts(i,K,o,F)}))})))}Ji(i,o,d,p){return v0(o)||p.isEqual(yt.min())?st.resolve(null):this.ji.getDocuments(i,d).next(_=>{const I=this.Xi(o,_);return this.es(o,I,d,p)?st.resolve(null):(rl()<=_e.in.DEBUG&&zt("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),fd(o)),this.ts(i,I,o,Yi(p,-1)).next(k=>k))})}Xi(i,o){let d=new Gi(nm(i));return o.forEach((p,_)=>{ll(i,_)&&(d=d.add(_))}),d}es(i,o,d,p){if(null===i.limit)return!1;if(d.size!==o.size)return!0;const _="F"===i.limitType?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(p)>0)}Yi(i,o,d){return rl()<=_e.in.DEBUG&&zt("QueryEngine","Using full collection scan to execute query:",fd(o)),this.ji.getDocumentsMatchingQuery(i,o,za.min(),d)}ts(i,o,d,p){return this.ji.getDocumentsMatchingQuery(i,d,p).next(_=>(o.forEach(I=>{_=_.insert(I.key,I)}),_))}}class Pp{constructor(i,o,d,p){this.persistence=i,this.ns=o,this.serializer=p,this.rs=new vi(se),this.ss=new mc(_=>Bl(_),hd),this.os=new Map,this._s=i.getRemoteDocumentCache(),this.Kr=i.getTargetCache(),this.Ur=i.getBundleCache(),this.us(d)}us(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new Nm(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.rs))}}function Mp(l,i,o,d){return new Pp(l,i,o,d)}function Wh(l,i){return(ur=ur||(0,b.Z)(function*(o,d){const p=dn(o);return yield p.persistence.runTransaction("Handle user change","readonly",_=>{let I;return p.mutationQueue.getAllMutationBatches(_).next(k=>(I=k,p.us(d),p.mutationQueue.getAllMutationBatches(_))).next(k=>{const F=[],K=[];let ne=Rr();for(const he of I){F.push(he.batchId);for(const Ce of he.mutations)ne=ne.add(Ce.key)}for(const he of k){K.push(he.batchId);for(const Ce of he.mutations)ne=ne.add(Ce.key)}return p.localDocuments.getDocuments(_,ne).next(he=>({cs:he,removedBatchIds:F,addedBatchIds:K}))})})})).apply(this,arguments)}function $m(l){const i=dn(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.Kr.getLastRemoteSnapshotVersion(o))}function H0(l,i,o){let d=Rr(),p=Rr();return o.forEach(_=>d=d.add(_)),i.getEntries(l,d).next(_=>{let I=go();return o.forEach((k,F)=>{const K=_.get(k);F.isFoundDocument()!==K.isFoundDocument()&&(p=p.add(k)),F.isNoDocument()&&F.version.isEqual(yt.min())?(i.removeEntry(k,F.readTime),I=I.insert(k,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(i.addEntry(F),I=I.insert(k,F)):zt("LocalStore","Ignoring outdated watch update for ",k,". Current version:",K.version," Watch version:",F.version)}),{ls:I,hs:p}})}function q0(l,i){const o=dn(l);return o.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===i&&(i=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(d,i)))}function Ka(l,i){const o=dn(l);return o.persistence.runTransaction("Allocate target","readwrite",d=>{let p;return o.Kr.getTargetData(d,i).next(_=>_?(p=_,st.resolve(p)):o.Kr.allocateTargetId(d).next(I=>(p=new Bc(i,I,"TargetPurposeListen",d.currentSequenceNumber),o.Kr.addTargetData(d,p).next(()=>p))))}).then(d=>{const p=o.rs.get(d.targetId);return(null===p||d.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(o.rs=o.rs.insert(d.targetId,d),o.ss.set(i,d.targetId)),d})}function Kh(l,i,o){return(ii=ii||(0,b.Z)(function*(d,p,_){const I=dn(d),k=I.rs.get(p),F=_?"readwrite":"readwrite-primary";try{_||(yield I.persistence.runTransaction("Release target",F,K=>I.persistence.referenceDelegate.removeTarget(K,k)))}catch(K){if(!fc(K))throw K;zt("LocalStore",`Failed to update sequence numbers for target ${p}: ${K}`)}I.rs=I.rs.remove(p),I.ss.delete(k.target)})).apply(this,arguments)}function Ou(l,i,o){const d=dn(l);let p=yt.min(),_=Rr();return d.persistence.runTransaction("Execute query","readwrite",I=>function(F,K,ne){const he=dn(F),Ce=he.ss.get(ne);return void 0!==Ce?st.resolve(he.rs.get(Ce)):he.Kr.getTargetData(K,ne)}(d,I,ro(i)).next(k=>{if(k)return p=k.lastLimboFreeSnapshotVersion,d.Kr.getMatchingKeysForTargetId(I,k.targetId).next(F=>{_=F})}).next(()=>d.ns.getDocumentsMatchingQuery(I,i,o?p:yt.min(),o?_:Rr())).next(k=>(Np(d,pd(i),k),{documents:k,Ps:_})))}function pa(l,i){const o=dn(l),d=dn(o.Kr),p=o.rs.get(i);return p?Promise.resolve(p.target):o.persistence.runTransaction("Get target data","readonly",_=>d.lt(_,i).next(I=>I?I.target:null))}function $c(l,i){const o=dn(l),d=o.os.get(i)||yt.min();return o.persistence.runTransaction("Get new document changes","readonly",p=>o._s.getAllFromCollectionGroup(p,i,Yi(d,-1),Number.MAX_SAFE_INTEGER)).then(p=>(Np(o,i,p),p))}function Np(l,i,o){let d=l.os.get(i)||yt.min();o.forEach((p,_)=>{_.readTime.compareTo(d)>0&&(d=_.readTime)}),l.os.set(i,d)}function ov(l,i){return(as=as||(0,b.Z)(function*(o,d,p=Rr()){const _=yield Ka(o,ro(wm(d.bundledQuery))),I=dn(o);return I.persistence.runTransaction("Save named query","readwrite",k=>{const F=Ms(d.readTime);if(_.snapshotVersion.compareTo(F)>=0)return I.Ur.saveNamedQuery(k,d);const K=_.withResumeToken(zi.EMPTY_BYTE_STRING,F);return I.rs=I.rs.insert(K.targetId,K),I.Kr.updateTargetData(k,K).next(()=>I.Kr.removeMatchingKeysForTargetId(k,_.targetId)).next(()=>I.Kr.addMatchingKeys(k,p,_.targetId)).next(()=>I.Ur.saveNamedQuery(k,d))})})).apply(this,arguments)}function mn(l,i){return`firestore_clients_${l}_${i}`}function pl(l,i,o){let d=`firestore_mutations_${l}_${o}`;return i.isAuthenticated()&&(d+=`_${i.uid}`),d}function gl(l,i){return`firestore_targets_${l}_${i}`}class Uc{constructor(i,o,d,p){this.user=i,this.batchId=o,this.state=d,this.error=p}static Es(i,o,d){const p=JSON.parse(d);let _,I="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return I&&p.error&&(I="string"==typeof p.error.message&&"string"==typeof p.error.code,I&&(_=new Vt(p.error.code,p.error.message))),I?new Uc(i,o,p.state,_):(At("SharedClientState",`Failed to parse mutation state for ID '${o}': ${d}`),null)}As(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Wl{constructor(i,o,d){this.targetId=i,this.state=o,this.error=d}static Es(i,o){const d=JSON.parse(o);let p,_="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return _&&d.error&&(_="string"==typeof d.error.message&&"string"==typeof d.error.code,_&&(p=new Vt(d.error.code,d.error.message))),_?new Wl(i,d.state,p):(At("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}As(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Op{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Es(i,o){const d=JSON.parse(o);let p="object"==typeof d&&d.activeTargetIds instanceof Array,_=sm();for(let I=0;p&&I<d.activeTargetIds.length;++I)p=a0(d.activeTargetIds[I]),_=_.add(d.activeTargetIds[I]);return p?new Op(i,_):(At("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Um{constructor(i,o){this.clientId=i,this.onlineState=o}static Es(i){const o=JSON.parse(i);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Um(o.clientId,o.onlineState):(At("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Lp{constructor(){this.activeTargetIds=sm()}Rs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Vs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}As(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class ml{constructor(i,o,d,p,_){this.window=i,this._i=o,this.persistenceKey=d,this.fs=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new vi(se),this.started=!1,this.ws=[];const I=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ss=mn(this.persistenceKey,this.fs),this.bs=`firestore_sequence_number_${this.persistenceKey}`,this.ys=this.ys.insert(this.fs,new Lp),this.Ds=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.Fs=`firestore_online_state_${this.persistenceKey}`,this.Ms=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,b.Z)(function*(){const o=yield i.syncEngine.ki();for(const p of o){if(p===i.fs)continue;const _=i.getItem(mn(i.persistenceKey,p));if(_){const I=Op.Es(p,_);I&&(i.ys=i.ys.insert(I.clientId,I))}}i.xs();const d=i.storage.getItem(i.Fs);if(d){const p=i.Os(d);p&&i.Ns(p)}for(const p of i.ws)i.ps(p);i.ws=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.bs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(i){let o=!1;return this.ys.forEach((d,p)=>{p.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.Ls(i,"pending")}updateMutationState(i,o,d){this.Ls(i,o,d),this.ks(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const d=this.storage.getItem(gl(this.persistenceKey,i));if(d){const p=Wl.Es(i,d);p&&(o=p.state)}}return this.qs.Rs(i),this.xs(),o}removeLocalQueryTarget(i){this.qs.Vs(i),this.xs()}isLocalQueryTarget(i){return this.qs.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(gl(this.persistenceKey,i))}updateQueryState(i,o,d){this.Qs(i,o,d)}handleUserChange(i,o,d){o.forEach(p=>{this.ks(p)}),this.currentUser=i,d.forEach(p=>{this.addPendingMutation(p)})}setOnlineState(i){this.Ks(i)}notifyBundleLoaded(i){this.$s(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return zt("SharedClientState","READ",i,o),o}setItem(i,o){zt("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){zt("SharedClientState","REMOVE",i),this.storage.removeItem(i)}ps(i){var o=this;const d=i;if(d.storageArea===this.storage){if(zt("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Ss)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable((0,b.Z)(function*(){if(o.started){if(null!==d.key)if(o.Ds.test(d.key)){if(null==d.newValue){const p=o.Us(d.key);return o.Ws(p,null)}{const p=o.Gs(d.key,d.newValue);if(p)return o.Ws(p.clientId,p)}}else if(o.Cs.test(d.key)){if(null!==d.newValue){const p=o.zs(d.key,d.newValue);if(p)return o.js(p)}}else if(o.vs.test(d.key)){if(null!==d.newValue){const p=o.Hs(d.key,d.newValue);if(p)return o.Js(p)}}else if(d.key===o.Fs){if(null!==d.newValue){const p=o.Os(d.newValue);if(p)return o.Ns(p)}}else if(d.key===o.bs){const p=function(I){let k=Ma.ae;if(null!=I)try{const F=JSON.parse(I);En("number"==typeof F),k=F}catch(F){At("SharedClientState","Failed to read sequence number from WebStorage",F)}return k}(d.newValue);p!==Ma.ae&&o.sequenceNumberHandler(p)}else if(d.key===o.Ms){const p=o.Ys(d.newValue);yield Promise.all(p.map(_=>o.syncEngine.Zs(_)))}}else o.ws.push(d)}))}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(i,o,d){const p=new Uc(this.currentUser,i,o,d),_=pl(this.persistenceKey,this.currentUser,i);this.setItem(_,p.As())}ks(i){const o=pl(this.persistenceKey,this.currentUser,i);this.removeItem(o)}Ks(i){this.storage.setItem(this.Fs,JSON.stringify({clientId:this.fs,onlineState:i}))}Qs(i,o,d){const p=gl(this.persistenceKey,i),_=new Wl(i,o,d);this.setItem(p,_.As())}$s(i){const o=JSON.stringify(Array.from(i));this.setItem(this.Ms,o)}Us(i){const o=this.Ds.exec(i);return o?o[1]:null}Gs(i,o){const d=this.Us(i);return Op.Es(d,o)}zs(i,o){const d=this.Cs.exec(i),p=Number(d[1]);return Uc.Es(new cs(void 0!==d[2]?d[2]:null),p,o)}Hs(i,o){const d=this.vs.exec(i),p=Number(d[1]);return Wl.Es(p,o)}Os(i){return Um.Es(i)}Ys(i){return JSON.parse(i)}js(i){var o=this;return(0,b.Z)(function*(){if(i.user.uid===o.currentUser.uid)return o.syncEngine.Xs(i.batchId,i.state,i.error);zt("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}Js(i){return this.syncEngine.eo(i.targetId,i.state,i.error)}Ws(i,o){const d=o?this.ys.insert(i,o):this.ys.remove(i),p=this.Bs(this.ys),_=this.Bs(d),I=[],k=[];return _.forEach(F=>{p.has(F)||I.push(F)}),p.forEach(F=>{_.has(F)||k.push(F)}),this.syncEngine.no(I,k).then(()=>{this.ys=d})}Ns(i){this.ys.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}Bs(i){let o=sm();return i.forEach((d,p)=>{o=o.unionWith(p.activeTargetIds)}),o}}class jm{constructor(){this.ro=new Lp,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,d){}addLocalQueryTarget(i){return this.ro.Rs(i),this.io[i]||"not-current"}updateQueryState(i,o,d){this.io[i]=o}removeLocalQueryTarget(i){this.ro.Vs(i)}isLocalQueryTarget(i){return this.ro.activeTargetIds.has(i)}clearQueryState(i){delete this.io[i]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(i){return this.ro.activeTargetIds.has(i)}start(){return this.ro=new Lp,Promise.resolve()}handleUserChange(i,o,d){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class av{so(i){}shutdown(){}}class W0{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(i){this.co.push(i)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.co)i(0)}uo(){zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.co)i(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fp=null;function ds(){return null===Fp?Fp=268435456+Math.round(2147483648*Math.random()):Fp++,"0x"+Fp.toString(16)}const ks={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vp{constructor(i){this.ho=i.ho,this.Po=i.Po}Io(i){this.To=i}Eo(i){this.Ao=i}onMessage(i){this.Ro=i}close(){this.Po()}send(i){this.ho(i)}Vo(){this.To()}mo(i){this.Ao(i)}fo(i){this.Ro(i)}}const hs="WebChannelConnection";class Rd extends class{constructor(o){this.databaseInfo=o,this.databaseId=o.databaseId;const d=o.ssl?"https":"http",p=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.po=d+"://"+o.host,this.yo=`projects/${p}/databases/${_}`,this.wo="(default)"===this.databaseId.database?`project_id=${p}`:`project_id=${p}&database_id=${_}`}get So(){return!1}bo(o,d,p,_,I){const k=ds(),F=this.Do(o,d);zt("RestConnection",`Sending RPC '${o}' ${k}:`,F,p);const K={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(K,_,I),this.vo(o,F,K,p).then(ne=>(zt("RestConnection",`Received RPC '${o}' ${k}: `,ne),ne),ne=>{throw _r("RestConnection",`RPC '${o}' ${k} failed with error: `,ne,"url: ",F,"request:",p),ne})}Fo(o,d,p,_,I,k){return this.bo(o,d,p,_,I)}Co(o,d,p){o["X-Goog-Api-Client"]="gl-js/ fire/"+od,o["Content-Type"]="text/plain",this.databaseInfo.appId&&(o["X-Firebase-GMPID"]=this.databaseInfo.appId),d&&d.headers.forEach((_,I)=>o[I]=_),p&&p.headers.forEach((_,I)=>o[I]=_)}Do(o,d){return`${this.po}/v1/${d}:${ks[o]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}vo(i,o,d,p){const _=ds();return new Promise((I,k)=>{const F=new qt;F.setWithCredentials(!0),F.listenOnce(ye.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case q.NO_ERROR:const ne=F.getResponseJson();zt(hs,`XHR for RPC '${i}' ${_} received:`,JSON.stringify(ne)),I(ne);break;case q.TIMEOUT:zt(hs,`RPC '${i}' ${_} timed out`),k(new Vt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case q.HTTP_ERROR:const he=F.getStatus();if(zt(hs,`RPC '${i}' ${_} failed with status:`,he,"response text:",F.getResponseText()),he>0){let Ce=F.getResponseJson();Array.isArray(Ce)&&(Ce=Ce[0]);const Je=null==Ce?void 0:Ce.error;if(Je&&Je.status&&Je.message){const xt=function(Jt){const On=Jt.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(On)>=0?On:lt.UNKNOWN}(Je.status);k(new Vt(xt,Je.message))}else k(new Vt(lt.UNKNOWN,"Server responded with status "+F.getStatus()))}else k(new Vt(lt.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{zt(hs,`RPC '${i}' ${_} completed.`)}});const K=JSON.stringify(p);zt(hs,`RPC '${i}' ${_} sending request:`,p),F.send(o,"POST",K,d,15)})}Mo(i,o,d){const p=ds(),_=[this.po,"/","google.firestore.v1.Firestore","/",i,"/channel"],I=sy(),k=P(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Co(F.initMessageHeaders,o,d),F.encodeInitMessageHeaders=!0;const ne=_.join("");zt(hs,`Creating RPC '${i}' stream ${p}: ${ne}`,F);const he=I.createWebChannel(ne,F);let Ce=!1,Je=!1;const xt=new Vp({ho:Jt=>{Je?zt(hs,`Not sending because RPC '${i}' stream ${p} is closed:`,Jt):(Ce||(zt(hs,`Opening RPC '${i}' stream ${p} transport.`),he.open(),Ce=!0),zt(hs,`RPC '${i}' stream ${p} sending:`,Jt),he.send(Jt))},Po:()=>he.close()}),Gt=(Jt,On,hr)=>{Jt.listen(On,Gn=>{try{hr(Gn)}catch(Pr){setTimeout(()=>{throw Pr},0)}})};return Gt(he,wt.EventType.OPEN,()=>{Je||zt(hs,`RPC '${i}' stream ${p} transport opened.`)}),Gt(he,wt.EventType.CLOSE,()=>{Je||(Je=!0,zt(hs,`RPC '${i}' stream ${p} transport closed`),xt.mo())}),Gt(he,wt.EventType.ERROR,Jt=>{Je||(Je=!0,_r(hs,`RPC '${i}' stream ${p} transport errored:`,Jt),xt.mo(new Vt(lt.UNAVAILABLE,"The operation could not be completed")))}),Gt(he,wt.EventType.MESSAGE,Jt=>{var On;if(!Je){const hr=Jt.data[0];En(!!hr);const Pr=hr.error||(null===(On=hr[0])||void 0===On?void 0:On.error);if(Pr){zt(hs,`RPC '${i}' stream ${p} received error:`,Pr);const mr=Pr.status;let br=function(Os){const wc=qs[Os];if(void 0!==wc)return By(wc)}(mr),Ts=Pr.message;void 0===br&&(br=lt.INTERNAL,Ts="Unknown error status: "+mr+" with message "+Pr.message),Je=!0,xt.mo(new Vt(br,Ts)),he.close()}else zt(hs,`RPC '${i}' stream ${p} received:`,hr),xt.fo(hr)}}),Gt(k,$.STAT_EVENT,Jt=>{Jt.stat===ue.PROXY?zt(hs,`RPC '${i}' stream ${p} detected buffering proxy`):Jt.stat===ue.NOPROXY&&zt(hs,`RPC '${i}' stream ${p} detected no buffering proxy`)}),setTimeout(()=>{xt.Vo()},0),xt}}function Yh(){return typeof window<"u"?window:null}function Lu(){return typeof document<"u"?document:null}function Zh(l){return new _p(l,!0)}class cv{constructor(i,o,d=1e3,p=1.5,_=6e4){this._i=i,this.timerId=o,this.xo=d,this.Oo=p,this.No=_,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(i){this.cancel();const o=Math.floor(this.Bo+this.Ko()),d=Math.max(0,Date.now()-this.ko),p=Math.max(0,o-d);p>0&&zt("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.Bo} ms, delay with jitter: ${o} ms, last attempt: ${d} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,p,()=>(this.ko=Date.now(),i())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class K0{constructor(i,o,d,p,_,I,k,F){this._i=i,this.Uo=d,this.Wo=p,this.connection=_,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=k,this.listener=F,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new cv(i,o)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var i=this;return(0,b.Z)(function*(){i.Jo()&&(yield i.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(i){this.r_(),this.stream.send(i)}t_(){var i=this;return(0,b.Z)(function*(){if(i.Yo())return i.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(i,o){var d=this;return(0,b.Z)(function*(){d.r_(),d.i_(),d.Ho.cancel(),d.Go++,4!==i?d.Ho.reset():o&&o.code===lt.RESOURCE_EXHAUSTED?(At(o.toString()),At("Using maximum backoff delay to prevent overloading the backend."),d.Ho.qo()):o&&o.code===lt.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.s_(),d.stream.close(),d.stream=null),d.state=i,yield d.listener.Eo(o)})()}s_(){}auth(){this.state=1;const i=this.o_(this.Go),o=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,p])=>{this.Go===o&&this.__(d,p)},d=>{i(()=>{const p=new Vt(lt.UNKNOWN,"Fetching auth token failed: "+d.message);return this.a_(p)})})}__(i,o){const d=this.o_(this.Go);this.stream=this.u_(i,o),this.stream.Io(()=>{d(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(p=>{d(()=>this.a_(p))}),this.stream.onMessage(p=>{d(()=>this.onMessage(p))})}Zo(){var i=this;this.state=5,this.Ho.Qo((0,b.Z)(function*(){i.state=0,i.start()}))}a_(i){return zt("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}o_(i){return o=>{this._i.enqueueAndForget(()=>this.Go===i?o():(zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bp extends K0{constructor(i,o,d,p,_,I){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,d,p,I),this.serializer=_}u_(i,o){return this.connection.Mo("Listen",i,o)}onMessage(i){this.Ho.reset();const o=function Mh(l,i){let o;if("targetChange"in i){const d="NO_CHANGE"===(K=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Rn(),p=i.targetChange.targetIds||[],_=function(K,ne){return K.useProto3Json?(En(void 0===ne||"string"==typeof ne),zi.fromBase64String(ne||"")):(En(void 0===ne||ne instanceof Uint8Array),zi.fromUint8Array(ne||new Uint8Array))}(l,i.targetChange.resumeToken),I=i.targetChange.cause,k=I&&function(K){const ne=void 0===K.code?lt.UNKNOWN:By(K.code);return new Vt(ne,K.message||"")}(I);o=new Ow(d,p,_,k||null)}else if("documentChange"in i){const d=i.documentChange,p=Vc(l,d.document.name),_=Ms(d.document.updateTime),I=d.document.createTime?Ms(d.document.createTime):yt.min(),k=new zs({mapValue:{fields:d.document.fields}}),F=Qi.newFoundDocument(p,_,I,k);o=new vd(d.targetIds||[],d.removedTargetIds||[],F.key,F)}else if("documentDelete"in i){const d=i.documentDelete,p=Vc(l,d.document),_=d.readTime?Ms(d.readTime):yt.min(),I=Qi.newNoDocument(p,_);o=new vd([],d.removedTargetIds||[],I.key,I)}else if("documentRemove"in i){const d=i.documentRemove,p=Vc(l,d.document);o=new vd([],d.removedTargetIds||[],p,null)}else{if(!("filter"in i))return Rn();{const d=i.filter,{count:p=0,unchangedNames:_}=d,I=new lm(p,_);o=new S0(d.targetId,I)}}var K;return o}(this.serializer,i),d=function(_){if(!("targetChange"in _))return yt.min();const I=_.targetChange;return I.targetIds&&I.targetIds.length?yt.min():I.readTime?Ms(I.readTime):yt.min()}(i);return this.listener.c_(o,d)}l_(i){const o={};o.database=Au(this.serializer),o.addTarget=function(_,I){let k;const F=I.target;if(k=Th(F)?{documents:Gy(_,F)}:{query:Nh(_,F)},k.targetId=I.targetId,I.resumeToken.approximateByteSize()>0){k.resumeToken=gm(_,I.resumeToken);const K=Ic(_,I.expectedCount);null!==K&&(k.expectedCount=K)}else if(I.snapshotVersion.compareTo(yt.min())>0){k.readTime=Cu(_,I.snapshotVersion.toTimestamp());const K=Ic(_,I.expectedCount);null!==K&&(k.expectedCount=K)}return k}(this.serializer,i);const d=function Oh(l,i){const o=function(p){switch(p){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rn()}}(i.purpose);return null==o?null:{"goog-listen-tags":o}}(0,i);d&&(o.labels=d),this.n_(o)}h_(i){const o={};o.database=Au(this.serializer),o.removeTarget=i,this.n_(o)}}class qw extends K0{constructor(i,o,d,p,_,I){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,d,p,I),this.serializer=_,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(i,o){return this.connection.Mo("Write",i,o)}onMessage(i){if(En(!!i.streamToken),this.lastStreamToken=i.streamToken,this.P_){this.Ho.reset();const o=function Lw(l,i){return l&&l.length>0?(En(void 0!==i),l.map(o=>function(p,_){let I=Ms(p.updateTime?p.updateTime:_);return I.isEqual(yt.min())&&(I=Ms(_)),new Nw(I,p.transformResults||[])}(o,i))):[]}(i.writeResults,i.commitTime),d=Ms(i.commitTime);return this.listener.T_(d,o)}return En(!i.writeResults||0===i.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const i={};i.database=Au(this.serializer),this.n_(i)}d_(i){const o={streamToken:this.lastStreamToken,writes:i.map(d=>kh(this.serializer,d))};this.n_(o)}}class Y0 extends class{}{constructor(i,o,d,p){super(),this.authCredentials=i,this.appCheckCredentials=o,this.connection=d,this.serializer=p,this.R_=!1}V_(){if(this.R_)throw new Vt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(i,o,d){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.bo(i,o,d,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Vt(lt.UNKNOWN,p.toString())})}Fo(i,o,d,p){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,I])=>this.connection.Fo(i,o,d,_,I,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Vt(lt.UNKNOWN,_.toString())})}terminate(){this.R_=!0}}class lv{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(i){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.w_("Offline")))}set(i){this.D_(),this.f_=0,"Online"===i&&(this.p_=!1),this.w_(i)}w_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}S_(i){const o=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(At(o),this.p_=!1):zt("OnlineStateTracker",o)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class uv{constructor(i,o,d,p,_){var I=this;this.localStore=i,this.datastore=o,this.asyncQueue=d,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=_,this.x_.so(k=>{d.enqueueAndForget((0,b.Z)(function*(){var F;kd(I)&&(zt("RemoteStore","Restarting streams for network reachability change."),yield function(ne){return(F=F||(0,b.Z)(function*(he){const Ce=dn(he);Ce.F_.add(4),yield Qh(Ce),Ce.O_.set("Unknown"),Ce.F_.delete(4),yield Oa(Ce)})).apply(this,arguments)}(I))}))}),this.O_=new lv(d,p)}}function Oa(l){return(Ga=Ga||(0,b.Z)(function*(i){if(kd(i))for(const o of i.M_)yield o(!0)})).apply(this,arguments)}function Qh(l){return(Pc=Pc||(0,b.Z)(function*(i){for(const o of i.M_)yield o(!1)})).apply(this,arguments)}function Gm(l,i){const o=dn(l);o.v_.has(i.targetId)||(o.v_.set(i.targetId,i),fv(o)?hv(o):jc(o).Yo()&&Md(o,i))}function Pd(l,i){const o=dn(l),d=jc(o);o.v_.delete(i),d.Yo()&&dv(o,i),0===o.v_.size&&(d.Yo()?d.e_():kd(o)&&o.O_.set("Unknown"))}function Md(l,i){if(l.N_.Le(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(yt.min())>0){const o=l.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(o)}jc(l).l_(i)}function dv(l,i){l.N_.Le(i),jc(l).h_(i)}function hv(l){l.N_=new dm({getRemoteKeysForTarget:i=>l.remoteSyncer.getRemoteKeysForTarget(i),lt:i=>l.v_.get(i)||null,st:()=>l.datastore.serializer.databaseId}),jc(l).start(),l.O_.y_()}function fv(l){return kd(l)&&!jc(l).Jo()&&l.v_.size>0}function kd(l){return 0===dn(l).F_.size}function Nd(l){l.N_=void 0}function Kl(l){return(js=js||(0,b.Z)(function*(i){i.v_.forEach((o,d)=>{Md(i,o)})})).apply(this,arguments)}function Fo(l,i){return(Gs=Gs||(0,b.Z)(function*(o,d){Nd(o),fv(o)?(o.O_.b_(d),hv(o)):o.O_.set("Unknown")})).apply(this,arguments)}function zm(l,i,o){return(Pa=Pa||(0,b.Z)(function*(d,p,_){if(d.O_.set("Online"),p instanceof Ow&&2===p.state&&p.cause)try{var I;yield function(F,K){return(I=I||(0,b.Z)(function*(ne,he){const Ce=he.cause;for(const Je of he.targetIds)ne.v_.has(Je)&&(yield ne.remoteSyncer.rejectListen(Je,Ce),ne.v_.delete(Je),ne.N_.removeTarget(Je))})).apply(this,arguments)}(d,p)}catch(k){zt("RemoteStore","Failed to remove targets %s: %s ",p.targetIds.join(","),k),yield Ec(d,k)}else if(p instanceof vd?d.N_.Ge(p):p instanceof S0?d.N_.Xe(p):d.N_.He(p),!_.isEqual(yt.min()))try{const k=yield $m(d.localStore);_.compareTo(k)>=0&&(yield function(K,ne){const he=K.N_._t(ne);return he.targetChanges.forEach((Ce,Je)=>{if(Ce.resumeToken.approximateByteSize()>0){const xt=K.v_.get(Je);xt&&K.v_.set(Je,xt.withResumeToken(Ce.resumeToken,ne))}}),he.targetMismatches.forEach((Ce,Je)=>{const xt=K.v_.get(Ce);if(!xt)return;K.v_.set(Ce,xt.withResumeToken(zi.EMPTY_BYTE_STRING,xt.snapshotVersion)),dv(K,Ce);const Gt=new Bc(xt.target,Ce,Je,xt.sequenceNumber);Md(K,Gt)}),K.remoteSyncer.applyRemoteEvent(he)}(d,_))}catch(k){zt("RemoteStore","Failed to raise snapshot:",k),yield Ec(d,k)}})).apply(this,arguments)}function Ec(l,i,o){return(Qo=Qo||(0,b.Z)(function*(d,p,_){if(!fc(p))throw p;d.F_.add(1),yield Qh(d),d.O_.set("Offline"),_||(_=()=>$m(d.localStore)),d.asyncQueue.enqueueRetryable((0,b.Z)(function*(){zt("RemoteStore","Retrying IndexedDB access"),yield _(),d.F_.delete(1),yield Oa(d)}))})).apply(this,arguments)}function eA(l,i){return i().catch(o=>Ec(l,o,i))}function Od(l){return(hu=hu||(0,b.Z)(function*(i){const o=dn(i),d=Fu(o);let p=o.C_.length>0?o.C_[o.C_.length-1].batchId:-1;for(;Xh(o);)try{const _=yield q0(o.localStore,p);if(null===_){0===o.C_.length&&d.e_();break}p=_.batchId,ga(o,_)}catch(_){yield Ec(o,_)}Hm(o)&&pv(o)})).apply(this,arguments)}function Xh(l){return kd(l)&&l.C_.length<10}function ga(l,i){l.C_.push(i);const o=Fu(l);o.Yo()&&o.I_&&o.d_(i.mutations)}function Hm(l){return kd(l)&&!Fu(l).Jo()&&l.C_.length>0}function pv(l){Fu(l).start()}function Z0(l){return(Ff=Ff||(0,b.Z)(function*(i){Fu(i).A_()})).apply(this,arguments)}function yo(l){return(Ug=Ug||(0,b.Z)(function*(i){const o=Fu(i);for(const d of i.C_)o.d_(d.mutations)})).apply(this,arguments)}function Q0(l,i,o){return(fu=fu||(0,b.Z)(function*(d,p,_){const I=d.C_.shift(),k=xh.from(I,p,_);yield eA(d,()=>d.remoteSyncer.applySuccessfulWrite(k)),yield Od(d)})).apply(this,arguments)}function qm(l,i){return(Vf=Vf||(0,b.Z)(function*(o,d){var p;d&&Fu(o).I_&&(yield function(I,k){return(p=p||(0,b.Z)(function*(F,K){if(A0(he=K.code)&&he!==lt.ABORTED){const ne=F.C_.shift();Fu(F).Xo(),yield eA(F,()=>F.remoteSyncer.rejectFailedWrite(ne.batchId,K)),yield Od(F)}var he})).apply(this,arguments)}(o,d)),Hm(o)&&pv(o)})).apply(this,arguments)}function gv(l,i){return(ji=ji||(0,b.Z)(function*(o,d){const p=dn(o);p.asyncQueue.verifyOperationInProgress(),zt("RemoteStore","RemoteStore received new credentials");const _=kd(p);p.F_.add(3),yield Qh(p),_&&p.O_.set("Unknown"),yield p.remoteSyncer.handleCredentialChange(d),p.F_.delete(3),yield Oa(p)})).apply(this,arguments)}function Wm(l,i){return(ch=ch||(0,b.Z)(function*(o,d){const p=dn(o);d?(p.F_.delete(2),yield Oa(p)):d||(p.F_.add(2),yield Qh(p),p.O_.set("Unknown"))})).apply(this,arguments)}function jc(l){var i;return l.B_||(l.B_=function(d,p,_){const I=dn(d);return I.V_(),new Bp(p,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,_)}(l.datastore,l.asyncQueue,{Io:Kl.bind(null,l),Eo:Fo.bind(null,l),c_:zm.bind(null,l)}),l.M_.push(function(o){return(i=i||(0,b.Z)(function*(d){d?(l.B_.Xo(),fv(l)?hv(l):l.O_.set("Unknown")):(yield l.B_.stop(),Nd(l))})).apply(this,arguments)})),l.B_}function Fu(l){var i;return l.L_||(l.L_=function(d,p,_){const I=dn(d);return I.V_(),new qw(p,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,_)}(l.datastore,l.asyncQueue,{Io:Z0.bind(null,l),Eo:qm.bind(null,l),E_:yo.bind(null,l),T_:Q0.bind(null,l)}),l.M_.push(function(o){return(i=i||(0,b.Z)(function*(d){d?(l.L_.Xo(),yield Od(l)):(yield l.L_.stop(),l.C_.length>0&&(zt("RemoteStore",`Stopping write stream with ${l.C_.length} pending writes`),l.C_=[]))})).apply(this,arguments)})),l.L_}class Km{constructor(i,o,d,p,_){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=d,this.op=p,this.removalCallback=_,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,o,d,p,_){const I=Date.now()+d,k=new Km(i,o,I,p,_);return k.start(d),k}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(lt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jh(l,i){if(At("AsyncQueue",`${i}: ${l}`),fc(l))return new Vt(lt.UNAVAILABLE,`${i}: ${l}`);throw l}class Vu{constructor(i){this.comparator=i?(o,d)=>i(o,d)||Xt.comparator(o.key,d.key):(o,d)=>Xt.comparator(o.key,d.key),this.keyedMap=Dh(),this.sortedSet=new vi(this.comparator)}static emptySet(i){return new Vu(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,d)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof Vu)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),d=i.sortedSet.getIterator();for(;o.hasNext();){const p=o.getNext().key,_=d.getNext().key;if(!p.isEqual(_))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,o){const d=new Vu;return d.comparator=this.comparator,d.keyedMap=i,d.sortedSet=o,d}}class mv{constructor(){this.k_=new vi(Xt.comparator)}track(i){const o=i.doc.key,d=this.k_.get(o);d?0!==i.type&&3===d.type?this.k_=this.k_.insert(o,i):3===i.type&&1!==d.type?this.k_=this.k_.insert(o,{type:d.type,doc:i.doc}):2===i.type&&2===d.type?this.k_=this.k_.insert(o,{type:2,doc:i.doc}):2===i.type&&0===d.type?this.k_=this.k_.insert(o,{type:0,doc:i.doc}):1===i.type&&0===d.type?this.k_=this.k_.remove(o):1===i.type&&2===d.type?this.k_=this.k_.insert(o,{type:1,doc:d.doc}):0===i.type&&1===d.type?this.k_=this.k_.insert(o,{type:2,doc:i.doc}):Rn():this.k_=this.k_.insert(o,i)}q_(){const i=[];return this.k_.inorderTraversal((o,d)=>{i.push(d)}),i}}class Ld{constructor(i,o,d,p,_,I,k,F,K){this.query=i,this.docs=o,this.oldDocs=d,this.docChanges=p,this.mutatedKeys=_,this.fromCache=I,this.syncStateChanged=k,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(i,o,d,p,_){const I=[];return o.forEach(k=>{I.push({type:0,doc:k})}),new Ld(i,o,Vu.emptySet(o),I,d,p,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&tm(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,d=i.docChanges;if(o.length!==d.length)return!1;for(let p=0;p<o.length;p++)if(o[p].type!==d[p].type||!o[p].doc.isEqual(d[p].doc))return!1;return!0}}class Ww{constructor(){this.Q_=void 0,this.listeners=[]}}class X0{constructor(){this.queries=new mc(i=>Mw(i),tm),this.onlineState="Unknown",this.K_=new Set}}function Up(l,i){return(rd=rd||(0,b.Z)(function*(o,d){const p=dn(o),_=d.query;let I=!1,k=p.queries.get(_);if(k||(I=!0,k=new Ww),I)try{k.Q_=yield p.onListen(_)}catch(F){const K=Jh(F,`Initialization of query '${fd(d.query)}' failed`);return void d.onError(K)}p.queries.set(_,k),k.listeners.push(d),d.U_(p.onlineState),k.Q_&&d.W_(k.Q_)&&jp(p)})).apply(this,arguments)}function Yl(l,i){return(si=si||(0,b.Z)(function*(o,d){const p=dn(o),_=d.query;let I=!1;const k=p.queries.get(_);if(k){const F=k.listeners.indexOf(d);F>=0&&(k.listeners.splice(F,1),I=0===k.listeners.length)}if(I)return p.queries.delete(_),p.onUnlisten(_)})).apply(this,arguments)}function _l(l,i){const o=dn(l);let d=!1;for(const p of i){const I=o.queries.get(p.query);if(I){for(const k of I.listeners)k.W_(p)&&(d=!0);I.Q_=p}}d&&jp(o)}function ef(l,i,o){const d=dn(l),p=d.queries.get(i);if(p)for(const _ of p.listeners)_.onError(o);d.queries.delete(i)}function jp(l){l.K_.forEach(i=>{i.next()})}class Ym{constructor(i,o,d){this.query=i,this.G_=o,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=d||{}}W_(i){if(!this.options.includeMetadataChanges){const d=[];for(const p of i.docChanges)3!==p.type&&d.push(p);i=new Ld(i.query,i.docs,i.oldDocs,d,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let o=!1;return this.z_?this.H_(i)&&(this.G_.next(i),o=!0):this.J_(i,this.onlineState)&&(this.Y_(i),o=!0),this.j_=i,o}onError(i){this.G_.error(i)}U_(i){this.onlineState=i;let o=!1;return this.j_&&!this.z_&&this.J_(this.j_,i)&&(this.Y_(this.j_),o=!0),o}J_(i,o){return!i.fromCache||(!this.options.Z_||!("Offline"!==o))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===o)}H_(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(i){i=Ld.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.z_=!0,this.G_.next(i)}}class J0{constructor(i,o){this.X_=i,this.byteLength=o}ea(){return"metadata"in this.X_}}class Zm{constructor(i){this.serializer=i}Is(i){return Vc(this.serializer,i)}ds(i){return i.metadata.exists?Ip(this.serializer,i.document,!1):Qi.newNoDocument(this.Is(i.metadata.name),this.Ts(i.metadata.readTime))}Ts(i){return Ms(i)}}class Gp{constructor(i,o,d){this.ta=i,this.localStore=o,this.serializer=d,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qm(i)}na(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.X_.namedQuery)this.queries.push(i.X_.namedQuery);else if(i.X_.documentMetadata){this.documents.push({metadata:i.X_.documentMetadata}),i.X_.documentMetadata.exists||++o;const d=Wn.fromString(i.X_.documentMetadata.name);this.collectionGroups.add(d.get(d.length-2))}else i.X_.document&&(this.documents[this.documents.length-1].document=i.X_.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}ra(i){const o=new Map,d=new Zm(this.serializer);for(const p of i)if(p.metadata.queries){const _=d.Is(p.metadata.name);for(const I of p.metadata.queries){const k=(o.get(I)||Rr()).add(_);o.set(I,k)}}return o}complete(){var i=this;return(0,b.Z)(function*(){const o=yield function xd(l,i,o,d){return(ti=ti||(0,b.Z)(function*(p,_,I,k){const F=dn(p);let K=Rr(),ne=go();for(const Je of I){const xt=_.Is(Je.metadata.name);Je.document&&(K=K.add(xt));const Gt=_.ds(Je);Gt.setReadTime(_.Ts(Je.metadata.readTime)),ne=ne.insert(xt,Gt)}const he=F._s.newChangeBuffer({trackRemovals:!0}),Ce=yield Ka(F,(xt=k,ro(gc(Wn.fromString(`__bundle__/docs/${xt}`)))));var xt;return F.persistence.runTransaction("Apply bundle documents","readwrite",Je=>H0(Je,he,ne).next(xt=>(he.apply(Je),xt)).next(xt=>F.Kr.removeMatchingKeysForTargetId(Je,Ce.targetId).next(()=>F.Kr.addMatchingKeys(Je,K,Ce.targetId)).next(()=>F.localDocuments.getLocalViewOfDocuments(Je,xt.ls,xt.hs)).next(()=>xt.ls)))})).apply(this,arguments)}(i.localStore,new Zm(i.serializer),i.documents,i.ta.id),d=i.ra(i.documents);for(const p of i.queries)yield ov(i.localStore,p,d.get(p.name));return i.progress.taskState="Success",{progress:i.progress,ia:i.collectionGroups,sa:o}})()}}function Qm(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Bu{constructor(i){this.key=i}}class Xm{constructor(i){this.key=i}}class Fd{constructor(i,o){this.query=i,this.oa=o,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Rr(),this.mutatedKeys=Rr(),this.ua=nm(i),this.ca=new Vu(this.ua)}get la(){return this.oa}ha(i,o){const d=o?o.Pa:new mv,p=o?o.ca:this.ca;let _=o?o.mutatedKeys:this.mutatedKeys,I=p,k=!1;const F="F"===this.query.limitType&&p.size===this.query.limit?p.last():null,K="L"===this.query.limitType&&p.size===this.query.limit?p.first():null;if(i.inorderTraversal((ne,he)=>{const Ce=p.get(ne),Je=ll(this.query,he)?he:null,xt=!!Ce&&this.mutatedKeys.has(Ce.key),Gt=!!Je&&(Je.hasLocalMutations||this.mutatedKeys.has(Je.key)&&Je.hasCommittedMutations);let Jt=!1;Ce&&Je?Ce.data.isEqual(Je.data)?xt!==Gt&&(d.track({type:3,doc:Je}),Jt=!0):this.Ia(Ce,Je)||(d.track({type:2,doc:Je}),Jt=!0,(F&&this.ua(Je,F)>0||K&&this.ua(Je,K)<0)&&(k=!0)):!Ce&&Je?(d.track({type:0,doc:Je}),Jt=!0):Ce&&!Je&&(d.track({type:1,doc:Ce}),Jt=!0,(F||K)&&(k=!0)),Jt&&(Je?(I=I.add(Je),_=Gt?_.add(ne):_.delete(ne)):(I=I.delete(ne),_=_.delete(ne)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const ne="F"===this.query.limitType?I.last():I.first();I=I.delete(ne.key),_=_.delete(ne.key),d.track({type:1,doc:ne})}return{ca:I,Pa:d,es:k,mutatedKeys:_}}Ia(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,d){const p=this.ca;this.ca=i.ca,this.mutatedKeys=i.mutatedKeys;const _=i.Pa.q_();_.sort((K,ne)=>function(Ce,Je){const xt=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return xt(Ce)-xt(Je)}(K.type,ne.type)||this.ua(K.doc,ne.doc)),this.da(d);const I=o?this.Ta():[],k=0===this.aa.size&&this.current?1:0,F=k!==this._a;return this._a=k,0!==_.length||F?{snapshot:new Ld(this.query,i.ca,p,_,i.mutatedKeys,0===k,F,!1,!!d&&d.resumeToken.approximateByteSize()>0),Ea:I}:{Ea:I}}U_(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new mv,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(i){return!this.oa.has(i)&&!!this.ca.has(i)&&!this.ca.get(i).hasLocalMutations}da(i){i&&(i.addedDocuments.forEach(o=>this.oa=this.oa.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.oa=this.oa.delete(o)),this.current=i.current)}Ta(){if(!this.current)return[];const i=this.aa;this.aa=Rr(),this.ca.forEach(d=>{this.Aa(d.key)&&(this.aa=this.aa.add(d.key))});const o=[];return i.forEach(d=>{this.aa.has(d)||o.push(new Xm(d))}),this.aa.forEach(d=>{i.has(d)||o.push(new Bu(d))}),o}Ra(i){this.oa=i.Ps,this.aa=Rr();const o=this.ha(i.documents);return this.applyChanges(o,!0)}Va(){return Ld.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Ws{constructor(i,o,d){this.query=i,this.targetId=o,this.view=d}}class _v{constructor(i){this.key=i,this.ma=!1}}class eE{constructor(i,o,d,p,_,I){this.localStore=i,this.remoteStore=o,this.eventManager=d,this.sharedClientState=p,this.currentUser=_,this.maxConcurrentLimboResolutions=I,this.fa={},this.ga=new mc(k=>Mw(k),tm),this.pa=new Map,this.ya=new Set,this.wa=new vi(Xt.comparator),this.Sa=new Map,this.ba=new Om,this.Da={},this.Ca=new Map,this.va=Pu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Kw(l,i){return(id=id||(0,b.Z)(function*(o,d){const p=t_(o);let _,I;const k=p.ga.get(d);if(k)_=k.targetId,p.sharedClientState.addLocalQueryTarget(_),I=k.view.Va();else{const F=yield Ka(p.localStore,ro(d)),K=p.sharedClientState.addLocalQueryTarget(F.targetId);_=F.targetId,I=yield yv(p,d,_,"current"===K,F.resumeToken),p.isPrimaryClient&&Gm(p.remoteStore,F)}return I})).apply(this,arguments)}function yv(l,i,o,d,p){return(pu=pu||(0,b.Z)(function*(_,I,k,F,K){_.Ma=(Jt,On,hr)=>{var Gn;return function(mr,br,Ts,Tc){return(Gn=Gn||(0,b.Z)(function*(Os,wc,Mb,BE){let _g=wc.view.ha(Mb);_g.es&&(_g=yield Ou(Os.localStore,wc.query,!1).then(({documents:$E})=>wc.view.ha($E,_g)));const kb=BE&&BE.targetChanges.get(wc.targetId),Hv=wc.view.applyChanges(_g,Os.isPrimaryClient,kb);return nf(Os,wc.targetId,Hv.Ea),Hv.snapshot})).apply(this,arguments)}(_,Jt,On,hr)};const ne=yield Ou(_.localStore,I,!0),he=new Fd(I,ne.Ps),Ce=he.ha(ne.documents),Je=Du.createSynthesizedTargetChangeForCurrentChange(k,F&&"Offline"!==_.onlineState,K),xt=he.applyChanges(Ce,_.isPrimaryClient,Je);nf(_,k,xt.Ea);const Gt=new Ws(I,k,he);return _.ga.set(I,Gt),_.pa.has(k)?_.pa.get(k).push(I):_.pa.set(k,[I]),xt.snapshot})).apply(this,arguments)}function tE(l,i){return(fo=fo||(0,b.Z)(function*(o,d){const p=dn(o),_=p.ga.get(d),I=p.pa.get(_.targetId);if(I.length>1)return p.pa.set(_.targetId,I.filter(k=>!tm(k,d))),void p.ga.delete(d);p.isPrimaryClient?(p.sharedClientState.removeLocalQueryTarget(_.targetId),p.sharedClientState.isActiveQueryTarget(_.targetId)||(yield Kh(p.localStore,_.targetId,!1).then(()=>{p.sharedClientState.clearQueryState(_.targetId),Pd(p.remoteStore,_.targetId),yl(p,_.targetId)}).catch(Pl))):(yl(p,_.targetId),yield Kh(p.localStore,_.targetId,!0))})).apply(this,arguments)}function Jm(l,i){return($f=$f||(0,b.Z)(function*(o,d){const p=dn(o);try{const _=yield function kp(l,i){const o=dn(l),d=i.snapshotVersion;let p=o.rs;return o.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const I=o._s.newChangeBuffer({trackRemovals:!0});p=o.rs;const k=[];i.targetChanges.forEach((ne,he)=>{const Ce=p.get(he);if(!Ce)return;k.push(o.Kr.removeMatchingKeys(_,ne.removedDocuments,he).next(()=>o.Kr.addMatchingKeys(_,ne.addedDocuments,he)));let Je=Ce.withSequenceNumber(_.currentSequenceNumber);var Gt,Jt,On;null!==i.targetMismatches.get(he)?Je=Je.withResumeToken(zi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):ne.resumeToken.approximateByteSize()>0&&(Je=Je.withResumeToken(ne.resumeToken,d)),p=p.insert(he,Je),Jt=Je,On=ne,(0===(Gt=Ce).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&k.push(o.Kr.updateTargetData(_,Je))});let F=go(),K=Rr();if(i.documentUpdates.forEach(ne=>{i.resolvedLimboDocuments.has(ne)&&k.push(o.persistence.referenceDelegate.updateLimboDocument(_,ne))}),k.push(H0(_,I,i.documentUpdates).next(ne=>{F=ne.ls,K=ne.hs})),!d.isEqual(yt.min())){const ne=o.Kr.getLastRemoteSnapshotVersion(_).next(he=>o.Kr.setTargetsMetadata(_,_.currentSequenceNumber,d));k.push(ne)}return st.waitFor(k).next(()=>I.apply(_)).next(()=>o.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(o.rs=p,_))}(p.localStore,d);d.targetChanges.forEach((I,k)=>{const F=p.Sa.get(k);F&&(En(I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size<=1),I.addedDocuments.size>0?F.ma=!0:I.modifiedDocuments.size>0?En(F.ma):I.removedDocuments.size>0&&(En(F.ma),F.ma=!1))}),yield vl(p,_,d)}catch(_){yield Pl(_)}})).apply(this,arguments)}function Zw(l,i,o){const d=dn(l);if(d.isPrimaryClient&&0===o||!d.isPrimaryClient&&1===o){const p=[];d.ga.forEach((_,I)=>{const k=I.view.U_(i);k.snapshot&&p.push(k.snapshot)}),function(I,k){const F=dn(I);F.onlineState=k;let K=!1;F.queries.forEach((ne,he)=>{for(const Ce of he.listeners)Ce.U_(k)&&(K=!0)}),K&&jp(F)}(d.eventManager,i),p.length&&d.fa.c_(p),d.onlineState=i,d.isPrimaryClient&&d.sharedClientState.setOnlineState(i)}}function Qw(l,i,o){return(tl=tl||(0,b.Z)(function*(d,p,_){const I=dn(d);I.sharedClientState.updateQueryState(p,"rejected",_);const k=I.Sa.get(p),F=k&&k.key;if(F){let K=new vi(Xt.comparator);K=K.insert(F,Qi.newNoDocument(F,yt.min()));const ne=Rr().add(F),he=new Fc(yt.min(),new Map,new vi(se),K,ne);yield Jm(I,he),I.wa=I.wa.remove(F),I.Sa.delete(p),Iv(I)}else yield Kh(I.localStore,p,!1).then(()=>yl(I,p,_)).catch(Pl)})).apply(this,arguments)}function Xw(l,i){return(po=po||(0,b.Z)(function*(o,d){const p=dn(o),_=d.batch.batchId;try{const I=yield function Bm(l,i){const o=dn(l);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const p=i.batch.keys(),_=o._s.newChangeBuffer({trackRemovals:!0});return function(k,F,K,ne){const he=K.batch,Ce=he.keys();let Je=st.resolve();return Ce.forEach(xt=>{Je=Je.next(()=>ne.getEntry(F,xt)).next(Gt=>{const Jt=K.docVersions.get(xt);En(null!==Jt),Gt.version.compareTo(Jt)<0&&(he.applyToRemoteDocument(Gt,K),Gt.isValidDocument()&&(Gt.setReadTime(K.commitVersion),ne.addEntry(Gt)))})}),Je.next(()=>k.mutationQueue.removeMutationBatch(F,he))}(o,d,i,_).next(()=>_.apply(d)).next(()=>o.mutationQueue.performConsistencyCheck(d)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(d,p,i.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,function(k){let F=Rr();for(let K=0;K<k.mutationResults.length;++K)k.mutationResults[K].transformResults.length>0&&(F=F.add(k.batch.mutations[K].key));return F}(i))).next(()=>o.localDocuments.getDocuments(d,p))})}(p.localStore,d);zp(p,_,null),tf(p,_),p.sharedClientState.updateMutationState(_,"acknowledged"),yield vl(p,I)}catch(I){yield Pl(I)}})).apply(this,arguments)}function Jw(l,i,o){return(lh=lh||(0,b.Z)(function*(d,p,_){const I=dn(d);try{const k=yield function(K,ne){const he=dn(K);return he.persistence.runTransaction("Reject batch","readwrite-primary",Ce=>{let Je;return he.mutationQueue.lookupMutationBatch(Ce,ne).next(xt=>(En(null!==xt),Je=xt.keys(),he.mutationQueue.removeMutationBatch(Ce,xt))).next(()=>he.mutationQueue.performConsistencyCheck(Ce)).next(()=>he.documentOverlayCache.removeOverlaysForBatchId(Ce,Je,ne)).next(()=>he.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ce,Je)).next(()=>he.localDocuments.getDocuments(Ce,Je))})}(I.localStore,p);zp(I,p,_),tf(I,p),I.sharedClientState.updateMutationState(p,"rejected",_),yield vl(I,k)}catch(k){yield Pl(k)}})).apply(this,arguments)}function tf(l,i){(l.Ca.get(i)||[]).forEach(o=>{o.resolve()}),l.Ca.delete(i)}function zp(l,i,o){const d=dn(l);let p=d.Da[d.currentUser.toKey()];if(p){const _=p.get(i);_&&(o?_.reject(o):_.resolve(),p=p.remove(i)),d.Da[d.currentUser.toKey()]=p}}function yl(l,i,o=null){l.sharedClientState.removeLocalQueryTarget(i);for(const d of l.pa.get(i))l.ga.delete(d),o&&l.fa.xa(d,o);l.pa.delete(i),l.isPrimaryClient&&l.ba.mr(i).forEach(d=>{l.ba.containsKey(d)||vv(l,d)})}function vv(l,i){l.ya.delete(i.path.canonicalString());const o=l.wa.get(i);null!==o&&(Pd(l.remoteStore,o),l.wa=l.wa.remove(i),l.Sa.delete(o),Iv(l))}function nf(l,i,o){for(const d of o)d instanceof Bu?(l.ba.addReference(d.key,i),rE(l,d)):d instanceof Xm?(zt("SyncEngine","Document no longer in limbo: "+d.key),l.ba.removeReference(d.key,i),l.ba.containsKey(d.key)||vv(l,d.key)):Rn()}function rE(l,i){const o=i.key,d=o.path.canonicalString();l.wa.get(o)||l.ya.has(d)||(zt("SyncEngine","New document in limbo: "+o),l.ya.add(d),Iv(l))}function Iv(l){for(;l.ya.size>0&&l.wa.size<l.maxConcurrentLimboResolutions;){const i=l.ya.values().next().value;l.ya.delete(i);const o=new Xt(Wn.fromString(i)),d=l.va.next();l.Sa.set(d,new _v(o)),l.wa=l.wa.insert(o,d),Gm(l.remoteStore,new Bc(ro(gc(o.path)),d,"TargetPurposeLimboResolution",Ma.ae))}}function vl(l,i,o){return(uh=uh||(0,b.Z)(function*(d,p,_){var I;const k=dn(d),F=[],K=[],ne=[];k.ga.isEmpty()||(k.ga.forEach((he,Ce)=>{ne.push(k.Ma(Ce,p,_).then(Je=>{if((Je||_)&&k.isPrimaryClient&&k.sharedClientState.updateQueryState(Ce.targetId,null!=Je&&Je.fromCache?"not-current":"current"),Je){F.push(Je);const xt=Sd.$i(Ce.targetId,Je);K.push(xt)}}))}),yield Promise.all(ne),k.fa.c_(F),yield function(Ce,Je){return(I=I||(0,b.Z)(function*(xt,Gt){const Jt=dn(xt);try{yield Jt.persistence.runTransaction("notifyLocalViewChanges","readwrite",On=>st.forEach(Gt,hr=>st.forEach(hr.Qi,Gn=>Jt.persistence.referenceDelegate.addReference(On,hr.targetId,Gn)).next(()=>st.forEach(hr.Ki,Gn=>Jt.persistence.referenceDelegate.removeReference(On,hr.targetId,Gn)))))}catch(On){if(!fc(On))throw On;zt("LocalStore","Failed to update sequence numbers: "+On)}for(const On of Gt){const hr=On.targetId;if(!On.fromCache){const Gn=Jt.rs.get(hr),mr=Gn.withLastLimboFreeSnapshotVersion(Gn.snapshotVersion);Jt.rs=Jt.rs.insert(hr,mr)}}})).apply(this,arguments)}(k.localStore,K))})).apply(this,arguments)}function e_(l,i){return(eo=eo||(0,b.Z)(function*(o,d){const p=dn(o);if(!p.currentUser.isEqual(d)){zt("SyncEngine","User change. New user:",d.toKey());const _=yield Wh(p.localStore,d);p.currentUser=d,(k=p).Ca.forEach(K=>{K.forEach(ne=>{ne.reject(new Vt(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),k.Ca.clear(),p.sharedClientState.handleUserChange(d,_.removedBatchIds,_.addedBatchIds),yield vl(p,_.cs)}var k})).apply(this,arguments)}function dr(l,i){const o=dn(l),d=o.Sa.get(i);if(d&&d.ma)return Rr().add(d.key);{let p=Rr();const _=o.pa.get(i);if(!_)return p;for(const I of _){const k=o.ga.get(I);p=p.unionWith(k.view.la)}return p}}function iE(l,i){return(dh=dh||(0,b.Z)(function*(o,d){const p=dn(o),_=yield Ou(p.localStore,d.query,!0),I=d.view.Ra(_);return p.isPrimaryClient&&nf(p,d.targetId,I.Ea),I})).apply(this,arguments)}function rf(l,i){return(Gg=Gg||(0,b.Z)(function*(o,d){const p=dn(o);return $c(p.localStore,d).then(_=>vl(p,_))})).apply(this,arguments)}function sf(l,i,o,d){return(Uf=Uf||(0,b.Z)(function*(p,_,I,k){const F=dn(p),K=yield function(he,Ce){const Je=dn(he),xt=dn(Je.mutationQueue);return Je.persistence.runTransaction("Lookup mutation documents","readonly",Gt=>xt.Fn(Gt,Ce).next(Jt=>Jt?Je.localDocuments.getDocuments(Gt,Jt):st.resolve(null)))}(F.localStore,_);var Ce;null!==K?("pending"===I?yield Od(F.remoteStore):"acknowledged"===I||"rejected"===I?(zp(F,_,k||null),tf(F,_),Ce=_,dn(dn(F.localStore).mutationQueue).xn(Ce)):Rn(),yield vl(F,K)):zt("SyncEngine","Cannot apply mutation batch with id: "+_)})).apply(this,arguments)}function oE(l,i,o){return(sd=sd||(0,b.Z)(function*(d,p,_){const I=dn(d),k=[],F=[];for(const K of p){let ne;const he=I.pa.get(K);if(he&&0!==he.length){ne=yield Ka(I.localStore,ro(he[0]));for(const Ce of he){const Je=I.ga.get(Ce),xt=yield iE(I,Je);xt.snapshot&&F.push(xt.snapshot)}}else{const Ce=yield pa(I.localStore,K);ne=yield Ka(I.localStore,Ce),yield yv(I,Hp(Ce),K,!1,ne.resumeToken)}k.push(ne)}return I.fa.c_(F),k})).apply(this,arguments)}function Hp(l){return Ry(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function af(l){return o=dn(l).localStore,dn(dn(o).persistence).ki();var o}function Vd(l,i,o,d){return(hh=hh||(0,b.Z)(function*(p,_,I,k){const F=dn(p);if(F.Fa)return void zt("SyncEngine","Ignoring unexpected query state notification.");const K=F.pa.get(_);if(K&&K.length>0)switch(I){case"current":case"not-current":{const ne=yield $c(F.localStore,pd(K[0])),he=Fc.createSynthesizedRemoteEventForCurrentChange(_,"current"===I,zi.EMPTY_BYTE_STRING);yield vl(F,ne,he);break}case"rejected":yield Kh(F.localStore,_,!0),yl(F,_,k);break;default:Rn()}})).apply(this,arguments)}function qp(l,i,o){return(ar=ar||(0,b.Z)(function*(d,p,_){const I=t_(d);if(I.Fa){for(const k of p){if(I.pa.has(k)){zt("SyncEngine","Adding an already active target "+k);continue}const F=yield pa(I.localStore,k),K=yield Ka(I.localStore,F);yield yv(I,Hp(F),K.targetId,!1,K.resumeToken),Gm(I.remoteStore,K)}for(const k of _)I.pa.has(k)&&(yield Kh(I.localStore,k,!1).then(()=>{Pd(I.remoteStore,k),yl(I,k)}).catch(Pl))}})).apply(this,arguments)}function t_(l){const i=dn(l);return i.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=dr.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Qw.bind(null,i),i.fa.c_=_l.bind(null,i.eventManager),i.fa.xa=ef.bind(null,i.eventManager),i}function $u(l){const i=dn(l);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Xw.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Jw.bind(null,i),i}class Uu{constructor(){this.synchronizeTabs=!1}initialize(i){var o=this;return(0,b.Z)(function*(){o.serializer=Zh(i.databaseInfo.databaseId),o.sharedClientState=o.createSharedClientState(i),o.persistence=o.createPersistence(i),yield o.persistence.start(),o.localStore=o.createLocalStore(i),o.gcScheduler=o.createGarbageCollectionScheduler(i,o.localStore),o.indexBackfillerScheduler=o.createIndexBackfillerScheduler(i,o.localStore)})()}createGarbageCollectionScheduler(i,o){return null}createIndexBackfillerScheduler(i,o){return null}createLocalStore(i){return Mp(this.persistence,new Vm,i.initialUser,this.serializer)}createPersistence(i){return new zh(Fm.Jr,this.serializer)}createSharedClientState(i){return new jm}terminate(){var i=this;return(0,b.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Wp extends Uu{constructor(i,o,d){super(),this.Na=i,this.cacheSizeBytes=o,this.forceOwnership=d,this.synchronizeTabs=!1}initialize(i){var o=()=>super.initialize,d=this;return(0,b.Z)(function*(){yield o().call(d,i),yield d.Na.initialize(d,i),yield $u(d.Na.syncEngine),yield Od(d.Na.remoteStore),yield d.persistence.gi(()=>(d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(),d.indexBackfillerScheduler&&!d.indexBackfillerScheduler.started&&d.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(i){return Mp(this.persistence,new Vm,i.initialUser,this.serializer)}createGarbageCollectionScheduler(i,o){return new Dp(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue,o)}createIndexBackfillerScheduler(i,o){const d=new Yg(o,this.persistence);return new Wf(i.asyncQueue,d)}createPersistence(i){const o=qh(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),d=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new Cd(this.synchronizeTabs,o,i.clientId,d,i.asyncQueue,Yh(),Lu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(i){return new jm}}class Kp extends Wp{constructor(i,o){super(i,o,!1),this.Na=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(i){var o=()=>super.initialize,d=this;return(0,b.Z)(function*(){var p;yield o().call(d,i);const _=d.Na.syncEngine;d.sharedClientState instanceof ml&&(d.sharedClientState.syncEngine={Xs:sf.bind(null,_),eo:Vd.bind(null,_),no:qp.bind(null,_),ki:af.bind(null,_),Zs:rf.bind(null,_)},yield d.sharedClientState.start()),yield d.persistence.gi(function(I){return(p=p||(0,b.Z)(function*(k){yield function sE(l,i){return(jf=jf||(0,b.Z)(function*(o,d){const p=dn(o);if(t_(p),$u(p),!0===d&&!0!==p.Fa){const _=p.sharedClientState.getAllActiveQueryTargets(),I=yield oE(p,_.toArray());p.Fa=!0,yield Wm(p.remoteStore,!0);for(const k of I)Gm(p.remoteStore,k)}else if(!1===d&&!1!==p.Fa){const _=[];let I=Promise.resolve();p.pa.forEach((k,F)=>{p.sharedClientState.isLocalQueryTarget(F)?_.push(F):I=I.then(()=>(yl(p,F),Kh(p.localStore,F,!0))),Pd(p.remoteStore,F)}),yield I,yield oE(p,_),function(F){const K=dn(F);K.Sa.forEach((ne,he)=>{Pd(K.remoteStore,he)}),K.ba.gr(),K.Sa=new Map,K.wa=new vi(Xt.comparator)}(p),p.Fa=!1,yield Wm(p.remoteStore,!1)}})).apply(this,arguments)}(d.Na.syncEngine,k),d.gcScheduler&&(k&&!d.gcScheduler.started?d.gcScheduler.start():k||d.gcScheduler.stop()),d.indexBackfillerScheduler&&(k&&!d.indexBackfillerScheduler.started?d.indexBackfillerScheduler.start():k||d.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(i){const o=Yh();if(!ml.C(o))throw new Vt(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const d=qh(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new ml(o,i.asyncQueue,d,i.clientId,i.initialUser)}}class Yp{initialize(i,o){var d=this;return(0,b.Z)(function*(){d.localStore||(d.localStore=i.localStore,d.sharedClientState=i.sharedClientState,d.datastore=d.createDatastore(o),d.remoteStore=d.createRemoteStore(o),d.eventManager=d.createEventManager(o),d.syncEngine=d.createSyncEngine(o,!i.synchronizeTabs),d.sharedClientState.onlineStateHandler=p=>Zw(d.syncEngine,p,1),d.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,d.syncEngine),yield Wm(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(i){return new X0}createDatastore(i){const o=Zh(i.databaseInfo.databaseId),d=new Rd(i.databaseInfo);return new Y0(i.authCredentials,i.appCheckCredentials,d,o)}createRemoteStore(i){return d=this.localStore,p=this.datastore,_=i.asyncQueue,I=o=>Zw(this.syncEngine,o,0),k=W0.C()?new W0:new av,new uv(d,p,_,I,k);var d,p,_,I,k}createSyncEngine(i,o){return function(p,_,I,k,F,K,ne){const he=new eE(p,_,I,k,F,K);return ne&&(he.Fa=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){var i;return function(d){return(i=i||(0,b.Z)(function*(p){const _=dn(p);zt("RemoteStore","RemoteStore shutting down."),_.F_.add(5),yield Qh(_),_.x_.shutdown(),_.O_.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function eb(l,i=10240){let o=0;return{read:()=>(0,b.Z)(function*(){if(o<l.byteLength){const d={value:l.slice(o,o+i),done:!1};return o+=i,d}return{done:!0}})(),cancel:()=>(0,b.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class n_{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ba(this.observer.next,i)}error(i){this.observer.error?this.Ba(this.observer.error,i):At("Uncaught Error in snapshot listener:",i.toString())}La(){this.muted=!0}Ba(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}class tb{constructor(i,o){this.ka=i,this.serializer=o,this.metadata=new ls,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(d=>{d&&d.ea()?this.metadata.resolve(d.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==d?void 0:d.X_)}`))},d=>this.metadata.reject(d))}close(){return this.ka.cancel()}getMetadata(){var i=this;return(0,b.Z)(function*(){return i.metadata.promise})()}Oa(){var i=this;return(0,b.Z)(function*(){return yield i.getMetadata(),i.Qa()})()}Qa(){var i=this;return(0,b.Z)(function*(){const o=yield i.Ka();if(null===o)return null;const d=i.qa.decode(o),p=Number(d);isNaN(p)&&i.$a(`length string (${d}) is not valid number`);const _=yield i.Ua(p);return new J0(JSON.parse(_),o.length+p)})()}Wa(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}Ka(){var i=this;return(0,b.Z)(function*(){for(;i.Wa()<0&&!(yield i.Ga()););if(0===i.buffer.length)return null;const o=i.Wa();o<0&&i.$a("Reached the end of bundle when a length string is expected.");const d=i.buffer.slice(0,o);return i.buffer=i.buffer.slice(o),d})()}Ua(i){var o=this;return(0,b.Z)(function*(){for(;o.buffer.length<i;)(yield o.Ga())&&o.$a("Reached the end of bundle when more is expected.");const d=o.qa.decode(o.buffer.slice(0,i));return o.buffer=o.buffer.slice(i),d})()}$a(i){throw this.ka.cancel(),new Error(`Invalid bundle format: ${i}`)}Ga(){var i=this;return(0,b.Z)(function*(){const o=yield i.ka.read();if(!o.done){const d=new Uint8Array(i.buffer.length+o.value.length);d.set(i.buffer),d.set(o.value,i.buffer.length),i.buffer=d}return o.done})()}}class Zp{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var o=this;return(0,b.Z)(function*(){var d;if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new Vt(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const p=yield function(I,k){return(d=d||(0,b.Z)(function*(F,K){const ne=dn(F),he=Au(ne.serializer)+"/documents",Ce={documents:K.map(Jt=>vp(ne.serializer,Jt))},Je=yield ne.Fo("BatchGetDocuments",he,Ce,K.length),xt=new Map;Je.forEach(Jt=>{const On=function jy(l,i){return"found"in i?function(d,p){En(!!p.found);const _=Vc(d,p.found.name),I=Ms(p.found.updateTime),k=p.found.createTime?Ms(p.found.createTime):yt.min(),F=new zs({mapValue:{fields:p.found.fields}});return Qi.newFoundDocument(_,I,k,F)}(l,i):"missing"in i?function(d,p){En(!!p.missing),En(!!p.readTime);const _=Vc(d,p.missing),I=Ms(p.readTime);return Qi.newNoDocument(_,I)}(l,i):Rn()}(ne.serializer,Jt);xt.set(On.key.toString(),On)});const Gt=[];return K.forEach(Jt=>{const On=xt.get(Jt.toString());En(!!On),Gt.push(On)}),Gt})).apply(this,arguments)}(o.datastore,i);return p.forEach(_=>o.recordVersion(_)),p})()}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(i.toString())}delete(i){this.write(new $l(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,b.Z)(function*(){var o;if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const d=i.readVersions;i.mutations.forEach(p=>{d.delete(p.key.toString())}),d.forEach((p,_)=>{const I=Xt.fromPath(_);i.mutations.push(new dp(I,i.precondition(I)))}),yield function(_,I){return(o=o||(0,b.Z)(function*(k,F){const K=dn(k),ne=Au(K.serializer)+"/documents",he={writes:F.map(Ce=>kh(K.serializer,Ce))};yield K.bo("Commit",ne,he)})).apply(this,arguments)}(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw Rn();o=yt.min()}const d=this.readVersions.get(i.key.toString());if(d){if(!o.isEqual(d))throw new Vt(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?o.isEqual(yt.min())?Xi.exists(!1):Xi.updateTime(o):Xi.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(yt.min()))throw new Vt(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(o)}return Xi.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class nb{constructor(i,o,d,p,_){this.asyncQueue=i,this.datastore=o,this.options=d,this.updateFunction=p,this.deferred=_,this.za=d.maxAttempts,this.Ho=new cv(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var i=this;this.Ho.Qo((0,b.Z)(function*(){const o=new Zp(i.datastore),d=i.Ha(o);d&&d.then(p=>{i.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{i.deferred.resolve(p)}).catch(_=>{i.Ja(_)}))}).catch(p=>{i.Ja(p)})}))}Ha(i){try{const o=this.updateFunction(i);return!Kf(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Ja(i){this.za>0&&this.Ya(i)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(i)}Ya(i){if("FirebaseError"===i.name){const o=i.code;return"aborted"===o||"failed-precondition"===o||"already-exists"===o||!A0(o)}return!1}}class Ev{constructor(i,o,d,p){var I,_=this;this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=d,this.databaseInfo=p,this.user=cs.UNAUTHENTICATED,this.clientId=re.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(k){return(I=I||(0,b.Z)(function*(F){zt("FirestoreClient","Received user=",F.uid),yield _.authCredentialListener(F),_.user=F})).apply(this,arguments)}),this.appCheckCredentials.start(d,k=>(zt("FirestoreClient","Received new app check token=",k),this.appCheckCredentialListener(k,this.user)))}getConfiguration(){var i=this;return(0,b.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const o=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,b.Z)(function*(){try{i._onlineComponents&&(yield i._onlineComponents.terminate()),i._offlineComponents&&(yield i._offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),o.resolve()}catch(d){const p=Jh(d,"Failed to shutdown persistence");o.reject(p)}})),o.promise}}function r_(l,i){return(Gf=Gf||(0,b.Z)(function*(o,d){var p;o.asyncQueue.verifyOperationInProgress(),zt("FirestoreClient","Initializing OfflineComponentProvider");const _=yield o.getConfiguration();yield d.initialize(_);let I=_.initialUser;o.setCredentialChangeListener(function(k){return(p=p||(0,b.Z)(function*(F){I.isEqual(F)||(yield Wh(d.localStore,F),I=F)})).apply(this,arguments)}),d.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=d})).apply(this,arguments)}function Bd(l,i){return(oy=oy||(0,b.Z)(function*(o,d){o.asyncQueue.verifyOperationInProgress();const p=yield i_(o);zt("FirestoreClient","Initializing OnlineComponentProvider");const _=yield o.getConfiguration();yield d.initialize(p,_),o.setCredentialChangeListener(I=>gv(d.remoteStore,I)),o.setAppCheckTokenChangeListener((I,k)=>gv(d.remoteStore,k)),o._onlineComponents=d})).apply(this,arguments)}function Ya(l){return"FirebaseError"===l.name?l.code===lt.FAILED_PRECONDITION||l.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function i_(l){return(zg=zg||(0,b.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){zt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield r_(i,i._uninitializedComponentsProvider._offline)}catch(o){const d=o;if(!Ya(d))throw d;_r("Error using user provided cache. Falling back to memory cache: "+d),yield r_(i,new Uu)}}else zt("FirestoreClient","Using default OfflineComponentProvider"),yield r_(i,new Uu);return i._offlineComponents})).apply(this,arguments)}function ma(l){return(zf=zf||(0,b.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(zt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bd(i,i._uninitializedComponentsProvider._online)):(zt("FirestoreClient","Using default OnlineComponentProvider"),yield Bd(i,new Yp))),i._onlineComponents})).apply(this,arguments)}function Qp(l){return i_(l).then(i=>i.persistence)}function $d(l){return i_(l).then(i=>i.localStore)}function cE(l){return ma(l).then(i=>i.remoteStore)}function s_(l){return ma(l).then(i=>i.syncEngine)}function Ql(l){return(Hf=Hf||(0,b.Z)(function*(i){const o=yield ma(i),d=o.eventManager;return d.onListen=Kw.bind(null,o.syncEngine),d.onUnlisten=tE.bind(null,o.syncEngine),d})).apply(this,arguments)}function dE(l,i,o={}){const d=new ls;return l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function(_,I,k,F,K){const ne=new n_({next:Ce=>{I.enqueueAndForget(()=>Yl(_,he));const Je=Ce.docs.has(k);!Je&&Ce.fromCache?K.reject(new Vt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&Ce.fromCache&&F&&"server"===F.source?K.reject(new Vt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Ce)},error:Ce=>K.reject(Ce)}),he=new Ym(gc(k.path),ne,{includeMetadataChanges:!0,Z_:!0});return Up(_,he)}(yield Ql(l),l.asyncQueue,i,o,d)})),d.promise}function a_(l,i,o={}){const d=new ls;return l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function(_,I,k,F,K){const ne=new n_({next:Ce=>{I.enqueueAndForget(()=>Yl(_,he)),Ce.fromCache&&"server"===F.source?K.reject(new Vt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Ce)},error:Ce=>K.reject(Ce)}),he=new Ym(k,ne,{includeMetadataChanges:!0,Z_:!0});return Up(_,he)}(yield Ql(l),l.asyncQueue,i,o,d)})),d.promise}function Dv(l){const i={};return void 0!==l.timeoutSeconds&&(i.timeoutSeconds=l.timeoutSeconds),i}const ib=new Map;function c_(l,i,o){if(!o)throw new Vt(lt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${i}.`)}function sb(l,i,o,d){if(!0===i&&!0===d)throw new Vt(lt.INVALID_ARGUMENT,`${l} and ${o} cannot be used together.`)}function hE(l){if(!Xt.isDocumentKey(l))throw new Vt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function fE(l){if(Xt.isDocumentKey(l))throw new Vt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function lf(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const i=(d=l).constructor?d.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var d;return"function"==typeof l?"a function":Rn()}function Br(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new Vt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=lf(l);throw new Vt(lt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return l}function nA(l,i){if(i<=0)throw new Vt(lt.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${i}.`)}class Cv{constructor(i){var o,d;if(void 0===i.host){if(void 0!==i.ssl)throw new Vt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(o=i.ssl)||void 0===o||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Vt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}sb("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==i.experimentalAutoDetectLongPolling&&!i.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dv(null!==(d=i.experimentalLongPollingOptions)&&void 0!==d?d:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new Vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new Vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new Vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===i.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Jp{constructor(i,o,d,p){this._authCredentials=i,this._appCheckCredentials=o,this._databaseId=d,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Vt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(i),void 0!==i.credentials&&(this._authCredentials=function(d){if(!d)return new ay;switch(d.type){case"firstParty":return new A(d.sessionIndex||"0",d.iamToken||null,d.authTokenFactory||null);case"provider":return d.client;default:throw new Vt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const d=ib.get(o);d&&(zt("ComponentProvider","Removing Datastore"),ib.delete(o),d.terminate())}(this),Promise.resolve()}}function pE(l,i,o,d={}){var p;const _=(l=Br(l,Jp))._getSettings(),I=`${i}:${o}`;if("firestore.googleapis.com"!==_.host&&_.host!==I&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},_),{host:I,ssl:!1})),d.mockUserToken){let k,F;if("string"==typeof d.mockUserToken)k=d.mockUserToken,F=cs.MOCK_USER;else{k=(0,ke.Sg)(d.mockUserToken,null===(p=l._app)||void 0===p?void 0:p.options.projectId);const K=d.mockUserToken.sub||d.mockUserToken.user_id;if(!K)throw new Vt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new cs(K)}l._authCredentials=new cy(new Wg(k,F))}}class Vo{constructor(i,o,d){this.converter=o,this._query=d,this.type="query",this.firestore=i}withConverter(i){return new Vo(this.firestore,i,this._query)}}class fs{constructor(i,o,d){this.converter=o,this._key=d,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new fs(this.firestore,i,this._key)}}class Bo extends Vo{constructor(i,o,d){super(i,o,gc(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new fs(this.firestore,null,new Xt(i))}withConverter(i){return new Bo(this.firestore,i,this._path)}}function rA(l,i,...o){if(l=(0,ke.m9)(l),c_("collection","path",i),l instanceof Jp){const d=Wn.fromString(i,...o);return fE(d),new Bo(l,null,d)}{if(!(l instanceof fs||l instanceof Bo))throw new Vt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Wn.fromString(i,...o));return fE(d),new Bo(l.firestore,null,d)}}function iA(l,i){if(l=Br(l,Jp),c_("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Vt(lt.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vo(l,null,(d=i,new pc(Wn.emptyPath(),d)));var d}function eg(l,i,...o){if(l=(0,ke.m9)(l),1===arguments.length&&(i=re.V()),c_("doc","path",i),l instanceof Jp){const d=Wn.fromString(i,...o);return hE(d),new fs(l,null,new Xt(d))}{if(!(l instanceof fs||l instanceof Bo))throw new Vt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(Wn.fromString(i,...o));return hE(d),new fs(l.firestore,l instanceof Bo?l.converter:null,new Xt(d))}}function ob(l,i){return l=(0,ke.m9)(l),i=(0,ke.m9)(i),(l instanceof fs||l instanceof Bo)&&(i instanceof fs||i instanceof Bo)&&l.firestore===i.firestore&&l.path===i.path&&l.converter===i.converter}function uf(l,i){return l=(0,ke.m9)(l),i=(0,ke.m9)(i),l instanceof Vo&&i instanceof Vo&&l.firestore===i.firestore&&tm(l._query,i._query)&&l.converter===i.converter}class sA{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new cv(this,"async_queue_retry"),this.ou=()=>{const o=Lu();o&&zt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.Ho.$o()};const i=Lu();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this._u(),this.au(i)}enterRestrictedMode(i){if(!this.eu){this.eu=!0,this.iu=i||!1;const o=Lu();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.ou)}}enqueue(i){if(this._u(),this.eu)return new Promise(()=>{});const o=new ls;return this.au(()=>this.eu&&this.iu?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Xa.push(i),this.uu()))}uu(){var i=this;return(0,b.Z)(function*(){if(0!==i.Xa.length){try{yield i.Xa[0](),i.Xa.shift(),i.Ho.reset()}catch(o){if(!fc(o))throw o;zt("AsyncQueue","Operation failed with retryable error: "+o)}i.Xa.length>0&&i.Ho.Qo(()=>i.uu())}})()}au(i){const o=this.Za.then(()=>(this.ru=!0,i().catch(d=>{throw this.nu=d,this.ru=!1,At("INTERNAL UNHANDLED ERROR: ",function(I){let k=I.message||"";return I.stack&&(k=I.stack.includes(I.message)?I.stack:I.message+"\n"+I.stack),k}(d)),d}).then(d=>(this.ru=!1,d))));return this.Za=o,o}enqueueAfterDelay(i,o,d){this._u(),this.su.indexOf(i)>-1&&(o=0);const p=Km.createAndSchedule(this,i,o,d,_=>this.cu(_));return this.tu.push(p),p}_u(){this.nu&&Rn()}verifyOperationInProgress(){}lu(){var i=this;return(0,b.Z)(function*(){let o;do{o=i.Za,yield o}while(o!==i.Za)})()}hu(i){for(const o of this.tu)if(o.timerId===i)return!0;return!1}Pu(i){return this.lu().then(()=>{this.tu.sort((o,d)=>o.targetTimeMs-d.targetTimeMs);for(const o of this.tu)if(o.skipDelay(),"all"!==i&&o.timerId===i)break;return this.lu()})}Iu(i){this.su.push(i)}cu(i){const o=this.tu.indexOf(i);this.tu.splice(o,1)}}function df(l){return function(o,d){if("object"!=typeof o||null===o)return!1;const p=o;for(const _ of["next","error","complete"])if(_ in p&&"function"==typeof p[_])return!0;return!1}(l)}class tg{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,d){this._progressObserver={next:i,error:o,complete:d}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}const gE=-1;class Di extends Jp{constructor(i,o,d,p){super(i,o,d,p),this.type="firestore",this._queue=new sA,this._persistenceKey=(null==p?void 0:p.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Av(this),this._firestoreClient.terminate()}}function oA(l,i){const o="object"==typeof l?l:(0,E.getApp)(),d="string"==typeof l?l:i||"(default)",p=(0,E._getProvider)(o,"firestore").getImmediate({identifier:d});if(!p._initialized){const _=(0,ke.P0)("firestore");_&&pE(p,..._)}return p}function Ns(l){return l._firestoreClient||Av(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Av(l){var i,o,d;const p=l._freezeSettings(),_=(F=(null===(i=l._app)||void 0===i?void 0:i.options.appId)||"",new Dw(l._databaseId,F,l._persistenceKey,(ne=p).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Dv(ne.experimentalLongPollingOptions),ne.useFetchStreams));var F,ne;l._firestoreClient=new Ev(l._authCredentials,l._appCheckCredentials,l._queue,_),null!==(o=p.localCache)&&void 0!==o&&o._offlineComponentProvider&&null!==(d=p.localCache)&&void 0!==d&&d._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:p.localCache.kind,_offline:p.localCache._offlineComponentProvider,_online:p.localCache._onlineComponentProvider})}function ab(l,i){hf(l=Br(l,Di));const o=Ns(l);if(o._uninitializedComponentsProvider)throw new Vt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const d=l._freezeSettings(),p=new Yp;return mE(o,p,new Wp(p,d.cacheSizeBytes,null==i?void 0:i.forceOwnership))}function aA(l){hf(l=Br(l,Di));const i=Ns(l);if(i._uninitializedComponentsProvider)throw new Vt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");_r("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=l._freezeSettings(),d=new Yp;return mE(i,d,new Kp(d,o.cacheSizeBytes))}function mE(l,i,o){const d=new ls;return l.asyncQueue.enqueue((0,b.Z)(function*(){try{yield r_(l,o),yield Bd(l,i),d.resolve()}catch(p){const _=p;if(!Ya(_))throw _;_r("Error enabling indexeddb cache. Falling back to memory cache: "+_),d.reject(_)}})).then(()=>d.promise)}function cb(l){if(l._initialized&&!l._terminated)throw new Vt(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new ls;return l._queue.enqueueAndForgetEvenWhileRestricted((0,b.Z)(function*(){try{var o;yield function(p){return(o=o||(0,b.Z)(function*(_){if(!kc.C())return Promise.resolve();const I=_+"main";yield kc.delete(I)})).apply(this,arguments)}(qh(l._databaseId,l._persistenceKey)),i.resolve()}catch(d){i.reject(d)}})),i.promise}function l_(l){return function(o){const d=new ls;return o.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function nE(l,i){return(jg=jg||(0,b.Z)(function*(o,d){const p=dn(o);kd(p.remoteStore)||zt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const _=yield function(F){const K=dn(F);return K.persistence.runTransaction("Get highest unacknowledged batch id","readonly",ne=>K.mutationQueue.getHighestUnacknowledgedBatchId(ne))}(p.localStore);if(-1===_)return void d.resolve();const I=p.Ca.get(_)||[];I.push(d),p.Ca.set(_,I)}catch(_){const I=Jh(_,"Initialization of waitForPendingWrites() operation failed");d.reject(I)}})).apply(this,arguments)}(yield s_(o),d)})),d.promise}(Ns(l=Br(l,Di)))}function cA(l){return function lE(l){return l.asyncQueue.enqueue((0,b.Z)(function*(){const i=yield Qp(l),o=yield cE(l);return i.setNetworkEnabled(!0),function(p){const _=dn(p);return _.F_.delete(0),Oa(_)}(o)}))}(Ns(l=Br(l,Di)))}function ju(l){return function uE(l){return l.asyncQueue.enqueue((0,b.Z)(function*(){var i;const o=yield Qp(l),d=yield cE(l);return o.setNetworkEnabled(!1),function(_){return(i=i||(0,b.Z)(function*(I){const k=dn(I);k.F_.add(0),yield Qh(k),k.O_.set("Offline")})).apply(this,arguments)}(d)}))}(Ns(l=Br(l,Di)))}function lA(l,i){const o=Ns(l=Br(l,Di)),d=new tg;return function Tv(l,i,o,d){const p=function(I,k){let F;return F="string"==typeof I?fp().encode(I):I,ne=function(ne,he){if(ne instanceof Uint8Array)return eb(ne,void 0);if(ne instanceof ArrayBuffer)return eb(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new tb(ne,k);var ne}(o,Zh(i));l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){!function aE(l,i,o){var d;const p=dn(l);(function(I,k,F){return(d=d||(0,b.Z)(function*(K,ne,he){try{const Ce=yield ne.getMetadata();if(yield function(On,hr){const Gn=dn(On),Pr=Ms(hr.createTime);return Gn.persistence.runTransaction("hasNewerBundle","readonly",mr=>Gn.Ur.getBundleMetadata(mr,hr.id)).then(mr=>!!mr&&mr.createTime.compareTo(Pr)>=0)}(K.localStore,Ce))return yield ne.close(),he._completeWith({taskState:"Success",documentsLoaded:(On=Ce).totalDocuments,bytesLoaded:On.totalBytes,totalDocuments:On.totalDocuments,totalBytes:On.totalBytes}),Promise.resolve(new Set);he._updateProgress(Qm(Ce));const Je=new Gp(Ce,K.localStore,ne.serializer);let xt=yield ne.Oa();for(;xt;){const Jt=yield Je.na(xt);Jt&&he._updateProgress(Jt),xt=yield ne.Oa()}const Gt=yield Je.complete();return yield vl(K,Gt.sa,void 0),yield function(On,hr){const Gn=dn(On);return Gn.persistence.runTransaction("Save bundle","readwrite",Pr=>Gn.Ur.saveBundleMetadata(Pr,hr))}(K.localStore,Ce),he._completeWith(Gt.progress),Promise.resolve(Gt.ia)}catch(Ce){return _r("SyncEngine",`Loading bundle failed with ${Ce}`),he._failWith(Ce),Promise.resolve(new Set)}var On})).apply(this,arguments)})(p,i,o).then(_=>{p.sharedClientState.notifyBundleLoaded(_)})}(yield s_(l),p,d)}))}(o,l._databaseId,i,d),d}function lb(l,i){return function wv(l,i){return l.asyncQueue.enqueue((0,b.Z)(function*(){return function(d,p){const _=dn(d);return _.persistence.runTransaction("Get named query","readonly",I=>_.Ur.getNamedQuery(I,p))}(yield $d(l),i)}))}(Ns(l=Br(l,Di)),i).then(o=>o?new Vo(l,null,o.query):null)}function hf(l){if(l._initialized||l._terminated)throw new Vt(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Gu(zi.fromBase64String(i))}catch(o){throw new Vt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new Gu(zi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Il{constructor(...i){for(let o=0;o<i.length;++o)if(0===i[o].length)throw new Vt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ff{constructor(i){this._methodName=i}}class Ud{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new Vt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new Vt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return se(this._lat,i._lat)||se(this._long,i._long)}}const yE=/^__.*__$/;class vE{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return null!==this.fieldMask?new vc(i,this.data,this.fieldMask,o,this.fieldTransforms):new wu(i,this.data,o,this.fieldTransforms)}}class d_{constructor(i,o,d){this.data=i,this.fieldMask=o,this.fieldTransforms=d}toMutation(i,o){return new vc(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function IE(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class pf{constructor(i,o,d,p,_,I){this.settings=i,this.databaseId=o,this.serializer=d,this.ignoreUndefinedProperties=p,void 0===_&&this.du(),this.fieldTransforms=_||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(i){return new pf(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),p=this.Eu({path:d,Ru:!1});return p.Vu(i),p}mu(i){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(i),p=this.Eu({path:d,Ru:!1});return p.du(),p}fu(i){return this.Eu({path:void 0,Ru:!0})}gu(i){return Za(i,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(i){return void 0!==this.fieldMask.find(o=>i.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>i.isPrefixOf(o.field))}du(){if(this.path)for(let i=0;i<this.path.length;i++)this.Vu(this.path.get(i))}Vu(i){if(0===i.length)throw this.gu("Document fields must not be empty");if(IE(this.Tu)&&yE.test(i))throw this.gu('Document fields cannot begin and end with "__"')}}class db{constructor(i,o,d){this.databaseId=i,this.ignoreUndefinedProperties=o,this.serializer=d||Zh(i)}wu(i,o,d,p=!1){return new pf({Tu:i,methodName:o,yu:d,path:sr.emptyPath(),Ru:!1,pu:p},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(l){const i=l._freezeSettings(),o=Zh(l._databaseId);return new db(l._databaseId,!!i.ignoreUndefinedProperties,o)}function ng(l,i,o,d,p,_={}){const I=l.wu(_.merge||_.mergeFields?2:0,i,o,p);mf("Data must be an object, but it was:",I,d);const k=bE(d,I);let F,K;if(_.merge)F=new ka(I.fieldMask),K=I.fieldTransforms;else if(_.mergeFields){const ne=[];for(const he of _.mergeFields){const Ce=_f(i,he,o);if(!I.contains(Ce))throw new Vt(lt.INVALID_ARGUMENT,`Field '${Ce}' is specified in your field mask but missing from your input data.`);Hu(ne,Ce)||ne.push(Ce)}F=new ka(ne),K=I.fieldTransforms.filter(he=>F.covers(he.field))}else F=null,K=I.fieldTransforms;return new vE(new zs(k),F,K)}class rg extends ff{_toFieldTransform(i){if(2!==i.Tu)throw i.gu(1===i.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof rg}}function EE(l,i,o){return new pf({Tu:3,yu:i.settings.yu,methodName:l._methodName,Ru:o},i.databaseId,i.serializer,i.ignoreUndefinedProperties)}class ig extends ff{_toFieldTransform(i){return new gd(i.path,new Tu)}isEqual(i){return i instanceof ig}}class hb extends ff{constructor(i,o){super(i),this.Su=o}_toFieldTransform(i){const o=EE(this,i,!0),d=this.Su.map(_=>zu(_,o)),p=new ul(d);return new gd(i.path,p)}isEqual(i){return this===i}}class Ks extends ff{constructor(i,o){super(i),this.Su=o}_toFieldTransform(i){const o=EE(this,i,!0),d=this.Su.map(_=>zu(_,o)),p=new yc(d);return new gd(i.path,p)}isEqual(i){return this===i}}class TE extends ff{constructor(i,o){super(i),this.bu=o}_toFieldTransform(i){const o=new Si(i.serializer,om(i.serializer,this.bu));return new gd(i.path,o)}isEqual(i){return this===i}}function sg(l,i,o,d){const p=l.wu(1,i,o);mf("Data must be an object, but it was:",p,d);const _=[],I=zs.empty();kl(d,(F,K)=>{const ne=Gd(i,F,o);K=(0,ke.m9)(K);const he=p.mu(ne);if(K instanceof rg)_.push(ne);else{const Ce=zu(K,he);null!=Ce&&(_.push(ne),I.set(ne,Ce))}});const k=new ka(_);return new d_(I,k,p.fieldTransforms)}function wE(l,i,o,d,p,_){const I=l.wu(1,i,o),k=[_f(i,d,o)],F=[p];if(_.length%2!=0)throw new Vt(lt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ce=0;Ce<_.length;Ce+=2)k.push(_f(i,_[Ce])),F.push(_[Ce+1]);const K=[],ne=zs.empty();for(let Ce=k.length-1;Ce>=0;--Ce)if(!Hu(K,k[Ce])){const Je=k[Ce];let xt=F[Ce];xt=(0,ke.m9)(xt);const Gt=I.mu(Je);if(xt instanceof rg)K.push(Je);else{const Jt=zu(xt,Gt);null!=Jt&&(K.push(Je),ne.set(Je,Jt))}}const he=new ka(K);return new d_(ne,he,I.fieldTransforms)}function xv(l,i,o,d=!1){return zu(o,l.wu(d?4:3,i))}function zu(l,i){if(og(l=(0,ke.m9)(l)))return mf("Unsupported field value:",i,l),bE(l,i);if(l instanceof ff)return function(d,p){if(!IE(p.Tu))throw p.gu(`${d._methodName}() can only be used with update() and set()`);if(!p.path)throw p.gu(`${d._methodName}() is not currently supported inside arrays`);const _=d._toFieldTransform(p);_&&p.fieldTransforms.push(_)}(l,i),null;if(void 0===l&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),l instanceof Array){if(i.settings.Ru&&4!==i.Tu)throw i.gu("Nested arrays are not supported");return function(d,p){const _=[];let I=0;for(const k of d){let F=zu(k,p.fu(I));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),I++}return{arrayValue:{values:_}}}(l,i)}return function(d,p){if(null===(d=(0,ke.m9)(d)))return{nullValue:"NULL_VALUE"};if("number"==typeof d)return om(p.serializer,d);if("boolean"==typeof d)return{booleanValue:d};if("string"==typeof d)return{stringValue:d};if(d instanceof Date){const _=Xe.fromDate(d);return{timestampValue:Cu(p.serializer,_)}}if(d instanceof Xe){const _=new Xe(d.seconds,1e3*Math.floor(d.nanoseconds/1e3));return{timestampValue:Cu(p.serializer,_)}}if(d instanceof Ud)return{geoPointValue:{latitude:d.latitude,longitude:d.longitude}};if(d instanceof Gu)return{bytesValue:gm(p.serializer,d._byteString)};if(d instanceof fs){const _=p.databaseId,I=d.firestore._databaseId;if(!I.isEqual(_))throw p.gu(`Document reference is for database ${I.projectId}/${I.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:yp(d.firestore._databaseId||p.databaseId,d._key.path)}}throw p.gu(`Unsupported field value: ${lf(d)}`)}(l,i)}function bE(l,i){const o={};return _y(l)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):kl(l,(d,p)=>{const _=zu(p,i.Au(d));null!=_&&(o[d]=_)}),{mapValue:{fields:o}}}function og(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Xe||l instanceof Ud||l instanceof Gu||l instanceof fs||l instanceof ff)}function mf(l,i,o){if(!og(o)||"object"!=typeof(p=o)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){const d=lf(o);throw i.gu("an object"===d?l+" a custom object":l+" "+d)}var p}function _f(l,i,o){if((i=(0,ke.m9)(i))instanceof Il)return i._internalPath;if("string"==typeof i)return Gd(l,i);throw Za("Field path arguments must be of type string or ",l,!1,void 0,o)}const jd=new RegExp("[~\\*/\\[\\]]");function Gd(l,i,o){if(i.search(jd)>=0)throw Za(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,o);try{return new Il(...i.split("."))._internalPath}catch{throw Za(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,o)}}function Za(l,i,o,d,p){const _=d&&!d.isEmpty(),I=void 0!==p;let k=`Function ${i}() called with invalid data`;o&&(k+=" (via `toFirestore()`)"),k+=". ";let F="";return(_||I)&&(F+=" (found",_&&(F+=` in field ${d}`),I&&(F+=` in document ${p}`),F+=")"),new Vt(lt.INVALID_ARGUMENT,k+l+F)}function Hu(l,i){return l.some(o=>o.isEqual(i))}class Ys{constructor(i,o,d,p,_){this._firestore=i,this._userDataWriter=o,this._key=d,this._document=p,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new zd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(qu("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o)}}}class zd extends Ys{data(){return super.data()}}function qu(l,i){return"string"==typeof i?Gd(l,i):i instanceof Il?i._internalPath:i._delegate._internalPath}function Qa(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Vt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class Jl extends ag{}function yf(l,i,...o){let d=[];i instanceof ag&&d.push(i),d=d.concat(o),function(_){const I=_.filter(F=>F instanceof Gc).length,k=_.filter(F=>F instanceof El).length;if(I>1||I>0&&k>0)throw new Vt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(d);for(const p of d)l=p._apply(l);return l}class El extends Jl{constructor(i,o,d){super(),this._field=i,this._op=o,this._value=d,this.type="where"}static _create(i,o,d){return new El(i,o,d)}_apply(i){const o=this._parse(i);return Pv(i._query,o),new Vo(i.firestore,i.converter,Pw(i._query,o))}_parse(i){const o=gf(i.firestore);return function(_,I,k,F,K,ne,he){let Ce;if(K.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Vt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){pb(he,ne);const Je=[];for(const xt of he)Je.push(fb(F,_,xt));Ce={arrayValue:{values:Je}}}else Ce=fb(F,_,he)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||pb(he,ne),Ce=xv(k,"where",he,"in"===ne||"not-in"===ne);return Vr.create(K,ne,Ce)}(i._query,0,o,i.firestore._databaseId,this._field,this._op,this._value)}}function vf(l,i,o){const d=i,p=qu("where",l);return El._create(p,d,o)}class Gc extends ag{constructor(i,o){super(),this.type=i,this._queryConstraints=o}static _create(i,o){return new Gc(i,o)}_parse(i){const o=this._queryConstraints.map(d=>d._parse(i)).filter(d=>d.getFilters().length>0);return 1===o.length?o[0]:oi.create(o,this._getOperator())}_apply(i){const o=this._parse(i);return 0===o.getFilters().length?i:(function(p,_){let I=p;const k=_.getFlattenedFilters();for(const F of k)Pv(I,F),I=Pw(I,F)}(i._query,o),new Vo(i.firestore,i.converter,Pw(i._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zc extends Jl{constructor(i,o){super(),this._field=i,this._direction=o,this.type="orderBy"}static _create(i,o){return new zc(i,o)}_apply(i){const o=function(p,_,I){if(null!==p.startAt)throw new Vt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new Vt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const k=new yh(_,I);return function(K,ne){if(null===Py(K)){const he=bh(K);null!==he&&gb(0,he,ne.field)}}(p,k),k}(i._query,this._field,this._direction);return new Vo(i.firestore,i.converter,function(p,_){const I=p.explicitOrderBy.concat([_]);return new pc(p.path,p.collectionGroup,I,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i._query,o))}}function If(l,i="asc"){const o=i,d=qu("orderBy",l);return zc._create(d,o)}class ug extends Jl{constructor(i,o,d){super(),this.type=i,this._limit=o,this._limitType=d}static _create(i,o,d){return new ug(i,o,d)}_apply(i){return new Vo(i.firestore,i.converter,ky(i._query,this._limit,this._limitType))}}function DE(l){return nA("limit",l),ug._create("limit",l,"F")}function h_(l){return nA("limitToLast",l),ug._create("limitToLast",l,"L")}class dg extends Jl{constructor(i,o,d){super(),this.type=i,this._docOrFields=o,this._inclusive=d}static _create(i,o,d){return new dg(i,o,d)}_apply(i){const o=f_(i,this.type,this._docOrFields,this._inclusive);return new Vo(i.firestore,i.converter,(_=o,new pc((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,_,p.endAt)));var p,_}}function CE(...l){return dg._create("startAt",l,!0)}function AE(...l){return dg._create("startAfter",l,!1)}class hg extends Jl{constructor(i,o,d){super(),this.type=i,this._docOrFields=o,this._inclusive=d}static _create(i,o,d){return new hg(i,o,d)}_apply(i){const o=f_(i,this.type,this._docOrFields,this._inclusive);return new Vo(i.firestore,i.converter,(_=o,new pc((p=i._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,_)));var p,_}}function SE(...l){return hg._create("endBefore",l,!1)}function Rv(...l){return hg._create("endAt",l,!0)}function f_(l,i,o,d){if(o[0]=(0,ke.m9)(o[0]),o[0]instanceof Ys)return function(_,I,k,F,K){if(!F)throw new Vt(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${k}().`);const ne=[];for(const he of ip(_))if(he.field.isKeyField())ne.push(Fl(I,F.key));else{const Ce=F.data.field(he.field);if(Ol(Ce))throw new Vt(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const Je=he.field.canonicalString();throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}ne.push(Ce)}return new Vl(ne,K)}(l._query,l.firestore._databaseId,i,o[0]._document,d);{const p=gf(l.firestore);return function(I,k,F,K,ne,he){const Ce=I.explicitOrderBy;if(ne.length>Ce.length)throw new Vt(lt.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let xt=0;xt<ne.length;xt++){const Gt=ne[xt];if(Ce[xt].field.isKeyField()){if("string"!=typeof Gt)throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Gt}`);if(!Lc(I)&&-1!==Gt.indexOf("/"))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Gt}' contains a slash.`);const Jt=I.path.child(Wn.fromString(Gt));if(!Xt.isDocumentKey(Jt))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const On=new Xt(Jt);Je.push(Fl(k,On))}else{const Jt=xv(F,K,Gt);Je.push(Jt)}}return new Vl(Je,he)}(l._query,l.firestore._databaseId,p,i,o,d)}}function fb(l,i,o){if("string"==typeof(o=(0,ke.m9)(o))){if(""===o)throw new Vt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lc(i)&&-1!==o.indexOf("/"))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const d=i.path.child(Wn.fromString(o));if(!Xt.isDocumentKey(d))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return Fl(l,new Xt(d))}if(o instanceof fs)return Fl(l,o._key);throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(o)}.`)}function pb(l,i){if(!Array.isArray(l)||0===l.length)throw new Vt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function Pv(l,i){if(i.isInequality()){const d=bh(l),p=i.field;if(null!==d&&!d.isEqual(p))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${d.toString()}' and '${p.toString()}'`);const _=Py(l);null!==_&&gb(0,p,_)}const o=function(p,_){for(const I of p)for(const k of I.getFlattenedFilters())if(_.indexOf(k.op)>=0)return k.op;return null}(l.filters,function(p){switch(p){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(null!==o)throw new Vt(lt.INVALID_ARGUMENT,o===i.op?`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`:`Invalid query. You cannot use '${i.op.toString()}' filters with '${o.toString()}' filters.`)}function gb(l,i,o){if(!o.isEqual(i))throw new Vt(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class _b{convertValue(i,o="none"){switch(ld(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Es(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(Nc(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw Rn()}}convertObject(i,o){return this.convertObjectMap(i.fields,o)}convertObjectMap(i,o="none"){const d={};return kl(i,(p,_)=>{d[p]=this.convertValue(_,o)}),d}convertGeoPoint(i){return new Ud(Es(i.latitude),Es(i.longitude))}convertArray(i,o){return(i.values||[]).map(d=>this.convertValue(d,o))}convertServerTimestamp(i,o){switch(o){case"previous":const d=Ey(i);return null==d?null:this.convertValue(d,o);case"estimate":return this.convertTimestamp(ad(i));default:return null}}convertTimestamp(i){const o=Ha(i);return new Xe(o.seconds,o.nanos)}convertDocumentKey(i,o){const d=Wn.fromString(i);En(Em(d));const p=new vu(d.get(1),d.get(3)),_=new Xt(d.popFirst(5));return p.isEqual(o)||At(`Document ${_} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),_}}function Ef(l,i,o){let d;return d=l?o&&(o.merge||o.mergeFields)?l.toFirestore(i,o):l.toFirestore(i):i,d}class dR extends _b{constructor(i){super(),this.firestore=i}convertBytes(i){return new Gu(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new fs(this.firestore,null,o)}}class eu{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Tl extends Ys{constructor(i,o,d,p,_,I){super(i,o,d,p,I),this._firestore=i,this._firestoreImpl=i,this.metadata=_}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const d=this._document.data.field(qu("DocumentSnapshot.get",i));if(null!==d)return this._userDataWriter.convertValue(d,o.serverTimestamps)}}}class fg extends Tl{data(i={}){return super.data(i)}}class wl{constructor(i,o,d,p){this._firestore=i,this._userDataWriter=o,this._snapshot=p,this.metadata=new eu(p.hasPendingWrites,p.fromCache),this.query=d}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,o){this._snapshot.docs.forEach(d=>{i.call(o,new fg(this._firestore,this._userDataWriter,d.key,d,new eu(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Vt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(p,_){if(p._snapshot.oldDocs.isEmpty()){let I=0;return p._snapshot.docChanges.map(k=>({type:"added",doc:new fg(p._firestore,p._userDataWriter,k.doc.key,k.doc,new eu(p._snapshot.mutatedKeys.has(k.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:I++}))}{let I=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(k=>_||3!==k.type).map(k=>{const F=new fg(p._firestore,p._userDataWriter,k.doc.key,k.doc,new eu(p._snapshot.mutatedKeys.has(k.doc.key),p._snapshot.fromCache),p.query.converter);let K=-1,ne=-1;return 0!==k.type&&(K=I.indexOf(k.doc.key),I=I.delete(k.doc.key)),1!==k.type&&(I=I.add(k.doc),ne=I.indexOf(k.doc.key)),{type:yb(k.type),doc:F,oldIndex:K,newIndex:ne}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function yb(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function uA(l,i){return l instanceof Tl&&i instanceof Tl?l._firestore===i._firestore&&l._key.isEqual(i._key)&&(null===l._document?null===i._document:l._document.isEqual(i._document))&&l._converter===i._converter:l instanceof wl&&i instanceof wl&&l._firestore===i._firestore&&uf(l.query,i.query)&&l.metadata.isEqual(i.metadata)&&l._snapshot.isEqual(i._snapshot)}function Hd(l){l=Br(l,fs);const i=Br(l.firestore,Di);return dE(Ns(i),l._key).then(o=>PE(i,l,o))}class Wu extends _b{constructor(i){super(),this.firestore=i}convertBytes(i){return new Gu(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new fs(this.firestore,null,o)}}function pg(l){l=Br(l,fs);const i=Br(l.firestore,Di),o=Ns(i),d=new Wu(i);return function o_(l,i){const o=new ls;return l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){var d;return function(_,I,k){return(d=d||(0,b.Z)(function*(F,K,ne){try{const he=yield function(Je,xt){const Gt=dn(Je);return Gt.persistence.runTransaction("read document","readonly",Jt=>Gt.localDocuments.getDocument(Jt,xt))}(F,K);he.isFoundDocument()?ne.resolve(he):he.isNoDocument()?ne.resolve(null):ne.reject(new Vt(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(he){const Ce=Jh(he,`Failed to get document '${K} from cache`);ne.reject(Ce)}})).apply(this,arguments)}(yield $d(l),i,o)})),o.promise}(o,l._key).then(p=>new Tl(i,d,l._key,p,new eu(null!==p&&p.hasLocalMutations,!0),l.converter))}function vb(l){l=Br(l,fs);const i=Br(l.firestore,Di);return dE(Ns(i),l._key,{source:"server"}).then(o=>PE(i,l,o))}function Ib(l){l=Br(l,Vo);const i=Br(l.firestore,Di),o=Ns(i),d=new Wu(i);return Qa(l._query),a_(o,l._query).then(p=>new wl(i,d,l,p))}function gg(l){l=Br(l,Vo);const i=Br(l.firestore,Di),o=Ns(i),d=new Wu(i);return function rb(l,i){const o=new ls;return l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){var d;return function(_,I,k){return(d=d||(0,b.Z)(function*(F,K,ne){try{const he=yield Ou(F,K,!0),Ce=new Fd(K,he.Ps),Je=Ce.ha(he.documents),xt=Ce.applyChanges(Je,!1);ne.resolve(xt.snapshot)}catch(he){const Ce=Jh(he,`Failed to execute query '${K} against cache`);ne.reject(Ce)}})).apply(this,arguments)}(yield $d(l),i,o)})),o.promise}(o,l._query).then(p=>new wl(i,d,l,p))}function kv(l){l=Br(l,Vo);const i=Br(l.firestore,Di),o=Ns(i),d=new Wu(i);return a_(o,l._query,{source:"server"}).then(p=>new wl(i,d,l,p))}function g_(l,i,o){l=Br(l,fs);const d=Br(l.firestore,Di),p=Ef(l.converter,i,o);return qd(d,[ng(gf(d),"setDoc",l._key,p,null!==l.converter,o).toMutation(l._key,Xi.none())])}function Eb(l,i,o,...d){l=Br(l,fs);const p=Br(l.firestore,Di),_=gf(p);let I;return I="string"==typeof(i=(0,ke.m9)(i))||i instanceof Il?wE(_,"updateDoc",l._key,i,o,d):sg(_,"updateDoc",l._key,i),qd(p,[I.toMutation(l._key,Xi.exists(!0))])}function RE(l){return qd(Br(l.firestore,Di),[new $l(l._key,Xi.none())])}function dA(l,i){const o=Br(l.firestore,Di),d=eg(l),p=Ef(l.converter,i);return qd(o,[ng(gf(l.firestore),"addDoc",d._key,p,null!==l.converter,{}).toMutation(d._key,Xi.exists(!1))]).then(()=>d)}function Nv(l,...i){var o,d,p;l=(0,ke.m9)(l);let _={includeMetadataChanges:!1},I=0;"object"!=typeof i[I]||df(i[I])||(_=i[I],I++);const k={includeMetadataChanges:_.includeMetadataChanges};if(df(i[I])){const he=i[I];i[I]=null===(o=he.next)||void 0===o?void 0:o.bind(he),i[I+1]=null===(d=he.error)||void 0===d?void 0:d.bind(he),i[I+2]=null===(p=he.complete)||void 0===p?void 0:p.bind(he)}let F,K,ne;if(l instanceof fs)K=Br(l.firestore,Di),ne=gc(l._key.path),F={next:he=>{i[I]&&i[I](PE(K,l,he))},error:i[I+1],complete:i[I+2]};else{const he=Br(l,Vo);K=Br(he.firestore,Di),ne=he._query;const Ce=new Wu(K);F={next:Je=>{i[I]&&i[I](new wl(K,Ce,he,Je))},error:i[I+1],complete:i[I+2]},Qa(l._query)}return function(Ce,Je,xt,Gt){const Jt=new n_(Gt),On=new Ym(Je,Jt,xt);return Ce.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return Up(yield Ql(Ce),On)})),()=>{Jt.La(),Ce.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return Yl(yield Ql(Ce),On)}))}}(Ns(K),ne,k,F)}function hA(l,i){return function tA(l,i){const o=new n_(i);return l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return p=yield Ql(l),_=o,dn(p).K_.add(_),void _.next();var p,_})),()=>{o.La(),l.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return p=yield Ql(l),_=o,void dn(p).K_.delete(_);var p,_}))}}(Ns(l=Br(l,Di)),df(i)?i:{next:i})}function qd(l,i){return function(d,p){const _=new ls;return d.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function Yw(l,i,o){return(Bf=Bf||(0,b.Z)(function*(d,p,_){const I=$u(d);try{const k=yield function(K,ne){const he=dn(K),Ce=Xe.now(),Je=ne.reduce((Jt,On)=>Jt.add(On.key),Rr());let xt,Gt;return he.persistence.runTransaction("Locally write mutations","readwrite",Jt=>{let On=go(),hr=Rr();return he._s.getEntries(Jt,Je).next(Gn=>{On=Gn,On.forEach((Pr,mr)=>{mr.isValidDocument()||(hr=hr.add(Pr))})}).next(()=>he.localDocuments.getOverlayedDocuments(Jt,On)).next(Gn=>{xt=Gn;const Pr=[];for(const mr of ne){const br=Hs(mr,xt.get(mr.key).overlayedDocument);null!=br&&Pr.push(new vc(mr.key,br,Cw(br.value.mapValue),Xi.exists(!0)))}return he.mutationQueue.addMutationBatch(Jt,Ce,Pr,ne)}).next(Gn=>{Gt=Gn;const Pr=Gn.applyToLocalDocumentSet(xt,hr);return he.documentOverlayCache.saveOverlays(Jt,Gn.batchId,Pr)})}).then(()=>({batchId:Gt.batchId,changes:sp(xt)}))}(I.localStore,p);I.sharedClientState.addPendingMutation(k.batchId),function(K,ne,he){let Ce=K.Da[K.currentUser.toKey()];Ce||(Ce=new vi(se)),Ce=Ce.insert(ne,he),K.Da[K.currentUser.toKey()]=Ce}(I,k.batchId,_),yield vl(I,k.changes),yield Od(I.remoteStore)}catch(k){const F=Jh(k,"Failed to persist write");_.reject(F)}})).apply(this,arguments)}(yield s_(d),p,_)})),_.promise}(Ns(l),i)}function PE(l,i,o){const d=o.docs.get(i._key),p=new Wu(l);return new Tl(l,p,i._key,d,new eu(o.hasPendingWrites,o.fromCache),i.converter)}const OE={maxAttempts:5};class Fv{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=gf(i)}set(i,o,d){this._verifyNotCommitted();const p=Ku(i,this._firestore),_=Ef(p.converter,o,d),I=ng(this._dataReader,"WriteBatch.set",p._key,_,null!==p.converter,d);return this._mutations.push(I.toMutation(p._key,Xi.none())),this}update(i,o,d,...p){this._verifyNotCommitted();const _=Ku(i,this._firestore);let I;return I="string"==typeof(o=(0,ke.m9)(o))||o instanceof Il?wE(this._dataReader,"WriteBatch.update",_._key,o,d,p):sg(this._dataReader,"WriteBatch.update",_._key,o),this._mutations.push(I.toMutation(_._key,Xi.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=Ku(i,this._firestore);return this._mutations=this._mutations.concat(new $l(o._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ku(l,i){if((l=(0,ke.m9)(l)).firestore!==i)throw new Vt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class y_ extends class{constructor(o,d){this._firestore=o,this._transaction=d,this._dataReader=gf(o)}get(o){const d=Ku(o,this._firestore),p=new dR(this._firestore);return this._transaction.lookup([d._key]).then(_=>{if(!_||1!==_.length)return Rn();const I=_[0];if(I.isFoundDocument())return new Ys(this._firestore,p,I.key,I,d.converter);if(I.isNoDocument())return new Ys(this._firestore,p,d._key,null,d.converter);throw Rn()})}set(o,d,p){const _=Ku(o,this._firestore),I=Ef(_.converter,d,p),k=ng(this._dataReader,"Transaction.set",_._key,I,null!==_.converter,p);return this._transaction.set(_._key,k),this}update(o,d,p,..._){const I=Ku(o,this._firestore);let k;return k="string"==typeof(d=(0,ke.m9)(d))||d instanceof Il?wE(this._dataReader,"Transaction.update",I._key,d,p,_):sg(this._dataReader,"Transaction.update",I._key,d),this._transaction.update(I._key,k),this}delete(o){const d=Ku(o,this._firestore);return this._transaction.delete(d._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=Ku(i,this._firestore),d=new Wu(this._firestore);return super.get(i).then(p=>new Tl(this._firestore,d,o._key,p._document,new eu(!1,!1),o.converter))}}function Vv(l,i,o){l=Br(l,Di);const d=Object.assign(Object.assign({},OE),o);return function(_){if(_.maxAttempts<1)throw new Vt(lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(d),function(_,I,k){const F=new ls;return _.asyncQueue.enqueueAndForget((0,b.Z)(function*(){const K=yield function Xp(l){return ma(l).then(i=>i.datastore)}(_);new nb(_.asyncQueue,K,k,I,F).run()})),F.promise}(Ns(l),p=>i(new y_(l,p)),d)}function Bv(){return new rg("deleteField")}function $v(){return new ig("serverTimestamp")}function LE(...l){return new hb("arrayUnion",l)}function Sb(...l){return new Ks("arrayRemove",l)}function xb(l){return new TE("increment",l)}!function(i,o=!0){od=E.SDK_VERSION,(0,E._registerComponent)(new Ye.wA("firestore",(d,{instanceIdentifier:p,options:_})=>{const I=d.getProvider("app").getImmediate(),k=new Di(new Ro(d.getProvider("auth-internal")),new O(d.getProvider("app-check-internal")),function(K,ne){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Vt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(K.options.projectId,ne)}(I,p),I);return _=Object.assign({useFetchStreams:o},_),k._setSettings(_),k},"PUBLIC").setMultipleInstances(!0)),(0,E.registerVersion)(Hg,"4.1.3",i),(0,E.registerVersion)(Hg,"4.1.3","esm2017")}()},9058:(vn,pt,Z)=>{"use strict";Z.d(pt,{$s:()=>Nn,BH:()=>Ze,G6:()=>It,L:()=>ze,LL:()=>tt,P0:()=>ht,Pz:()=>He,Sg:()=>Le,UG:()=>Ge,US:()=>Ve,ZB:()=>ve,ZR:()=>nt,aH:()=>et,b$:()=>Ht,eu:()=>Te,hl:()=>me,jU:()=>qe,m9:()=>jr,ne:()=>Or,pd:()=>xn,q4:()=>ot,r3:()=>$e,ru:()=>ct,tV:()=>pe,uI:()=>we,vZ:()=>on,w1:()=>Rt,xO:()=>Xn,xb:()=>fn,z$:()=>Ne,zI:()=>Pe,zd:()=>zn});const _e=function(Se){const ie=[];let te=0;for(let be=0;be<Se.length;be++){let ee=Se.charCodeAt(be);ee<128?ie[te++]=ee:ee<2048?(ie[te++]=ee>>6|192,ie[te++]=63&ee|128):55296==(64512&ee)&&be+1<Se.length&&56320==(64512&Se.charCodeAt(be+1))?(ee=65536+((1023&ee)<<10)+(1023&Se.charCodeAt(++be)),ie[te++]=ee>>18|240,ie[te++]=ee>>12&63|128,ie[te++]=ee>>6&63|128,ie[te++]=63&ee|128):(ie[te++]=ee>>12|224,ie[te++]=ee>>6&63|128,ie[te++]=63&ee|128)}return ie},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,ie){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let ee=0;ee<Se.length;ee+=3){const Fe=Se[ee],_t=ee+1<Se.length,Ft=_t?Se[ee+1]:0,Dn=ee+2<Se.length,Kn=Dn?Se[ee+2]:0;let Gr=(15&Ft)<<2|Kn>>6,Mr=63&Kn;Dn||(Mr=64,_t||(Gr=64)),be.push(te[Fe>>2],te[(3&Fe)<<4|Ft>>4],te[Gr],te[Mr])}return be.join("")},encodeString(Se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(Se):this.encodeByteArray(_e(Se),ie)},decodeString(Se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(Se):function(Se){const ie=[];let te=0,be=0;for(;te<Se.length;){const ee=Se[te++];if(ee<128)ie[be++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Fe=Se[te++];ie[be++]=String.fromCharCode((31&ee)<<6|63&Fe)}else if(ee>239&&ee<365){const Dn=((7&ee)<<18|(63&Se[te++])<<12|(63&Se[te++])<<6|63&Se[te++])-65536;ie[be++]=String.fromCharCode(55296+(Dn>>10)),ie[be++]=String.fromCharCode(56320+(1023&Dn))}else{const Fe=Se[te++],_t=Se[te++];ie[be++]=String.fromCharCode((15&ee)<<12|(63&Fe)<<6|63&_t)}}return ie.join("")}(this.decodeStringToByteArray(Se,ie))},decodeStringToByteArray(Se,ie){this.init_();const te=ie?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let ee=0;ee<Se.length;){const Fe=te[Se.charAt(ee++)],Ft=ee<Se.length?te[Se.charAt(ee)]:0;++ee;const Kn=ee<Se.length?te[Se.charAt(ee)]:64;++ee;const Un=ee<Se.length?te[Se.charAt(ee)]:64;if(++ee,null==Fe||null==Ft||null==Kn||null==Un)throw new L;be.push(Fe<<2|Ft>>4),64!==Kn&&(be.push(Ft<<4&240|Kn>>2),64!==Un&&be.push(Kn<<6&192|Un))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(Se){return function(Se){const ie=_e(Se);return Ve.encodeByteArray(ie,!0)}(Se).replace(/\./g,"")},pe=function(Se){try{return Ve.decodeString(Se,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function ve(Se,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return ie}for(const te in ie)!ie.hasOwnProperty(te)||!J(te)||(Se[te]=ve(Se[te],ie[te]));return Se}function J(Se){return"__proto__"!==Se}const Ee=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=Se&&pe(Se[1]);return ie&&JSON.parse(ie)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},ot=Se=>{var ie,te;return null===(te=null===(ie=Ee())||void 0===ie?void 0:ie.emulatorHosts)||void 0===te?void 0:te[Se]},ht=Se=>{const ie=ot(Se);if(!ie)return;const te=ie.lastIndexOf(":");if(te<=0||te+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const be=parseInt(ie.substring(te+1),10);return"["===ie[0]?[ie.substring(1,te-1),be]:[ie.substring(0,te),be]},et=()=>{var Se;return null===(Se=Ee())||void 0===Se?void 0:Se.config},He=Se=>{var ie;return null===(ie=Ee())||void 0===ie?void 0:ie[`_${Se}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,te)=>{this.resolve=ie,this.reject=te})}wrapCallback(ie){return(te,be)=>{te?this.reject(te):this.resolve(be),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(te):ie(te,be))}}}function Le(Se,ie){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=ie||"demo-project",ee=Se.iat||0,Fe=Se.sub||Se.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:ee,exp:ee+3600,auth_time:ee,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(_t)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function Ge(){var Se;const ie=null===(Se=Ee())||void 0===Se?void 0:Se.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function ct(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rt(){const Se=Ne();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function It(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((Se,ie)=>{try{let te=!0;const be="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(be);ee.onsuccess=()=>{ee.result.close(),te||self.indexedDB.deleteDatabase(be),Se(!0)},ee.onupgradeneeded=()=>{te=!1},ee.onerror=()=>{var Fe;ie((null===(Fe=ee.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(te){ie(te)}})}function Pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nt extends Error{constructor(ie,te,be){super(te),this.code=ie,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(ie,te,be){this.service=ie,this.serviceName=te,this.errors=be}create(ie,...te){const be=te[0]||{},ee=`${this.service}/${ie}`,Fe=this.errors[ie],_t=Fe?function Qt(Se,ie){return Se.replace(ln,(te,be)=>{const ee=ie[be];return null!=ee?String(ee):`<${be}?>`})}(Fe,be):"Error";return new nt(ee,`${this.serviceName}: ${_t} (${ee}).`,be)}}const ln=/\{\$([^}]+)}/g;function $e(Se,ie){return Object.prototype.hasOwnProperty.call(Se,ie)}function fn(Se){for(const ie in Se)if(Object.prototype.hasOwnProperty.call(Se,ie))return!1;return!0}function on(Se,ie){if(Se===ie)return!0;const te=Object.keys(Se),be=Object.keys(ie);for(const ee of te){if(!be.includes(ee))return!1;const Fe=Se[ee],_t=ie[ee];if(Bn(Fe)&&Bn(_t)){if(!on(Fe,_t))return!1}else if(Fe!==_t)return!1}for(const ee of be)if(!te.includes(ee))return!1;return!0}function Bn(Se){return null!==Se&&"object"==typeof Se}function Xn(Se){const ie=[];for(const[te,be]of Object.entries(Se))Array.isArray(be)?be.forEach(ee=>{ie.push(encodeURIComponent(te)+"="+encodeURIComponent(ee))}):ie.push(encodeURIComponent(te)+"="+encodeURIComponent(be));return ie.length?"&"+ie.join("&"):""}function zn(Se){const ie={};return Se.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[ee,Fe]=be.split("=");ie[decodeURIComponent(ee)]=decodeURIComponent(Fe)}}),ie}function xn(Se){const ie=Se.indexOf("?");if(!ie)return"";const te=Se.indexOf("#",ie);return Se.substring(ie,te>0?te:void 0)}function Or(Se,ie){const te=new Ur(Se,ie);return te.subscribe.bind(te)}class Ur{constructor(ie,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{ie(this)}).catch(be=>{this.error(be)})}next(ie){this.forEachObserver(te=>{te.next(ie)})}error(ie){this.forEachObserver(te=>{te.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,te,be){let ee;if(void 0===ie&&void 0===te&&void 0===be)throw new Error("Missing Observer.");ee=function Ln(Se,ie){if("object"!=typeof Se||null===Se)return!1;for(const te of ie)if(te in Se&&"function"==typeof Se[te])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:te,complete:be},void 0===ee.next&&(ee.next=fr),void 0===ee.error&&(ee.error=fr),void 0===ee.complete&&(ee.complete=fr);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Fe}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,ie)}sendOne(ie,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{te(this.observers[ie])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fr(){}const Sr=1e3,gn=2,Lt=144e5,pn=.5;function Nn(Se,ie=Sr,te=gn){const be=ie*Math.pow(te,Se),ee=Math.round(pn*be*(Math.random()-.5)*2);return Math.min(Lt,be+ee)}function jr(Se){return Se&&Se._delegate?Se._delegate:Se}},1774:(vn,pt,Z)=>{"use strict";Z.d(pt,{c:()=>at});var b=Z(6225),E=Z(839);let Ye;const ke=We=>We.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ve=We=>(void 0===Ye&&(Ye=void 0===We.style.animationName&&void 0!==We.style.webkitAnimationName?"-webkit-":""),Ye),L=(We,Ee,ot)=>{const ht=Ee.startsWith("animation")?Ve(We):"";We.style.setProperty(ht+Ee,ot)},De=(We,Ee)=>{const ot=Ee.startsWith("animation")?Ve(We):"";We.style.removeProperty(ot+Ee)},de=[],je=(We=[],Ee)=>{if(void 0!==Ee){const ot=Array.isArray(Ee)?Ee:[Ee];return[...We,...ot]}return We},at=We=>{let Ee,ot,ht,et,He,Ze,qe,me,Te,Pe,Me,ln,tn,Le=[],Ne=[],we=[],Ge=!1,ct={},Ht=[],Tt=[],Rt={},Tn=0,_n=!1,It=!1,nt=!0,tt=!1,Qt=!0,it=!1;const Mn=We,Jn=[],en=[],mt=[],Ke=[],$e=[],Ut=[],fn=[],rr=[],on=[],Bn=[],$n="function"==typeof AnimationEffect||void 0!==b.w&&"function"==typeof b.w.AnimationEffect,Xn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&$n,xn=()=>Bn,Ln=(ut,Yt)=>((null!=Yt&&Yt.oneTimeCallback?en:Jn).push({c:ut,o:Yt}),tn),bt=()=>{if(Xn)Bn.forEach(ut=>{ut.cancel()}),Bn.length=0;else{const ut=mt.slice();(0,E.r)(()=>{ut.forEach(Yt=>{De(Yt,"animation-name"),De(Yt,"animation-duration"),De(Yt,"animation-timing-function"),De(Yt,"animation-iteration-count"),De(Yt,"animation-delay"),De(Yt,"animation-play-state"),De(Yt,"animation-fill-mode"),De(Yt,"animation-direction")})})}},gr=()=>{$e.forEach(ut=>{null!=ut&&ut.parentNode&&ut.parentNode.removeChild(ut)}),$e.length=0},Hn=()=>void 0!==He?He:qe?qe.getFill():"both",jr=()=>void 0!==Te?Te:void 0!==Ze?Ze:qe?qe.getDirection():"normal",Se=()=>_n?"linear":void 0!==ht?ht:qe?qe.getEasing():"linear",ie=()=>It?0:void 0!==Pe?Pe:void 0!==ot?ot:qe?qe.getDuration():0,te=()=>void 0!==et?et:qe?qe.getIterations():1,be=()=>void 0!==Me?Me:void 0!==Ee?Ee:qe?qe.getDelay():0,Ti=()=>{0!==Tn&&(Tn--,0===Tn&&((()=>{bo(),rr.forEach(Be=>Be()),on.forEach(Be=>Be());const ut=nt?1:0,Yt=Ht,X=Tt,ge=Rt;mt.forEach(Be=>{const Oe=Be.classList;Yt.forEach(ft=>Oe.add(ft)),X.forEach(ft=>Oe.remove(ft));for(const ft in ge)ge.hasOwnProperty(ft)&&L(Be,ft,ge[ft])}),Jn.forEach(Be=>Be.c(ut,tn)),en.forEach(Be=>Be.c(ut,tn)),en.length=0,Qt=!0,nt&&(tt=!0),nt=!0})(),qe&&qe.animationFinish()))},ms=(ut=!0)=>{gr();const Yt=(We=>(We.forEach(Ee=>{for(const ot in Ee)if(Ee.hasOwnProperty(ot)){const ht=Ee[ot];if("easing"===ot)Ee["animation-timing-function"]=ht,delete Ee[ot];else{const et=ke(ot);et!==ot&&(Ee[et]=ht,delete Ee[ot])}}}),We))(Le);mt.forEach(X=>{if(Yt.length>0){const ge=((We=[])=>We.map(Ee=>{const ot=Ee.offset,ht=[];for(const et in Ee)Ee.hasOwnProperty(et)&&"offset"!==et&&ht.push(`${et}: ${Ee[et]};`);return`${100*ot}% { ${ht.join(" ")} }`}).join(" "))(Yt);ln=void 0!==We?We:(We=>{let Ee=de.indexOf(We);return Ee<0&&(Ee=de.push(We)-1),`ion-animation-${Ee}`})(ge);const Be=((We,Ee,ot)=>{var ht;const et=(We=>{const Ee=void 0!==We.getRootNode?We.getRootNode():We;return Ee.head||Ee})(ot),He=Ve(ot),Ze=et.querySelector("#"+We);if(Ze)return Ze;const Le=(null!==(ht=ot.ownerDocument)&&void 0!==ht?ht:document).createElement("style");return Le.id=We,Le.textContent=`@${He}keyframes ${We} { ${Ee} } @${He}keyframes ${We}-alt { ${Ee} }`,et.appendChild(Le),Le})(ln,ge,X);$e.push(Be),L(X,"animation-duration",`${ie()}ms`),L(X,"animation-timing-function",Se()),L(X,"animation-delay",`${be()}ms`),L(X,"animation-fill-mode",Hn()),L(X,"animation-direction",jr());const Oe=te()===1/0?"infinite":te().toString();L(X,"animation-iteration-count",Oe),L(X,"animation-play-state","paused"),ut&&L(X,"animation-name",`${Be.id}-alt`),(0,E.r)(()=>{L(X,"animation-name",Be.id||null)})}})},Ri=(ut=!0)=>{(()=>{Ut.forEach(ge=>ge()),fn.forEach(ge=>ge());const ut=Ne,Yt=we,X=ct;mt.forEach(ge=>{const Be=ge.classList;ut.forEach(Oe=>Be.add(Oe)),Yt.forEach(Oe=>Be.remove(Oe));for(const Oe in X)X.hasOwnProperty(Oe)&&L(ge,Oe,X[Oe])})})(),Le.length>0&&(Xn?(mt.forEach(ut=>{const Yt=ut.animate(Le,{id:Mn,delay:be(),duration:ie(),easing:Se(),iterations:te(),fill:Hn(),direction:jr()});Yt.pause(),Bn.push(Yt)}),Bn.length>0&&(Bn[0].onfinish=()=>{Ti()})):ms(ut)),Ge=!0},mi=ut=>{if(ut=Math.min(Math.max(ut,0),.9999),Xn)Bn.forEach(Yt=>{Yt.currentTime=Yt.effect.getComputedTiming().delay+ie()*ut,Yt.pause()});else{const Yt=`-${ie()*ut}ms`;mt.forEach(X=>{Le.length>0&&(L(X,"animation-delay",Yt),L(X,"animation-play-state","paused"))})}},Fs=ut=>{Bn.forEach(Yt=>{Yt.effect.updateTiming({delay:be(),duration:ie(),easing:Se(),iterations:te(),fill:Hn(),direction:jr()})}),void 0!==ut&&mi(ut)},ri=(ut=!0,Yt)=>{(0,E.r)(()=>{mt.forEach(X=>{L(X,"animation-name",ln||null),L(X,"animation-duration",`${ie()}ms`),L(X,"animation-timing-function",Se()),L(X,"animation-delay",void 0!==Yt?`-${Yt*ie()}ms`:`${be()}ms`),L(X,"animation-fill-mode",Hn()||null),L(X,"animation-direction",jr()||null);const ge=te()===1/0?"infinite":te().toString();L(X,"animation-iteration-count",ge),ut&&L(X,"animation-name",`${ln}-alt`),(0,E.r)(()=>{L(X,"animation-name",ln||null)})})})},wi=(ut=!1,Yt=!0,X)=>(ut&&Ke.forEach(ge=>{ge.update(ut,Yt,X)}),Xn?Fs(X):ri(Yt,X),tn),ns=()=>{Ge&&(Xn?Bn.forEach(ut=>{ut.pause()}):mt.forEach(ut=>{L(ut,"animation-play-state","paused")}),it=!0)},yr=()=>{me=void 0,Ti()},bo=()=>{me&&clearTimeout(me)},Ds=ut=>new Promise(Yt=>{null!=ut&&ut.sync&&(It=!0,Ln(()=>It=!1,{oneTimeCallback:!0})),Ge||Ri(),tt&&(Xn?(mi(0),Fs()):ri(),tt=!1),Qt&&(Tn=Ke.length+1,Qt=!1),Ln(()=>Yt(),{oneTimeCallback:!0}),Ke.forEach(X=>{X.play()}),Xn?(Bn.forEach(ut=>{ut.play()}),(0===Le.length||0===mt.length)&&Ti()):(()=>{if(bo(),(0,E.r)(()=>{mt.forEach(ut=>{Le.length>0&&L(ut,"animation-play-state","running")})}),0===Le.length||0===mt.length)Ti();else{const ut=be()||0,Yt=ie()||0,X=te()||1;isFinite(X)&&(me=setTimeout(yr,ut+Yt*X+100)),((We,Ee)=>{let ot;const ht={passive:!0},He=Ze=>{We===Ze.target&&(ot&&ot(),bo(),(0,E.r)(()=>{mt.forEach(ut=>{De(ut,"animation-duration"),De(ut,"animation-delay"),De(ut,"animation-play-state")}),(0,E.r)(Ti)}))};We&&(We.addEventListener("webkitAnimationEnd",He,ht),We.addEventListener("animationend",He,ht),ot=()=>{We.removeEventListener("webkitAnimationEnd",He,ht),We.removeEventListener("animationend",He,ht)})})(mt[0])}})(),it=!1}),Hi=(ut,Yt)=>{const X=Le[0];return void 0===X||void 0!==X.offset&&0!==X.offset?Le=[{offset:0,[ut]:Yt},...Le]:X[ut]=Yt,tn};return tn={parentAnimation:qe,elements:mt,childAnimations:Ke,id:Mn,animationFinish:Ti,from:Hi,to:(ut,Yt)=>{const X=Le[Le.length-1];return void 0===X||void 0!==X.offset&&1!==X.offset?Le=[...Le,{offset:1,[ut]:Yt}]:X[ut]=Yt,tn},fromTo:(ut,Yt,X)=>Hi(ut,Yt).to(ut,X),parent:ut=>(qe=ut,tn),play:Ds,pause:()=>(Ke.forEach(ut=>{ut.pause()}),ns(),tn),stop:()=>{Ke.forEach(ut=>{ut.stop()}),Ge&&(bt(),Ge=!1),_n=!1,It=!1,Qt=!0,Te=void 0,Pe=void 0,Me=void 0,Tn=0,tt=!1,nt=!0,it=!1},destroy:ut=>(Ke.forEach(Yt=>{Yt.destroy(ut)}),(ut=>{bt(),ut&&gr()})(ut),mt.length=0,Ke.length=0,Le.length=0,Jn.length=0,en.length=0,Ge=!1,Qt=!0,tn),keyframes:ut=>{const Yt=Le!==ut;return Le=ut,Yt&&(ut=>{Xn?xn().forEach(Yt=>{if(Yt.effect.setKeyframes)Yt.effect.setKeyframes(ut);else{const X=new KeyframeEffect(Yt.effect.target,ut,Yt.effect.getTiming());Yt.effect=X}}):ms()})(Le),tn},addAnimation:ut=>{if(null!=ut)if(Array.isArray(ut))for(const Yt of ut)Yt.parent(tn),Ke.push(Yt);else ut.parent(tn),Ke.push(ut);return tn},addElement:ut=>{if(null!=ut)if(1===ut.nodeType)mt.push(ut);else if(ut.length>=0)for(let Yt=0;Yt<ut.length;Yt++)mt.push(ut[Yt]);else console.error("Invalid addElement value");return tn},update:wi,fill:ut=>(He=ut,wi(!0),tn),direction:ut=>(Ze=ut,wi(!0),tn),iterations:ut=>(et=ut,wi(!0),tn),duration:ut=>(!Xn&&0===ut&&(ut=1),ot=ut,wi(!0),tn),easing:ut=>(ht=ut,wi(!0),tn),delay:ut=>(Ee=ut,wi(!0),tn),getWebAnimations:xn,getKeyframes:()=>Le,getFill:Hn,getDirection:jr,getDelay:be,getIterations:te,getEasing:Se,getDuration:ie,afterAddRead:ut=>(rr.push(ut),tn),afterAddWrite:ut=>(on.push(ut),tn),afterClearStyles:(ut=[])=>{for(const Yt of ut)Rt[Yt]="";return tn},afterStyles:(ut={})=>(Rt=ut,tn),afterRemoveClass:ut=>(Tt=je(Tt,ut),tn),afterAddClass:ut=>(Ht=je(Ht,ut),tn),beforeAddRead:ut=>(Ut.push(ut),tn),beforeAddWrite:ut=>(fn.push(ut),tn),beforeClearStyles:(ut=[])=>{for(const Yt of ut)ct[Yt]="";return tn},beforeStyles:(ut={})=>(ct=ut,tn),beforeRemoveClass:ut=>(we=je(we,ut),tn),beforeAddClass:ut=>(Ne=je(Ne,ut),tn),onFinish:Ln,isRunning:()=>0!==Tn&&!it,progressStart:(ut=!1,Yt)=>(Ke.forEach(X=>{X.progressStart(ut,Yt)}),ns(),_n=ut,Ge||Ri(),wi(!1,!0,Yt),tn),progressStep:ut=>(Ke.forEach(Yt=>{Yt.progressStep(ut)}),mi(ut),tn),progressEnd:(ut,Yt,X)=>(_n=!1,Ke.forEach(ge=>{ge.progressEnd(ut,Yt,X)}),void 0!==X&&(Pe=X),tt=!1,nt=!0,0===ut?(Te="reverse"===jr()?"normal":"reverse","reverse"===Te&&(nt=!1),Xn?(wi(),mi(1-Yt)):(Me=(1-Yt)*ie()*-1,wi(!1,!1))):1===ut&&(Xn?(wi(),mi(Yt)):(Me=Yt*ie()*-1,wi(!1,!1))),void 0!==ut&&(Ln(()=>{Pe=void 0,Te=void 0,Me=void 0},{oneTimeCallback:!0}),qe||Ds()),tn)}}},3365:(vn,pt,Z)=>{"use strict";Z.d(pt,{E:()=>pe,a:()=>b,s:()=>De});const b=de=>{try{if(de instanceof L)return de.value;if(!_e()||"string"!=typeof de||""===de)return de;if(de.includes("onload="))return"";const ve=document.createDocumentFragment(),J=document.createElement("div");ve.appendChild(J),J.innerHTML=de,Ve.forEach(We=>{const Ee=ve.querySelectorAll(We);for(let ot=Ee.length-1;ot>=0;ot--){const ht=Ee[ot];ht.parentNode?ht.parentNode.removeChild(ht):ve.removeChild(ht);const et=Ye(ht);for(let He=0;He<et.length;He++)E(et[He])}});const Re=Ye(ve);for(let We=0;We<Re.length;We++)E(Re[We]);const je=document.createElement("div");je.appendChild(ve);const at=je.querySelector("div");return null!==at?at.innerHTML:je.innerHTML}catch(ve){return console.error(ve),""}},E=de=>{if(de.nodeType&&1!==de.nodeType)return;if(typeof NamedNodeMap<"u"&&!(de.attributes instanceof NamedNodeMap))return void de.remove();for(let J=de.attributes.length-1;J>=0;J--){const Re=de.attributes.item(J),je=Re.name;if(!ke.includes(je.toLowerCase())){de.removeAttribute(je);continue}const at=Re.value,We=de[je];(null!=at&&at.toLowerCase().includes("javascript:")||null!=We&&We.toLowerCase().includes("javascript:"))&&de.removeAttribute(je)}const ve=Ye(de);for(let J=0;J<ve.length;J++)E(ve[J])},Ye=de=>null!=de.children?de.children:de.childNodes,_e=()=>{var de;const ve=window,J=null===(de=null==ve?void 0:ve.Ionic)||void 0===de?void 0:de.config;return!J||(J.get?J.get("sanitizerEnabled",!0):!0===J.sanitizerEnabled||void 0===J.sanitizerEnabled)},ke=["class","id","href","src","name","slot"],Ve=["script","style","iframe","meta","link","object","embed"];class L{constructor(ve){this.value=ve}}const De=de=>{const ve=window,J=ve.Ionic;if(!J||!J.config||"Object"===J.config.constructor.name)return ve.Ionic=ve.Ionic||{},ve.Ionic.config=Object.assign(Object.assign({},ve.Ionic.config),de),ve.Ionic.config},pe=!1},6559:(vn,pt,Z)=>{"use strict";Z.d(pt,{C:()=>Ve,a:()=>_e,d:()=>ke});var Ye,b=Z(5861),E=Z(839);const _e=function(De,ze,pe,de,ve,J){return(Ye=Ye||(0,b.Z)(function*(Re,je,at,We,Ee,ot){var ht;if(Re)return Re.attachViewToDom(je,at,Ee,We);if(!(ot||"string"==typeof at||at instanceof HTMLElement))throw new Error("framework delegate is missing");const et="string"==typeof at?null===(ht=je.ownerDocument)||void 0===ht?void 0:ht.createElement(at):at;return We&&We.forEach(He=>et.classList.add(He)),Ee&&Object.assign(et,Ee),je.appendChild(et),yield new Promise(He=>(0,E.c)(et,He)),et})).apply(this,arguments)},ke=(L,De)=>{if(De){if(L)return L.removeViewFromDom(De.parentElement,De);De.remove()}return Promise.resolve()},Ve=()=>{var L;let De,ze;return{attachViewToDom:function(J,Re){return(L=L||(0,b.Z)(function*(je,at,We={},Ee=[]){var ot,ht;let et;if(De=je,at){const Ze="string"==typeof at?null===(ot=De.ownerDocument)||void 0===ot?void 0:ot.createElement(at):at;Ee.forEach(Le=>Ze.classList.add(Le)),Object.assign(Ze,We),De.appendChild(Ze),et=Ze,yield new Promise(Le=>(0,E.c)(Ze,Le))}else if(De.children.length>0&&("ION-MODAL"===De.tagName||"ION-POPOVER"===De.tagName)&&!(et=De.children[0]).classList.contains("ion-delegate-host")){const Le=null===(ht=De.ownerDocument)||void 0===ht?void 0:ht.createElement("div");Le.classList.add("ion-delegate-host"),Ee.forEach(Ne=>Le.classList.add(Ne)),Le.append(...De.children),De.appendChild(Le),et=Le}const He=document.querySelector("ion-app")||document.body;return ze=document.createComment("ionic teleport"),De.parentNode.insertBefore(ze,De),He.appendChild(De),null!=et?et:De})).apply(this,arguments)},removeViewFromDom:()=>(De&&ze&&(ze.parentNode.insertBefore(De,ze),ze.remove()),Promise.resolve())}}},619:(vn,pt,Z)=>{"use strict";Z.d(pt,{G:()=>ke});class E{constructor(L,De,ze,pe,de){this.id=De,this.name=ze,this.disableScroll=de,this.priority=1e6*pe+De,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Ye{constructor(L,De,ze,pe){this.id=De,this.disable=ze,this.disableScroll=pe,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",ke=new class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var De;return new E(this,this.newID(),L.name,null!==(De=L.priority)&&void 0!==De?De:0,!!L.disableScroll)}createBlocker(L={}){return new Ye(this,this.newID(),L.disable,!!L.disableScroll)}start(L,De,ze){return this.canStart(L)?(this.requestedStart.set(De,ze),!0):(this.requestedStart.delete(De),!1)}capture(L,De,ze){if(!this.start(L,De,ze))return!1;const pe=this.requestedStart;let de=-1e4;if(pe.forEach(ve=>{de=Math.max(de,ve)}),de===ze){this.capturedId=De,pe.clear();const ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(ve),!0}return pe.delete(De),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,De){let ze=this.disabledGestures.get(L);void 0===ze&&(ze=new Set,this.disabledGestures.set(L,ze)),ze.add(De)}enableGesture(L,De){const ze=this.disabledGestures.get(L);void 0!==ze&&ze.delete(De)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const De=this.disabledGestures.get(L);return!!(De&&De.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(vn,pt,Z)=>{"use strict";Z.r(pt),Z.d(pt,{MENU_BACK_BUTTON_PRIORITY:()=>ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>_e,blockHardwareBackButton:()=>E,startHardwareBackButton:()=>Ye});var b=Z(5861);const E=()=>{document.addEventListener("backbutton",()=>{})},Ye=()=>{const Ve=document;let L=!1;Ve.addEventListener("backbutton",()=>{var De;if(L)return;let ze=0,pe=[];const de=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Re,je){pe.push({priority:Re,handler:je,id:ze++})}}});Ve.dispatchEvent(de);const J=()=>{if(pe.length>0){let Re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pe.forEach(je=>{je.priority>=Re.priority&&(Re=je)}),L=!0,pe=pe.filter(je=>je.id!==Re.id),function(je){return(De=De||(0,b.Z)(function*(at){try{if(null!=at&&at.handler){const We=at.handler(J);null!=We&&(yield We)}}catch(We){console.error(We)}})).apply(this,arguments)}(Re).then(()=>L=!1)}};J()})},_e=100,ke=99},839:(vn,pt,Z)=>{"use strict";Z.d(pt,{a:()=>De,b:()=>ze,c:()=>Ye,d:()=>at,e:()=>je,f:()=>Re,g:()=>pe,h:()=>J,i:()=>L,j:()=>He,k:()=>ke,l:()=>We,m:()=>_e,n:()=>ve,o:()=>Ee,p:()=>et,q:()=>Ze,r:()=>de,s:()=>Le,t:()=>b,u:()=>ot,v:()=>ht});const b=(Ne,we=0)=>new Promise(Ge=>{E(Ne,we,Ge)}),E=(Ne,we=0,Ge)=>{let qe,ct;const Ht={passive:!0},Rt=()=>{qe&&qe()},Tn=_n=>{(void 0===_n||Ne===_n.target)&&(Rt(),Ge(_n))};return Ne&&(Ne.addEventListener("webkitTransitionEnd",Tn,Ht),Ne.addEventListener("transitionend",Tn,Ht),ct=setTimeout(Tn,we+500),qe=()=>{ct&&(clearTimeout(ct),ct=void 0),Ne.removeEventListener("webkitTransitionEnd",Tn,Ht),Ne.removeEventListener("transitionend",Tn,Ht)}),Rt},Ye=(Ne,we)=>{Ne.componentOnReady?Ne.componentOnReady().then(Ge=>we(Ge)):de(()=>we(Ne))},_e=Ne=>void 0!==Ne.componentOnReady,ke=(Ne,we=[])=>{const Ge={};return we.forEach(qe=>{Ne.hasAttribute(qe)&&(null!==Ne.getAttribute(qe)&&(Ge[qe]=Ne.getAttribute(qe)),Ne.removeAttribute(qe))}),Ge},Ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],L=(Ne,we)=>{let Ge=Ve;return we&&we.length>0&&(Ge=Ge.filter(qe=>!we.includes(qe))),ke(Ne,Ge)},De=(Ne,we,Ge,qe)=>{var ct;if(typeof window<"u"){const Ht=window,Tt=null===(ct=null==Ht?void 0:Ht.Ionic)||void 0===ct?void 0:ct.config;if(Tt){const Rt=Tt.get("_ael");if(Rt)return Rt(Ne,we,Ge,qe);if(Tt._ael)return Tt._ael(Ne,we,Ge,qe)}}return Ne.addEventListener(we,Ge,qe)},ze=(Ne,we,Ge,qe)=>{var ct;if(typeof window<"u"){const Ht=window,Tt=null===(ct=null==Ht?void 0:Ht.Ionic)||void 0===ct?void 0:ct.config;if(Tt){const Rt=Tt.get("_rel");if(Rt)return Rt(Ne,we,Ge,qe);if(Tt._rel)return Tt._rel(Ne,we,Ge,qe)}}return Ne.removeEventListener(we,Ge,qe)},pe=(Ne,we=Ne)=>Ne.shadowRoot||we,de=Ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne),ve=Ne=>!!Ne.shadowRoot&&!!Ne.attachShadow,J=Ne=>{const we=Ne.closest("ion-item");return we?we.querySelector("ion-label"):null},Re=Ne=>{if(Ne.focus(),Ne.classList.contains("ion-focusable")){const we=Ne.closest("ion-app");we&&we.setFocus([Ne])}},je=(Ne,we)=>{let Ge;const qe=Ne.getAttribute("aria-labelledby"),ct=Ne.id;let Ht=null!==qe&&""!==qe.trim()?qe:we+"-lbl",Tt=null!==qe&&""!==qe.trim()?document.getElementById(qe):J(Ne);return Tt?(null===qe&&(Tt.id=Ht),Ge=Tt.textContent,Tt.setAttribute("aria-hidden","true")):""!==ct.trim()&&(Tt=document.querySelector(`label[for="${ct}"]`),Tt&&(""!==Tt.id?Ht=Tt.id:Tt.id=Ht=`${ct}-lbl`,Ge=Tt.textContent)),{label:Tt,labelId:Ht,labelText:Ge}},at=(Ne,we,Ge,qe,ct)=>{if(Ne||ve(we)){let Ht=we.querySelector("input.aux-input");Ht||(Ht=we.ownerDocument.createElement("input"),Ht.type="hidden",Ht.classList.add("aux-input"),we.appendChild(Ht)),Ht.disabled=ct,Ht.name=Ge,Ht.value=qe||""}},We=(Ne,we,Ge)=>Math.max(Ne,Math.min(we,Ge)),Ee=(Ne,we)=>{if(!Ne){const Ge="ASSERT: "+we;throw console.error(Ge),new Error(Ge)}},ot=Ne=>Ne.timeStamp||Date.now(),ht=Ne=>{if(Ne){const we=Ne.changedTouches;if(we&&we.length>0){const Ge=we[0];return{x:Ge.clientX,y:Ge.clientY}}if(void 0!==Ne.pageX)return{x:Ne.pageX,y:Ne.pageY}}return{x:0,y:0}},et=Ne=>{const we="rtl"===document.dir;switch(Ne){case"start":return we;case"end":return!we;default:throw new Error(`"${Ne}" is not a valid value for [side]. Use "start" or "end" instead.`)}},He=(Ne,we)=>{const Ge=Ne._original||Ne;return{_original:Ne,emit:Ze(Ge.emit.bind(Ge),we)}},Ze=(Ne,we=0)=>{let Ge;return(...qe)=>{clearTimeout(Ge),Ge=setTimeout(Ne,we,...qe)}},Le=(Ne,we)=>{if(null!=Ne||(Ne={}),null!=we||(we={}),Ne===we)return!0;const Ge=Object.keys(Ne);if(Ge.length!==Object.keys(we).length)return!1;for(const qe of Ge)if(!(qe in we)||Ne[qe]!==we[qe])return!1;return!0}},12:(vn,pt,Z)=>{"use strict";Z.d(pt,{L:()=>de,a:()=>ve,b:()=>J,c:()=>Re,d:()=>je,e:()=>Rt,g:()=>It,l:()=>Ht,s:()=>Tn,t:()=>Ee,w:()=>Tt});var _e,ke,Ve,L,De,ze,pe,b=Z(5861),E=Z(8423),Ye=Z(839);const de="ionViewWillEnter",ve="ionViewDidEnter",J="ionViewWillLeave",Re="ionViewDidLeave",je="ionViewWillUnload",Ee=me=>new Promise((Te,Pe)=>{(0,E.w)(()=>{ot(me),ht(me).then(Me=>{Me.animation&&Me.animation.destroy(),et(me),Te(Me)},Me=>{et(me),Pe(Me)})})}),ot=me=>{const Te=me.enteringEl,Pe=me.leavingEl;_n(Te,Pe,me.direction),me.showGoBack?Te.classList.add("can-go-back"):Te.classList.remove("can-go-back"),Tn(Te,!1),Te.style.setProperty("pointer-events","none"),Pe&&(Tn(Pe,!1),Pe.style.setProperty("pointer-events","none"))},ht=function(Te){return(_e=_e||(0,b.Z)(function*(Pe){const Me=yield He(Pe);return Me&&E.B.isBrowser?Ze(Me,Pe):Le(Pe)})).apply(this,arguments)},et=me=>{const Te=me.enteringEl,Pe=me.leavingEl;Te.classList.remove("ion-page-invisible"),Te.style.removeProperty("pointer-events"),void 0!==Pe&&(Pe.classList.remove("ion-page-invisible"),Pe.style.removeProperty("pointer-events"))},He=function(Te){return(ke=ke||(0,b.Z)(function*(Pe){return Pe.leavingEl&&Pe.animated&&0!==Pe.duration?Pe.animationBuilder?Pe.animationBuilder:"ios"===Pe.mode?(yield Promise.resolve().then(Z.bind(Z,5812))).iosTransitionAnimation:(yield Promise.resolve().then(Z.bind(Z,7202))).mdTransitionAnimation:void 0})).apply(this,arguments)},Ze=function(Te,Pe){return(Ve=Ve||(0,b.Z)(function*(Me,nt){yield Ne(nt,!0);const tt=Me(nt.baseEl,nt);qe(nt.enteringEl,nt.leavingEl);const Qt=yield Ge(tt,nt);return nt.progressCallback&&nt.progressCallback(void 0),Qt&&ct(nt.enteringEl,nt.leavingEl),{hasCompleted:Qt,animation:tt}})).apply(this,arguments)},Le=function(Te){return(L=L||(0,b.Z)(function*(Pe){const Me=Pe.enteringEl,nt=Pe.leavingEl;return yield Ne(Pe,!1),qe(Me,nt),ct(Me,nt),{hasCompleted:!0}})).apply(this,arguments)},Ne=function(Te,Pe){return(De=De||(0,b.Z)(function*(Me,nt){(void 0!==Me.deepWait?Me.deepWait:nt)&&(yield Promise.all([Rt(Me.enteringEl),Rt(Me.leavingEl)])),yield we(Me.viewIsReady,Me.enteringEl)})).apply(this,arguments)},we=function(Te,Pe){return(ze=ze||(0,b.Z)(function*(Me,nt){Me&&(yield Me(nt))})).apply(this,arguments)},Ge=(me,Te)=>{const Pe=Te.progressCallback,Me=new Promise(nt=>{me.onFinish(tt=>nt(1===tt))});return Pe?(me.progressStart(!0),Pe(me)):me.play(),Me},qe=(me,Te)=>{Ht(Te,J),Ht(me,de)},ct=(me,Te)=>{Ht(me,ve),Ht(Te,Re)},Ht=(me,Te)=>{if(me){const Pe=new CustomEvent(Te,{bubbles:!1,cancelable:!1});me.dispatchEvent(Pe)}},Tt=()=>new Promise(me=>(0,Ye.r)(()=>(0,Ye.r)(()=>me()))),Rt=function me(Te){return(pe=pe||(0,b.Z)(function*(Pe){const Me=Pe;if(Me){if(null!=Me.componentOnReady){if(null!=(yield Me.componentOnReady()))return}else if(null!=Me.__registerHost)return void(yield new Promise(tt=>(0,Ye.r)(tt)));yield Promise.all(Array.from(Me.children).map(me))}})).apply(this,arguments)},Tn=(me,Te)=>{Te?(me.setAttribute("aria-hidden","true"),me.classList.add("ion-page-hidden")):(me.hidden=!1,me.removeAttribute("aria-hidden"),me.classList.remove("ion-page-hidden"))},_n=(me,Te,Pe)=>{void 0!==me&&(me.style.zIndex="back"===Pe?"99":"101"),void 0!==Te&&(Te.style.zIndex="100")},It=me=>me.classList.contains("ion-page")?me:me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||me},3029:(vn,pt,Z)=>{"use strict";Z.d(pt,{m:()=>de});var b=Z(5861),E=Z(2124),Ye=Z(839),_e=Z(2560),ke=Z(1774);const Ve=ve=>(0,ke.c)().duration(ve?400:300),L=ve=>{let J,Re;const je=ve.width+8,at=(0,ke.c)(),We=(0,ke.c)();ve.isEndSide?(J=je+"px",Re="0px"):(J=-je+"px",Re="0px"),at.addElement(ve.menuInnerEl).fromTo("transform",`translateX(${J})`,`translateX(${Re})`);const ot="ios"===(0,_e.b)(ve),ht=ot?.2:.25;return We.addElement(ve.backdropEl).fromTo("opacity",.01,ht),Ve(ot).addAnimation([at,We])},De=ve=>{let J,Re;const je=(0,_e.b)(ve),at=ve.width;ve.isEndSide?(J=-at+"px",Re=at+"px"):(J=at+"px",Re=-at+"px");const We=(0,ke.c)().addElement(ve.menuInnerEl).fromTo("transform",`translateX(${Re})`,"translateX(0px)"),Ee=(0,ke.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${J})`),ot=(0,ke.c)().addElement(ve.backdropEl).fromTo("opacity",.01,.32);return Ve("ios"===je).addAnimation([We,Ee,ot])},ze=ve=>{const J=(0,_e.b)(ve),Re=ve.width*(ve.isEndSide?-1:1)+"px",je=(0,ke.c)().addElement(ve.contentEl).fromTo("transform","translateX(0px)",`translateX(${Re})`);return Ve("ios"===J).addAnimation(je)},de=(()=>{var ve,J,Re,je,at,We,Ee,ot,ht,et,He,Ze;const Le=new Map,Ne=[],Tn=function(mt){return(ot=ot||(0,b.Z)(function*(Ke){return yield Jn(),"start"===Ke||"end"===Ke?Mn(fn=>fn.side===Ke&&!fn.disabled)||Mn(fn=>fn.side===Ke):null!=Ke?Mn(Ut=>Ut.menuId===Ke):Mn(Ut=>!Ut.disabled)||(Ne.length>0?Ne[0].el:void 0)})).apply(this,arguments)},_n=function(){return(ht=ht||(0,b.Z)(function*(){return yield Jn(),ln()})).apply(this,arguments)},Te=(en,mt)=>{Le.set(en,mt)},nt=en=>{const mt=en.side;Ne.filter(Ke=>Ke.side===mt&&Ke!==en).forEach(Ke=>Ke.disabled=!0)},ln=()=>Mn(en=>en._isOpen),it=()=>Ne.some(en=>en.isAnimating),Mn=en=>{const mt=Ne.find(en);if(void 0!==mt)return mt.el},Jn=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(en=>new Promise(mt=>(0,Ye.c)(en,mt))));return Te("reveal",ze),Te("push",De),Te("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",en=>{const mt=ln();mt&&en.detail.register(E.MENU_BACK_BUTTON_PRIORITY,()=>mt.close())}),{registerAnimation:Te,get:Tn,getMenus:function(){return(et=et||(0,b.Z)(function*(){return yield Jn(),Ne.map(en=>en.el)})).apply(this,arguments)},getOpen:_n,isEnabled:function(mt){return(Ee=Ee||(0,b.Z)(function*(Ke){const $e=yield Tn(Ke);return!!$e&&!$e.disabled})).apply(this,arguments)},swipeGesture:function(mt,Ke){return(at=at||(0,b.Z)(function*($e,Ut){const fn=yield Tn(Ut);return fn&&(fn.swipeGesture=$e),fn})).apply(this,arguments)},isAnimating:function(){return(He=He||(0,b.Z)(function*(){return yield Jn(),it()})).apply(this,arguments)},isOpen:function(mt){return(We=We||(0,b.Z)(function*(Ke){if(null!=Ke){const $e=yield Tn(Ke);return void 0!==$e&&$e.isOpen()}return void 0!==(yield _n())})).apply(this,arguments)},enable:function(mt,Ke){return(je=je||(0,b.Z)(function*($e,Ut){const fn=yield Tn(Ut);return fn&&(fn.disabled=!$e),fn})).apply(this,arguments)},toggle:function(mt){return(Re=Re||(0,b.Z)(function*(Ke){const $e=yield Tn(Ke);return!!$e&&$e.toggle()})).apply(this,arguments)},close:function(mt){return(J=J||(0,b.Z)(function*(Ke){const $e=yield void 0!==Ke?Tn(Ke):_n();return void 0!==$e&&$e.close()})).apply(this,arguments)},open:function(mt){return(ve=ve||(0,b.Z)(function*(Ke){const $e=yield Tn(Ke);return!!$e&&$e.open()})).apply(this,arguments)},_getOpenSync:ln,_createAnimation:(en,mt)=>{const Ke=Le.get(en);if(!Ke)throw new Error("animation not registered");return Ke(mt)},_register:en=>{Ne.indexOf(en)<0&&(en.disabled||nt(en),Ne.push(en))},_unregister:en=>{const mt=Ne.indexOf(en);mt>-1&&Ne.splice(mt,1)},_setOpen:function(mt,Ke,$e){return(Ze=Ze||(0,b.Z)(function*(Ut,fn,rr){if(it())return!1;if(fn){const on=yield _n();on&&Ut.el!==on&&(yield on.setOpen(!1,!1))}return Ut._setOpen(fn,rr)})).apply(this,arguments)},_setActiveMenu:nt}})()},6710:(vn,pt,Z)=>{"use strict";Z.d(pt,{a:()=>E,b:()=>Ye,p:()=>b});const b=(_e,...ke)=>console.warn(`[Ionic Warning]: ${_e}`,...ke),E=(_e,...ke)=>console.error(`[Ionic Error]: ${_e}`,...ke),Ye=(_e,...ke)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${ke.join(" or ")}.`)},6225:(vn,pt,Z)=>{"use strict";Z.d(pt,{d:()=>E,w:()=>b});const b=typeof window<"u"?window:void 0,E=typeof document<"u"?document:void 0},8423:(vn,pt,Z)=>{"use strict";Z.d(pt,{B:()=>Re,H:()=>It,a:()=>bo,b:()=>Mr,c:()=>tn,d:()=>en,e:()=>ut,f:()=>Jn,g:()=>it,h:()=>Tn,i:()=>Se,j:()=>je,r:()=>Ri,w:()=>Yt});var E,Ye,_e,b=Z(5861);let Ve,L,De,ze=!1,pe=!1,de=!1,ve=!1,J=!1;const Re={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},je=X=>{const ge=new URL(X,yr.$resourcesUrl$);return ge.origin!==ns.location.origin?ge.href:ge.pathname},He="s-id",Ze="sty-id",we="http://www.w3.org/1999/xlink",Ge={},Tt=X=>"object"==(X=typeof X)||"function"===X;function Rt(X){var ge,Be,Oe;return null!==(Oe=null===(Be=null===(ge=X.head)||void 0===ge?void 0:ge.querySelector('meta[name="csp-nonce"]'))||void 0===Be?void 0:Be.getAttribute("content"))&&void 0!==Oe?Oe:void 0}const Tn=(X,ge,...Be)=>{let Oe=null,ft=null,dt=null,Pt=!1,Mt=!1;const St=[],$t=Sn=>{for(let Fn=0;Fn<Sn.length;Fn++)Oe=Sn[Fn],Array.isArray(Oe)?$t(Oe):null!=Oe&&"boolean"!=typeof Oe&&((Pt="function"!=typeof X&&!Tt(Oe))&&(Oe=String(Oe)),Pt&&Mt?St[St.length-1].$text$+=Oe:St.push(Pt?_n(null,Oe):Oe),Mt=Pt)};if($t(Be),ge){ge.key&&(ft=ge.key),ge.name&&(dt=ge.name);{const Sn=ge.className||ge.class;Sn&&(ge.class="object"!=typeof Sn?Sn:Object.keys(Sn).filter(Fn=>Sn[Fn]).join(" "))}}if("function"==typeof X)return X(null===ge?{}:ge,St,Te);const an=_n(X,null);return an.$attrs$=ge,St.length>0&&(an.$children$=St),an.$key$=ft,an.$name$=dt,an},_n=(X,ge)=>({$flags$:0,$tag$:X,$text$:ge,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),It={},Te={forEach:(X,ge)=>X.map(Pe).forEach(ge),map:(X,ge)=>X.map(Pe).map(ge).map(Me)},Pe=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),Me=X=>{if("function"==typeof X.vtag){const Be=Object.assign({},X.vattrs);return X.vkey&&(Be.key=X.vkey),X.vname&&(Be.name=X.vname),Tn(X.vtag,Be,...X.vchildren||[])}const ge=_n(X.vtag,X.vtext);return ge.$attrs$=X.vattrs,ge.$children$=X.vchildren,ge.$key$=X.vkey,ge.$name$=X.vname,ge},tt=(X,ge,Be,Oe,ft,dt,Pt)=>{let Mt,St,$t,an;if(1===dt.nodeType){for(Mt=dt.getAttribute("c-id"),Mt&&(St=Mt.split("."),(St[0]===Pt||"0"===St[0])&&($t={$flags$:0,$hostId$:St[0],$nodeId$:St[1],$depth$:St[2],$index$:St[3],$tag$:dt.tagName.toLowerCase(),$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ge.push($t),dt.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[$t.$index$]=$t,X=$t,Oe&&"0"===$t.$depth$&&(Oe[$t.$index$]=$t.$elm$))),an=dt.childNodes.length-1;an>=0;an--)tt(X,ge,Be,Oe,ft,dt.childNodes[an],Pt);if(dt.shadowRoot)for(an=dt.shadowRoot.childNodes.length-1;an>=0;an--)tt(X,ge,Be,Oe,ft,dt.shadowRoot.childNodes[an],Pt)}else if(8===dt.nodeType)St=dt.nodeValue.split("."),(St[1]===Pt||"0"===St[1])&&(Mt=St[0],$t={$flags$:0,$hostId$:St[1],$nodeId$:St[2],$depth$:St[3],$index$:St[4],$elm$:dt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Mt?($t.$elm$=dt.nextSibling,$t.$elm$&&3===$t.$elm$.nodeType&&($t.$text$=$t.$elm$.textContent,ge.push($t),dt.remove(),X.$children$||(X.$children$=[]),X.$children$[$t.$index$]=$t,Oe&&"0"===$t.$depth$&&(Oe[$t.$index$]=$t.$elm$))):$t.$hostId$===Pt&&("s"===Mt?($t.$tag$="slot",dt["s-sn"]=St[5]?$t.$name$=St[5]:"",dt["s-sr"]=!0,Oe&&($t.$elm$=kr.createElement($t.$tag$),$t.$name$&&$t.$elm$.setAttribute("name",$t.$name$),dt.parentNode.insertBefore($t.$elm$,dt),dt.remove(),"0"===$t.$depth$&&(Oe[$t.$index$]=$t.$elm$)),Be.push($t),X.$children$||(X.$children$=[]),X.$children$[$t.$index$]=$t):"r"===Mt&&(Oe?dt.remove():(ft["s-cr"]=dt,dt["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const Sn=_n(null,dt.textContent);Sn.$elm$=dt,Sn.$index$="0",X.$children$=[Sn]}},Qt=(X,ge)=>{if(1===X.nodeType){let Be=0;for(;Be<X.childNodes.length;Be++)Qt(X.childNodes[Be],ge);if(X.shadowRoot)for(Be=0;Be<X.shadowRoot.childNodes.length;Be++)Qt(X.shadowRoot.childNodes[Be],ge)}else if(8===X.nodeType){const Be=X.nodeValue.split(".");"o"===Be[0]&&(ge.set(Be[1]+"."+Be[2],X),X.nodeValue="",X["s-en"]=Be[3])}},tn=X=>jn.push(X),it=X=>Ci(X).$modeName$,Jn=X=>Ci(X).$hostElement$,en=(X,ge,Be)=>{const Oe=Jn(X);return{emit:ft=>mt(Oe,ge,{bubbles:!!(4&Be),composed:!!(2&Be),cancelable:!!(1&Be),detail:ft})}},mt=(X,ge,Be)=>{const Oe=yr.ce(ge,Be);return X.dispatchEvent(Oe),Oe},Ke=new WeakMap,$e=(X,ge,Be)=>{let Oe=_i.get(X);Do&&Be?(Oe=Oe||new CSSStyleSheet,"string"==typeof Oe?Oe=ge:Oe.replaceSync(ge)):Oe=ge,_i.set(X,Oe)},Ut=(X,ge,Be)=>{var Oe;const ft=rr(ge,Be),dt=_i.get(ft);if(X=11===X.nodeType?X:kr,dt)if("string"==typeof dt){let Mt,Pt=Ke.get(X=X.head||X);if(Pt||Ke.set(X,Pt=new Set),!Pt.has(ft)){if(X.host&&(Mt=X.querySelector(`[${Ze}="${ft}"]`)))Mt.innerHTML=dt;else{Mt=kr.createElement("style"),Mt.innerHTML=dt;const St=null!==(Oe=yr.$nonce$)&&void 0!==Oe?Oe:Rt(kr);null!=St&&Mt.setAttribute("nonce",St),X.insertBefore(Mt,X.querySelector("link"))}Pt&&Pt.add(ft)}}else X.adoptedStyleSheets.includes(dt)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,dt]);return ft},rr=(X,ge)=>"sc-"+(ge&&32&X.$flags$?X.$tagName$+"-"+ge:X.$tagName$),on=X=>X.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Bn=(X,ge,Be,Oe,ft,dt)=>{if(Be!==Oe){let Pt=Fs(X,ge),Mt=ge.toLowerCase();if("class"===ge){const St=X.classList,$t=Xn(Be),an=Xn(Oe);St.remove(...$t.filter(Sn=>Sn&&!an.includes(Sn))),St.add(...an.filter(Sn=>Sn&&!$t.includes(Sn)))}else if("style"===ge){for(const St in Be)(!Oe||null==Oe[St])&&(St.includes("-")?X.style.removeProperty(St):X.style[St]="");for(const St in Oe)(!Be||Oe[St]!==Be[St])&&(St.includes("-")?X.style.setProperty(St,Oe[St]):X.style[St]=Oe[St])}else if("key"!==ge)if("ref"===ge)Oe&&Oe(X);else if(Pt||"o"!==ge[0]||"n"!==ge[1]){const St=Tt(Oe);if((Pt||St&&null!==Oe)&&!ft)try{if(X.tagName.includes("-"))X[ge]=Oe;else{const an=null==Oe?"":Oe;"list"===ge?Pt=!1:(null==Be||X[ge]!=an)&&(X[ge]=an)}}catch{}let $t=!1;Mt!==(Mt=Mt.replace(/^xlink\:?/,""))&&(ge=Mt,$t=!0),null==Oe||!1===Oe?(!1!==Oe||""===X.getAttribute(ge))&&($t?X.removeAttributeNS(we,ge):X.removeAttribute(ge)):(!Pt||4&dt||ft)&&!St&&(Oe=!0===Oe?"":Oe,$t?X.setAttributeNS(we,ge,Oe):X.setAttribute(ge,Oe))}else ge="-"===ge[2]?ge.slice(3):Fs(ns,Mt)?Mt.slice(2):Mt[2]+ge.slice(3),Be&&yr.rel(X,ge,Be,!1),Oe&&yr.ael(X,ge,Oe,!1)}},$n=/\s/,Xn=X=>X?X.split($n):[],zn=(X,ge,Be,Oe)=>{const ft=11===ge.$elm$.nodeType&&ge.$elm$.host?ge.$elm$.host:ge.$elm$,dt=X&&X.$attrs$||Ge,Pt=ge.$attrs$||Ge;for(Oe in dt)Oe in Pt||Bn(ft,Oe,dt[Oe],void 0,Be,ge.$flags$);for(Oe in Pt)Bn(ft,Oe,dt[Oe],Pt[Oe],Be,ge.$flags$)},xn=(X,ge,Be,Oe)=>{const ft=ge.$children$[Be];let Pt,Mt,St,dt=0;if(ze||(de=!0,"slot"===ft.$tag$&&(Ve&&Oe.classList.add(Ve+"-s"),ft.$flags$|=ft.$children$?2:1)),null!==ft.$text$)Pt=ft.$elm$=kr.createTextNode(ft.$text$);else if(1&ft.$flags$)Pt=ft.$elm$=kr.createTextNode("");else{if(ve||(ve="svg"===ft.$tag$),Pt=ft.$elm$=kr.createElementNS(ve?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ft.$flags$?"slot-fb":ft.$tag$),ve&&"foreignObject"===ft.$tag$&&(ve=!1),zn(null,ft,ve),(X=>null!=X)(Ve)&&Pt["s-si"]!==Ve&&Pt.classList.add(Pt["s-si"]=Ve),ft.$children$)for(dt=0;dt<ft.$children$.length;++dt)Mt=xn(X,ft,dt,Pt),Mt&&Pt.appendChild(Mt);"svg"===ft.$tag$?ve=!1:"foreignObject"===Pt.tagName&&(ve=!0)}return Pt["s-hn"]=De,3&ft.$flags$&&(Pt["s-sr"]=!0,Pt["s-cr"]=L,Pt["s-sn"]=ft.$name$||"",St=X&&X.$children$&&X.$children$[Be],St&&St.$tag$===ft.$tag$&&X.$elm$&&In(X.$elm$,!1)),Pt},In=(X,ge)=>{yr.$flags$|=1;const Be=X.childNodes;for(let Oe=Be.length-1;Oe>=0;Oe--){const ft=Be[Oe];ft["s-hn"]!==De&&ft["s-ol"]&&(bt(ft).insertBefore(ft,fr(ft)),ft["s-ol"].remove(),ft["s-ol"]=void 0,de=!0),ge&&In(ft,ge)}yr.$flags$&=-2},Or=(X,ge,Be,Oe,ft,dt)=>{let Mt,Pt=X["s-cr"]&&X["s-cr"].parentNode||X;for(Pt.shadowRoot&&Pt.tagName===De&&(Pt=Pt.shadowRoot);ft<=dt;++ft)Oe[ft]&&(Mt=xn(null,Be,ft,X),Mt&&(Oe[ft].$elm$=Mt,Pt.insertBefore(Mt,fr(ge))))},Ur=(X,ge,Be)=>{for(let Oe=ge;Oe<=Be;++Oe){const ft=X[Oe];if(ft){const dt=ft.$elm$;wr(ft),dt&&(pe=!0,dt["s-ol"]?dt["s-ol"].remove():In(dt,!0),dt.remove())}}},Ln=(X,ge)=>X.$tag$===ge.$tag$&&("slot"===X.$tag$?X.$name$===ge.$name$:X.$key$===ge.$key$),fr=X=>X&&X["s-ol"]||X,bt=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,gr=(X,ge)=>{const Be=ge.$elm$=X.$elm$,Oe=X.$children$,ft=ge.$children$,dt=ge.$tag$,Pt=ge.$text$;let Mt;null===Pt?(ve="svg"===dt||"foreignObject"!==dt&&ve,"slot"===dt||zn(X,ge,ve),null!==Oe&&null!==ft?((X,ge,Be,Oe)=>{let ai,hi,ft=0,dt=0,Pt=0,Mt=0,St=ge.length-1,$t=ge[0],an=ge[St],Sn=Oe.length-1,Fn=Oe[0],Qn=Oe[Sn];for(;ft<=St&&dt<=Sn;)if(null==$t)$t=ge[++ft];else if(null==an)an=ge[--St];else if(null==Fn)Fn=Oe[++dt];else if(null==Qn)Qn=Oe[--Sn];else if(Ln($t,Fn))gr($t,Fn),$t=ge[++ft],Fn=Oe[++dt];else if(Ln(an,Qn))gr(an,Qn),an=ge[--St],Qn=Oe[--Sn];else if(Ln($t,Qn))("slot"===$t.$tag$||"slot"===Qn.$tag$)&&In($t.$elm$.parentNode,!1),gr($t,Qn),X.insertBefore($t.$elm$,an.$elm$.nextSibling),$t=ge[++ft],Qn=Oe[--Sn];else if(Ln(an,Fn))("slot"===$t.$tag$||"slot"===Qn.$tag$)&&In(an.$elm$.parentNode,!1),gr(an,Fn),X.insertBefore(an.$elm$,$t.$elm$),an=ge[--St],Fn=Oe[++dt];else{for(Pt=-1,Mt=ft;Mt<=St;++Mt)if(ge[Mt]&&null!==ge[Mt].$key$&&ge[Mt].$key$===Fn.$key$){Pt=Mt;break}Pt>=0?(hi=ge[Pt],hi.$tag$!==Fn.$tag$?ai=xn(ge&&ge[dt],Be,Pt,X):(gr(hi,Fn),ge[Pt]=void 0,ai=hi.$elm$),Fn=Oe[++dt]):(ai=xn(ge&&ge[dt],Be,dt,X),Fn=Oe[++dt]),ai&&bt($t.$elm$).insertBefore(ai,fr($t.$elm$))}ft>St?Or(X,null==Oe[Sn+1]?null:Oe[Sn+1].$elm$,Be,Oe,dt,Sn):dt>Sn&&Ur(ge,ft,St)})(Be,Oe,ge,ft):null!==ft?(null!==X.$text$&&(Be.textContent=""),Or(Be,null,ge,ft,0,ft.length-1)):null!==Oe&&Ur(Oe,0,Oe.length-1),ve&&"svg"===dt&&(ve=!1)):(Mt=Be["s-cr"])?Mt.parentNode.textContent=Pt:X.$text$!==Pt&&(Be.data=Pt)},Ji=X=>{const ge=X.childNodes;let Be,Oe,ft,dt,Pt,Mt;for(Oe=0,ft=ge.length;Oe<ft;Oe++)if(Be=ge[Oe],1===Be.nodeType){if(Be["s-sr"])for(Pt=Be["s-sn"],Be.hidden=!1,dt=0;dt<ft;dt++)if(Mt=ge[dt].nodeType,ge[dt]["s-hn"]!==Be["s-hn"]||""!==Pt){if(1===Mt&&Pt===ge[dt].getAttribute("slot")){Be.hidden=!0;break}}else if(1===Mt||3===Mt&&""!==ge[dt].textContent.trim()){Be.hidden=!0;break}Ji(Be)}},sn=[],Ei=X=>{let ge,Be,Oe,ft,dt,Pt,Mt=0;const St=X.childNodes,$t=St.length;for(;Mt<$t;Mt++){if(ge=St[Mt],ge["s-sr"]&&(Be=ge["s-cr"])&&Be.parentNode)for(Oe=Be.parentNode.childNodes,ft=ge["s-sn"],Pt=Oe.length-1;Pt>=0;Pt--)Be=Oe[Pt],!Be["s-cn"]&&!Be["s-nr"]&&Be["s-hn"]!==ge["s-hn"]&&(es(Be,ft)?(dt=sn.find(an=>an.$nodeToRelocate$===Be),pe=!0,Be["s-sn"]=Be["s-sn"]||ft,dt?dt.$slotRefNode$=ge:sn.push({$slotRefNode$:ge,$nodeToRelocate$:Be}),Be["s-sr"]&&sn.map(an=>{es(an.$nodeToRelocate$,Be["s-sn"])&&(dt=sn.find(Sn=>Sn.$nodeToRelocate$===Be),dt&&!an.$slotRefNode$&&(an.$slotRefNode$=dt.$slotRefNode$))})):sn.some(an=>an.$nodeToRelocate$===Be)||sn.push({$nodeToRelocate$:Be}));1===ge.nodeType&&Ei(ge)}},es=(X,ge)=>1===X.nodeType?null===X.getAttribute("slot")&&""===ge||X.getAttribute("slot")===ge:X["s-sn"]===ge||""===ge,wr=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(wr)},Sr=(X,ge)=>{ge&&!X.$onRenderResolve$&&ge["s-p"]&&ge["s-p"].push(new Promise(Be=>X.$onRenderResolve$=Be))},gn=(X,ge)=>{if(X.$flags$|=16,!(4&X.$flags$))return Sr(X,X.$ancestorComponent$),Yt(()=>Lt(X,ge));X.$flags$|=512},Lt=(X,ge)=>{const Oe=X.$lazyInstance$;let ft;return ge&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([dt,Pt])=>te(Oe,dt,Pt)),X.$queuedListeners$=void 0),ft=te(Oe,"componentWillLoad")),ft=pn(ft,()=>te(Oe,"componentWillRender")),pn(ft,()=>er(X,Oe,ge))},pn=(X,ge)=>Nn(X)?X.then(ge):ge(),Nn=X=>X instanceof Promise||X&&X.then&&"function"==typeof X.then,er=function(ge,Be,Oe){return(E=E||(0,b.Z)(function*(ft,dt,Pt){var Mt;const St=ft.$hostElement$,an=St["s-rc"];Pt&&(X=>{const ge=X.$cmpMeta$,Be=X.$hostElement$,Oe=ge.$flags$,dt=Ut(Be.shadowRoot?Be.shadowRoot:Be.getRootNode(),ge,X.$modeName$);10&Oe&&(Be["s-sc"]=dt,Be.classList.add(dt+"-h"),2&Oe&&Be.classList.add(dt+"-s"))})(ft);Hn(ft,dt,St,Pt),an&&(an.map(Fn=>Fn()),St["s-rc"]=void 0);{const Fn=null!==(Mt=St["s-p"])&&void 0!==Mt?Mt:[],Qn=()=>jr(ft);0===Fn.length?Qn():(Promise.all(Fn).then(Qn),ft.$flags$|=4,Fn.length=0)}})).apply(this,arguments)},Hn=(X,ge,Be,Oe)=>{try{ge=ge.render&&ge.render(),X.$flags$&=-17,X.$flags$|=2,((X,ge,Be=!1)=>{const Oe=X.$hostElement$,ft=X.$cmpMeta$,dt=X.$vnode$||_n(null,null),Pt=(X=>X&&X.$tag$===It)(ge)?ge:Tn(null,null,ge);if(De=Oe.tagName,ft.$attrsToReflect$&&(Pt.$attrs$=Pt.$attrs$||{},ft.$attrsToReflect$.map(([Mt,St])=>Pt.$attrs$[St]=Oe[Mt])),Be&&Pt.$attrs$)for(const Mt of Object.keys(Pt.$attrs$))Oe.hasAttribute(Mt)&&!["key","ref","style","class"].includes(Mt)&&(Pt.$attrs$[Mt]=Oe[Mt]);if(Pt.$tag$=null,Pt.$flags$|=4,X.$vnode$=Pt,Pt.$elm$=dt.$elm$=Oe.shadowRoot||Oe,Ve=Oe["s-sc"],L=Oe["s-cr"],ze=0!=(1&ft.$flags$),pe=!1,gr(dt,Pt),yr.$flags$|=1,de){Ei(Pt.$elm$);let Mt,St,$t,an,Sn,Fn,Qn=0;for(;Qn<sn.length;Qn++)Mt=sn[Qn],St=Mt.$nodeToRelocate$,St["s-ol"]||($t=kr.createTextNode(""),$t["s-nr"]=St,St.parentNode.insertBefore(St["s-ol"]=$t,St));for(Qn=0;Qn<sn.length;Qn++)if(Mt=sn[Qn],St=Mt.$nodeToRelocate$,Mt.$slotRefNode$){for(an=Mt.$slotRefNode$.parentNode,Sn=Mt.$slotRefNode$.nextSibling,$t=St["s-ol"];$t=$t.previousSibling;)if(Fn=$t["s-nr"],Fn&&Fn["s-sn"]===St["s-sn"]&&an===Fn.parentNode&&(Fn=Fn.nextSibling,!Fn||!Fn["s-nr"])){Sn=Fn;break}(!Sn&&an!==St.parentNode||St.nextSibling!==Sn)&&St!==Sn&&(!St["s-hn"]&&St["s-ol"]&&(St["s-hn"]=St["s-ol"].parentNode.nodeName),an.insertBefore(St,Sn))}else 1===St.nodeType&&(St.hidden=!0)}pe&&Ji(Pt.$elm$),yr.$flags$&=-2,sn.length=0})(X,ge,Oe)}catch(ft){ri(ft,X.$hostElement$)}return null},jr=X=>{const Be=X.$hostElement$,ft=X.$lazyInstance$,dt=X.$ancestorComponent$;te(ft,"componentDidRender"),64&X.$flags$?te(ft,"componentDidUpdate"):(X.$flags$|=64,be(Be),te(ft,"componentDidLoad"),X.$onReadyResolve$(Be),dt||ie()),X.$onInstanceResolve$(Be),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&Pi(()=>gn(X,!1)),X.$flags$&=-517},Se=X=>{{const ge=Ci(X),Be=ge.$hostElement$.isConnected;return Be&&2==(18&ge.$flags$)&&gn(ge,!1),Be}},ie=X=>{be(kr.documentElement),Pi(()=>mt(ns,"appload",{detail:{namespace:"ionic"}}))},te=(X,ge,Be)=>{if(X&&X[ge])try{return X[ge](Be)}catch(Oe){ri(Oe)}},be=X=>X.classList.add("hydrated"),_t=(X,ge,Be)=>{if(ge.$members$){X.watchers&&(ge.$watchers$=X.watchers);const Oe=Object.entries(ge.$members$),ft=X.prototype;if(Oe.map(([dt,[Pt]])=>{31&Pt||2&Be&&32&Pt?Object.defineProperty(ft,dt,{get(){return((X,ge)=>Ci(this).$instanceValues$.get(ge))(0,dt)},set(Mt){((X,ge,Be,Oe)=>{const ft=Ci(X),dt=ft.$hostElement$,Pt=ft.$instanceValues$.get(ge),Mt=ft.$flags$,St=ft.$lazyInstance$;Be=((X,ge)=>null==X||Tt(X)?X:4&ge?"false"!==X&&(""===X||!!X):2&ge?parseFloat(X):1&ge?String(X):X)(Be,Oe.$members$[ge][0]);const $t=Number.isNaN(Pt)&&Number.isNaN(Be);if((!(8&Mt)||void 0===Pt)&&Be!==Pt&&!$t&&(ft.$instanceValues$.set(ge,Be),St)){if(Oe.$watchers$&&128&Mt){const Sn=Oe.$watchers$[ge];Sn&&Sn.map(Fn=>{try{St[Fn](Be,Pt,ge)}catch(Qn){ri(Qn,dt)}})}2==(18&Mt)&&gn(ft,!1)}})(this,dt,Mt,ge)},configurable:!0,enumerable:!0}):1&Be&&64&Pt&&Object.defineProperty(ft,dt,{value(...Mt){const St=Ci(this);return St.$onInstancePromise$.then(()=>St.$lazyInstance$[dt](...Mt))}})}),1&Be){const dt=new Map;ft.attributeChangedCallback=function(Pt,Mt,St){yr.jmp(()=>{const $t=dt.get(Pt);if(this.hasOwnProperty($t))St=this[$t],delete this[$t];else if(ft.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==St)return;this[$t]=(null!==St||"boolean"!=typeof this[$t])&&St})},X.observedAttributes=Oe.filter(([Pt,Mt])=>15&Mt[0]).map(([Pt,Mt])=>{const St=Mt[1]||Pt;return dt.set(St,Pt),512&Mt[0]&&ge.$attrsToReflect$.push([Pt,St]),St})}}return X},Dn=X=>{te(X,"connectedCallback")},Kn=X=>{if(!(1&yr.$flags$)){const ge=Ci(X),Be=ge.$cmpMeta$,Oe=()=>{};if(1&ge.$flags$)ts(X,ge,Be.$listeners$),null!=ge&&ge.$lazyInstance$?Dn(ge.$lazyInstance$):null!=ge&&ge.$onReadyPromise$&&ge.$onReadyPromise$.then(()=>Dn(ge.$lazyInstance$));else{let ft;if(ge.$flags$|=1,ft=X.getAttribute(He),ft){if(1&Be.$flags$){const dt=Ut(X.shadowRoot,Be,X.getAttribute("s-mode"));X.classList.remove(dt+"-h",dt+"-s")}((X,ge,Be,Oe)=>{const dt=X.shadowRoot,Pt=[],St=dt?[]:null,$t=Oe.$vnode$=_n(ge,null);yr.$orgLocNodes$||Qt(kr.body,yr.$orgLocNodes$=new Map),X[He]=Be,X.removeAttribute(He),tt($t,Pt,[],St,X,X,Be),Pt.map(an=>{const Sn=an.$hostId$+"."+an.$nodeId$,Fn=yr.$orgLocNodes$.get(Sn),Qn=an.$elm$;Fn&&di&&""===Fn["s-en"]&&Fn.parentNode.insertBefore(Qn,Fn.nextSibling),dt||(Qn["s-hn"]=ge,Fn&&(Qn["s-ol"]=Fn,Qn["s-ol"]["s-nr"]=Qn)),yr.$orgLocNodes$.delete(Sn)}),dt&&St.map(an=>{an&&dt.appendChild(an)})})(X,Be.$tagName$,ft,ge)}ft||12&Be.$flags$&&Er(X);{let dt=X;for(;dt=dt.parentNode||dt.host;)if(1===dt.nodeType&&dt.hasAttribute("s-id")&&dt["s-p"]||dt["s-p"]){Sr(ge,ge.$ancestorComponent$=dt);break}}Be.$members$&&Object.entries(Be.$members$).map(([dt,[Pt]])=>{if(31&Pt&&X.hasOwnProperty(dt)){const Mt=X[dt];delete X[dt],X[dt]=Mt}}),function(ge,Be,Oe,ft,dt){(Ye=Ye||(0,b.Z)(function*(Pt,Mt,St,$t,an){if(!(32&Mt.$flags$)){Mt.$flags$|=32;{if((an=Fi(St)).then){const ai=()=>{};an=yield an,ai()}an.isProxied||(St.$watchers$=an.watchers,_t(an,St,2),an.isProxied=!0);const Qn=()=>{};Mt.$flags$|=8;try{new an(Mt)}catch(ai){ri(ai)}Mt.$flags$&=-9,Mt.$flags$|=128,Qn(),Dn(Mt.$lazyInstance$)}if(an.style){let Qn=an.style;"string"!=typeof Qn&&(Qn=Qn[Mt.$modeName$=(X=Pt,jn.map(ge=>ge(X)).find(ge=>!!ge))]);const ai=rr(St,Mt.$modeName$);if(!_i.has(ai)){const hi=()=>{};$e(ai,Qn,!!(1&St.$flags$)),hi()}}}var X;const Sn=Mt.$ancestorComponent$,Fn=()=>gn(Mt,!0);Sn&&Sn["s-rc"]?Sn["s-rc"].push(Fn):Fn()})).apply(this,arguments)}(X,ge,Be)}Oe()}},Er=X=>{const ge=X["s-cr"]=kr.createComment("");ge["s-cn"]=!0,X.insertBefore(ge,X.firstChild)},Un=X=>{te(X,"disconnectedCallback")},Mr=(X,ge={})=>{var Be;const ft=[],dt=ge.exclude||[],Pt=ns.customElements,Mt=kr.head,St=Mt.querySelector("meta[charset]"),$t=kr.createElement("style"),an=[],Sn=kr.querySelectorAll(`[${Ze}]`);let Fn,Qn=!0,ai=0;for(Object.assign(yr,ge),yr.$resourcesUrl$=new URL(ge.resourcesUrl||"./",kr.baseURI).href,yr.$flags$|=2;ai<Sn.length;ai++)$e(Sn[ai].getAttribute(Ze),on(Sn[ai].innerHTML),!0);X.map(hi=>{hi[1].map(Co=>{const Vs={$flags$:Co[0],$tagName$:Co[1],$members$:Co[2],$listeners$:Co[3]};Vs.$members$=Co[2],Vs.$listeners$=Co[3],Vs.$attrsToReflect$=[],Vs.$watchers$={};const bi=Vs.$tagName$,Cs=class extends HTMLElement{constructor(is){super(is),mi(is=this,Vs),1&Vs.$flags$&&is.attachShadow({mode:"open",delegatesFocus:!!(16&Vs.$flags$)})}connectedCallback(){Fn&&(clearTimeout(Fn),Fn=null),Qn?an.push(this):yr.jmp(()=>Kn(this))}disconnectedCallback(){yr.jmp(()=>function(ge){return(_e=_e||(0,b.Z)(function*(Be){if(!(1&yr.$flags$)){const Oe=Ci(Be);Oe.$rmListeners$&&(Oe.$rmListeners$.map(ft=>ft()),Oe.$rmListeners$=void 0),null!=Oe&&Oe.$lazyInstance$?Un(Oe.$lazyInstance$):null!=Oe&&Oe.$onReadyPromise$&&Oe.$onReadyPromise$.then(()=>Un(Oe.$lazyInstance$))}})).apply(this,arguments)}(this))}componentOnReady(){return Ci(this).$onReadyPromise$}};Vs.$lazyBundleId$=hi[0],!dt.includes(bi)&&!Pt.get(bi)&&(ft.push(bi),Pt.define(bi,_t(Cs,Vs,1)))})});{$t.innerHTML=ft+"{visibility:hidden}.hydrated{visibility:inherit}",$t.setAttribute("data-styles","");const hi=null!==(Be=yr.$nonce$)&&void 0!==Be?Be:Rt(kr);null!=hi&&$t.setAttribute("nonce",hi),Mt.insertBefore($t,St?St.nextSibling:Mt.firstChild)}Qn=!1,an.length?an.map(hi=>hi.connectedCallback()):yr.jmp(()=>Fn=setTimeout(ie,30))},ts=(X,ge,Be,Oe)=>{Be&&Be.map(([ft,dt,Pt])=>{const Mt=bs(X,ft),St=Xr(ge,Pt),$t=Tr(ft);yr.ael(Mt,dt,St,$t),(ge.$rmListeners$=ge.$rmListeners$||[]).push(()=>yr.rel(Mt,dt,St,$t))})},Xr=(X,ge)=>Be=>{try{256&X.$flags$?X.$lazyInstance$[ge](Be):(X.$queuedListeners$=X.$queuedListeners$||[]).push([ge,Be])}catch(Oe){ri(Oe)}},bs=(X,ge)=>4&ge?kr:8&ge?ns:16&ge?kr.body:X,Tr=X=>0!=(2&X),ms=new WeakMap,Ci=X=>ms.get(X),Ri=(X,ge)=>ms.set(ge.$lazyInstance$=X,ge),mi=(X,ge)=>{const Be={$flags$:0,$hostElement$:X,$cmpMeta$:ge,$instanceValues$:new Map};return Be.$onInstancePromise$=new Promise(Oe=>Be.$onInstanceResolve$=Oe),Be.$onReadyPromise$=new Promise(Oe=>Be.$onReadyResolve$=Oe),X["s-p"]=[],X["s-rc"]=[],ts(X,Be,ge.$listeners$),ms.set(X,Be)},Fs=(X,ge)=>ge in X,ri=(X,ge)=>(0,console.error)(X,ge),wi=new Map,Fi=(X,ge,Be)=>{const Oe=X.$tagName$.replace(/-/g,"_"),ft=X.$lazyBundleId$,dt=wi.get(ft);return dt?dt[Oe]:Z(863)(`./${ft}.entry.js`).then(Pt=>(wi.set(ft,Pt),Pt[Oe]),ri)},_i=new Map,jn=[],ns=typeof window<"u"?window:{},kr=ns.document||{head:{}},yr={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,ge,Be,Oe)=>X.addEventListener(ge,Be,Oe),rel:(X,ge,Be,Oe)=>X.removeEventListener(ge,Be,Oe),ce:(X,ge)=>new CustomEvent(X,ge)},bo=X=>{Object.assign(yr,X)},di=!0,Do=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rs=[],Ds=[],co=(X,ge)=>Be=>{X.push(Be),J||(J=!0,ge&&4&yr.$flags$?Pi(zr):yr.raf(zr))},Hi=X=>{for(let ge=0;ge<X.length;ge++)try{X[ge](performance.now())}catch(Be){ri(Be)}X.length=0},zr=()=>{Hi(rs),Hi(Ds),(J=rs.length>0)&&yr.raf(zr)},Pi=X=>Promise.resolve(void 0).then(X),ut=co(rs,!1),Yt=co(Ds,!0)},9203:(vn,pt,Z)=>{"use strict";Z.r(pt),Z.d(pt,{GESTURE_CONTROLLER:()=>b.G,createGesture:()=>ze});var b=Z(619);const E=(J,Re,je,at)=>{const We=Ye(J)?{capture:!!at.capture,passive:!!at.passive}:!!at.capture;let Ee,ot;return J.__zone_symbol__addEventListener?(Ee="__zone_symbol__addEventListener",ot="__zone_symbol__removeEventListener"):(Ee="addEventListener",ot="removeEventListener"),J[Ee](Re,je,We),()=>{J[ot](Re,je,We)}},Ye=J=>{if(void 0===_e)try{const Re=Object.defineProperty({},"passive",{get:()=>{_e=!0}});J.addEventListener("optsTest",()=>{},Re)}catch{_e=!1}return!!_e};let _e;const L=J=>J instanceof Document?J:J.ownerDocument,ze=J=>{let Re=!1,je=!1,at=!0,We=!1;const Ee=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},J),ot=Ee.canStart,ht=Ee.onWillStart,et=Ee.onStart,He=Ee.onEnd,Ze=Ee.notCaptured,Le=Ee.onMove,Ne=Ee.threshold,we=Ee.passive,Ge=Ee.blurOnStart,qe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ct=((J,Re,je)=>{const at=je*(Math.PI/180),We="x"===J,Ee=Math.cos(at),ot=Re*Re;let ht=0,et=0,He=!1,Ze=0;return{start(Le,Ne){ht=Le,et=Ne,Ze=0,He=!0},detect(Le,Ne){if(!He)return!1;const we=Le-ht,Ge=Ne-et,qe=we*we+Ge*Ge;if(qe<ot)return!1;const ct=Math.sqrt(qe),Ht=(We?we:Ge)/ct;return Ze=Ht>Ee?1:Ht<-Ee?-1:0,He=!1,!0},isGesture:()=>0!==Ze,getDirection:()=>Ze}})(Ee.direction,Ee.threshold,Ee.maxAngle),Ht=b.G.createGesture({name:J.gestureName,priority:J.gesturePriority,disableScroll:J.disableScroll}),Tn=()=>{Re&&(We=!1,Le&&Le(qe))},_n=()=>!!Ht.capture()&&(Re=!0,at=!1,qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime,ht?ht(qe).then(me):me(),!0),me=()=>{Ge&&(()=>{if(typeof document<"u"){const tt=document.activeElement;null!=tt&&tt.blur&&tt.blur()}})(),et&&et(qe),at=!0},Te=()=>{Re=!1,je=!1,We=!1,at=!0,Ht.release()},Pe=tt=>{const Qt=Re,ln=at;if(Te(),ln){if(pe(qe,tt),Qt)return void(He&&He(qe));Ze&&Ze(qe)}},Me=((J,Re,je,at,We)=>{let Ee,ot,ht,et,He,Ze,Le,Ne=0;const we=It=>{Ne=Date.now()+2e3,Re(It)&&(!ot&&je&&(ot=E(J,"touchmove",je,We)),ht||(ht=E(It.target,"touchend",qe,We)),et||(et=E(It.target,"touchcancel",qe,We)))},Ge=It=>{Ne>Date.now()||Re(It)&&(!Ze&&je&&(Ze=E(L(J),"mousemove",je,We)),Le||(Le=E(L(J),"mouseup",ct,We)))},qe=It=>{Ht(),at&&at(It)},ct=It=>{Tt(),at&&at(It)},Ht=()=>{ot&&ot(),ht&&ht(),et&&et(),ot=ht=et=void 0},Tt=()=>{Ze&&Ze(),Le&&Le(),Ze=Le=void 0},Rt=()=>{Ht(),Tt()},Tn=(It=!0)=>{It?(Ee||(Ee=E(J,"touchstart",we,We)),He||(He=E(J,"mousedown",Ge,We))):(Ee&&Ee(),He&&He(),Ee=He=void 0,Rt())};return{enable:Tn,stop:Rt,destroy:()=>{Tn(!1),at=je=Re=void 0}}})(Ee.el,tt=>{const Qt=ve(tt);return!(je||!at||(de(tt,qe),qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime=Qt,qe.velocityX=qe.velocityY=qe.deltaX=qe.deltaY=0,qe.event=tt,ot&&!1===ot(qe))||(Ht.release(),!Ht.start()))&&(je=!0,0===Ne?_n():(ct.start(qe.startX,qe.startY),!0))},tt=>{Re?!We&&at&&(We=!0,pe(qe,tt),requestAnimationFrame(Tn)):(pe(qe,tt),ct.detect(qe.currentX,qe.currentY)&&(!ct.isGesture()||!_n())&&nt())},Pe,{capture:!1,passive:we}),nt=()=>{Te(),Me.stop(),Ze&&Ze(qe)};return{enable(tt=!0){tt||(Re&&Pe(void 0),Te()),Me.enable(tt)},destroy(){Ht.destroy(),Me.destroy()}}},pe=(J,Re)=>{if(!Re)return;const je=J.currentX,at=J.currentY,We=J.currentTime;de(Re,J);const Ee=J.currentX,ot=J.currentY,et=(J.currentTime=ve(Re))-We;if(et>0&&et<100){const Ze=(ot-at)/et;J.velocityX=(Ee-je)/et*.7+.3*J.velocityX,J.velocityY=.7*Ze+.3*J.velocityY}J.deltaX=Ee-J.startX,J.deltaY=ot-J.startY,J.event=Re},de=(J,Re)=>{let je=0,at=0;if(J){const We=J.changedTouches;if(We&&We.length>0){const Ee=We[0];je=Ee.clientX,at=Ee.clientY}else void 0!==J.pageX&&(je=J.pageX,at=J.pageY)}Re.currentX=je,Re.currentY=at},ve=J=>J.timeStamp||Date.now()},2560:(vn,pt,Z)=>{"use strict";Z.d(pt,{a:()=>de,b:()=>Tn,c:()=>Ye,g:()=>pe,i:()=>_n});var b=Z(8423);class E{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,Te){const Pe=this.m.get(me);return void 0!==Pe?Pe:Te}getBoolean(me,Te=!1){const Pe=this.m.get(me);return void 0===Pe?Te:"string"==typeof Pe?"true"===Pe:!!Pe}getNumber(me,Te){const Pe=parseFloat(this.m.get(me));return isNaN(Pe)?void 0!==Te?Te:NaN:Pe}set(me,Te){this.m.set(me,Te)}}const Ye=new E,ze="ionic-persist-config",pe=It=>ve(It),de=(It,me)=>("string"==typeof It&&(me=It,It=void 0),pe(It).includes(me)),ve=(It=window)=>{if(typeof It>"u")return[];It.Ionic=It.Ionic||{};let me=It.Ionic.platforms;return null==me&&(me=It.Ionic.platforms=J(It),me.forEach(Te=>It.document.documentElement.classList.add(`plt-${Te}`))),me},J=It=>{const me=Ye.get("platform");return Object.keys(Tt).filter(Te=>{const Pe=null==me?void 0:me[Te];return"function"==typeof Pe?Pe(It):Tt[Te](It)})},je=It=>!!(ct(It,/iPad/i)||ct(It,/Macintosh/i)&&He(It)),Ee=It=>ct(It,/android|sink/i),He=It=>Ht(It,"(any-pointer:coarse)"),Le=It=>Ne(It)||we(It),Ne=It=>!!(It.cordova||It.phonegap||It.PhoneGap),we=It=>{const me=It.Capacitor;return!(null==me||!me.isNative)},ct=(It,me)=>me.test(It.navigator.userAgent),Ht=(It,me)=>{var Te;return null===(Te=It.matchMedia)||void 0===Te?void 0:Te.call(It,me).matches},Tt={ipad:je,iphone:It=>ct(It,/iPhone/i),ios:It=>ct(It,/iPhone|iPod/i)||je(It),android:Ee,phablet:It=>{const me=It.innerWidth,Te=It.innerHeight,Pe=Math.min(me,Te),Me=Math.max(me,Te);return Pe>390&&Pe<520&&Me>620&&Me<800},tablet:It=>{const me=It.innerWidth,Te=It.innerHeight,Pe=Math.min(me,Te),Me=Math.max(me,Te);return je(It)||(It=>Ee(It)&&!ct(It,/mobile/i))(It)||Pe>460&&Pe<820&&Me>780&&Me<1400},cordova:Ne,capacitor:we,electron:It=>ct(It,/electron/i),pwa:It=>{var me;return!!(null!==(me=It.matchMedia)&&void 0!==me&&me.call(It,"(display-mode: standalone)").matches||It.navigator.standalone)},mobile:He,mobileweb:It=>He(It)&&!Le(It),desktop:It=>!He(It),hybrid:Le};let Rt;const Tn=It=>It&&(0,b.g)(It)||Rt,_n=(It={})=>{if(typeof window>"u")return;const me=window.document,Te=window,Pe=Te.Ionic=Te.Ionic||{},Me={};It._ael&&(Me.ael=It._ael),It._rel&&(Me.rel=It._rel),It._ce&&(Me.ce=It._ce),(0,b.a)(Me);const nt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(It=>{try{const me=It.sessionStorage.getItem(ze);return null!==me?JSON.parse(me):{}}catch{return{}}})(Te)),{persistConfig:!1}),Pe.config),(It=>{const me={};return It.location.search.slice(1).split("&").map(Te=>Te.split("=")).map(([Te,Pe])=>[decodeURIComponent(Te),decodeURIComponent(Pe)]).filter(([Te])=>((It,me)=>It.substr(0,me.length)===me)(Te,"ionic:")).map(([Te,Pe])=>[Te.slice(6),Pe]).forEach(([Te,Pe])=>{me[Te]=Pe}),me})(Te)),It);Ye.reset(nt),Ye.getBoolean("persistConfig")&&((It,me)=>{try{It.sessionStorage.setItem(ze,JSON.stringify(me))}catch{return}})(Te,nt),ve(Te),Pe.config=Ye,Pe.mode=Rt=Ye.get("mode",me.documentElement.getAttribute("mode")||(de(Te,"ios")?"ios":"md")),Ye.set("mode",Rt),me.documentElement.setAttribute("mode",Rt),me.documentElement.classList.add(Rt),Ye.getBoolean("_testing")&&Ye.set("animated",!1);const tt=ln=>{var tn;return null===(tn=ln.tagName)||void 0===tn?void 0:tn.startsWith("ION-")},Qt=ln=>["ios","md"].includes(ln);(0,b.c)(ln=>{for(;ln;){const tn=ln.mode||ln.getAttribute("mode");if(tn){if(Qt(tn))return tn;tt(ln)&&console.warn('Invalid ionic mode: "'+tn+'", expected: "ios" or "md"')}ln=ln.parentElement}return Rt})}},5812:(vn,pt,Z)=>{"use strict";Z.r(pt),Z.d(pt,{iosTransitionAnimation:()=>J,shadow:()=>L});var b=Z(1774),E=Z(12);Z(6225),Z(8423);const Ve=Re=>document.querySelector(`${Re}.ion-cloned-element`),L=Re=>Re.shadowRoot||Re,De=Re=>{const je="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs"),at="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=je){const We=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=We?We.querySelector(at):null}return Re.querySelector(at)},ze=(Re,je)=>{const at="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs");let We=[];if(null!=at){const Ee=at.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ee&&(We=Ee.querySelectorAll("ion-buttons"))}else We=Re.querySelectorAll("ion-buttons");for(const Ee of We){const ot=Ee.closest("ion-header"),ht=ot&&!ot.classList.contains("header-collapse-condense-inactive"),et=Ee.querySelector("ion-back-button"),He=Ee.classList.contains("buttons-collapse");if(null!==et&&("start"===Ee.slot||""===Ee.slot)&&(He&&ht&&je||!He))return et}return null},de=(Re,je,at,We,Ee,ot)=>{const ht=je?`calc(100% - ${ot.right+4}px)`:ot.left-4+"px",et=je?"7px":"-7px",He=je?"-4px":"4px",Ze=je?"-4px":"4px",Le=je?"right":"left",Ne=je?"left":"right",qe=at?[{offset:0,opacity:1,transform:`translate3d(${He}, ${ot.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${et}, ${Ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${et}, ${Ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${He}, ${ot.top-46}px, 0) scale(1)`}],Tt=at?[{offset:0,opacity:1,transform:`translate3d(${Ze}, ${ot.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ze}, ${ot.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ze}, ${ot.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ze}, ${ot.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ze}, ${ot.top-46}px, 0) scale(1)`}],Rt=(0,b.c)(),Tn=(0,b.c)(),_n=Ve("ion-back-button"),It=L(_n).querySelector(".button-text"),me=L(_n).querySelector("ion-icon");_n.text=We.text,_n.mode=We.mode,_n.icon=We.icon,_n.color=We.color,_n.disabled=We.disabled,_n.style.setProperty("display","block"),_n.style.setProperty("position","fixed"),Tn.addElement(me),Rt.addElement(It),Rt.beforeStyles({"transform-origin":`${Le} center`}).beforeAddWrite(()=>{We.style.setProperty("display","none"),_n.style.setProperty(Le,ht)}).afterAddWrite(()=>{We.style.setProperty("display",""),_n.style.setProperty("display","none"),_n.style.removeProperty(Le)}).keyframes(qe),Tn.beforeStyles({"transform-origin":`${Ne} center`}).keyframes(Tt),Re.addAnimation([Rt,Tn])},ve=(Re,je,at,We,Ee,ot)=>{const ht=je?`calc(100% - ${Ee.right}px)`:`${Ee.left}px`,et=je?"-18px":"18px",He=je?"right":"left",Ne=at?[{offset:0,opacity:0,transform:`translate3d(${et}, ${ot.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${et}, ${ot.top-4}px, 0) scale(0.5)`}],we=Ve("ion-title"),Ge=(0,b.c)();we.innerText=We.innerText,we.size=We.size,we.color=We.color,Ge.addElement(we),Ge.beforeStyles({"transform-origin":`${He} center`,height:"46px",display:"",position:"relative",[He]:ht}).beforeAddWrite(()=>{We.style.setProperty("display","none")}).afterAddWrite(()=>{We.style.setProperty("display",""),we.style.setProperty("display","none")}).keyframes(Ne),Re.addAnimation(Ge)},J=(Re,je)=>{var at;try{const We="cubic-bezier(0.32,0.72,0,1)",Ee="opacity",ot="transform",ht="0%",He="rtl"===Re.ownerDocument.dir,Ze=He?"-99.5%":"99.5%",Le=He?"33%":"-33%",Ne=je.enteringEl,we=je.leavingEl,Ge="back"===je.direction,qe=Ne.querySelector(":scope > ion-content"),ct=Ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ht=Ne.querySelectorAll(":scope > ion-header > ion-toolbar"),Tt=(0,b.c)(),Rt=(0,b.c)();if(Tt.addElement(Ne).duration((null!==(at=je.duration)&&void 0!==at?at:0)||540).easing(je.easing||We).fill("both").beforeRemoveClass("ion-page-invisible"),we&&null!=Re){const me=(0,b.c)();me.addElement(Re),Tt.addAnimation(me)}if(qe||0!==Ht.length||0!==ct.length?(Rt.addElement(qe),Rt.addElement(ct)):Rt.addElement(Ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tt.addAnimation(Rt),Ge?Rt.beforeClearStyles([Ee]).fromTo("transform",`translateX(${Le})`,`translateX(${ht})`).fromTo(Ee,.8,1):Rt.beforeClearStyles([Ee]).fromTo("transform",`translateX(${Ze})`,`translateX(${ht})`),qe){const me=L(qe).querySelector(".transition-effect");if(me){const Te=me.querySelector(".transition-cover"),Pe=me.querySelector(".transition-shadow"),Me=(0,b.c)(),nt=(0,b.c)(),tt=(0,b.c)();Me.addElement(me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),nt.addElement(Te).beforeClearStyles([Ee]).fromTo(Ee,0,.1),tt.addElement(Pe).beforeClearStyles([Ee]).fromTo(Ee,.03,.7),Me.addAnimation([nt,tt]),Rt.addAnimation([Me])}}const Tn=Ne.querySelector("ion-header.header-collapse-condense"),{forward:_n,backward:It}=((Re,je,at,We,Ee)=>{const ot=ze(We,at),ht=De(Ee),et=De(We),He=ze(Ee,at),Ze=null!==ot&&null!==ht&&!at,Le=null!==et&&null!==He&&at;if(Ze){const Ne=ht.getBoundingClientRect(),we=ot.getBoundingClientRect();ve(Re,je,at,ht,Ne,we),de(Re,je,at,ot,Ne,we)}else if(Le){const Ne=et.getBoundingClientRect(),we=He.getBoundingClientRect();ve(Re,je,at,et,Ne,we),de(Re,je,at,He,Ne,we)}return{forward:Ze,backward:Le}})(Tt,He,Ge,Ne,we);if(Ht.forEach(me=>{const Te=(0,b.c)();Te.addElement(me),Tt.addAnimation(Te);const Pe=(0,b.c)();Pe.addElement(me.querySelector("ion-title"));const Me=(0,b.c)(),nt=Array.from(me.querySelectorAll("ion-buttons,[menuToggle]")),tt=me.closest("ion-header"),Qt=null==tt?void 0:tt.classList.contains("header-collapse-condense-inactive");let ln;ln=nt.filter(Ge?en=>{const mt=en.classList.contains("buttons-collapse");return mt&&!Qt||!mt}:en=>!en.classList.contains("buttons-collapse")),Me.addElement(ln);const tn=(0,b.c)();tn.addElement(me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const it=(0,b.c)();it.addElement(L(me).querySelector(".toolbar-background"));const Mn=(0,b.c)(),Jn=me.querySelector("ion-back-button");if(Jn&&Mn.addElement(Jn),Te.addAnimation([Pe,Me,tn,it,Mn]),Me.fromTo(Ee,.01,1),tn.fromTo(Ee,.01,1),Ge)Qt||Pe.fromTo("transform",`translateX(${Le})`,`translateX(${ht})`).fromTo(Ee,.01,1),tn.fromTo("transform",`translateX(${Le})`,`translateX(${ht})`),Mn.fromTo(Ee,.01,1);else if(Tn||Pe.fromTo("transform",`translateX(${Ze})`,`translateX(${ht})`).fromTo(Ee,.01,1),tn.fromTo("transform",`translateX(${Ze})`,`translateX(${ht})`),it.beforeClearStyles([Ee,"transform"]),(null==tt?void 0:tt.translucent)?it.fromTo("transform",He?"translateX(-100%)":"translateX(100%)","translateX(0px)"):it.fromTo(Ee,.01,"var(--opacity)"),_n||Mn.fromTo(Ee,.01,1),Jn&&!_n){const mt=(0,b.c)();mt.addElement(L(Jn).querySelector(".button-text")).fromTo("transform",He?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Te.addAnimation(mt)}}),we){const me=(0,b.c)(),Te=we.querySelector(":scope > ion-content"),Pe=we.querySelectorAll(":scope > ion-header > ion-toolbar"),Me=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Te||0!==Pe.length||0!==Me.length?(me.addElement(Te),me.addElement(Me)):me.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Tt.addAnimation(me),Ge){me.beforeClearStyles([Ee]).fromTo("transform",`translateX(${ht})`,He?"translateX(-100%)":"translateX(100%)");const nt=(0,E.g)(we);Tt.afterAddWrite(()=>{"normal"===Tt.getDirection()&&nt.style.setProperty("display","none")})}else me.fromTo("transform",`translateX(${ht})`,`translateX(${Le})`).fromTo(Ee,1,.8);if(Te){const nt=L(Te).querySelector(".transition-effect");if(nt){const tt=nt.querySelector(".transition-cover"),Qt=nt.querySelector(".transition-shadow"),ln=(0,b.c)(),tn=(0,b.c)(),it=(0,b.c)();ln.addElement(nt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tn.addElement(tt).beforeClearStyles([Ee]).fromTo(Ee,.1,0),it.addElement(Qt).beforeClearStyles([Ee]).fromTo(Ee,.7,.03),ln.addAnimation([tn,it]),me.addAnimation([ln])}}Pe.forEach(nt=>{const tt=(0,b.c)();tt.addElement(nt);const Qt=(0,b.c)();Qt.addElement(nt.querySelector("ion-title"));const ln=(0,b.c)(),tn=nt.querySelectorAll("ion-buttons,[menuToggle]"),it=nt.closest("ion-header"),Mn=null==it?void 0:it.classList.contains("header-collapse-condense-inactive"),Jn=Array.from(tn).filter(fn=>{const rr=fn.classList.contains("buttons-collapse");return rr&&!Mn||!rr});ln.addElement(Jn);const en=(0,b.c)(),mt=nt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");mt.length>0&&en.addElement(mt);const Ke=(0,b.c)();Ke.addElement(L(nt).querySelector(".toolbar-background"));const $e=(0,b.c)(),Ut=nt.querySelector("ion-back-button");if(Ut&&$e.addElement(Ut),tt.addAnimation([Qt,ln,en,$e,Ke]),Tt.addAnimation(tt),$e.fromTo(Ee,.99,0),ln.fromTo(Ee,.99,0),en.fromTo(Ee,.99,0),Ge){if(Mn||Qt.fromTo("transform",`translateX(${ht})`,He?"translateX(-100%)":"translateX(100%)").fromTo(Ee,.99,0),en.fromTo("transform",`translateX(${ht})`,He?"translateX(-100%)":"translateX(100%)"),Ke.beforeClearStyles([Ee,"transform"]),(null==it?void 0:it.translucent)?Ke.fromTo("transform","translateX(0px)",He?"translateX(-100%)":"translateX(100%)"):Ke.fromTo(Ee,"var(--opacity)",0),Ut&&!It){const rr=(0,b.c)();rr.addElement(L(Ut).querySelector(".button-text")).fromTo("transform",`translateX(${ht})`,`translateX(${(He?-124:124)+"px"})`),tt.addAnimation(rr)}}else Mn||Qt.fromTo("transform",`translateX(${ht})`,`translateX(${Le})`).fromTo(Ee,.99,0).afterClearStyles([ot,Ee]),en.fromTo("transform",`translateX(${ht})`,`translateX(${Le})`).afterClearStyles([ot,Ee]),$e.afterClearStyles([Ee]),Qt.afterClearStyles([Ee]),ln.afterClearStyles([Ee])})}return Tt}catch(We){throw We}}},7202:(vn,pt,Z)=>{"use strict";Z.r(pt),Z.d(pt,{mdTransitionAnimation:()=>ke});var b=Z(1774),E=Z(12);Z(6225),Z(8423);const ke=(Ve,L)=>{var De,ze,pe;const J="back"===L.direction,je=L.leavingEl,at=(0,E.g)(L.enteringEl),We=at.querySelector("ion-toolbar"),Ee=(0,b.c)();if(Ee.addElement(at).fill("both").beforeRemoveClass("ion-page-invisible"),J?Ee.duration((null!==(De=L.duration)&&void 0!==De?De:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ee.duration((null!==(ze=L.duration)&&void 0!==ze?ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),We){const ot=(0,b.c)();ot.addElement(We),Ee.addAnimation(ot)}if(je&&J){Ee.duration((null!==(pe=L.duration)&&void 0!==pe?pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ot=(0,b.c)();ot.addElement((0,E.g)(je)).onFinish(ht=>{1===ht&&ot.elements.length>0&&ot.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ee.addAnimation(ot)}return Ee}},4016:(vn,pt,Z)=>{"use strict";Z.d(pt,{B:()=>it,G:()=>Mn,a:()=>je,b:()=>at,c:()=>ht,d:()=>Jn,e:()=>en,f:()=>It,g:()=>Te,h:()=>nt,i:()=>Qt,j:()=>He,k:()=>Ze,m:()=>Ee,n:()=>J,o:()=>we,q:()=>Tn,s:()=>tn});var L,De,ze,pe,b=Z(5861),E=Z(2560),Ye=Z(6559),_e=Z(2124),ke=Z(839),Ve=Z(6710);let de=0,ve=0;const J=new WeakMap,Re=mt=>({create:Ke=>Le(mt,Ke),dismiss:(Ke,$e,Ut)=>Tt(document,Ke,$e,mt,Ut),getTop:()=>(0,b.Z)(function*(){return Tn(document,mt)})()}),je=Re("ion-alert"),at=Re("ion-action-sheet"),Ee=Re("ion-modal"),ht=Re("ion-popover"),He=mt=>{typeof document<"u"&&Ht(document);const Ke=de++;mt.overlayIndex=Ke},Ze=mt=>(mt.hasAttribute("id")||(mt.id="ion-overlay-"+ ++ve),mt.id),Le=(mt,Ke)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(mt).then(()=>{const $e=document.createElement(mt);return $e.classList.add("overlay-hidden"),Object.assign($e,Object.assign(Object.assign({},Ke),{hasController:!0})),Pe(document).appendChild($e),new Promise(Ut=>(0,ke.c)($e,Ut))}):Promise.resolve(),Ne='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',we=(mt,Ke)=>{let $e=mt.querySelector(Ne);const Ut=null==$e?void 0:$e.shadowRoot;Ut&&($e=Ut.querySelector(Ne)||$e),$e?(0,ke.f)($e):Ke.focus()},qe=(mt,Ke)=>{const $e=Array.from(mt.querySelectorAll(Ne));let Ut=$e.length>0?$e[$e.length-1]:null;const fn=null==Ut?void 0:Ut.shadowRoot;fn&&(Ut=fn.querySelector(Ne)||Ut),Ut?Ut.focus():Ke.focus()},Ht=mt=>{0===de&&(de=1,mt.addEventListener("focus",Ke=>{((mt,Ke)=>{const $e=Tn(Ke,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ut=mt.target;$e&&Ut&&!$e.classList.contains("ion-disable-focus-trap")&&($e.shadowRoot?(()=>{if($e.contains(Ut))$e.lastFocus=Ut;else{const on=$e.lastFocus;we($e,$e),on===Ke.activeElement&&qe($e,$e),$e.lastFocus=Ke.activeElement}})():(()=>{if($e===Ut)$e.lastFocus=void 0;else{const on=(0,ke.g)($e);if(!on.contains(Ut))return;const Bn=on.querySelector(".ion-overlay-wrapper");if(!Bn)return;if(Bn.contains(Ut)||Ut===on.querySelector("ion-backdrop"))$e.lastFocus=Ut;else{const $n=$e.lastFocus;we(Bn,$e),$n===Ke.activeElement&&qe(Bn,$e),$e.lastFocus=Ke.activeElement}}})())})(Ke,mt)},!0),mt.addEventListener("ionBackButton",Ke=>{const $e=Tn(mt);null!=$e&&$e.backdropDismiss&&Ke.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>$e.dismiss(void 0,it))}),mt.addEventListener("keydown",Ke=>{if("Escape"===Ke.key){const $e=Tn(mt);null!=$e&&$e.backdropDismiss&&$e.dismiss(void 0,it)}}))},Tt=(mt,Ke,$e,Ut,fn)=>{const rr=Tn(mt,Ut,fn);return rr?rr.dismiss(Ke,$e):Promise.reject("overlay does not exist")},Tn=(mt,Ke,$e)=>{const Ut=((mt,Ke)=>(void 0===Ke&&(Ke="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(mt.querySelectorAll(Ke)).filter($e=>$e.overlayIndex>0)))(mt,Ke).filter(fn=>!(mt=>mt.classList.contains("overlay-hidden"))(fn));return void 0===$e?Ut[Ut.length-1]:Ut.find(fn=>fn.id===$e)},_n=(mt=!1)=>{const $e=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");$e&&(mt?$e.setAttribute("aria-hidden","true"):$e.removeAttribute("aria-hidden"))},It=function(Ke,$e,Ut,fn,rr){return(L=L||(0,b.Z)(function*(on,Bn,$n,Xn,zn){var xn,In;if(on.presented)return;_n(!0),on.presented=!0,on.willPresent.emit(),null===(xn=on.willPresentShorthand)||void 0===xn||xn.emit();const Or=(0,E.b)(on),Ur=on.enterAnimation?on.enterAnimation:E.c.get(Bn,"ios"===Or?$n:Xn);(yield Me(on,Ur,on.el,zn))&&(on.didPresent.emit(),null===(In=on.didPresentShorthand)||void 0===In||In.emit()),"ION-TOAST"!==on.el.tagName&&me(on.el),on.keyboardClose&&(null===document.activeElement||!on.el.contains(document.activeElement))&&on.el.focus()})).apply(this,arguments)},me=function(Ke){return(De=De||(0,b.Z)(function*($e){let Ut=document.activeElement;if(!Ut)return;const fn=null==Ut?void 0:Ut.shadowRoot;fn&&(Ut=fn.querySelector(Ne)||Ut),yield $e.onDidDismiss(),Ut.focus()})).apply(this,arguments)},Te=function(Ke,$e,Ut,fn,rr,on,Bn){return(ze=ze||(0,b.Z)(function*($n,Xn,zn,xn,In,Or,Ur){var qr,Ln;if(!$n.presented)return!1;_n(!1),$n.presented=!1;try{$n.el.style.setProperty("pointer-events","none"),$n.willDismiss.emit({data:Xn,role:zn}),null===(qr=$n.willDismissShorthand)||void 0===qr||qr.emit({data:Xn,role:zn});const fr=(0,E.b)($n),bt=$n.leaveAnimation?$n.leaveAnimation:E.c.get(xn,"ios"===fr?In:Or);zn!==Mn&&(yield Me($n,bt,$n.el,Ur)),$n.didDismiss.emit({data:Xn,role:zn}),null===(Ln=$n.didDismissShorthand)||void 0===Ln||Ln.emit({data:Xn,role:zn}),J.delete($n),$n.el.classList.add("overlay-hidden"),$n.el.style.removeProperty("pointer-events"),void 0!==$n.el.lastFocus&&($n.el.lastFocus=void 0)}catch(fr){console.error(fr)}return $n.el.remove(),!0})).apply(this,arguments)},Pe=mt=>mt.querySelector("ion-app")||mt.body,Me=function(Ke,$e,Ut,fn){return(pe=pe||(0,b.Z)(function*(rr,on,Bn,$n){Bn.classList.remove("overlay-hidden");const zn=on(rr.el,$n);(!rr.animated||!E.c.getBoolean("animated",!0))&&zn.duration(0),rr.keyboardClose&&zn.beforeAddWrite(()=>{const In=Bn.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const xn=J.get(rr)||[];return J.set(rr,[...xn,zn]),yield zn.play(),!0})).apply(this,arguments)},nt=(mt,Ke)=>{let $e;const Ut=new Promise(fn=>$e=fn);return tt(mt,Ke,fn=>{$e(fn.detail)}),Ut},tt=(mt,Ke,$e)=>{const Ut=fn=>{(0,ke.b)(mt,Ke,Ut),$e(fn)};(0,ke.a)(mt,Ke,Ut)},Qt=mt=>"cancel"===mt||mt===it,ln=mt=>mt(),tn=(mt,Ke)=>{if("function"==typeof mt)return E.c.get("_zoneGate",ln)(()=>{try{return mt(Ke)}catch(Ut){throw Ut}})},it="backdrop",Mn="gesture",Jn=mt=>{var Ke;let Ut,$e=!1;const fn=(0,Ye.C)(),rr=($n=!1)=>{if(Ut&&!$n)return{delegate:Ut,inline:$e};const{el:Xn,hasController:zn,delegate:xn}=mt;return $e=null!==Xn.parentNode&&!zn,Ut=$e?xn||fn:xn,{inline:$e,delegate:Ut}};return{attachViewToDom:function(Xn){return(Ke=Ke||(0,b.Z)(function*(zn){const{delegate:xn}=rr(!0);if(xn)return yield xn.attachViewToDom(mt.el,zn);const{hasController:In}=mt;if(In&&void 0!==zn)throw new Error("framework delegate is missing");return null})).apply(this,arguments)},removeViewFromDom:()=>{const{delegate:$n}=rr();$n&&void 0!==mt.el&&$n.removeViewFromDom(mt.el.parentElement,mt.el)}}},en=()=>{let mt;const Ke=()=>{mt&&(mt(),mt=void 0)};return{addClickListener:(Ut,fn)=>{Ke();const rr=void 0!==fn?document.getElementById(fn):null;rr?mt=((Bn,$n)=>{const Xn=()=>{$n.present()};return Bn.addEventListener("click",Xn),()=>{Bn.removeEventListener("click",Xn)}})(rr,Ut):(0,Ve.p)(`A trigger element with the ID "${fn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ut)},removeClickListener:Ke}}},1274:(vn,pt,Z)=>{"use strict";Z.d(pt,{Z:()=>ke});var b=Z(5861),E=Z(1043),Ye=Z(2096),_e=Z(6689);let ke=(()=>{var Ve;class L{constructor(){}createProgram(ze){return(0,b.Z)(function*(){try{const pe=(0,E.ad)(),de=(0,E.hJ)(pe,"programmes"),ve=(0,E.JU)(de);yield(0,E.pl)(ve,ze),(0,E.r7)(ve,{id:ve.id}),console.log(`Programme cr\xe9\xe9 avec succ\xe8s avec l'ID : ${ve.id}`)}catch(pe){throw console.error("Erreur lors de la cr\xe9ation du programme :",pe),pe}})()}updateProgram(ze,pe){return(0,b.Z)(function*(){try{const de=(0,E.ad)(),ve=(0,E.JU)(de,"programmes",ze);(yield(0,E.QT)(ve)).exists()?(yield(0,E.r7)(ve,pe),console.log(`Programme avec l'ID ${ze} mis \xe0 jour avec succ\xe8s`)):console.log(`Le programme avec l'ID ${ze} n'existe pas.`)}catch(de){throw console.error("Erreur lors de la mise \xe0 jour du programme :",de),de}})()}deleteProgram(ze){return(0,b.Z)(function*(){try{const pe=(0,E.ad)(),de=(0,E.JU)(pe,"programmes",ze);(yield(0,E.QT)(de)).exists()?(yield(0,E.oe)(de),console.log(`Programme avec l'ID ${ze} supprim\xe9 avec succ\xe8s`)):console.log(`Le programme avec l'ID ${ze} n'existe pas.`)}catch(pe){throw console.error("Erreur lors de la suppression du programme :",pe),pe}})()}getAllPrograms(){return(0,b.Z)(function*(){const ze=(0,E.ad)(),pe=(0,E.hJ)(ze,"programmes");try{const de=yield(0,E.PL)(pe),ve=[];return de.forEach(J=>{ve.push(J.data())}),(0,Ye.of)(ve)}catch(de){return console.log(de),(0,Ye.of)([])}})()}}return(Ve=L).\u0275fac=function(ze){return new(ze||Ve)},Ve.\u0275prov=_e.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),L})()},2705:(vn,pt,Z)=>{"use strict";var b=Z(6593),E=Z(6689),Ye=Z(9599),_e=Z(1509);const ke=[{path:"",redirectTo:"demarrage",pathMatch:"full"},{path:"mosquee",loadChildren:()=>Promise.all([Z.e(8592),Z.e(253)]).then(Z.bind(Z,253)).then(n=>n.MosqueePageModule)},{path:"home",loadChildren:()=>Z.e(6260).then(Z.bind(Z,6260)).then(n=>n.HomePageModule)},{path:"names",loadChildren:()=>Z.e(3720).then(Z.bind(Z,3720)).then(n=>n.NamesPageModule)},{path:"radio",loadChildren:()=>Z.e(4418).then(Z.bind(Z,4418)).then(n=>n.RadioPageModule)},{path:"calendar",loadChildren:()=>Z.e(3917).then(Z.bind(Z,3917)).then(n=>n.CalendarPageModule)},{path:"preche",loadChildren:()=>Z.e(6112).then(Z.bind(Z,6112)).then(n=>n.PrechePageModule)},{path:"coran",loadChildren:()=>Z.e(8345).then(Z.bind(Z,8345)).then(n=>n.CoranPageModule)},{path:"player",loadChildren:()=>Z.e(4891).then(Z.bind(Z,4891)).then(n=>n.PlayerPageModule)},{path:"coran-display",loadChildren:()=>Z.e(2327).then(Z.bind(Z,2327)).then(n=>n.CoranDisplayPageModule)},{path:"infos-horaires/:id",loadChildren:()=>Promise.all([Z.e(8592),Z.e(8564)]).then(Z.bind(Z,8564)).then(n=>n.InfosHorairesPageModule)},{path:"list-programmes",loadChildren:()=>Z.e(5017).then(Z.bind(Z,5017)).then(n=>n.ListProgrammesPageModule)},{path:"mosquee-details",loadChildren:()=>Promise.all([Z.e(8592),Z.e(4469)]).then(Z.bind(Z,4469)).then(n=>n.MosqueeDetailsPageModule)},{path:"dons",loadChildren:()=>Z.e(5049).then(Z.bind(Z,5049)).then(n=>n.DonsPageModule)},{path:"connexion",loadChildren:()=>Z.e(5202).then(Z.bind(Z,5202)).then(n=>n.ConnexionPageModule)},{path:"demarrage",loadChildren:()=>Z.e(222).then(Z.bind(Z,222)).then(n=>n.DemarragePageModule)},{path:"inscrire",loadChildren:()=>Z.e(2124).then(Z.bind(Z,5463)).then(n=>n.InscrirePageModule)},{path:"changer",loadChildren:()=>Z.e(5682).then(Z.bind(Z,5682)).then(n=>n.ChangerPageModule)},{path:"new",loadChildren:()=>Z.e(7130).then(Z.bind(Z,7130)).then(n=>n.NouveauMotDePassePageModule)},{path:"profil",loadChildren:()=>Z.e(5736).then(Z.bind(Z,5736)).then(n=>n.ProfiladminPageModule)},{path:"inscrire",loadChildren:()=>Z.e(2124).then(Z.bind(Z,5463)).then(n=>n.InscrirePageModule)}];let Ve=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=E.oAB({type:n}),n.\u0275inj=E.cJS({imports:[Ye.Bz.forRoot(ke,{preloadingStrategy:Ye.wm}),Ye.Bz]}),e})();var L=Z(5861),De=Z(1274);let ze=(()=>{var n;class e{constructor(r){this.proServeice=r,this.mosque=null}ngOnInit(){this.test()}test(){return(0,L.Z)(function*(){})()}}return(n=e).\u0275fac=function(r){return new(r||n)(E.Y36(De.Z))},n.\u0275cmp=E.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(r,c){1&r&&(E.TgZ(0,"ion-app"),E._UZ(1,"ion-router-outlet"),E.qZA())},dependencies:[_e.dr,_e.jP]}),e})();const pe_firebase={apiKey:"AIzaSyDW9MK1pAcfgLo_M8w93nrcEXKrZ3FUclM",authDomain:"masjid-1f3cf.firebaseapp.com",projectId:"masjid-1f3cf",storageBucket:"masjid-1f3cf.appspot.com",messagingSenderId:"624648395471",appId:"1:624648395471:web:bd6b20f1d66ae6038d35ba",measurementId:"G-LMJLEJSFCJ"};var at,We,de=Z(4537),ve=Z(7879),J=Z(9058),Re=Z(1878);class Ee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ot(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const ht="@firebase/app",He=new ve.Yd("@firebase/app"),en="[DEFAULT]",mt={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,$e=new Map;function Ut(n,e){try{n.container.addComponent(e)}catch(t){He.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rr(n){const e=n.name;if($e.has(e))return He.debug(`There were multiple attempts to register component ${e}.`),!1;$e.set(e,n);for(const t of Ke.values())Ut(t,n);return!0}function on(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const zn=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const In="9.23.0";function Or(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:en,automaticDataCollectionEnabled:!1},e),c=r.name;if("string"!=typeof c||!c)throw zn.create("bad-app-name",{appName:String(c)});if(t||(t=(0,J.aH)()),!t)throw zn.create("no-options");const h=Ke.get(c);if(h){if((0,J.vZ)(t,h.options)&&(0,J.vZ)(r,h.config))return h;throw zn.create("duplicate-app",{appName:c})}const g=new de.H0(c);for(const T of $e.values())g.addComponent(T);const y=new xn(t,r,g);return Ke.set(c,y),y}function Ur(n=en){const e=Ke.get(n);if(!e&&n===en&&(0,J.aH)())return Or();if(!e)throw zn.create("no-app",{appName:n});return e}function qr(){return Array.from(Ke.values())}function fr(n,e,t){var r;let c=null!==(r=mt[n])&&void 0!==r?r:n;t&&(c+=`-${t}`);const h=c.match(/\s|\//),g=e.match(/\s|\//);if(h||g){const y=[`Unable to register library "${c}" with version "${e}":`];return h&&y.push(`library name "${c}" contains illegal characters (whitespace or "/")`),h&&g&&y.push("and"),g&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void He.warn(y.join(" "))}rr(new de.wA(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}const Ji="firebase-heartbeat-database",sn=1,Ei="firebase-heartbeat-store";let es=null;function wr(){return es||(es=(0,Re.X3)(Ji,sn,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ei)}}).catch(n=>{throw zn.create("idb-open",{originalErrorMessage:n.message})})),es}function Sr(n,e){return(We=We||(0,L.Z)(function*(t,r){try{const h=(yield wr()).transaction(Ei,"readwrite");yield h.objectStore(Ei).put(r,gn(t)),yield h.done}catch(c){if(c instanceof J.ZR)He.warn(c.message);else{const h=zn.create("idb-set",{originalErrorMessage:null==c?void 0:c.message});He.warn(h.message)}}})).apply(this,arguments)}function gn(n){return`${n.name}!${n.options.appId}`}class Nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jr(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,L.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=er();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==c&&!e._heartbeatsCache.heartbeats.some(h=>h.date===c))return e._heartbeatsCache.heartbeats.push({date:c,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(h=>{const g=new Date(h.date).valueOf();return Date.now()-g<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,L.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=er(),{heartbeatsToSend:r,unsentEntries:c}=function Hn(n,e=1024){const t=[];let r=n.slice();for(const c of n){const h=t.find(g=>g.agent===c.agent);if(h){if(h.dates.push(c.date),Se(t)>e){h.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),Se(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),h=(0,J.L)(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,c.length>0?(e._heartbeatsCache.heartbeats=c,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),h})()}}function er(){return(new Date).toISOString().substring(0,10)}class jr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,L.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Lr(n){return(at=at||(0,L.Z)(function*(e){try{return yield(yield wr()).transaction(Ei).objectStore(Ei).get(gn(e))}catch(t){if(t instanceof J.ZR)He.warn(t.message);else{const r=zn.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});He.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,L.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const h=yield t.read();return Sr(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:h.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,L.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const h=yield t.read();return Sr(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...e.heartbeats]})}})()}}function Se(n){return(0,J.L)(JSON.stringify({version:2,heartbeats:n})).length}!function ie(n){rr(new de.wA("platform-logger",e=>new Ee(e),"PRIVATE")),rr(new de.wA("heartbeat",e=>new Nn(e),"PRIVATE")),fr(ht,"0.9.13",n),fr(ht,"0.9.13","esm2017"),fr("fire-js","")}(""),fr("firebase","9.23.0","app");var ee=Z(4303);const Fe=(n,e)=>e.some(t=>n instanceof t);let _t,Ft;const Er=new WeakMap,Un=new WeakMap,Gr=new WeakMap,Mr=new WeakMap,ts=new WeakMap;let Tr={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Un.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Gr.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ci(n){return"function"==typeof n?function ms(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kn(){return Ft||(Ft=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(mi(this),e),Ri(Er.get(this))}:function(...e){return Ri(n.apply(mi(this),e))}:function(e,...t){const r=n.call(mi(this),e,...t);return Gr.set(r,e.sort?e.sort():[e]),Ri(r)}}(n):(n instanceof IDBTransaction&&function bs(n){if(Un.has(n))return;const e=new Promise((t,r)=>{const c=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",g),n.removeEventListener("abort",g)},h=()=>{t(),c()},g=()=>{r(n.error||new DOMException("AbortError","AbortError")),c()};n.addEventListener("complete",h),n.addEventListener("error",g),n.addEventListener("abort",g)});Un.set(n,e)}(n),Fe(n,function Dn(){return _t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Tr):n)}function Ri(n){if(n instanceof IDBRequest)return function Xr(n){const e=new Promise((t,r)=>{const c=()=>{n.removeEventListener("success",h),n.removeEventListener("error",g)},h=()=>{t(Ri(n.result)),c()},g=()=>{r(n.error),c()};n.addEventListener("success",h),n.addEventListener("error",g)});return e.then(t=>{t instanceof IDBCursor&&Er.set(t,n)}).catch(()=>{}),ts.set(e,n),e}(n);if(Mr.has(n))return Mr.get(n);const e=Ci(n);return e!==n&&(Mr.set(n,e),ts.set(e,n)),e}const mi=n=>ts.get(n),wi=["get","getKey","getAll","getAllKeys","count"],Fi=["put","add","delete","clear"],_i=new Map;function jn(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(_i.get(e))return _i.get(e);const r=e.replace(/FromIndex$/,""),c=e!==r,h=Fi.includes(r);if(!(r in(c?IDBIndex:IDBObjectStore).prototype)||!h&&!wi.includes(r))return;const g=function(T){return(t=t||(0,L.Z)(function*(S,...U){const Y=this.transaction(S,h?"readwrite":"readonly");let ce=Y.store;return c&&(ce=ce.index(U.shift())),(yield Promise.all([ce[r](...U),h&&Y.done]))[0]})).apply(this,arguments)};return _i.set(e,g),g}var ns,kr,yr,bo,di,Xs,Do,rs,Ds,co,Hi,zr,Pi,ut,Yt,X;!function Ti(n){Tr=n(Tr)}(n=>({...n,get:(e,t,r)=>jn(e,t)||n.get(e,t,r),has:(e,t)=>!!jn(e,t)||n.has(e,t)}));const Oe="@firebase/installations",ft="0.6.4",dt=1e4,Pt=`w:${ft}`,Mt="FIS_v2",St="https://firebaseinstallations.googleapis.com/v1",$t=36e5,Qn=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ai(n){return n instanceof J.ZR&&n.code.includes("request-failed")}function hi({projectId:n}){return`${St}/projects/${n}/installations`}function Co(n){return{token:n.token,requestStatus:2,expiresIn:zo(n.expiresIn),creationTime:Date.now()}}function Vs(n,e){return(ns=ns||(0,L.Z)(function*(t,r){const h=(yield r.json()).error;return Qn.create("request-failed",{requestName:t,serverCode:h.code,serverMessage:h.message,serverStatus:h.status})})).apply(this,arguments)}function bi({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function is(n){return(kr=kr||(0,L.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function zo(n){return Number(n.replace("s","000"))}function yi(n){return new Promise(e=>{setTimeout(e,n)})}const Ss=/^[cdef][\w-]{21}$/,ci="";function Ua(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function ca(n){return function Yr(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Ss.test(t)?t:ci}catch{return ci}}function _s(n){return`${n.appName}!${n.appId}`}const lo=new Map;function ic(n,e){const t=_s(n);ir(t,e),function Wr(n,e){const t=function ys(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=n=>{ir(n.data.key,n.data.fid)}),Vi}();t&&t.postMessage({key:n,fid:e}),function Bi(){0===lo.size&&Vi&&(Vi.close(),Vi=null)}()}(t,e)}function ir(n,e){const t=lo.get(n);if(t)for(const r of t)r(e)}let Vi=null;const Ta="firebase-installations-database",Jr=1,Bs="firebase-installations-store";let Ao=null;function Yn(){return Ao||(Ao=function Fs(n,e,{blocked:t,upgrade:r,blocking:c,terminated:h}={}){const g=indexedDB.open(n,e),y=Ri(g);return r&&g.addEventListener("upgradeneeded",T=>{r(Ri(g.result),T.oldVersion,T.newVersion,Ri(g.transaction))}),t&&g.addEventListener("blocked",()=>t()),y.then(T=>{h&&T.addEventListener("close",()=>h()),c&&T.addEventListener("versionchange",()=>c())}).catch(()=>{}),y}(Ta,Jr,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Bs)}})),Ao}function uo(n,e){return(bo=bo||(0,L.Z)(function*(t,r){const c=_s(t),g=(yield Yn()).transaction(Bs,"readwrite"),y=g.objectStore(Bs),T=yield y.get(c);return yield y.put(r,c),yield g.done,(!T||T.fid!==r.fid)&&ic(t,r.fid),r})).apply(this,arguments)}function Ho(n){return(di=di||(0,L.Z)(function*(e){const t=_s(e),c=(yield Yn()).transaction(Bs,"readwrite");yield c.objectStore(Bs).delete(t),yield c.done})).apply(this,arguments)}function $s(n,e){return(Xs=Xs||(0,L.Z)(function*(t,r){const c=_s(t),g=(yield Yn()).transaction(Bs,"readwrite"),y=g.objectStore(Bs),T=yield y.get(c),S=r(T);return void 0===S?yield y.delete(c):yield y.put(S,c),yield g.done,S&&(!T||T.fid!==S.fid)&&ic(t,S.fid),S})).apply(this,arguments)}function Fr(n){return(Do=Do||(0,L.Z)(function*(e){let t;const r=yield $s(e.appConfig,c=>{const h=function qo(n){return vs(n||{fid:Ua(),registrationStatus:0})}(c),g=function Wo(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qn.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Us(n,e){return(rs=rs||(0,L.Z)(function*(t,r){try{const c=yield function Cn(n,e){return(yr=yr||(0,L.Z)(function*({appConfig:t,heartbeatServiceProvider:r},{fid:c}){const h=hi(t),g=bi(t),y=r.getImmediate({optional:!0});if(y){const Y=yield y.getHeartbeatsHeader();Y&&g.append("x-firebase-client",Y)}const S={method:"POST",headers:g,body:JSON.stringify({fid:c,authVersion:Mt,appId:t.appId,sdkVersion:Pt})},U=yield is(()=>fetch(h,S));if(U.ok){const Y=yield U.json();return{fid:Y.fid||c,registrationStatus:2,refreshToken:Y.refreshToken,authToken:Co(Y.authToken)}}throw yield Vs("Create Installation",U)})).apply(this,arguments)}(t,r);return uo(t.appConfig,c)}catch(c){throw ai(c)&&409===c.customData.serverCode?yield Ho(t.appConfig):yield uo(t.appConfig,{fid:r.fid,registrationStatus:0}),c}})).apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wa(n)}:{installationEntry:e}}(e,h);return t=g.registrationPromise,g.installationEntry});return r.fid===ci?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})).apply(this,arguments)}function wa(n){return(Ds=Ds||(0,L.Z)(function*(e){let t=yield ba(e.appConfig);for(;1===t.registrationStatus;)yield yi(100),t=yield ba(e.appConfig);if(0===t.registrationStatus){const{installationEntry:r,registrationPromise:c}=yield Fr(e);return c||r}return t})).apply(this,arguments)}function ba(n){return $s(n,e=>{if(!e)throw Qn.create("installation-not-found");return vs(e)})}function vs(n){return function xs(n){return 1===n.registrationStatus&&n.registrationTime+dt<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function la(n,e){return(co=co||(0,L.Z)(function*({appConfig:t,heartbeatServiceProvider:r},c){const h=function Da(n,{fid:e}){return`${hi(n)}/${e}/authTokens:generate`}(t,c),g=function Cs(n,{refreshToken:e}){const t=bi(n);return t.append("Authorization",function As(n){return`${Mt} ${n}`}(e)),t}(t,c),y=r.getImmediate({optional:!0});if(y){const Y=yield y.getHeartbeatsHeader();Y&&g.append("x-firebase-client",Y)}const S={method:"POST",headers:g,body:JSON.stringify({installation:{sdkVersion:Pt,appId:t.appId}})},U=yield is(()=>fetch(h,S));if(U.ok)return Co(yield U.json());throw yield Vs("Generate Auth Token",U)})).apply(this,arguments)}function cr(n){return(Hi=Hi||(0,L.Z)(function*(e,t=!1){let r;const c=yield $s(e.appConfig,g=>{if(!qi(g))throw Qn.create("not-registered");const y=g.authToken;if(!t&&function sc(n){return 2===n.requestStatus&&!function Aa(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$t}(n)}(y))return g;if(1===y.requestStatus)return r=function Ca(n,e){return(zr=zr||(0,L.Z)(function*(t,r){let c=yield Rs(t.appConfig);for(;1===c.authToken.requestStatus;)yield yi(100),c=yield Rs(t.appConfig);const h=c.authToken;return 0===h.requestStatus?cr(t,r):h})).apply(this,arguments)}(e,t),g;{if(!navigator.onLine)throw Qn.create("app-offline");const T=function oc(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(g);return r=function fi(n,e){return(Pi=Pi||(0,L.Z)(function*(t,r){try{const c=yield la(t,r),h=Object.assign(Object.assign({},r),{authToken:c});return yield uo(t.appConfig,h),c}catch(c){if(!ai(c)||401!==c.customData.serverCode&&404!==c.customData.serverCode){const h=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield uo(t.appConfig,h)}else yield Ho(t.appConfig);throw c}})).apply(this,arguments)}(e,T),T}});return r?yield r:c.authToken})).apply(this,arguments)}function Rs(n){return $s(n,e=>{if(!qi(e))throw Qn.create("not-registered");return function Mi(n){return 1===n.requestStatus&&n.requestTime+dt<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function qi(n){return void 0!==n&&2===n.registrationStatus}function ei(n){return Qn.create("missing-app-config-values",{valueName:n})}const cu="installations",W=n=>{const e=n.getProvider("app").getImmediate(),t=function cc(n){if(!n||!n.options)throw ei("App Configuration");if(!n.name)throw ei("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw ei(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,ee._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},V=n=>{const e=n.getProvider("app").getImmediate(),t=(0,ee._getProvider)(e,cu).getImmediate();return{getId:()=>function Xc(n){return(ut=ut||(0,L.Z)(function*(e){const t=e,{installationEntry:r,registrationPromise:c}=yield Fr(t);return c?c.catch(console.error):cr(t).catch(console.error),r.fid})).apply(this,arguments)}(t),getToken:c=>function Is(n){return(Yt=Yt||(0,L.Z)(function*(e,t=!1){const r=e;return yield function Wi(n){return(X=X||(0,L.Z)(function*(e){const{registrationPromise:t}=yield Fr(e);t&&(yield t)})).apply(this,arguments)}(r),(yield cr(r,t)).token})).apply(this,arguments)}(t,c)}};var D;(function le(){(0,ee._registerComponent)(new de.wA(cu,W,"PUBLIC")),(0,ee._registerComponent)(new de.wA("installations-internal",V,"PRIVATE"))})(),(0,ee.registerVersion)(Oe,ft),(0,ee.registerVersion)(Oe,ft,"esm2017");const z="@firebase/remote-config",C="0.4.4",Zt=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ua{constructor(e,t,r,c){this.client=e,this.storage=t,this.storageCache=r,this.logger=c}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,c=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${c}.`),c}fetch(e){var t=this;return(0,L.Z)(function*(){const[r,c]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(c&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return c;e.eTag=c&&c.eTag;const h=yield t.client.fetch(e),g=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===h.status&&g.push(t.storage.setLastSuccessfulFetchResponse(h)),yield Promise.all(g),h})()}}function uu(n=navigator){return n.languages&&n.languages[0]||n.language}class Jc{constructor(e,t,r,c,h,g){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=c,this.apiKey=h,this.appId=g}fetch(e){var t=this;return(0,L.Z)(function*(){const[r,c]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),g=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,y={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},T={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:c,app_id:t.appId,language_code:uu()},S={method:"POST",headers:y,body:JSON.stringify(T)},U=fetch(g,S),Y=new Promise((Kt,nr)=>{e.signal.addEventListener(()=>{const kn=new Error("The operation was aborted.");kn.name="AbortError",nr(kn)})});let ce;try{yield Promise.race([U,Y]),ce=yield U}catch(Kt){let nr="fetch-client-network";throw"AbortError"===(null==Kt?void 0:Kt.name)&&(nr="fetch-timeout"),Zt.create(nr,{originalErrorMessage:null==Kt?void 0:Kt.message})}let Ie=ce.status;const rt=ce.headers.get("ETag")||void 0;let Ct,Ot;if(200===ce.status){let Kt;try{Kt=yield ce.json()}catch(nr){throw Zt.create("fetch-client-parse",{originalErrorMessage:null==nr?void 0:nr.message})}Ct=Kt.entries,Ot=Kt.state}if("INSTANCE_STATE_UNSPECIFIED"===Ot?Ie=500:"NO_CHANGE"===Ot?Ie=304:("NO_TEMPLATE"===Ot||"EMPTY_CONFIG"===Ot)&&(Ct={}),304!==Ie&&200!==Ie)throw Zt.create("fetch-status",{httpStatus:Ie});return{status:Ie,eTag:rt,config:Ct}})()}}class ah{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,L.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var c=this;return(0,L.Z)(function*(){yield function Sc(n,e){return new Promise((t,r)=>{const c=Math.max(e-Date.now(),0),h=setTimeout(t,c);n.addEventListener(()=>{clearTimeout(h),r(Zt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const h=yield c.client.fetch(e);return yield c.storage.deleteThrottleMetadata(),h}catch(h){if(!function el(n){if(!(n instanceof J.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h))throw h;const g={throttleEndTimeMillis:Date.now()+(0,J.$s)(r),backoffCount:r+1};return yield c.storage.setThrottleMetadata(g),c.attemptFetch(e,g)}})()}}class Ki{constructor(e,t,r,c,h){this.app=e,this._client=t,this._storageCache=r,this._storage=c,this._logger=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xc(n,e){const t=n.target.error||void 0;return Zt.create(e,{originalErrorMessage:t&&(null==t?void 0:t.message)})}const lc="app_namespace_store";class Ra{constructor(e,t,r,c=function Rl(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xc(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lc,{keyPath:"compositeKey"})}}catch(t){e(Zt.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=c}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,L.Z)(function*(){const r=yield t.openDbPromise;return new Promise((c,h)=>{const y=r.transaction([lc],"readonly").objectStore(lc),T=t.createCompositeKey(e);try{const S=y.get(T);S.onerror=U=>{h(xc(U,"storage-get"))},S.onsuccess=U=>{const Y=U.target.result;c(Y?Y.value:void 0)}}catch(S){h(Zt.create("storage-get",{originalErrorMessage:null==S?void 0:S.message}))}})})()}set(e,t){var r=this;return(0,L.Z)(function*(){const c=yield r.openDbPromise;return new Promise((h,g)=>{const T=c.transaction([lc],"readwrite").objectStore(lc),S=r.createCompositeKey(e);try{const U=T.put({compositeKey:S,value:t});U.onerror=Y=>{g(xc(Y,"storage-set"))},U.onsuccess=()=>{h()}}catch(U){g(Zt.create("storage-set",{originalErrorMessage:null==U?void 0:U.message}))}})})()}delete(e){var t=this;return(0,L.Z)(function*(){const r=yield t.openDbPromise;return new Promise((c,h)=>{const y=r.transaction([lc],"readwrite").objectStore(lc),T=t.createCompositeKey(e);try{const S=y.delete(T);S.onerror=U=>{h(xc(U,"storage-delete"))},S.onsuccess=()=>{c()}}catch(S){h(Zt.create("storage-delete",{originalErrorMessage:null==S?void 0:S.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class sy{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,L.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),c=e.storage.getActiveConfig(),h=yield t;h&&(e.lastFetchStatus=h);const g=yield r;g&&(e.lastSuccessfulFetchTimestampMillis=g);const y=yield c;y&&(e.activeConfig=y)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ye(){return(D=D||(0,L.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}!function P(){(0,ee._registerComponent)(new de.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),c=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zt.create("registration-window");if(!(0,J.hl)())throw Zt.create("indexed-db-unavailable");const{projectId:h,apiKey:g,appId:y}=r.options;if(!h)throw Zt.create("registration-project-id");if(!g)throw Zt.create("registration-api-key");if(!y)throw Zt.create("registration-app-id");const T=new Ra(y,r.name,t=t||"firebase"),S=new sy(T),U=new ve.Yd(z);U.logLevel=ve.in.ERROR;const Y=new Jc(c,ee.SDK_VERSION,t,h,g,y),ce=new ah(Y,T),Ie=new ua(ce,T,S,U),rt=new Ki(r,Ie,S,T,U);return function xo(n){const e=(0,J.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(rt),rt},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(z,C),(0,ee.registerVersion)(z,C,"esm2017")}();const $=(n,e)=>e.some(t=>n instanceof t);let ue,xe;const vr=new WeakMap,Ir=new WeakMap,xr=new WeakMap,ur=new WeakMap,ii=new WeakMap;let Zo={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ir.get(n);if("objectStoreNames"===e)return n.objectStoreNames||xr.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function js(n){return"function"==typeof n?function Pc(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qt(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Pa(this),e),Gs(vr.get(this))}:function(...e){return Gs(n.apply(Pa(this),e))}:function(e,...t){const r=n.call(Pa(this),e,...t);return xr.set(r,e.sort?e.sort():[e]),Gs(r)}}(n):(n instanceof IDBTransaction&&function as(n){if(Ir.has(n))return;const e=new Promise((t,r)=>{const c=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",g),n.removeEventListener("abort",g)},h=()=>{t(),c()},g=()=>{r(n.error||new DOMException("AbortError","AbortError")),c()};n.addEventListener("complete",h),n.addEventListener("error",g),n.addEventListener("abort",g)});Ir.set(n,e)}(n),$(n,function wt(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Zo):n)}function Gs(n){if(n instanceof IDBRequest)return function ti(n){const e=new Promise((t,r)=>{const c=()=>{n.removeEventListener("success",h),n.removeEventListener("error",g)},h=()=>{t(Gs(n.result)),c()},g=()=>{r(n.error),c()};n.addEventListener("success",h),n.addEventListener("error",g)});return e.then(t=>{t instanceof IDBCursor&&vr.set(t,n)}).catch(()=>{}),ii.set(e,n),e}(n);if(ur.has(n))return ur.get(n);const e=js(n);return e!==n&&(ur.set(n,e),ii.set(e,n)),e}const Pa=n=>ii.get(n);function Qo(n,e,{blocked:t,upgrade:r,blocking:c,terminated:h}={}){const g=indexedDB.open(n,e),y=Gs(g);return r&&g.addEventListener("upgradeneeded",T=>{r(Gs(g.result),T.oldVersion,T.newVersion,Gs(g.transaction))}),t&&g.addEventListener("blocked",()=>t()),y.then(T=>{h&&T.addEventListener("close",()=>h()),c&&T.addEventListener("versionchange",()=>c())}).catch(()=>{}),y}function hu(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Gs(t).then(()=>{})}const Ff=["get","getKey","getAll","getAllKeys","count"],Ug=["put","add","delete","clear"],fu=new Map;function Vf(n,e){var t;if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(fu.get(e))return fu.get(e);const r=e.replace(/FromIndex$/,""),c=e!==r,h=Ug.includes(r);if(!(r in(c?IDBIndex:IDBObjectStore).prototype)||!h&&!Ff.includes(r))return;const g=function(T){return(t=t||(0,L.Z)(function*(S,...U){const Y=this.transaction(S,h?"readwrite":"readonly");let ce=Y.store;return c&&(ce=ce.index(U.shift())),(yield Promise.all([ce[r](...U),h&&Y.done]))[0]})).apply(this,arguments)};return fu.set(e,g),g}var ji,ch,rd,si,id,pu,fo,Bf,$f,tl,po,lh,jg,uh,eo,dh,Gg,Uf,jf,sd;!function Ga(n){Zo=n(Zo)}(n=>({...n,get:(e,t,r)=>Vf(e,t)||n.get(e,t,r),has:(e,t)=>!!Vf(e,t)||n.has(e,t)}));const Gf="/firebase-messaging-sw.js",oy="/firebase-cloud-messaging-push-scope",zg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zf="https://fcmregistrations.googleapis.com/v1",Hf="google.c.a.c_id",Hg="google.c.a.c_l",cs="google.c.a.ts";var rl=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(rl||{});function uc(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zt(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),c=new Uint8Array(r.length);for(let h=0;h<r.length;++h)c[h]=r.charCodeAt(h);return c}const At="fcm_token_details_db",_r=5,fh="fcm_token_object_Store",qg="firebase-messaging-database",dn=1,lt="firebase-messaging-store";let Vt=null;function ls(){return Vt||(Vt=Qo(qg,dn,{upgrade:(n,e)=>{0===e&&n.createObjectStore(lt)}})),Vt}function Wg(n){return(ch=ch||(0,L.Z)(function*(e){const t=Ro(e),c=yield(yield ls()).transaction(lt).objectStore(lt).get(t);if(c)return c;{const h=yield function Rn(n){return(ji=ji||(0,L.Z)(function*(e){var t;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(y=>y.name).includes(At))return null;let r=null;return(yield Qo(At,_r,{upgrade:function(g,y,T,S){return(t=t||(0,L.Z)(function*(U,Y,ce,Ie){var rt;if(Y<2||!U.objectStoreNames.contains(fh))return;const Ct=Ie.objectStore(fh),Ot=yield Ct.index("fcmSenderId").get(e);if(yield Ct.clear(),Ot)if(2===Y){const Kt=Ot;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;r={token:Kt.fcmToken,createTime:null!==(rt=Kt.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:uc(Kt.vapidKey)}}}else if(3===Y){const Kt=Ot;r={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:uc(Kt.auth),p256dh:uc(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:uc(Kt.vapidKey)}}}else if(4===Y){const Kt=Ot;r={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:uc(Kt.auth),p256dh:uc(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:uc(Kt.vapidKey)}}}})).apply(this,arguments)}})).close(),yield hu(At),yield hu("fcm_vapid_details_db"),yield hu("undefined"),function En(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(h)return yield ay(e,h),h}})).apply(this,arguments)}function ay(n,e){return(rd=rd||(0,L.Z)(function*(t,r){const c=Ro(t),g=(yield ls()).transaction(lt,"readwrite");return yield g.objectStore(lt).put(r,c),yield g.done,r})).apply(this,arguments)}function Ro({appConfig:n}){return n.appId}const A=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function M(n,e){return(id=id||(0,L.Z)(function*(t,r){const c=yield re(t),h=se(r),g={method:"POST",headers:c,body:JSON.stringify(h)};let y;try{y=yield(yield fetch(B(t.appConfig),g)).json()}catch(T){throw A.create("token-subscribe-failed",{errorInfo:null==T?void 0:T.toString()})}if(y.error)throw A.create("token-subscribe-failed",{errorInfo:y.error.message});if(!y.token)throw A.create("token-subscribe-no-token");return y.token})).apply(this,arguments)}function R(n,e){return(fo=fo||(0,L.Z)(function*(t,r){const h={method:"DELETE",headers:yield re(t)};try{const y=yield(yield fetch(`${B(t.appConfig)}/${r}`,h)).json();if(y.error)throw A.create("token-unsubscribe-failed",{errorInfo:y.error.message})}catch(g){throw A.create("token-unsubscribe-failed",{errorInfo:null==g?void 0:g.toString()})}})).apply(this,arguments)}function B({projectId:n}){return`${zf}/projects/${n}/registrations`}function re(n){return(Bf=Bf||(0,L.Z)(function*({appConfig:e,installations:t}){const r=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function se({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const c={web:{endpoint:t,auth:e,p256dh:n}};return r!==zg&&(c.web.applicationPubKey=r),c}const Qe=6048e5;function jt(n){return($f=$f||(0,L.Z)(function*(e){const t=yield function Wn(n,e){return(jg=jg||(0,L.Z)(function*(t,r){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zt(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:uc(t.getKey("auth")),p256dh:uc(t.getKey("p256dh"))},c=yield Wg(e.firebaseDependencies);if(c){if(function to(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(c.subscriptionOptions,r))return Date.now()>=c.createTime+Qe?function yt(n,e){return(po=po||(0,L.Z)(function*(t,r){try{const c=yield function O(n,e){return(pu=pu||(0,L.Z)(function*(t,r){const c=yield re(t),h=se(r.subscriptionOptions),g={method:"PATCH",headers:c,body:JSON.stringify(h)};let y;try{y=yield(yield fetch(`${B(t.appConfig)}/${r.token}`,g)).json()}catch(T){throw A.create("token-update-failed",{errorInfo:null==T?void 0:T.toString()})}if(y.error)throw A.create("token-update-failed",{errorInfo:y.error.message});if(!y.token)throw A.create("token-update-no-token");return y.token})).apply(this,arguments)}(t.firebaseDependencies,r),h=Object.assign(Object.assign({},r),{token:c,createTime:Date.now()});return yield ay(t.firebaseDependencies,h),c}catch(c){throw yield function Xe(n){return(tl=tl||(0,L.Z)(function*(e){const t=yield Wg(e.firebaseDependencies);t&&(yield R(e.firebaseDependencies,t.token),yield function cy(n){return(si=si||(0,L.Z)(function*(e){const t=Ro(e),c=(yield ls()).transaction(lt,"readwrite");yield c.objectStore(lt).delete(t),yield c.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(t),c}})).apply(this,arguments)}(e,{token:c.token,createTime:Date.now(),subscriptionOptions:r}):c.token;try{yield R(e.firebaseDependencies,c.token)}catch(h){console.warn(h)}return qn(e.firebaseDependencies,r)}return qn(e.firebaseDependencies,r)})).apply(this,arguments)}function qn(n,e){return(lh=lh||(0,L.Z)(function*(t,r){const h={token:yield M(t,r),createTime:Date.now(),subscriptionOptions:r};return yield ay(t,h),h.token})).apply(this,arguments)}function sr(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Xt(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const c=e.notification.image;c&&(n.notification.image=c);const h=e.notification.icon;h&&(n.notification.icon=h)}(e,n),function Xo(n,e){e.data&&(n.data=e.data)}(e,n),function sl(n,e){var t,r,c,h,g;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const y=null!==(c=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==c?c:null===(h=e.notification)||void 0===h?void 0:h.click_action;y&&(n.fcmOptions.link=y);const T=null===(g=e.fcmOptions)||void 0===g?void 0:g.analytics_label;T&&(n.fcmOptions.analyticsLabel=T)}(e,n),e}function gu(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Ps(n){return A.create("missing-app-config-values",{valueName:n})}gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dc{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const c=function Mc(n){if(!n||!n.options)throw Ps("App Configuration Object");if(!n.name)throw Ps("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Ps(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:c,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function qf(n,e){return(Gg=Gg||(0,L.Z)(function*(t,r){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw A.create("permission-blocked");return yield function za(n,e){return(dh=dh||(0,L.Z)(function*(t,r){r?t.vapidKey=r:t.vapidKey||(t.vapidKey=zg)})).apply(this,arguments)}(t,null==r?void 0:r.vapidKey),yield function ly(n,e){return(eo=eo||(0,L.Z)(function*(t,r){if(!r&&!t.swRegistration&&(yield function Yi(n){return(uh=uh||(0,L.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Gf,{scope:oy}),e.swRegistration.update().catch(()=>{})}catch(t){throw A.create("failed-service-worker-registration",{browserErrorMessage:null==t?void 0:t.message})}})).apply(this,arguments)}(t)),r||!t.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");t.swRegistration=r}})).apply(this,arguments)}(t,null==r?void 0:r.serviceWorkerRegistration),jt(t)})).apply(this,arguments)}function Pl(n,e){return(jf=jf||(0,L.Z)(function*(t,r){const c=r.data;if(!c.isFirebaseMessaging)return;t.onMessageHandler&&c.messageType===rl.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sr(c)):t.onMessageHandler.next(sr(c)));const h=c.data;(function ha(n){return"object"==typeof n&&!!n&&Hf in n})(h)&&"1"===h["google.c.a.e"]&&(yield function r0(n,e,t){return(Uf=Uf||(0,L.Z)(function*(r,c,h){const g=function uy(n){switch(n){case rl.NOTIFICATION_CLICKED:return"notification_open";case rl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(c);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(g,{message_id:h[Hf],message_name:h[Hg],message_time:h[cs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(t,c.messageType,h))})).apply(this,arguments)}const st="@firebase/messaging",kc=n=>{const e=new dc(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Pl(e,t)),e},Kg=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>qf(e,r)}};function fc(){return(sd=sd||(0,L.Z)(function*(){try{yield(0,J.eu)()}catch{return!1}return typeof window<"u"&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Ma,Kf,yu,a0,No,c0,ph,Zg,Zf;!function mu(){(0,ee._registerComponent)(new de.wA("messaging",kc,"PUBLIC")),(0,ee._registerComponent)(new de.wA("messaging-internal",Kg,"PRIVATE")),(0,ee.registerVersion)(st,"0.12.4"),(0,ee.registerVersion)(st,"0.12.4","esm2017")}();const Qf="analytics",u0="firebase_id",Tw="origin",al=6e4,ww="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gh="https://www.googletagmanager.com/gtag/js",no=new ve.Yd("@firebase/analytics"),Po=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fy(n){if(!n.startsWith(gh)){const e=Po.create("invalid-gtag-resource",{gtagURL:n});return no.warn(e.message),""}return n}function h0(n){return Promise.all(n.map(e=>e.catch(t=>t)))}const kl=30,Xf=new class vi{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pi(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function yy(n){return(a0=a0||(0,L.Z)(function*(e,t=Xf,r){const{appId:c,apiKey:h,measurementId:g}=e.options;if(!c)throw Po.create("no-app-id");if(!h){if(g)return{measurementId:g,appId:c};throw Po.create("no-api-key")}const y=t.getThrottleMetadata(c)||{backoffCount:0,throttleEndTimeMillis:Date.now()},T=new Iy;return setTimeout((0,L.Z)(function*(){T.abort()}),void 0!==r?r:al),Nl({appId:c,apiKey:h,measurementId:g},y,T,t)})).apply(this,arguments)}function Nl(n,e,t){return(No=No||(0,L.Z)(function*(r,{throttleEndTimeMillis:c,backoffCount:h},g,y=Xf){var T;const{appId:S,measurementId:U}=r;try{yield function ka(n,e){return new Promise((t,r)=>{const c=Math.max(e-Date.now(),0),h=setTimeout(t,c);n.addEventListener(()=>{clearTimeout(h),r(Po.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(g,c)}catch(Y){if(U)return no.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${U} provided in the "measurementId" field in the local Firebase config. [${null==Y?void 0:Y.message}]`),{appId:S,measurementId:U};throw Y}try{const Y=yield function Gi(n){return(yu=yu||(0,L.Z)(function*(e){var t;const{appId:r,apiKey:c}=e,h={method:"GET",headers:pi(c)},g=ww.replace("{app-id}",r),y=yield fetch(g,h);if(200!==y.status&&304!==y.status){let T="";try{const S=yield y.json();null!==(t=S.error)&&void 0!==t&&t.message&&(T=S.error.message)}catch{}throw Po.create("config-fetch-failed",{httpStatus:y.status,responseMessage:T})}return y.json()})).apply(this,arguments)}(r);return y.deleteThrottleMetadata(S),Y}catch(Y){const ce=Y;if(!function vy(n){if(!(n instanceof J.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(ce)){if(y.deleteThrottleMetadata(S),U)return no.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${U} provided in the "measurementId" field in the local Firebase config. [${null==ce?void 0:ce.message}]`),{appId:S,measurementId:U};throw Y}const Ie=503===Number(null===(T=null==ce?void 0:ce.customData)||void 0===T?void 0:T.httpStatus)?(0,J.$s)(h,y.intervalMillis,kl):(0,J.$s)(h,y.intervalMillis),rt={throttleEndTimeMillis:Date.now()+Ie,backoffCount:h+1};return y.setThrottleMetadata(S,rt),no.debug(`Calling attemptFetch again in ${Ie} millis`),Nl(r,rt,g,y)}})).apply(this,arguments)}class Iy{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let zi,ad;function Ty(n,e,t,r,c,h,g){return(Zg=Zg||(0,L.Z)(function*(y,T,S,U,Y,ce,Ie){var rt;const Ct=yy(y);Ct.then(pr=>{S[pr.measurementId]=pr.appId,y.options.measurementId&&pr.measurementId!==y.options.measurementId&&no.warn(`The measurement ID in the local Firebase config (${y.options.measurementId}) does not match the measurement ID fetched from the server (${pr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pr=>no.error(pr)),T.push(Ct);const Ot=function cd(){return(ph=ph||(0,L.Z)(function*(){if(!(0,J.hl)())return no.warn(Po.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(n){return no.warn(Po.create("indexeddb-unavailable",{errorInfo:null==n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}().then(pr=>{if(pr)return U.getId()}),[Kt,nr]=yield Promise.all([Ct,Ot]);(function p0(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gh)&&t.src.includes(n))return t;return null})(ce)||function f0(n,e){const t=function py(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:fy}),r=document.createElement("script"),c=`${gh}?l=${n}&id=${e}`;r.src=t?null==t?void 0:t.createScriptURL(c):c,r.async=!0,document.head.appendChild(r)}(ce,Kt.measurementId),ad&&(Y("consent","default",ad),function Dw(n){ad=n}(void 0)),Y("js",new Date);const kn=null!==(rt=null==Ie?void 0:Ie.config)&&void 0!==rt?rt:{};return kn[Tw]="firebase",kn.update=!0,null!=nr&&(kn[u0]=nr),Y("config",Kt.measurementId,kn),zi&&(Y("set",zi),function vu(n){zi=n}(void 0)),Kt.measurementId})).apply(this,arguments)}class ld{constructor(e){this.app=e}_delete(){return delete Mo[this.app.options.appId],Promise.resolve()}}let Mo={},Oc=[];const Ll={};let Qg,Oo,Jf="dataLayer",Fl=!1;function wy(n,e,t){!function cl(){const n=[];if((0,J.ru)()&&n.push("This is a browser extension environment."),(0,J.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,c)=>`(${c+1}) ${r}`).join(" "),t=Po.create("invalid-analytics-context",{errorInfo:e});no.warn(t.message)}}();const r=n.options.appId;if(!r)throw Po.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Po.create("no-api-key");no.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mo[r])throw Po.create("already-exists",{id:r});if(!Fl){!function gy(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Jf);const{wrappedGtag:h,gtagCore:g}=function us(n,e,t,r,c){let h=function(...g){window[r].push(arguments)};return window[c]&&"function"==typeof window[c]&&(h=window[c]),window[c]=function mh(n,e,t,r){var c;return function h(g){return(c=c||(0,L.Z)(function*(y,...T){try{if("event"===y){const[S,U]=T;yield function bw(n,e,t,r,c){return(Kf=Kf||(0,L.Z)(function*(h,g,y,T,S){try{let U=[];if(S&&S.send_to){let Y=S.send_to;Array.isArray(Y)||(Y=[Y]);const ce=yield h0(y);for(const Ie of Y){const rt=ce.find(Ot=>Ot.measurementId===Ie),Ct=rt&&g[rt.appId];if(!Ct){U=[];break}U.push(Ct)}}0===U.length&&(U=Object.values(g)),yield Promise.all(U),h("event",T,S||{})}catch(U){no.error(U)}})).apply(this,arguments)}(n,e,t,S,U)}else if("config"===y){const[S,U]=T;yield function my(n,e,t,r,c,h){return(Ma=Ma||(0,L.Z)(function*(g,y,T,S,U,Y){const ce=S[U];try{if(ce)yield y[ce];else{const rt=(yield h0(T)).find(Ct=>Ct.measurementId===U);rt&&(yield y[rt.appId])}}catch(Ie){no.error(Ie)}g("config",U,Y)})).apply(this,arguments)}(n,e,t,r,S,U)}else if("consent"===y){const[S]=T;n("consent","update",S)}else if("get"===y){const[S,U,Y]=T;n("get",S,U,Y)}else if("set"===y){const[S]=T;n("set",S)}else n(y,...T)}catch(S){no.error(S)}})).apply(this,arguments)}}(h,n,e,t),{gtagCore:h,wrappedGtag:window[c]}}(Mo,Oc,Ll,Jf,"gtag");Oo=h,Qg=g,Fl=!0}return Mo[r]=Ty(n,Oc,Ll,e,Qg,Jf,t),new ld(n)}function ep(){return(Zf=Zf||(0,L.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch{return!1}})).apply(this,arguments)}const Vl="@firebase/analytics";!function g0(){(0,ee._registerComponent)(new de.wA(Qf,(e,{options:t})=>wy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,ee._registerComponent)(new de.wA("analytics-internal",function n(e){try{const t=e.getProvider(Qf).getImmediate();return{logEvent:(r,c,h)=>function Cw(n,e,t,r){n=(0,J.m9)(n),function _h(n,e,t,r,c){return(c0=c0||(0,L.Z)(function*(h,g,y,T,S){if(S&&S.global)h("event",y,T);else{const U=yield g;h("event",y,Object.assign(Object.assign({},T),{send_to:U}))}})).apply(this,arguments)}(Oo,Mo[n.app.options.appId],e,t,r).catch(c=>no.error(c))}(t,r,c,h)}}catch(t){throw Po.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,ee.registerVersion)(Vl,"0.10.0"),(0,ee.registerVersion)(Vl,"0.10.0","esm2017")}();var yh=Z(7394);class Aw extends yh.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const tp={setInterval(n,e,...t){const{delegate:r}=tp;return null!=r&&r.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=tp;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var Vr=Z(9039);class oi extends Aw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const c=this.id,h=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(h,c,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(h,this.id,t),this}requestAsyncId(e,t,r=0){return tp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&tp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let c,r=!1;try{this.work(e)}catch(h){r=!0,c=h||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Vr.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const ud={now:()=>(ud.delegate||Date).now(),delegate:void 0};class dd{constructor(e,t=dd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}dd.now=ud.now;class Ih extends dd{constructor(e,t=dd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Ay=new class Cy extends Ih{}(class vh extends oi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),np=new Ih(oi);var m0=Z(5592),xw=Z(9397),Eu=Z(5137),Eh=Z(3093);const rp=new E.GfV("7.6.1"),_0="__angularfire_symbol__analyticsIsSupportedValue",Jg="__angularfire_symbol__analyticsIsSupported",xy="__angularfire_symbol__remoteConfigIsSupportedValue",em="__angularfire_symbol__remoteConfigIsSupported",Bl="__angularfire_symbol__messagingIsSupportedValue",hd="__angularfire_symbol__messagingIsSupported";function pc(n,e,t){if(e){if(1===e.length)return e[0];const h=e.filter(g=>g.app===t);if(1===h.length)return h[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Jg]||(globalThis[Jg]=ep().then(n=>globalThis[_0]=n).catch(()=>globalThis[_0]=!1)),globalThis[hd]||(globalThis[hd]=fc().then(n=>globalThis[Bl]=n).catch(()=>globalThis[Bl]=!1)),globalThis[em]||(globalThis[em]=ye().then(n=>globalThis[xy]=n).catch(()=>globalThis[xy]=!1));const Ry=(n,e)=>{const t=e?[e]:qr(),r=[];return t.forEach(c=>{c.container.getProvider(n).instances.forEach(g=>{r.includes(g)||r.push(g)})}),r};function gc(){}class v0{constructor(e,t=Ay){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const c=this.zone;return this.delegate.schedule(function(g){c.runGuarded(()=>{e.apply(this,[g])})},t,r)}}class Py{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gc,{},gc,gc)),t.pipe((0,xw.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new v0(Zone.current)),this.insideAngular=t.run(()=>new v0(Zone.current,np)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(E.R0b))},n.\u0275prov=E.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ro(n){return Lc().ngZone.run(()=>n())}function ky(n){return Lc(),function tm(n){return function(t){return(t=t.lift(new Py(n.ngZone))).pipe((0,Eu.R)(n.outsideAngular),(0,Eh.Q)(n.insideAngular))}}(Lc())(n)}const Mw=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ro(()=>n.apply(void 0,r))},fd=(n,e)=>function(){let t;const r=arguments;for(let h=0;h<arguments.length;h++)"function"==typeof r[h]&&(e&&(t||(t=ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gc,{},gc,gc)))),r[h]=Mw(r[h],t));const c=function ip(n){return Lc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(c instanceof m0.y){const h=Lc();return c.pipe((0,Eu.R)(h.outsideAngular),(0,Eh.Q)(h.insideAngular))}return ro(()=>c)}return c instanceof m0.y?c.pipe(ky):c instanceof Promise?ro(()=>new Promise((h,g)=>c.then(y=>ro(()=>h(y)),y=>ro(()=>g(y))))):"function"==typeof c&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),c.apply(this,arguments)}:ro(()=>c)};class ll{constructor(e){return e}}class pd{constructor(){return qr()}}const mc=new E.OlP("angularfire2._apps"),E0={provide:ll,useFactory:function I0(n){return n&&1===n.length?n[0]:new ll(Ur())},deps:[[new E.FiY,mc]]},go={provide:pd,deps:[[new E.FiY,mc]]};function Ny(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ll(r)}}let Dh=(()=>{class n{constructor(t){fr("angularfire",rp.full,"core"),fr("angularfire",rp.full,"app"),fr("angular",E.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E.LFG(E.Lbi))},n.\u0275mod=E.oAB({type:n}),n.\u0275inj=E.cJS({providers:[E0,go]}),n})();function sp(n,...e){return{ngModule:Dh,providers:[{provide:mc,useFactory:Ny(n),multi:!0,deps:[E.R0b,E.zs3,bh,...e]}]}}const kw=fd(Or,!0);var sm,Oy,w0,fa,ap;const mo=new Map,yc={activated:!1,tokenObservers:[]},Fy={initialized:!1,enabled:!1};function Si(n){return mo.get(n)||Object.assign({},yc)}function Ch(){return Fy}const gd="https://content-firebaseappcheck.googleapis.com/v1",Xi="exchangeDebugToken",cp={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cm{constructor(e,t,r,c,h){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=c,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=c,c>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,L.Z)(function*(){t.stop();try{t.pending=new J.BH,yield function Vy(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new J.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hs=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wu(n){if(!Si(n).activated)throw Hs.create("use-before-activation",{appName:n.name})}function Sh(n,e){return(sm=sm||(0,L.Z)(function*({url:t,body:r},c){const h={"Content-Type":"application/json"},g=c.getImmediate({optional:!0});if(g){const Ie=yield g.getHeartbeatsHeader();Ie&&(h["X-Firebase-Client"]=Ie)}const y={method:"POST",body:JSON.stringify(r),headers:h};let T,S;try{T=yield fetch(t,y)}catch(Ie){throw Hs.create("fetch-network-error",{originalErrorMessage:null==Ie?void 0:Ie.message})}if(200!==T.status)throw Hs.create("fetch-status-error",{httpStatus:T.status});try{S=yield T.json()}catch(Ie){throw Hs.create("fetch-parse-error",{originalErrorMessage:null==Ie?void 0:Ie.message})}const U=S.ttl.match(/^([\d.]+)(s)$/);if(!U||!U[2]||isNaN(Number(U[1])))throw Hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const Y=1e3*Number(U[1]),ce=Date.now();return{token:S.token,expireTimeMillis:ce+Y,issuedAtTimeMillis:ce}})).apply(this,arguments)}function dp(n,e){const{projectId:t,appId:r,apiKey:c}=n.options;return{url:`${gd}/projects/${t}/apps/${r}:${Xi}?key=${c}`,body:{debug_token:e}}}const hp="firebase-app-check-database",xh=1,_d="firebase-app-check-store";let lm=null;function fp(n,e){return(Oy=Oy||(0,L.Z)(function*(t,r){const h=(yield function qs(){return lm||(lm=new Promise((n,e)=>{try{const t=indexedDB.open(hp,xh);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var c;e(Hs.create("storage-open",{originalErrorMessage:null===(c=r.target.error)||void 0===c?void 0:c.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_d,{keyPath:"compositeKey"})}}catch(t){e(Hs.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),lm)}()).transaction(_d,"readwrite"),y=h.objectStore(_d).put({compositeKey:t,value:r});return new Promise((T,S)=>{y.onsuccess=U=>{T()},h.onerror=U=>{var Y;S(Hs.create("storage-set",{originalErrorMessage:null===(Y=U.target.error)||void 0===Y?void 0:Y.message}))}})})).apply(this,arguments)}const Rh=new ve.Yd("@firebase/app-check");function bu(n,e){return(0,J.hl)()?function A0(n,e){return fp(function $y(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Rh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Du(){return Ch().enabled}function vd(){return(w0=w0||(0,L.Z)(function*(){const n=Ch();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ow={error:"UNKNOWN_ERROR"};function gp(n){return J.US.encodeString(JSON.stringify(n),!1)}function dm(n){return(fa=fa||(0,L.Z)(function*(e,t=!1){const r=e.app;wu(r);const c=Si(r);let g,h=c.token;if(h&&!Ic(h)&&(c.token=void 0,h=void 0),!h){const S=yield c.cachedTokenPromise;S&&(Ic(S)?h=S:yield bu(r,void 0))}if(!t&&h&&Ic(h))return{token:h.token};let T,y=!1;if(Du()){c.exchangeTokenPromise||(c.exchangeTokenPromise=Sh(dp(r,yield vd()),e.heartbeatServiceProvider).finally(()=>{c.exchangeTokenPromise=void 0}),y=!0);const S=yield c.exchangeTokenPromise;return yield bu(r,S),c.token=S,{token:S.token}}try{c.exchangeTokenPromise||(c.exchangeTokenPromise=c.provider.getToken().finally(()=>{c.exchangeTokenPromise=void 0}),y=!0),h=yield Si(r).exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?Rh.warn(S.message):Rh.error(S),g=S}return h?g?T=Ic(h)?{token:h.token,internalError:g}:Cu(g):(T={token:h.token},c.token=h,yield bu(r,h)):T=Cu(g),y&&function _p(n,e){const t=Si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,T),T})).apply(this,arguments)}function fm(n,e){const t=Si(n),r=t.tokenObservers.filter(c=>c.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pm(n){const{app:e}=n,t=Si(e);let r=t.tokenRefresher;r||(r=function x0(n){const{app:e}=n;return new cm((0,L.Z)(function*(){let r;if(r=Si(e).token?yield dm(n,!0):yield dm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},cp.RETRIAL_MIN_WAIT,cp.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ic(n){return n.expireTimeMillis-Date.now()>0}function Cu(n){return{token:gp(Ow),error:n}}class gm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)fm(this.app,t.next);return Promise.resolve()}}const Su="app-check-internal";!function M0(){(0,ee._registerComponent)(new de.wA("app-check",n=>function mm(n,e){return new gm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Su).initialize()})),(0,ee._registerComponent)(new de.wA(Su,n=>function Ms(n){return{getToken:e=>dm(n,e),getLimitedUseToken:()=>function hm(n){return(ap=ap||(0,L.Z)(function*(e){const t=e.app;wu(t);const{provider:r}=Si(t);if(Du()){const c=yield vd(),{token:h}=yield Sh(dp(t,c),e.heartbeatServiceProvider);return{token:h}}{const{token:c}=yield r.getToken();return{token:c}}})).apply(this,arguments)}(n),addTokenListener:e=>function mp(n,e,t,r){const{app:c}=n,h=Si(c);if(h.tokenObservers=[...h.tokenObservers,{next:t,error:r,type:e}],h.token&&Ic(h.token)){const y=h.token;Promise.resolve().then(()=>{t({token:y.token}),pm(n)}).catch(()=>{})}h.cachedTokenPromise.then(()=>pm(n))}(n,"INTERNAL",e),removeTokenListener:e=>fm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)("@firebase/app-check","0.8.0")}();class Bc{constructor(){return Ry("app-check")}}typeof window<"u"&&window;var jl,Id,Gl,qy,Gw,zw,bm,xu,Ed,Ru,Wy,Zy,bd,zl,Rm,ql,xp,tv,_o,rv,z0,Cd,Hh,Ad,qh,Na=Z(7582);const kp=function Bm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},H0=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ka=new ve.Yd("@firebase/auth");function Ou(n,...e){Ka.logLevel<=ve.in.ERROR&&Ka.error(`Auth (${In}): ${n}`,...e)}function pa(n,...e){throw ov(n,...e)}function $c(n,...e){return ov(n,...e)}function ov(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return H0.create(n,...e)}function mn(n,e,...t){if(!n)throw ov(e,...t)}function pl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ou(e),new Error(e)}function gl(n,e){n||pl(e)}function Uc(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Op(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,gl(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function Um(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wl(){return"http:"===Op()||"https:"===Op()}()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(n,e){gl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class av{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fp=new ml(3e4,6e4);function ds(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ks(n,e,t,r){return(jl=jl||(0,L.Z)(function*(c,h,g,y,T={}){return Vp(c,T,(0,L.Z)(function*(){let S={},U={};y&&("GET"===h?U=y:S={body:JSON.stringify(y)});const Y=(0,J.xO)(Object.assign({key:c.config.apiKey},U)).slice(1),ce=yield c._getAdditionalHeaders();return ce["Content-Type"]="application/json",c.languageCode&&(ce["X-Firebase-Locale"]=c.languageCode),av.fetch()(Rd(c,c.config.apiHost,g,Y),Object.assign({method:h,headers:ce,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Vp(n,e,t){return(Id=Id||(0,L.Z)(function*(r,c,h){r._canInitEmulator=!1;const g=Object.assign(Object.assign({},W0),c);try{const y=new Yh(r),T=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const S=yield T.json();if("needConfirmation"in S)throw Lu(r,"account-exists-with-different-credential",S);if(T.ok&&!("errorMessage"in S))return S;{const U=T.ok?S.errorMessage:S.error.message,[Y,ce]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y)throw Lu(r,"credential-already-in-use",S);if("EMAIL_EXISTS"===Y)throw Lu(r,"email-already-in-use",S);if("USER_DISABLED"===Y)throw Lu(r,"user-disabled",S);const Ie=g[Y]||Y.toLowerCase().replace(/[_\s]+/g,"-");if(ce)throw function Np(n,e,t){const r=Object.assign(Object.assign({},kp()),{[e]:t});return new J.LL("auth","Firebase",r).create(e,{appName:n.name})}(r,Ie,ce);pa(r,Ie)}}catch(y){if(y instanceof J.ZR)throw y;pa(r,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function Rd(n,e,t,r){const c=`${e}${t}?${r}`;return n.config.emulator?jm(n.config,c):`${n.config.apiScheme}://${c}`}class Yh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($c(this.auth,"network-request-failed")),Fp.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const c=$c(n,e,r);return c.customData._tokenResponse=t,c}function Bp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $p(n){return 1e3*Number(n)}function lv(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,J.tV)(t);return c?JSON.parse(c):(Ou("Failed to decode base64 JWT payload"),null)}catch(c){return Ou("Caught error parsing JWT payload as JSON",null==c?void 0:c.toString()),null}}function Oa(n,e){return(bm=bm||(0,L.Z)(function*(t,r,c=!1){if(c)return r;try{return yield r}catch(h){throw h instanceof J.ZR&&function Qh({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(h)&&t.auth.currentUser===t&&(yield t.auth.signOut()),h}})).apply(this,arguments)}class Gm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,L.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,L.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Pd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bp(this.lastLoginAt),this.creationTime=Bp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Md(n){return(xu=xu||(0,L.Z)(function*(e){var t;const r=e.auth,c=yield e.getIdToken(),h=yield Oa(e,function K0(n,e){return(Gw=Gw||(0,L.Z)(function*(t,r){return ks(t,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:c}));mn(null==h?void 0:h.users.length,r,"internal-error");const g=h.users[0];e._notifyReloadListener(g);const y=null!==(t=g.providerUserInfo)&&void 0!==t&&t.length?function fv(n){return n.map(e=>{var{providerId:t}=e,r=(0,Na._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(g.providerUserInfo):[],T=function hv(n,e){return[...n.filter(r=>!e.some(c=>c.providerId===r.providerId)),...e]}(e.providerData,y),Y=!!e.isAnonymous&&!(e.email&&g.passwordHash||null!=T&&T.length),ce={uid:g.localId,displayName:g.displayName||null,photoURL:g.photoUrl||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,tenantId:g.tenantId||null,providerData:T,metadata:new Pd(g.createdAt,g.lastLoginAt),isAnonymous:Y};Object.assign(e,ce)})).apply(this,arguments)}class Nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mn(e.idToken,"internal-error"),mn(typeof e.idToken<"u","internal-error"),mn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function uv(n){const e=lv(n);return mn(e,"internal-error"),mn(typeof e.exp<"u","internal-error"),mn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,L.Z)(function*(){return mn(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,L.Z)(function*(){const{accessToken:c,refreshToken:h,expiresIn:g}=yield function kd(n,e){return(Ru=Ru||(0,L.Z)(function*(t,r){const c=yield Vp(t,{},(0,L.Z)(function*(){const h=(0,J.xO)({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:g,apiKey:y}=t.config,T=Rd(t,g,"/v1/token",`key=${y}`),S=yield t._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",av.fetch()(T,{method:"POST",headers:S,body:h})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}(e,t);r.updateTokensAndExpiration(c,h,Number(g))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:c,expirationTime:h}=t,g=new Nd;return r&&(mn("string"==typeof r,"internal-error",{appName:e}),g.refreshToken=r),c&&(mn("string"==typeof c,"internal-error",{appName:e}),g.accessToken=c),h&&(mn("number"==typeof h,"internal-error",{appName:e}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nd,this.toJSON())}_performRefresh(){return pl("not implemented")}}function Kl(n,e){mn("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Fo{constructor(e){var{uid:t,auth:r,stsTokenManager:c}=e,h=(0,Na._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Pd(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,L.Z)(function*(){const r=yield Oa(t,t.stsTokenManager.getToken(t.auth,e));return mn(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Y0(n){return(zw=zw||(0,L.Z)(function*(e,t=!1){const r=(0,J.m9)(e),c=yield r.getIdToken(t),h=lv(c);mn(h&&h.exp&&h.auth_time&&h.iat,r.auth,"internal-error");const g="object"==typeof h.firebase?h.firebase:void 0,y=null==g?void 0:g.sign_in_provider;return{claims:h,token:c,authTime:Bp($p(h.auth_time)),issuedAtTime:Bp($p(h.iat)),expirationTime:Bp($p(h.exp)),signInProvider:y||null,signInSecondFactor:(null==g?void 0:g.sign_in_second_factor)||null}})).apply(this,arguments)}(this,e)}reload(){return function dv(n){return(Ed=Ed||(0,L.Z)(function*(e){const t=(0,J.m9)(e);yield Md(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,L.Z)(function*(){let c=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield Md(r)),yield r.auth._persistUserIfCurrent(r),c&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,L.Z)(function*(){const t=yield e.getIdToken();return yield Oa(e,function Zh(n,e){return(qy=qy||(0,L.Z)(function*(t,r){return ks(t,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,c,h,g,y,T,S,U;const Y=null!==(r=t.displayName)&&void 0!==r?r:void 0,ce=null!==(c=t.email)&&void 0!==c?c:void 0,Ie=null!==(h=t.phoneNumber)&&void 0!==h?h:void 0,rt=null!==(g=t.photoURL)&&void 0!==g?g:void 0,Ct=null!==(y=t.tenantId)&&void 0!==y?y:void 0,Ot=null!==(T=t._redirectEventId)&&void 0!==T?T:void 0,Kt=null!==(S=t.createdAt)&&void 0!==S?S:void 0,nr=null!==(U=t.lastLoginAt)&&void 0!==U?U:void 0,{uid:kn,emailVerified:pr,isAnonymous:ui,providerData:xi,stsTokenManager:Go}=t;mn(kn&&Go,e,"internal-error");const Qc=Nd.fromJSON(this.name,Go);mn("string"==typeof kn,e,"internal-error"),Kl(Y,e.name),Kl(ce,e.name),mn("boolean"==typeof pr,e,"internal-error"),mn("boolean"==typeof ui,e,"internal-error"),Kl(Ie,e.name),Kl(rt,e.name),Kl(Ct,e.name),Kl(Ot,e.name),Kl(Kt,e.name),Kl(nr,e.name);const rc=new Fo({uid:kn,auth:e,email:ce,emailVerified:pr,displayName:Y,isAnonymous:ui,photoURL:rt,phoneNumber:Ie,tenantId:Ct,stsTokenManager:Qc,createdAt:Kt,lastLoginAt:nr});return xi&&Array.isArray(xi)&&(rc.providerData=xi.map(KC=>Object.assign({},KC))),Ot&&(rc._redirectEventId=Ot),rc}static _fromIdTokenResponse(e,t,r=!1){return(0,L.Z)(function*(){const c=new Nd;c.updateFromServerResponse(t);const h=new Fo({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:r});return yield Md(h),h})()}}const zm=new Map;function Ec(n){gl(n instanceof Function,"Expected a class definition");let e=zm.get(n);return e?(gl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zm.set(n,e),e)}const Od=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,L.Z)(function*(){return!0})()}_set(t,r){var c=this;return(0,L.Z)(function*(){c.storage[t]=r})()}_get(t){var r=this;return(0,L.Z)(function*(){const c=r.storage[t];return void 0===c?null:c})()}_remove(t){var r=this;return(0,L.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Xh(n,e,t){return`firebase:${n}:${e}:${t}`}class ga{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:c,name:h}=this.auth;this.fullUserKey=Xh(this.userKey,c.apiKey,h),this.fullPersistenceKey=Xh("persistence",c.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,L.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,L.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,L.Z)(function*(){var c,h;if(!t.length)return new ga(Ec(Od),e,r);const g=(yield Promise.all(t.map(function(Y){return(c=c||(0,L.Z)(function*(ce){if(yield ce._isAvailable())return ce})).apply(this,arguments)}))).filter(Y=>Y);let y=g[0]||Ec(Od);const T=Xh(r,e.config.apiKey,e.name);let S=null;for(const Y of t)try{const ce=yield Y._get(T);if(ce){const Ie=Fo._fromJSON(e,ce);Y!==y&&(S=Ie),y=Y;break}}catch{}const U=g.filter(Y=>Y._shouldAllowMigration);return y._shouldAllowMigration&&U.length?(y=U[0],S&&(yield y._set(T,S.toJSON())),yield Promise.all(t.map(function(Y){return(h=h||(0,L.Z)(function*(ce){if(ce!==y)try{yield ce._remove(T)}catch{}})).apply(this,arguments)})),new ga(y,e,r)):new ga(y,e,r)})()}}function Hm(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gv(e))return"Blackberry";if(Wm(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||yo(e))&&!e.includes("edge/"))return"Chrome";if(qm(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function pv(n=(0,J.z$)()){return/firefox\//i.test(n)}function Z0(n=(0,J.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yo(n=(0,J.z$)()){return/crios\//i.test(n)}function Q0(n=(0,J.z$)()){return/iemobile/i.test(n)}function qm(n=(0,J.z$)()){return/android/i.test(n)}function gv(n=(0,J.z$)()){return/blackberry/i.test(n)}function Wm(n=(0,J.z$)()){return/webos/i.test(n)}function jc(n=(0,J.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Vu(n=(0,J.z$)()){return jc(n)||qm(n)||Wm(n)||gv(n)||/windows phone/i.test(n)||Q0(n)}function Ld(n,e=[]){let t;switch(n){case"Browser":t=Hm((0,J.z$)());break;case"Worker":t=`${Hm((0,J.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${In}/${r}`}function X0(n,e){return(Wy=Wy||(0,L.Z)(function*(t,r){return ks(t,"GET","/v2/recaptchaConfig",ds(t,r))})).apply(this,arguments)}function Yl(n){return void 0!==n&&void 0!==n.enterprise}class _l{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function jp(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=c=>{const h=$c("internal-error");h.customData=c,t(h)},r.type="text/javascript",r.charset="UTF-8",function ef(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Ym(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Qm{constructor(e){this.type="recaptcha-enterprise",this.auth=Ws(e)}verify(e="verify",t=!1){var r=this;return(0,L.Z)(function*(){var c;function g(y,T,S){const U=window.grecaptcha;Yl(U)?U.enterprise.ready(()=>{U.enterprise.execute(y,{action:e}).then(Y=>{T(Y)}).catch(()=>{T("NO_RECAPTCHA")})}):S(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((y,T)=>{(function h(y){return(c=c||(0,L.Z)(function*(T){var S;if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(U,Y){return(S=S||(0,L.Z)(function*(ce,Ie){X0(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const Ct=new _l(rt);return null==T.tenantId?T._agentRecaptchaConfig=Ct:T._tenantRecaptchaConfigs[T.tenantId]=Ct,ce(Ct.siteKey)}Ie(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{Ie(rt)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(S=>{if(!t&&Yl(window.grecaptcha))g(S,y,T);else{if(typeof window>"u")return void T(new Error("RecaptchaVerifier is only supported in browser"));jp("https://www.google.com/recaptcha/enterprise.js?render="+S).then(()=>{g(S,y,T)}).catch(U=>{T(U)})}}).catch(S=>{T(S)})})})()}}class Xm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=h=>new Promise((g,y)=>{try{g(e(h))}catch(T){y(T)}});r.onAbort=t,this.queue.push(r);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,L.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const c of t.queue)yield c(e),c.onAbort&&r.push(c.onAbort)}catch(c){r.reverse();for(const h of r)try{h()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==c?void 0:c.message})}})()}}class Fd{constructor(e,t,r,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new Xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ec(t)),this._initializationPromise=this.queue((0,L.Z)(function*(){var c,h;if(!r._deleted&&(r.persistenceManager=yield ga.create(r,e),!r._deleted)){if(null!==(c=r._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(h=r.currentUser)||void 0===h?void 0:h.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,L.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,L.Z)(function*(){var r;const c=yield t.assertedPersistence.getCurrentUser();let h=c,g=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const y=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,T=null==h?void 0:h._redirectEventId,S=yield t.tryRedirectSignIn(e);(!y||y===T)&&null!=S&&S.user&&(h=S.user,g=!0)}if(!h)return t.directlySetCurrentUser(null);if(!h._redirectEventId){if(g)try{yield t.beforeStateQueue.runMiddleware(h)}catch(y){h=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(y))}return h?t.reloadAndSetCurrentUserOrClear(h):t.directlySetCurrentUser(null)}return mn(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===h._redirectEventId?t.directlySetCurrentUser(h):t.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(e){var t=this;return(0,L.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,L.Z)(function*(){try{yield Md(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Lp(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,L.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,L.Z)(function*(){const r=e?(0,J.m9)(e):null;return r&&mn(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,L.Z)(function*(){if(!r._deleted)return e&&mn(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,L.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,L.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,L.Z)(function*(){yield t.assertedPersistence.setPersistence(Ec(e))}))}initializeRecaptchaConfig(){var e=this;return(0,L.Z)(function*(){const t=yield X0(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _l(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Qm(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new J.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,L.Z)(function*(){const c=yield r.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,L.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Ec(e)||t._popupRedirectResolver;mn(r,t,"argument-error"),t.redirectPersistenceManager=yield ga.create(t,[Ec(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,L.Z)(function*(){var r,c;return t._isInitialized&&(yield t.queue((0,L.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,L.Z)(function*(){if(e===t.currentUser)return t.queue((0,L.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,c){if(this._deleted)return()=>{};const h="function"==typeof t?t:t.next.bind(t),g=this._isInitialized?Promise.resolve():this._initializationPromise;return mn(g,this,"internal-error"),g.then(()=>h(this.currentUser)),"function"==typeof t?e.addObserver(t,r,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,L.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ld(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,L.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(r["X-Firebase-Client"]=c);const h=yield e._getAppCheckToken();return h&&(r["X-Firebase-AppCheck"]=h),r})()}_getAppCheckToken(){var e=this;return(0,L.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=r&&r.error&&function Kh(n,...e){Ka.logLevel<=ve.in.WARN&&Ka.warn(`Auth (${In}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function Ws(n){return(0,J.m9)(n)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,J.ne)(t=>this.observer=t)}get next(){return mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jm(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Qw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pl("not implemented")}_getIdTokenResponse(e){return pl("not implemented")}_linkToIdToken(e,t){return pl("not implemented")}_getReauthenticationResolver(e){return pl("not implemented")}}function dr(n,e){return(Zy=Zy||(0,L.Z)(function*(t,r){return function hs(n,e,t,r){return(Gl=Gl||(0,L.Z)(function*(c,h,g,y,T={}){const S=yield ks(c,h,g,y,T);return"mfaPendingCredential"in S&&pa(c,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",ds(t,r))})).apply(this,arguments)}class Zl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wp extends Zl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,c=!1){return(0,L.Z)(function*(){const h=yield Fo._fromIdTokenResponse(e,r,c),g=i_(r);return new Ya({user:h,providerId:g,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,L.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const c=i_(r);return new Ya({user:e,providerId:c,_tokenResponse:r,operationType:t})})()}}function i_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Qp extends J.ZR{constructor(e,t,r,c){var h;super(t.code,t.message),this.operationType=r,this.user=c,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:null!==(h=e.tenantId)&&void 0!==h?h:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,c){return new Qp(e,t,r,c)}}function $d(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?Qp._fromErrorAndOperation(n,h,e,r):h})}const Ud="__sak";class yE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const db=(()=>{class n extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vE(){const n=(0,J.z$)();return Z0(n)||jc(n)}()&&function mv(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vu(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const c=this.storage.getItem(r),h=this.localCache[r];c!==h&&t(r,h,c)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((y,T,S)=>{this.notifyListeners(y,S)});const c=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const y=this.storage.getItem(c);if(t.newValue!==y)null!==t.newValue?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!r)return}const h=()=>{const y=this.storage.getItem(c);!r&&this.localCache[c]===y||this.notifyListeners(c,y)},g=this.storage.getItem(c);!function Jh(){return(0,J.w1)()&&10===document.documentMode}()||g===t.newValue||t.newValue===t.oldValue?h():setTimeout(h,10)}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:c}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var c=()=>super._set,h=this;return(0,L.Z)(function*(){yield c().call(h,t,r),h.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,c=this;return(0,L.Z)(function*(){const h=yield r().call(c,t);return c.localCache[t]=JSON.stringify(h),h})()}_remove(t){var r=()=>super._remove,c=this;return(0,L.Z)(function*(){yield r().call(c,t),delete c.localCache[t]})()}}return n.type="LOCAL",n})(),ng=(()=>{class n extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let EE=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(h=>h.isListeningto(t));if(r)return r;const c=new n(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,L.Z)(function*(){var c;const h=t,{eventId:g,eventType:y,data:T}=h.data,S=r.handlersMap[y];if(null==S||!S.size)return;h.ports[0].postMessage({status:"ack",eventId:g,eventType:y});const U=Array.from(S).map(function(ce){return(c=c||(0,L.Z)(function*(Ie){return Ie(h.origin,T)})).apply(this,arguments)}),Y=yield function rg(n){var e;return Promise.all(n.map(function(t){return(e=e||(0,L.Z)(function*(r){try{return{fulfilled:!0,value:yield r}}catch(c){return{fulfilled:!1,reason:c}}})).apply(this,arguments)}))}(U);h.ports[0].postMessage({status:"done",eventId:g,eventType:y,response:Y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ig(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class hb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var c=this;return(0,L.Z)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let g,y;return new Promise((T,S)=>{const U=ig("",20);h.port1.start();const Y=setTimeout(()=>{S(new Error("unsupported_event"))},r);y={messageChannel:h,onMessage(ce){const Ie=ce;if(Ie.data.eventId===U)switch(Ie.data.status){case"ack":clearTimeout(Y),g=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),T(Ie.data.response);break;default:clearTimeout(Y),clearTimeout(g),S(new Error("invalid_response"))}}},c.handlers.add(y),h.port1.addEventListener("message",y.onMessage),c.target.postMessage({eventType:e,eventId:U,data:t},[h.port2])}).finally(()=>{y&&c.removeMessageHandler(y)})})()}}function Ks(){return window}function sg(){return typeof Ks().WorkerGlobalScope<"u"&&"function"==typeof Ks().importScripts}const bE="firebaseLocalStorageDb",mf="firebaseLocalStorage",_f="fbase_key";class jd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gd(n,e){return n.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function Hu(){const n=indexedDB.open(bE,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(mf,{keyPath:_f})}catch(c){t(c)}}),n.addEventListener("success",(0,L.Z)(function*(){const r=n.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),yield function Za(){const n=indexedDB.deleteDatabase(bE);return new jd(n).toPromise()}(),e(yield Hu()))}))})}function Ys(n,e,t){return(xp=xp||(0,L.Z)(function*(r,c,h){const g=Gd(r,!0).put({[_f]:c,value:h});return new jd(g).toPromise()})).apply(this,arguments)}function qu(n,e){const t=Gd(n,!0).delete(e);return new jd(t).toPromise()}const yf=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,L.Z)(function*(){return t.db||(t.db=yield Hu()),t.db})()}_withRetries(t){var r=this;return(0,L.Z)(function*(){let c=0;for(;;)try{const h=yield r._openDb();return yield t(h)}catch(h){if(c++>3)throw h;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,L.Z)(function*(){return sg()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,L.Z)(function*(){var r,c;t.receiver=EE._getInstance(function zu(){return sg()?self:null}()),t.receiver._subscribe("keyChanged",function(h,g){return(r=r||(0,L.Z)(function*(y,T){return{keyProcessed:(yield t._poll()).includes(T.key)}})).apply(this,arguments)}),t.receiver._subscribe("ping",function(h,g){return(c=c||(0,L.Z)(function*(y,T){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var t=this;return(0,L.Z)(function*(){var r,c;if(t.activeServiceWorker=yield function wE(){return(ql=ql||(0,L.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new hb(t.activeServiceWorker);const h=yield t.sender._send("ping",{},800);h&&null!==(r=h[0])&&void 0!==r&&r.fulfilled&&null!==(c=h[0])&&void 0!==c&&c.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,L.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function xv(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,L.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Hu();return yield Ys(t,Ud,"1"),yield qu(t,Ud),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,L.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var c=this;return(0,L.Z)(function*(){return c._withPendingWrite((0,L.Z)(function*(){return yield c._withRetries(h=>Ys(h,t,r)),c.localCache[t]=r,c.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,L.Z)(function*(){const c=yield r._withRetries(h=>function zd(n,e){return(tv=tv||(0,L.Z)(function*(t,r){const c=Gd(t,!1).get(r),h=yield new jd(c).toPromise();return void 0===h?null:h.value})).apply(this,arguments)}(h,t));return r.localCache[t]=c,c})()}_remove(t){var r=this;return(0,L.Z)(function*(){return r._withPendingWrite((0,L.Z)(function*(){return yield r._withRetries(c=>qu(c,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,L.Z)(function*(){const r=yield t._withRetries(g=>{const y=Gd(g,!1).getAll();return new jd(y).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const c=[],h=new Set;for(const{fbase_key:g,value:y}of r)h.add(g),JSON.stringify(t.localCache[g])!==JSON.stringify(y)&&(t.notifyListeners(g,y),c.push(g));for(const g of Object.keys(t.localCache))t.localCache[g]&&!h.has(g)&&(t.notifyListeners(g,null),c.push(g));return c})()}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,L.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();Ym("rcb"),new ml(3e4,6e4);class Mv extends Qw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xE(n){return function uE(n,e){return(Rm=Rm||(0,L.Z)(function*(t,r,c=!1){const h="signIn",g=yield $d(t,h,r),y=yield Ya._fromIdTokenResponse(t,h,g);return c||(yield t._updateCurrentUser(y.user)),y})).apply(this,arguments)}(n.auth,new Mv(n),n.bypassAuthState)}function p_(n){const{auth:e,user:t}=n;return mn(t,e,"internal-error"),function lE(n,e){return(zl=zl||(0,L.Z)(function*(t,r,c=!1){const{auth:h}=t,g="reauthenticate";try{const y=yield Oa(t,$d(h,g,r,t),c);mn(y.idToken,h,"internal-error");const T=lv(y.idToken);mn(T,h,"internal-error");const{sub:S}=T;return mn(t.uid===S,h,"user-mismatch"),Ya._forOperation(t,g,y)}catch(y){throw"auth/user-not-found"===(null==y?void 0:y.code)&&pa(h,"user-mismatch"),y}})).apply(this,arguments)}(t,new Mv(n),n.bypassAuthState)}function eu(n){return(_o=_o||(0,L.Z)(function*(e){const{auth:t,user:r}=e;return mn(r,t,"internal-error"),function Xp(n,e){return(bd=bd||(0,L.Z)(function*(t,r,c=!1){const h=yield Oa(t,r._linkToIdToken(t.auth,yield t.getIdToken()),c);return Ya._forOperation(t,"link",h)})).apply(this,arguments)}(r,new Mv(e),e.bypassAuthState)})).apply(this,arguments)}class Tl{constructor(e,t,r,c,h=!1){this.auth=e,this.resolver=r,this.user=c,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var t,e=this;return new Promise(function(r,c){return(t=t||(0,L.Z)(function*(h,g){e.pendingPromise={resolve:h,reject:g};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(y){e.reject(y)}})).apply(this,arguments)})}onAuthEvent(e){var t=this;return(0,L.Z)(function*(){const{urlResponse:r,sessionId:c,postBody:h,tenantId:g,error:y,type:T}=e;if(y)return void t.reject(y);const S={auth:t.auth,requestUri:r,sessionId:c,tenantId:g||void 0,postBody:h||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(T)(S))}catch(U){t.reject(U)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xE;case"linkViaPopup":case"linkViaRedirect":return eu;case"reauthViaPopup":case"reauthViaRedirect":return p_;default:pa(this.auth,"internal-error")}}resolve(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ml(2e3,1e4);const Wu="pendingRedirect",pg=new Map;class vb extends Tl{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,L.Z)(function*(){let r=pg.get(t.auth._key());if(!r){try{const h=(yield function Ib(n,e){return(rv=rv||(0,L.Z)(function*(t,r){const c=function RE(n){return Xh(Wu,n.config.apiKey,n.name)}(r),h=function Eb(n){return Ec(n._redirectPersistence)}(t);if(!(yield h._isAvailable()))return!1;const g="true"===(yield h._get(c));return yield h._remove(c),g})).apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(h)}catch(c){r=()=>Promise.reject(c)}pg.set(t.auth._key(),r)}return t.bypassAuthState||pg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,L.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const c=yield r.auth._redirectUserForId(e.eventId);if(c)return r.user=c,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,L.Z)(function*(){})()}cleanUp(){}}function g_(n,e){pg.set(n._key(),e)}function Ov(n,e){return(z0=z0||(0,L.Z)(function*(t,r,c=!1){const h=Ws(t),g=function Tf(n,e){return e?Ec(e):(mn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(h,r),T=yield new vb(h,g,c).execute();return T&&!c&&(delete T.user._redirectEventId,yield h._persistUserIfCurrent(T.user),yield h._setRedirectUser(null,r)),T})).apply(this,arguments)}class bb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ME(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Cb(e)){const c=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError($c(this.auth,c))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cb({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Ab=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m_=/^https?/;function NE(n){const e=Uc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const g=new URL(n);return""===g.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&g.hostname===r}if(!m_.test(t))return!1;if(Ab.test(n))return r===n;const c=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(r)}const OE=new ml(3e4,6e4);function Fv(){const n=Ks().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let y_=null;const Bv=new ml(5e3,15e3),Sb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pA(n){const e=n.config;mn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jm(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:In},c=xb.get(n.config.apiHost);c&&(r.eid=c);const h=n._getFrameworks();return h.length&&(r.fw=h.join(",")),`${t}?${(0,J.xO)(r).slice(1)}`}const Uv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mg=encodeURIComponent("fac");function l(n,e,t,r,c,h){return(qh=qh||(0,L.Z)(function*(g,y,T,S,U,Y){mn(g.config.authDomain,g,"auth-domain-config-required"),mn(g.config.apiKey,g,"invalid-api-key");const ce={apiKey:g.config.apiKey,appName:g.name,authType:T,redirectUrl:S,v:In,eventId:U};if(y instanceof Zl){y.setDefaultLanguage(g.languageCode),ce.providerId=y.providerId||"",(0,J.xb)(y.getCustomParameters())||(ce.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ot,Kt]of Object.entries(Y||{}))ce[Ot]=Kt}if(y instanceof Wp){const Ot=y.getScopes().filter(Kt=>""!==Kt);Ot.length>0&&(ce.scopes=Ot.join(","))}g.tenantId&&(ce.tid=g.tenantId);const Ie=ce;for(const Ot of Object.keys(Ie))void 0===Ie[Ot]&&delete Ie[Ot];const rt=yield g._getAppCheckToken(),Ct=rt?`#${mg}=${encodeURIComponent(rt)}`:"";return`${function i({config:n}){return n.emulator?jm(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(g)}?${(0,J.xO)(Ie).slice(1)}${Ct}`})).apply(this,arguments)}const o="webStorageSupport",p=class d{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ng,this._completeRedirectFn=Ov,this._overrideRedirectResult=g_}_openPopup(e,t,r,c){var h=this;return(0,L.Z)(function*(){var g;gl(null===(g=h.eventManagers[e._key()])||void 0===g?void 0:g.manager,"_initialize() not called before _openPopup()");const y=yield l(e,t,r,Uc(),c);return function Gv(n,e,t,r=500,c=600){const h=Math.max((window.screen.availHeight-c)/2,0).toString(),g=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const T=Object.assign(Object.assign({},Uv),{width:r.toString(),height:c.toString(),top:h,left:g}),S=(0,J.z$)().toLowerCase();t&&(y=yo(S)?"_blank":t),pv(S)&&(e=e||"http://localhost",T.scrollbars="yes");const U=Object.entries(T).reduce((ce,[Ie,rt])=>`${ce}${Ie}=${rt},`,"");if(function Km(n=(0,J.z$)()){var e;return jc(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(S)&&"_self"!==y)return function zv(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",y),new VE(null);const Y=window.open(e||"",y,U);mn(Y,n,"popup-blocked");try{Y.focus()}catch{}return new VE(Y)}(e,y,ig())})()}_openRedirect(e,t,r,c){var h=this;return(0,L.Z)(function*(){return yield h._originValidation(e),function TE(n){Ks().location.href=n}(yield l(e,t,r,Uc(),c)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:h}=this.eventManagers[t];return c?Promise.resolve(c):(gl(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,L.Z)(function*(){const r=yield function FE(n){return(Ad=Ad||(0,L.Z)(function*(e){const t=yield function Vv(n){return y_=y_||function Ku(n){return new Promise((e,t)=>{var r,c,h;function g(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),t($c(n,"network-request-failed"))},timeout:OE.get()})}if(null!==(c=null===(r=Ks().gapi)||void 0===r?void 0:r.iframes)&&void 0!==c&&c.Iframe)e(gapi.iframes.getContext());else{if(null===(h=Ks().gapi)||void 0===h||!h.load){const y=Ym("iframefcb");return Ks()[y]=()=>{gapi.load?g():t($c(n,"network-request-failed"))},jp(`https://apis.google.com/js/api.js?onload=${y}`).catch(T=>t(T))}g()}}).catch(e=>{throw y_=null,e})}(n),y_}(e),r=Ks().gapi;return mn(r,e,"internal-error"),t.open({where:document.body,url:pA(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sb,dontclear:!0},c=>{var h;return new Promise(function(g,y){return(h=h||(0,L.Z)(function*(T,S){yield c.restyle({setHideOnLeave:!1});const U=$c(e,"network-request-failed"),Y=Ks().setTimeout(()=>{S(U)},Bv.get());function ce(){Ks().clearTimeout(Y),T(c)}c.ping(ce).then(ce,()=>{S(U)})})).apply(this,arguments)})})})).apply(this,arguments)}(e),c=new bb(e);return r.register("authEvent",h=>(mn(null==h?void 0:h.authEvent,e,"invalid-auth-event"),{status:c.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:c},t.iframes[e._key()]=r,c})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o,{type:o},c=>{var h;const g=null===(h=null==c?void 0:c[0])||void 0===h?void 0:h[o];void 0!==g&&t(!!g),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function __(n){return(Hh=Hh||(0,L.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function kE(n){return(Cd=Cd||(0,L.Z)(function*(e,t={}){return ks(e,"GET","/v1/projects",t)})).apply(this,arguments)}(e);for(const r of t)try{if(NE(r))return}catch{}pa(e,"unauthorized-domain")})).apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vu()||Z0()||jc()}};var Ce="@firebase/auth";class xt{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,L.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hr=(0,J.Pz)("authIdTokenMaxAge")||300;let Gn=null;const Pr=n=>{var e;return function(t){return(e=e||(0,L.Z)(function*(r){const c=r&&(yield r.getIdTokenResult()),h=c&&((new Date).getTime()-Date.parse(c.issuedAtTime))/1e3;if(h&&h>hr)return;const g=null==c?void 0:c.token;Gn!==g&&(Gn=g,yield fetch(n,{method:g?"POST":"DELETE",headers:g?{Authorization:`Bearer ${g}`}:{}}))})).apply(this,arguments)}};function mr(n=Ur()){const e=on(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function eE(n,e){const t=on(n,"auth");if(t.isInitialized()){const c=t.getImmediate(),h=t.getOptions();if((0,J.vZ)(h,null!=e?e:{}))return c;pa(c,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:p,persistence:[yf,db,ng]}),r=(0,J.Pz)("authTokenSyncURL");if(r){const h=Pr(r);(function ab(n,e,t){(0,J.m9)(n).beforeAuthStateChanged(e,t)})(t,h,()=>h(t.currentUser)),function Av(n,e,t,r){(0,J.m9)(n).onIdTokenChanged(e,t,r)}(t,g=>h(g))}const c=(0,J.q4)("auth");return c&&function yv(n,e,t){const r=Ws(n);mn(r._canInitEmulator,r,"emulator-config-failed"),mn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const c=!(null==t||!t.disableWarnings),h=tE(e),{host:g,port:y}=function Yw(n){const e=tE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(r);if(c){const h=c[1];return{host:h,port:Jm(r.substr(h.length+1))}}{const[h,g]=r.split(":");return{host:h,port:Jm(g)}}}(e);r.config.emulator={url:`${h}//${g}${null===y?"":`:${y}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:g,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:c})}),c||function Zw(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${c}`),t}!function Jt(n){rr(new de.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:g,authDomain:y}=r.options;mn(g&&!g.includes(":"),"invalid-api-key",{appName:r.name});const T={apiKey:g,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ld(n)},S=new Fd(r,c,h,T);return function Kw(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ec);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(S,t),S},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rr(new de.wA("auth-internal",e=>{const t=Ws(e.getProvider("auth").getImmediate());return new xt(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(Ce,"0.23.2",function Gt(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),fr(Ce,"0.23.2","esm2017")}("Browser");class Ts{constructor(e){return e}}class Tc{constructor(){return Ry("auth")}}const wc=new E.OlP("angularfire2.auth-instances");function BE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ts(r)}}const _g={provide:Tc,deps:[[new E.FiY,wc]]},kb={provide:Ts,useFactory:function Mb(n,e){const t=pc("auth",n,e);return t&&new Ts(t)},deps:[[new E.FiY,wc],ll]};let Hv=(()=>{class n{constructor(){fr("angularfire",rp.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=E.oAB({type:n}),n.\u0275inj=E.cJS({providers:[kb,_g]}),n})();function $E(n,...e){return{ngModule:Hv,providers:[{provide:wc,useFactory:BE(n),multi:!0,deps:[E.R0b,E.zs3,bh,pd,[new E.FiY,Bc],...e]}]}}const Yu=fd(mr,!0);var An,PR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tu={},Lb=Lb||{},Ar=PR||self;function jE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Fb="closure_uid_"+(1e9*Math.random()>>>0),kR=0;function EA(n,e,t){return n.call.apply(n.bind,arguments)}function TA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,r),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function _a(n,e,t){return(_a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EA:TA).apply(null,arguments)}function Kv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $o(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,c,h){for(var g=Array(arguments.length-2),y=2;y<arguments.length;y++)g[y-2]=arguments[y];return e.prototype[c].apply(r,g)}}function Kd(){this.s=this.s,this.o=this.o}Kd.prototype.s=!1,Kd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function MR(n){Object.prototype.hasOwnProperty.call(n,Fb)&&n[Fb]||(n[Fb]=++kR)}(this)},Kd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function GE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Bb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jE(r)){const c=n.length||0,h=r.length||0;n.length=c+h;for(let g=0;g<h;g++)n[c+g]=r[g]}else n.push(r)}}function ya(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ya.prototype.h=function(){this.defaultPrevented=!0};var yg=function(){if(!Ar.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ar.addEventListener("test",()=>{},e),Ar.removeEventListener("test",()=>{},e)}catch{}return n}();function Yv(n){return/^[\s\xa0]*$/.test(n)}function zE(){var n=Ar.navigator;return n&&(n=n.userAgent)?n:""}function Xa(n){return-1!=zE().indexOf(n)}function bA(n){return bA[" "](n),n}bA[" "]=function(){};var jb,n,sk=Xa("Opera"),vg=Xa("Trident")||Xa("MSIE"),Ub=Xa("Edge"),DA=Ub||vg,Ig=Xa("Gecko")&&!(-1!=zE().toLowerCase().indexOf("webkit")&&!Xa("Edge"))&&!(Xa("Trident")||Xa("MSIE"))&&!Xa("Edge"),NR=-1!=zE().toLowerCase().indexOf("webkit")&&!Xa("Edge");function CA(){var n=Ar.document;return n?n.documentMode:void 0}e:{var wf="",Gb=(n=zE(),Ig?/rv:([^\);]+)(\)|;)/.exec(n):Ub?/Edge\/([\d\.]+)/.exec(n):vg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):NR?/WebKit\/(\S+)/.exec(n):sk?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gb&&(wf=Gb?Gb[1]:""),vg){var I_=CA();if(null!=I_&&I_>parseFloat(wf)){jb=String(I_);break e}}jb=wf}var ok=Ar.document&&vg&&(CA()||parseInt(jb,10))||void 0;function T_(n,e){if(ya.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ig){e:{try{bA(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T_.$.h.call(this)}}$o(T_,ya);var AA={2:"touch",3:"pen",4:"mouse"};T_.prototype.h=function(){T_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zv="closure_listenable_"+(1e6*Math.random()|0),SA=0;function xA(n,e,t,r,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=c,this.key=++SA,this.fa=this.ia=!1}function Qv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function HE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function RA(n){const e={};for(const t in n)e[t]=n[t];return e}const PA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w_(n,e){let t,r;for(let c=1;c<arguments.length;c++){for(t in r=arguments[c],r)n[t]=r[t];for(let h=0;h<PA.length;h++)t=PA[h],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qE(n){this.src=n,this.g={},this.h=0}function zb(n,e){var t=e.type;if(t in n.g){var h,r=n.g[t],c=Vb(r,e);(h=0<=c)&&Array.prototype.splice.call(r,c,1),h&&(Qv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Hb(n,e,t,r){for(var c=0;c<n.length;++c){var h=n[c];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==r)return c}return-1}qE.prototype.add=function(n,e,t,r,c){var h=n.toString();(n=this.g[h])||(n=this.g[h]=[],this.h++);var g=Hb(n,e,r,c);return-1<g?(e=n[g],t||(e.ia=!1)):((e=new xA(e,this.src,h,!!r,c)).ia=t,n.push(e)),e};var b_="closure_lm_"+(1e6*Math.random()|0),WE={};function qb(n,e,t,r,c){if(r&&r.once)return D_(n,e,t,r,c);if(Array.isArray(e)){for(var h=0;h<e.length;h++)qb(n,e[h],t,r,c);return null}return t=ZE(t),n&&n[Zv]?n.O(e,t,Wv(r)?!!r.capture:!!r,c):Wb(n,e,t,!1,r,c)}function Wb(n,e,t,r,c,h){if(!e)throw Error("Invalid event type");var g=Wv(c)?!!c.capture:!!c,y=KE(n);if(y||(n[b_]=y=new qE(n)),(t=y.add(e,t,r,g,h)).proxy)return t;if(r=function LR(){const e=FR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yg||(c=g),void 0===c&&(c=!1),n.addEventListener(e.toString(),r,c);else if(n.attachEvent)n.attachEvent(MA(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function D_(n,e,t,r,c){if(Array.isArray(e)){for(var h=0;h<e.length;h++)D_(n,e[h],t,r,c);return null}return t=ZE(t),n&&n[Zv]?n.P(e,t,Wv(r)?!!r.capture:!!r,c):Wb(n,e,t,!0,r,c)}function C_(n,e,t,r,c){if(Array.isArray(e))for(var h=0;h<e.length;h++)C_(n,e[h],t,r,c);else r=Wv(r)?!!r.capture:!!r,t=ZE(t),n&&n[Zv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Hb(h=n.g[e],t,r,c))&&(Qv(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete n.g[e],n.h--))):n&&(n=KE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Hb(e,t,r,c)),(t=-1<n?e[n]:null)&&Kb(t))}function Kb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zv])zb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(MA(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=KE(e))?(zb(t,n),0==t.h&&(t.src=null,e[b_]=null)):Qv(n)}}}function MA(n){return n in WE?WE[n]:WE[n]="on"+n}function FR(n,e){if(n.fa)n=!0;else{e=new T_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Kb(n),n=t.call(r,e)}return n}function KE(n){return(n=n[b_])instanceof qE?n:null}var YE="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZE(n){return"function"==typeof n?n:(n[YE]||(n[YE]=function(e){return n.handleEvent(e)}),n[YE])}function ea(){Kd.call(this),this.i=new qE(this),this.S=this,this.J=null}function ta(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ya(e,n);else if(e instanceof ya)e.target=e.target||n;else{var c=e;w_(e=new ya(r,n),c)}if(c=!0,t)for(var h=t.length-1;0<=h;h--){var g=e.g=t[h];c=QE(g,r,!0,e)&&c}if(c=QE(g=e.g=n,r,!0,e)&&c,c=QE(g,r,!1,e)&&c,t)for(h=0;h<t.length;h++)c=QE(g=e.g=t[h],r,!1,e)&&c}function QE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.fa&&g.capture==t){var y=g.listener,T=g.la||g.src;g.ia&&zb(n.i,g),c=!1!==y.call(T,r)&&c}}return c&&!r.defaultPrevented}$o(ea,Kd),ea.prototype[Zv]=!0,ea.prototype.removeEventListener=function(n,e,t,r){C_(this,n,e,t,r)},ea.prototype.N=function(){if(ea.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qv(t[r]);delete n.g[e],n.h--}}this.J=null},ea.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ea.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Yb=Ar.JSON.stringify;function ck(){var n=Eg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VR=new class ak{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new kA,n=>n.reset());class kA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XE(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function BR(n){Ar.setTimeout(()=>{throw n},0)}let Xv,A_=!1,Eg=new class lk{constructor(){this.h=this.g=null}add(e,t){const r=VR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},NA=()=>{const n=Ar.Promise.resolve(void 0);Xv=()=>{n.then($R)}};var $R=()=>{for(var n;n=ck();){try{n.h.call(n.g)}catch(t){BR(t)}var e=VR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}A_=!1};function JE(n,e){ea.call(this),this.h=n||1,this.g=e||Ar,this.j=_a(this.qb,this),this.l=Date.now()}function Zb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function OA(n,e,t){if("function"==typeof n)t&&(n=_a(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_a(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ar.setTimeout(n,e||0)}function LA(n){n.g=OA(()=>{n.g=null,n.i&&(n.i=!1,LA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$o(JE,ea),(An=JE.prototype).ga=!1,An.T=null,An.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ta(this,"tick"),this.ga&&(Zb(this),this.start()))}},An.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},An.N=function(){JE.$.N.call(this),Zb(this),delete this.g};class FA extends Kd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LA(this)}N(){super.N(),this.g&&(Ar.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jv(n){Kd.call(this),this.h=n,this.g={}}$o(Jv,Kd);var VA=[];function S_(n,e,t,r){Array.isArray(t)||(t&&(VA[0]=t.toString()),t=VA);for(var c=0;c<t.length;c++){var h=qb(e,t[c],r||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function BA(n){HE(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kb(e)},n),n.g={}}function eI(){this.g=!0}function x_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jR(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var c=r[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<c.length;g++)c[g]=""}}}return Yb(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jv.prototype.N=function(){Jv.$.N.call(this),BA(this)},Jv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eI.prototype.Ea=function(){this.g=!1},eI.prototype.info=function(){};var Yd={},jA=null;function tI(){return jA=jA||new ea}function Qb(n){ya.call(this,Yd.Ta,n)}function nI(n){const e=tI();ta(e,new Qb(e))}function GA(n,e){ya.call(this,Yd.STAT_EVENT,n),this.stat=e}function ec(n){const e=tI();ta(e,new GA(e,n))}function eT(n,e){ya.call(this,Yd.Ua,n),this.size=e}function rI(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ar.setTimeout(function(){n()},e)}Yd.Ta="serverreachability",$o(Qb,ya),Yd.STAT_EVENT="statevent",$o(GA,ya),Yd.Ua="timingevent",$o(eT,ya);var iI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xb(){}function qA(){}Xb.prototype.h=null;var tD,sI={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jb(){ya.call(this,"d")}function eD(){ya.call(this,"c")}function oI(){}function R_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jv(this),this.P=GR,this.V=new JE(n=DA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new WA}function WA(){this.i=null,this.g="",this.h=!1}$o(Jb,ya),$o(eD,ya),$o(oI,Xb),oI.prototype.g=function(){return new XMLHttpRequest},oI.prototype.i=function(){return{}},tD=new oI;var GR=45e3,tT={},nT={};function nD(n,e,t){n.L=1,n.v=lI(nu(e)),n.s=t,n.S=!0,KA(n,null)}function KA(n,e){n.G=Date.now(),P_(n),n.A=nu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),eS(t.i,"t",r),n.C=0,t=n.l.J,n.h=new WA,n.g=gS(n.l,t?e:null,!n.s),0<n.O&&(n.M=new FA(_a(n.Pa,n,n.g),n.O)),S_(n.U,n.g,"readystatechange",n.nb),e=n.I?RA(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),nI(),function UR(n,e,t,r,c,h){n.info(function(){if(n.g)if(h)for(var g="",y=h.split("&"),T=0;T<y.length;T++){var S=y[T].split("=");if(1<S.length){var U=S[0];S=S[1];var Y=U.split("_");g=2<=Y.length&&"type"==Y[1]?g+(U+"=")+S+"&":g+(U+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+r+") [attempt "+c+"]: "+e+"\n"+t+"\n"+g})}(n.j,n.u,n.A,n.m,n.W,n.s)}function YA(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function rT(n,e,t){let c,r=!0;for(;!n.J&&n.C<t.length;){if(c=rD(n,t),c==nT){4==e&&(n.o=4,ec(14),r=!1),x_(n.j,n.m,null,"[Incomplete Response]");break}if(c==tT){n.o=4,ec(15),x_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}x_(n.j,n.m,c,null),iD(n,c)}YA(n)&&c!=nT&&c!=tT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ec(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),lT(e),e.M=!0,ec(11))):(x_(n.j,n.m,t,"[Invalid Chunked Response]"),Zd(n),aI(n))}function rD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nT:(t=Number(e.substring(t,r)),isNaN(t)?tT:(r+=1)+t>e.length?nT:(e=e.slice(r,r+t),n.C=r+t,e))}function P_(n){n.Y=Date.now()+n.P,iT(n,n.P)}function iT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rI(_a(n.lb,n),e)}function sT(n){n.B&&(Ar.clearTimeout(n.B),n.B=null)}function aI(n){0==n.l.H||n.J||pS(n.l,n)}function Zd(n){sT(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Zb(n.V),BA(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function iD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uD(t.i,n)))if(!n.K&&uD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var c=r;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uT(t),mI(t)}mD(t),ec(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=rI(_a(t.ib,t),6e3));if(1>=rS(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else bf(t,11)}else if((n.K||t.g==n)&&uT(t),!Yv(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let S=c[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.K=S[1],t.pa=S[2];const U=S[3];null!=U&&(t.ra=U,t.l.info("VER="+t.ra));const Y=S[4];null!=Y&&(t.Ga=Y,t.l.info("SVER="+t.Ga));const ce=S[5];null!=ce&&"number"==typeof ce&&0<ce&&(t.L=r=1.5*ce,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ie=n.g;if(Ie){const rt=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rt){var h=r.i;h.g||-1==rt.indexOf("spdy")&&-1==rt.indexOf("quic")&&-1==rt.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(dD(h,h.h),h.h=null))}if(r.F){const Ct=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Ct&&(r.Da=Ct,ws(r.I,r.F,Ct))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var g=n;if((r=t).wa=yD(r,r.J?r.pa:null,r.Y),g.K){iS(r.i,g);var y=g,T=r.L;T&&y.setTimeout(T),y.B&&(sT(y),P_(y)),r.g=g}else fS(r);0<t.j.length&&_I(t)}else"stop"!=S[0]&&"close"!=S[0]||bf(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?bf(t,7):B_(t):"noop"!=S[0]&&t.h&&t.h.Aa(S),t.A=0)}nI()}catch{}}function sD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Tg(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ZA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),c=r.length,h=0;h<c;h++)e.call(void 0,r[h],t&&t[h],n)}(An=R_.prototype).setTimeout=function(n){this.P=n},An.nb=function(n){n=n.target;const e=this.M;e&&3==Jd(n)?e.l():this.Pa(n)},An.Pa=function(n){try{if(n==this.g)e:{const U=Jd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>U)&&(3!=U||DA||this.g&&(this.h.h||this.g.ja()||lS(this.g)))){this.J||4!=U||7==e||nI(),sT(this);var t=this.g.da();this.ca=t;t:if(YA(this)){var r=lS(this.g);n="";var c=r.length,h=4==Jd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zd(this),aI(this);var g="";break t}this.h.i=new Ar.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:h&&e==c-1});r.splice(0,c),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==t,function $A(n,e,t,r,c,h,g){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.W,U,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var y,T=this.g;if((y=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yv(y)){var S=y;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,ec(12),Zd(this),aI(this);break e}x_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iD(this,t)}this.S?(rT(this,U,g),DA&&this.i&&3==U&&(S_(this.U,this.V,"tick",this.mb),this.V.start())):(x_(this.j,this.m,g,null),iD(this,g)),4==U&&Zd(this),this.i&&!this.J&&(4==U?pS(this.l,this):(this.i=!1,P_(this)))}else(function fk(n){const e={};n=(n.g&&2<=Jd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Yv(n[r]))continue;var t=XE(n[r]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[c]||[];e[c]=h,h.push(t)}!function OR(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<g.indexOf("Unknown SID")?(this.o=3,ec(12)):(this.o=0,ec(13)),Zd(this),aI(this)}}}catch{}},An.mb=function(){if(this.g){var n=Jd(this.g),e=this.g.ja();this.C<e.length&&(sT(this),rT(this,n,e),this.i&&4!=n&&P_(this))}},An.cancel=function(){this.J=!0,Zd(this)},An.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(nI(),ec(17)),Zd(this),this.o=2,aI(this)):iT(this,this.Y-n)};var QA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Qd){this.h=n.h,oT(this,n.j),this.s=n.s,this.g=n.g,cI(this,n.m),this.l=n.l;var e=n.i,t=new uI;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oD(this,t),this.o=n.o}else n&&(e=String(n).match(QA))?(this.h=!1,oT(this,e[1]||"",!0),this.s=wg(e[2]||""),this.g=wg(e[3]||"",!0),cI(this,e[4]),this.l=wg(e[5]||"",!0),oD(this,e[6]||"",!0),this.o=wg(e[7]||"")):(this.h=!1,this.i=new uI(null,this.h))}function nu(n){return new Qd(n)}function oT(n,e,t){n.j=t?wg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oD(n,e,t){e instanceof uI?(n.i=e,function dk(n,e){e&&!n.j&&(Xd(n),n.i=null,n.g.forEach(function(t,r){var c=r.toLowerCase();r!=c&&(WR(this,r),eS(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=M_(e,HR)),n.i=new uI(e,n.h))}function ws(n,e,t){n.i.set(e,t)}function lI(n){return ws(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function M_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,XA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(M_(e,aD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(M_(e,aD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(M_(t,"/"==t.charAt(0)?zR:JA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",M_(t,qR)),n.join("")};var aD=/[#\/\?@]/g,JA=/[#\?:]/g,zR=/[#\?]/g,HR=/[#\?@]/g,qR=/#/g;function uI(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xd(n){n.g||(n.g=new Map,n.h=0,n.i&&function uk(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),c=null;if(0<=r){var h=n[t].substring(0,r);c=n[t].substring(r+1)}else h=n[t];e(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function WR(n,e){Xd(n),e=k_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cD(n,e){return Xd(n),e=k_(n,e),n.g.has(e)}function eS(n,e,t){WR(n,e),0<t.length&&(n.i=null,n.g.set(k_(n,e),GE(t)),n.h+=t.length)}function k_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tS(n){this.l=n||nS,n=Ar.PerformanceNavigationTiming?0<(n=Ar.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ar.g&&Ar.g.Ka&&Ar.g.Ka()&&Ar.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(An=uI.prototype).add=function(n,e){Xd(this),this.i=null,n=k_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},An.forEach=function(n,e){Xd(this),this.g.forEach(function(t,r){t.forEach(function(c){n.call(e,c,r,this)},this)},this)},An.ta=function(){Xd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const c=n[r];for(let h=0;h<c.length;h++)t.push(e[r])}return t},An.Z=function(n){Xd(this);let e=[];if("string"==typeof n)cD(this,n)&&(e=e.concat(this.g.get(k_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},An.set=function(n,e){return Xd(this),this.i=null,cD(this,n=k_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},An.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},An.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const h=encodeURIComponent(String(r)),g=this.Z(r);for(r=0;r<g.length;r++){var c=h;""!==g[r]&&(c+="="+encodeURIComponent(String(g[r]))),n.push(c)}}return this.i=n.join("&")};var nS=10;function lD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function rS(n){return n.h?1:n.g?n.g.size:0}function uD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dD(n,e){n.g?n.g.add(e):n.h=e}function iS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function sS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return GE(n.i)}tS.prototype.cancel=function(){if(this.i=sS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var YR=class{stringify(n){return Ar.JSON.stringify(n,void 0)}parse(n){return Ar.JSON.parse(n,void 0)}};function ZR(){this.g=new YR}function QR(n,e,t){const r=t||"";try{sD(n,function(c,h){let g=c;Wv(c)&&(g=Yb(c)),e.push(r+h+"="+encodeURIComponent(g))})}catch(c){throw e.push(r+"type="+encodeURIComponent("_badmap")),c}}function hI(n,e,t,r,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(r)}catch{}}function N_(n){this.l=n.fc||null,this.j=n.ob||!1}function fI(n,e){ea.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=aT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$o(N_,Xb),N_.prototype.g=function(){return new fI(this.l,this.j)},N_.prototype.i=function(n){return function(){return n}}({}),$o(fI,ea);var aT=0;function hD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function O_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pI(n)}function pI(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(An=fI.prototype).open=function(n,e){if(this.readyState!=aT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pI(this)},An.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ar).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},An.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,O_(this)),this.readyState=aT},An.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pI(this)),this.g&&(this.readyState=3,pI(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ar.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},An.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?O_(this):pI(this),3==this.readyState&&hD(this)}},An.Za=function(n){this.g&&(this.response=this.responseText=n,O_(this))},An.Ya=function(n){this.g&&(this.response=n,O_(this))},An.ka=function(){this.g&&O_(this)},An.setRequestHeader=function(n,e){this.v.append(n,e)},An.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},An.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hk=Ar.JSON.parse;function vo(n){ea.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fD,this.L=this.M=!1}$o(vo,ea);var fD="",XR=/^https?$/i,JR=["POST","PUT"];function oS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,L_(n),F_(n)}function L_(n){n.F||(n.F=!0,ta(n,"complete"),ta(n,"error"))}function aS(n){if(n.h&&typeof Lb<"u"&&(!n.C[1]||4!=Jd(n)||2!=n.da()))if(n.v&&4==Jd(n))OA(n.La,0,n);else if(ta(n,"readystatechange"),4==Jd(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var c=String(n.I).match(QA)[1]||null;!c&&Ar.self&&Ar.self.location&&(c=Ar.self.location.protocol.slice(0,-1)),r=!XR.test(c?c.toLowerCase():"")}t=r}if(t)ta(n,"complete"),ta(n,"success");else{n.m=6;try{var h=2<Jd(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",L_(n)}}finally{F_(n)}}}function F_(n,e){if(n.g){cS(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ta(n,"ready");try{t.onreadystatechange=r}catch{}}}function cS(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ar.clearTimeout(n.A),n.A=null)}function Jd(n){return n.g?n.g.readyState:0}function lS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function V_(n){let e="";return HE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function pD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=V_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ws(n,e,t))}function gI(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uS(n){this.Ga=0,this.j=[],this.l=new eI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gI("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gI("baseRetryDelayMs",5e3,n),this.hb=gI("retryDelaySeedMs",1e4,n),this.eb=gI("forwardChannelMaxRetries",2,n),this.xa=gI("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new tS(n&&n.concurrentRequestLimit),this.Ja=new ZR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function B_(n){if(dS(n),3==n.H){var e=n.W++,t=nu(n.I);if(ws(t,"SID",n.K),ws(t,"RID",e),ws(t,"TYPE","terminate"),yI(n,t),(e=new R_(n,n.l,e)).L=2,e.v=lI(nu(t)),t=!1,Ar.navigator&&Ar.navigator.sendBeacon)try{t=Ar.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ar.Image&&((new Image).src=e.v,t=!0),t||(e.g=gS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),P_(e)}dT(n)}function mI(n){n.g&&(lT(n),n.g.cancel(),n.g=null)}function dS(n){mI(n),n.u&&(Ar.clearTimeout(n.u),n.u=null),uT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ar.clearTimeout(n.m),n.m=null)}function _I(n){if(!lD(n.i)&&!n.m){n.m=!0;var e=n.Na;Xv||NA(),A_||(Xv(),A_=!0),Eg.add(e,n),n.C=0}}function hS(n,e){var t;t=e?e.m:n.W++;const r=nu(n.I);ws(r,"SID",n.K),ws(r,"RID",t),ws(r,"AID",n.V),yI(n,r),n.o&&n.s&&pD(r,n.o,n.s),t=new R_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=gD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dD(n.i,t),nD(t,r,e)}function yI(n,e){n.na&&HE(n.na,function(t,r){ws(e,r,t)}),n.h&&sD({},function(t,r){ws(e,r,t)})}function gD(n,e,t){t=Math.min(n.j.length,t);var r=n.h?_a(n.h.Va,n.h,n):null;e:{var c=n.j;let h=-1;for(;;){const g=["count="+t];-1==h?0<t?(h=c[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let y=!0;for(let T=0;T<t;T++){let S=c[T].g;const U=c[T].map;if(S-=h,0>S)h=Math.max(0,c[T].g-100),y=!1;else try{QR(U,g,"req"+S+"_")}catch{r&&r(U)}}if(y){r=g.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function fS(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Xv||NA(),A_||(Xv(),A_=!0),Eg.add(e,n),n.A=0}}function mD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rI(_a(n.Ma,n),_D(n,n.A)),n.A++,0))}function lT(n){null!=n.B&&(Ar.clearTimeout(n.B),n.B=null)}function vI(n){n.g=new R_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=nu(n.wa);ws(e,"RID","rpc"),ws(e,"SID",n.K),ws(e,"AID",n.V),ws(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ws(e,"TO",n.qa),ws(e,"TYPE","xmlhttp"),yI(n,e),n.o&&n.s&&pD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=lI(nu(e)),t.s=null,t.S=!0,KA(t,n)}function uT(n){null!=n.v&&(Ar.clearTimeout(n.v),n.v=null)}function pS(n,e){var t=null;if(n.g==e){uT(n),lT(n),n.g=null;var r=2}else{if(!uD(n.i,e))return;t=e.F,iS(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;ta(r=tI(),new eT(r,t)),_I(n)}else fS(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==r&&function cT(n,e){return!(rS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rI(_a(n.Na,n,e),_D(n,n.C)),n.C++,0)))}(n,e)||2==r&&mD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:bf(n,5);break;case 4:bf(n,10);break;case 3:bf(n,6);break;default:bf(n,2)}}function _D(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function bf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=_a(n.pb,n);t||(t=new Qd("//www.google.com/images/cleardot.gif"),Ar.location&&"http"==Ar.location.protocol||oT(t,"https"),lI(t)),function dI(n,e){const t=new eI;if(Ar.Image){const r=new Image;r.onload=Kv(hI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Kv(hI,t,r,"TestLoadImage: error",!1,e),r.onabort=Kv(hI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kv(hI,t,r,"TestLoadImage: timeout",!1,e),Ar.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ec(2);n.H=0,n.h&&n.h.za(e),dT(n),dS(n)}function dT(n){if(n.H=0,n.ma=[],n.h){const e=sS(n.i);(0!=e.length||0!=n.j.length)&&(Bb(n.ma,e),Bb(n.ma,n.j),n.i.i.length=0,GE(n.j),n.j.length=0),n.h.ya()}}function yD(n,e,t){var r=t instanceof Qd?nu(t):new Qd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),cI(r,r.m);else{var c=Ar.location;r=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var h=new Qd(null);r&&oT(h,r),e&&(h.g=e),c&&cI(h,c),t&&(h.l=t),r=h}return e=n.Da,(t=n.F)&&e&&ws(r,t,e),ws(r,"VER",n.ra),yI(n,r),r}function gS(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vo(t&&n.Ha&&!n.va?new N_({ob:!0}):n.va)).Oa(n.J),e}function vD(){}function II(){if(vg&&!(10<=Number(ok)))throw Error("Environmental error: no available transport.")}function Hc(n,e){ea.call(this),this.g=new uS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Yv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yv(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Df(this)}function mS(n){Jb.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hT(){eD.call(this),this.status=1}function Df(n){this.g=n}function qc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function EI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)r[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)r[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=n.g[3],g=(e=n.g[0])+(h^(t=n.g[1])&((c=n.g[2])^h))+r[0]+3614090360&4294967295;g=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=(t=(c=(h=(e=t+(g<<7&4294967295|g>>>25))+((g=h+(c^e&(t^c))+r[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=c+(t^h&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^c&(h^e))+r[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(c^h))+r[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=h+(c^e&(t^c))+r[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=c+(t^h&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^c&(h^e))+r[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(c^h))+r[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=h+(c^e&(t^c))+r[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=c+(t^h&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^c&(h^e))+r[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(h^t&(c^h))+r[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=h+(c^e&(t^c))+r[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=c+(t^h&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=t+(e^c&(h^e))+r[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(c^h&(t^c))+r[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^c&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=c+(e^t&(h^e))+r[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(c^h))+r[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(c^h&(t^c))+r[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^c&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=c+(e^t&(h^e))+r[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(c^h))+r[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(c^h&(t^c))+r[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^c&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=c+(e^t&(h^e))+r[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(c^h))+r[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(c^h&(t^c))+r[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=h+(t^c&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=c+(e^t&(h^e))+r[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=t+(h^e&(c^h))+r[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(t^c^h)+r[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^c)+r[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=c+(h^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=t+(c^h^e)+r[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^c^h)+r[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^c)+r[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=c+(h^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=t+(c^h^e)+r[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^c^h)+r[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^c)+r[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=c+(h^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=t+(c^h^e)+r[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(t^c^h)+r[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=h+(e^t^c)+r[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=c+(h^e^t)+r[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=t+(c^h^e)+r[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(c^(t|~h))+r[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~c))+r[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=c+(e^(h|~t))+r[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(c|~e))+r[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(c^(t|~h))+r[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~c))+r[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=c+(e^(h|~t))+r[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(c|~e))+r[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(c^(t|~h))+r[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~c))+r[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=c+(e^(h|~t))+r[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=t+(h^(c|~e))+r[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((h=(e=t+((g=e+(c^(t|~h))+r[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=h+(t^(e|~c))+r[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((c=h+((g=c+(e^(h|~t))+r[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(g<<21&4294967295|g>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+h&4294967295}function ki(n,e){this.h=e;for(var t=[],r=!0,c=n.length-1;0<=c;c--){var h=0|n[c];r&&h==e||(t[c]=h,r=!1)}this.g=t}(An=vo.prototype).Oa=function(n){this.M=n},An.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tD.g(),this.C=function HA(n){return n.h||(n.h=n.i())}(this.u?this.u:tD),this.g.onreadystatechange=_a(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(h){return void oS(this,h)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var c in r)t.set(c,r[c]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const h of r.keys())t.set(h,r.get(h))}r=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),c=Ar.FormData&&n instanceof Ar.FormData,!(0<=Vb(JR,e))||r||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of t)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cS(this),0<this.B&&((this.L=function eP(n){return vg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_a(this.ua,this)):this.A=OA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){oS(this,h)}},An.ua=function(){typeof Lb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ta(this,"timeout"),this.abort(8))},An.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ta(this,"complete"),ta(this,"abort"),F_(this))},An.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),F_(this,!0)),vo.$.N.call(this)},An.La=function(){this.s||(this.G||this.v||this.l?aS(this):this.kb())},An.kb=function(){aS(this)},An.isActive=function(){return!!this.g},An.da=function(){try{return 2<Jd(this)?this.g.status:-1}catch{return-1}},An.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},An.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hk(e)}},An.Ia=function(){return this.m},An.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(An=uS.prototype).ra=8,An.H=1,An.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new R_(this,this.l,n);let h=this.s;if(this.U&&(h?(h=RA(h),w_(h,this.U)):h=this.U),null!==this.o||this.O||(c.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gD(this,c,e),ws(t=nu(this.I),"RID",n),ws(t,"CVER",22),this.F&&ws(t,"X-HTTP-Session-Id",this.F),yI(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(V_(h)))+"&"+e:this.o&&pD(t,this.o,h)),dD(this.i,c),this.bb&&ws(t,"TYPE","init"),this.P?(ws(t,"$req",e),ws(t,"SID","null"),c.aa=!0,nD(c,t,null)):nD(c,t,e),this.H=2}}else 3==this.H&&(n?hS(this,n):0==this.j.length||lD(this.i)||hS(this))},An.Ma=function(){if(this.u=null,vI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rI(_a(this.jb,this),n)}},An.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ec(10),mI(this),vI(this))},An.ib=function(){null!=this.v&&(this.v=null,mI(this),mD(this),ec(19))},An.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ec(2)):(this.l.info("Failed to ping google.com"),ec(1))},An.isActive=function(){return!!this.h&&this.h.isActive(this)},(An=vD.prototype).Ba=function(){},An.Aa=function(){},An.za=function(){},An.ya=function(){},An.isActive=function(){return!0},An.Va=function(){},II.prototype.g=function(n,e){return new Hc(n,e)},$o(Hc,ea),Hc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ec(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=yD(n,null,n.Y),_I(n)},Hc.prototype.close=function(){B_(this.g)},Hc.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Yb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&_I(e)},Hc.prototype.N=function(){this.g.h=null,delete this.j,B_(this.g),delete this.g,Hc.$.N.call(this)},$o(mS,Jb),$o(hT,eD),$o(Df,vD),Df.prototype.Ba=function(){ta(this.g,"a")},Df.prototype.Aa=function(n){ta(this.g,new mS(n))},Df.prototype.za=function(n){ta(this.g,new hT)},Df.prototype.ya=function(){ta(this.g,"b")},$o(qc,function _S(){this.blockSize=-1}),qc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,c=this.h,h=0;h<e;){if(0==c)for(;h<=t;)EI(this,n,h),h+=this.blockSize;if("string"==typeof n){for(;h<e;)if(r[c++]=n.charCodeAt(h++),c==this.blockSize){EI(this,r),c=0;break}}else for(;h<e;)if(r[c++]=n[h++],c==this.blockSize){EI(this,r),c=0;break}}this.h=c,this.i+=e},qc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var tP={};function ID(n){return-128<=n&&128>n?function $b(n,e){var t=tP;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ki([0|e],0>e?-1:0)}):new ki([0|n],0>n?-1:0)}function Xu(n){if(isNaN(n)||!isFinite(n))return bg;if(0>n)return na(Xu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=TI;return new ki(e,0)}var TI=4294967296,bg=ID(0),fT=ID(1),TD=ID(16777216);function Ju(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bl(n){return-1==n.h}function na(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ki(t,~n.h).add(fT)}function wI(n,e){return n.add(na(e))}function pT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function $_(n,e){this.g=n,this.h=e}function gT(n,e){if(Ju(e))throw Error("division by zero");if(Ju(n))return new $_(bg,bg);if(bl(n))return e=gT(na(n),e),new $_(na(e.g),na(e.h));if(bl(e))return e=gT(n,na(e)),new $_(na(e.g),e.h);if(30<n.g.length){if(bl(n)||bl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=fT,r=e;0>=r.X(n);)t=La(t),r=La(r);var c=ru(t,1),h=ru(r,1);for(r=ru(r,2),t=ru(t,2);!Ju(r);){var g=h.add(r);0>=g.X(n)&&(c=c.add(t),h=g),r=ru(r,1),t=ru(t,1)}return e=wI(n,c.R(e)),new $_(c,e)}for(c=bg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),g=(h=Xu(t)).R(e);bl(g)||0<g.X(n);)g=(h=Xu(t-=r)).R(e);Ju(h)&&(h=fT),c=c.add(h),n=wI(n,g)}return new $_(c,n)}function La(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ki(t,n.h)}function ru(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,c=[],h=0;h<r;h++)c[h]=0<e?n.D(h+t)>>>e|n.D(h+t+1)<<32-e:n.D(h+t);return new ki(c,n.h)}(An=ki.prototype).ea=function(){if(bl(this))return-na(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:TI+r)*e,e*=TI}return n},An.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ju(this))return"0";if(bl(this))return"-"+na(this).toString(n);for(var e=Xu(Math.pow(n,6)),t=this,r="";;){var c=gT(t,e).g,h=((0<(t=wI(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ju(t=c))return h+r;for(;6>h.length;)h="0"+h;r=h+r}},An.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},An.X=function(n){return bl(n=wI(this,n))?-1:Ju(n)?0:1},An.abs=function(){return bl(this)?na(this):this},An.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,c=0;c<=e;c++){var h=r+(65535&this.D(c))+(65535&n.D(c)),g=(h>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);r=g>>>16,t[c]=(g&=65535)<<16|(h&=65535)}return new ki(t,-2147483648&t[t.length-1]?-1:0)},An.R=function(n){if(Ju(this)||Ju(n))return bg;if(bl(this))return bl(n)?na(this).R(na(n)):na(na(this).R(n));if(bl(n))return na(this.R(na(n)));if(0>this.X(TD)&&0>n.X(TD))return Xu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var c=0;c<n.g.length;c++){var h=this.D(r)>>>16,g=65535&this.D(r),y=n.D(c)>>>16,T=65535&n.D(c);t[2*r+2*c]+=g*T,pT(t,2*r+2*c),t[2*r+2*c+1]+=h*T,pT(t,2*r+2*c+1),t[2*r+2*c+1]+=g*y,pT(t,2*r+2*c+1),t[2*r+2*c+2]+=h*y,pT(t,2*r+2*c+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ki(t,0)},An.gb=function(n){return gT(this,n).h},An.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ki(t,this.h&n.h)},An.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ki(t,this.h|n.h)},An.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ki(t,this.h^n.h)},II.prototype.createWebChannel=II.prototype.g,Hc.prototype.send=Hc.prototype.u,Hc.prototype.open=Hc.prototype.m,Hc.prototype.close=Hc.prototype.close,iI.NO_ERROR=0,iI.TIMEOUT=8,iI.HTTP_ERROR=6,zA.COMPLETE="complete",qA.EventType=sI,sI.OPEN="a",sI.CLOSE="b",sI.ERROR="c",sI.MESSAGE="d",ea.prototype.listen=ea.prototype.O,vo.prototype.listenOnce=vo.prototype.P,vo.prototype.getLastError=vo.prototype.Sa,vo.prototype.getLastErrorCode=vo.prototype.Ia,vo.prototype.getStatus=vo.prototype.da,vo.prototype.getResponseJson=vo.prototype.Wa,vo.prototype.getResponseText=vo.prototype.ja,vo.prototype.send=vo.prototype.ha,vo.prototype.setWithCredentials=vo.prototype.Oa,qc.prototype.digest=qc.prototype.l,qc.prototype.reset=qc.prototype.reset,qc.prototype.update=qc.prototype.j,ki.prototype.add=ki.prototype.add,ki.prototype.multiply=ki.prototype.R,ki.prototype.modulo=ki.prototype.gb,ki.prototype.compare=ki.prototype.X,ki.prototype.toNumber=ki.prototype.ea,ki.prototype.toString=ki.prototype.toString,ki.prototype.getBits=ki.prototype.D,ki.fromNumber=Xu,ki.fromString=function ED(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return na(ED(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xu(Math.pow(e,8)),r=bg,c=0;c<n.length;c+=8){var h=Math.min(8,n.length-c),g=parseInt(n.substring(c,c+h),e);8>h?(h=Xu(Math.pow(e,h)),r=r.R(h).add(Xu(g))):r=(r=r.R(t)).add(Xu(g))}return r},tu.createWebChannelTransport=function(){return new II},tu.getStatEventTarget=function(){return tI()},tu.ErrorCode=iI,tu.EventType=zA,tu.Event=Yd,tu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tu.FetchXmlHttpFactory=N_,tu.WebChannel=qA,tu.XhrIo=vo,tu.Md5=qc;var rP=tu.Integer=ki;const uP="@firebase/firestore";class va{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}va.UNAUTHENTICATED=new va(null),va.GOOGLE_CREDENTIALS=new va("google-credentials-uid"),va.FIRST_PARTY=new va("first-party-uid"),va.MOCK_USER=new va("mock-user");let ET="9.23.0";const Cg=new ve.Yd("@firebase/firestore");function nn(n,...e){if(Cg.logLevel<=ve.in.DEBUG){const t=e.map(TT);Cg.debug(`Firestore (${ET}): ${n}`,...t)}}function io(n,...e){if(Cg.logLevel<=ve.in.ERROR){const t=e.map(TT);Cg.error(`Firestore (${ET}): ${n}`,...t)}}function TT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vn(n="Unexpected state"){const e=`FIRESTORE (${ET}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function Zn(n,e){n||Vn()}const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wt extends J.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ko{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class FS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(va.UNAUTHENTICATED))}shutdown(){}}class hP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _k{constructor(e){this.t=e,this.currentUser=va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let c=this.i;const h=S=>this.i!==c?(c=this.i,t(S)):Promise.resolve();let g=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ko,e.enqueueRetryable(()=>h(this.currentUser))};const y=()=>{const S=g;e.enqueueRetryable((0,L.Z)(function*(){yield S.promise,yield h(r.currentUser)}))},T=S=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(S=>T(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?T(S):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ko)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zn("string"==typeof r.accessToken),new FS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zn(null===e||"string"==typeof e),new va(e)}}class fP{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=va.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class DI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new fP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(va.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=h=>{null!=h.error&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.T;return this.T=h.token,nn("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const c=h=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?c(h):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zn("string"==typeof t.token),this.T=t.token,new CI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class VS{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const c=gP(40);for(let h=0;h<c.length;++h)r.length<20&&c[h]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return r}}function Cr(n,e){return n<e?-1:n>e?1:0}class bT{constructor(e,t,r){void 0===t?t=0:t>e.length&&Vn(),void 0===r?r=e.length-t:r>e.length-t&&Vn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bT.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bT?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let c=0;c<r;c++){const h=e.get(c),g=t.get(c);if(h<g)return-1;if(h>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class li extends bT{construct(e,t,r){return new li(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Wt(vt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(c=>c.length>0))}return new li(t)}static emptyPath(){return new li([])}}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(li.fromString(e))}static fromName(e){return new wn(li.fromString(e).popFirst(5))}static empty(){return new wn(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===li.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new li(e.slice()))}}function ed(n){return"IndexedDbTransactionError"===n.name}class Ni{constructor(e,t){this.comparator=e,this.root=t||Ea.EMPTY}insert(e,t){return new Ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ea.BLACK,null,null))}remove(e){return new Ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ea.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const c=this.comparator(e,r.key);if(0===c)return t+r.left.size;c<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RT(this.root,e,this.comparator,!1)}getReverseIterator(){return new RT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RT(this.root,e,this.comparator,!0)}}class RT{constructor(e,t,r,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?r(e.key,t):1,t&&c&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ea{constructor(e,t,r,c,h){this.key=e,this.value=t,this.color=null!=r?r:Ea.RED,this.left=null!=c?c:Ea.EMPTY,this.right=null!=h?h:Ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,c,h){return new Ea(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=c?c:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let c=this;const h=r(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,t,r),null):0===h?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,r)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ea.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Ea.EMPTY;r=c.right.min(),c=c.copy(r.key,r.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vn();const e=this.left.check();if(e!==this.right.check())throw Vn();return e+(this.isRed()?0:1)}}Ea.EMPTY=null,Ea.RED=!0,Ea.BLACK=!1,Ea.EMPTY=new class{constructor(){this.size=0}get key(){throw Vn()}get value(){throw Vn()}get color(){throw Vn()}get left(){throw Vn()}get right(){throw Vn()}copy(n,e,t,r,c){return this}insert(n,e,t){return new Ea(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gs{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const c=r.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Af(this.data.getIterator())}getIteratorFrom(e){return new Af(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,h=r.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gs(this.comparator);return t.data=e,t}}class Af{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PT("Invalid base64 string: "+c):c}}(e);return new Eo(t)}static fromUint8Array(e){const t=function(r){let c="";for(let h=0;h<r.length;++h)c+=String.fromCharCode(r[h]);return c}(e);return new Eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function To(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Eo.EMPTY_BYTE_STRING=new Eo("");class xP{constructor(e,t,r,c,h,g,y,T,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=c,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=y,this.longPollingOptions=T,this.useFetchStreams=S}}class Rg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rg&&e.projectId===this.projectId&&e.database===this.database}}var sa,Ii;new Ni(wn.comparator),new Ni(wn.comparator),new Ni(wn.comparator),new gs(wn.comparator),new gs(Cr),(Ii=sa||(sa={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS",new rP([4294967295,4294967295],0);class UI{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(To(e.integerValue));else if("doubleValue"in e){const r=To(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function ST(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function Sf(n){return"string"==typeof n?Eo.fromBase64String(n):Eo.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function XS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Vn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const c of Object.keys(r))this.Te(c,t),this.me(r[c],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const c of r)this.me(c,t)}ve(e,t){this.ye(t,37),wn.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}UI.Ve=new UI,new Uint8Array(0);class bc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bc(e,bc.DEFAULT_COLLECTION_PERCENTILE,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bx(){return typeof document<"u"?document:null}bc.DEFAULT_COLLECTION_PERCENTILE=10,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bc.DEFAULT=new bc(41943040,bc.DEFAULT_COLLECTION_PERCENTILE,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bc.DISABLED=new bc(-1,0,0);class y1{constructor(e,t,r=1e3,c=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=c,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-r);c>0&&nn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class w1{constructor(e,t,r,c,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=c,this.removalCallback=h,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,r,c,h){const g=Date.now()+r,y=new w1(e,t,g,c,h);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wt(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class T${constructor(e,t,r,c){var g,h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=c,this.user=va.UNAUTHENTICATED,this.clientId=VS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(y){return(g=g||(0,L.Z)(function*(T){nn("FirestoreClient","Received user=",T.uid),yield h.authCredentialListener(T),h.user=T})).apply(this,arguments)}),this.appCheckCredentials.start(r,y=>(nn("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,L.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wt(vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,L.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const c=function XT(n,e){if(io("AsyncQueue",`${e}: ${n}`),ed(n))return new Wt(vt.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function bO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const DO=new Map;function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Wt(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Mx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Vn()}(n);throw new Wt(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class xO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Wt(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wt(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function P$(n,e,t,r){if(!0===e&&!0===r)throw new Wt(vt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Wt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Wt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Wt(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IC{constructor(e,t,r,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Wt(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wt(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new dP;switch(t.type){case"firstParty":return new DI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Wt(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DO.get(e);t&&(nn("ComponentProvider","Removing Datastore"),DO.delete(e),t.terminate())}(this),Promise.resolve()}}class N${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new y1(this,"async_queue_retry"),this.Xc=()=>{const t=bx();t&&nn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=bx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ko;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,L.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ed(t))throw t;nn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=w1.createAndSchedule(this,e,t,r,h=>this.na(h));return this.zc.push(c),c}Zc(){this.Wc&&Vn()}verifyOperationInProgress(){}sa(){var e=this;return(0,L.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Qs extends IC{constructor(e,t,r,c){super(e,t,r,c),this.type="firestore",this._queue=new N$,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function PO(n){var e,t,r;const c=n._freezeSettings(),h=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xP(n._databaseId,y,n._persistenceKey,(S=c).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,bO(S.experimentalLongPollingOptions),S.useFetchStreams));var y,S;n._firestoreClient=new T$(n._authCredentials,n._appCheckCredentials,n._queue,h),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=c.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function L$(n,e){const r="string"==typeof n?n:e||"(default)",c=on("object"==typeof n?n:Ur(),"firestore").getImmediate({identifier:r});if(!c._initialized){const h=(0,J.P0)("firestore");h&&function M$(n,e,t,r={}){var c;const h=(n=gi(n,IC))._getSettings(),g=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==g&&function Dl(n,...e){if(Cg.logLevel<=ve.in.WARN){const t=e.map(TT);Cg.warn(`Firestore (${ET}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),r.mockUserToken){let y,T;if("string"==typeof r.mockUserToken)y=r.mockUserToken,T=va.MOCK_USER;else{y=(0,J.Sg)(r.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Wt(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new va(S)}n._authCredentials=new hP(new FS(y,T))}}(c,...h)}return c}!function(n,e=!0){ET=In,rr(new de.wA("firestore",(t,{instanceIdentifier:r,options:c})=>{const h=t.getProvider("app").getImmediate(),g=new Qs(new _k(t.getProvider("auth-internal")),new pP(t.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Wt(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rg(y.options.projectId,T)}(h,r),h);return c=Object.assign({useFetchStreams:e},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),fr(uP,"3.13.0",n),fr(uP,"3.13.0","esm2017")}();class W1{constructor(e){return e}}const XO="firestore",K1=new E.OlP("angularfire2.firestore-instances");function lU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new W1(r)}}const uU={provide:class aU{constructor(){return Ry(XO)}},deps:[[new E.FiY,K1]]},dU={provide:W1,useFactory:function cU(n,e){const t=pc(XO,n,e);return t&&new W1(t)},deps:[[new E.FiY,K1],ll]};let hU=(()=>{class n{constructor(){fr("angularfire",rp.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=E.oAB({type:n}),n.\u0275inj=E.cJS({providers:[dU,uU]}),n})();function fU(n,...e){return{ngModule:hU,providers:[{provide:K1,useFactory:lU(n),multi:!0,deps:[E.R0b,E.zs3,bh,pd,[new E.FiY,Tc],[new E.FiY,Bc],...e]}]}}const pU=fd(L$,!0);class gU{constructor(e,t){this._delegate=e,this.firebase=t,(0,ee._addComponent)(e,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(e,t=ee._DEFAULT_ENTRY_NAME){var r;this._delegate.checkDestroyed();const c=this._delegate.container.getProvider(e);return!c.isInitialized()&&"EXPLICIT"===(null===(r=c.getComponent())||void 0===r?void 0:r.instantiationMode)&&c.initialize(),c.getImmediate({identifier:t})}_removeServiceInstance(e,t=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,ee._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,ee._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const JO=new J.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),yU=function eL(){const n=function _U(n){const e={},t={__esModule:!0,initializeApp:function h(S,U={}){const Y=ee.initializeApp(S,U);if((0,J.r3)(e,Y.name))return e[Y.name];const ce=new n(Y,t);return e[Y.name]=ce,ce},app:c,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function y(S){const U=S.name,Y=U.replace("-compat","");if(ee._registerComponent(S)&&"PUBLIC"===S.type){const ce=(Ie=c())=>{if("function"!=typeof Ie[Y])throw JO.create("invalid-app-argument",{appName:U});return Ie[Y]()};void 0!==S.serviceProps&&(0,J.ZB)(ce,S.serviceProps),t[Y]=ce,n.prototype[Y]=function(...Ie){return this._getService.bind(this,U).apply(this,S.multipleInstances?Ie:[])}}return"PUBLIC"===S.type?t[Y]:null},removeApp:function r(S){delete e[S]},useAsService:function T(S,U){return"serverAuth"===U?null:U},modularAPIs:ee}};function c(S){if(!(0,J.r3)(e,S=S||ee._DEFAULT_ENTRY_NAME))throw JO.create("no-app",{appName:S});return e[S]}return t.default=t,Object.defineProperty(t,"apps",{get:function g(){return Object.keys(e).map(S=>e[S])}}),c.App=n,t}(gU);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:eL,extendNamespace:function e(t){(0,J.ZB)(n,t)},createSubscribe:J.ne,ErrorFactory:J.LL,deepExtend:J.ZB}),n}(),tL=new ve.Yd("@firebase/app-compat");if((0,J.jU)()&&void 0!==self.firebase){tL.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&tL.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jx=yU;var nL,rL,iL,sL,oL,aL,cL,lL,uL,dL,hL,fL,pL,gL,mL,yL,vL,IL,EL,TL,wL,bL,DL,CL,AL,SL,xL,RL,PL,ML,kL,NL,OL,LL,FL,VL,BL,$L,UL,jL,GL,zL,HL,qL,WL,KL,YL,ZL,QL,XL,JL,eF,tF,nF,rF,iF,sF,oF,aF,uF,dF,hF,fF,pF,gF,mF,_F,yF,vF,IF,EF,TF,wF,bF,DF,CF,AF,SF,xF,RF,PF,MF,kF;!function EU(n){(0,ee.registerVersion)("@firebase/app-compat","0.2.18",n)}();const AC={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function NF(n){return void 0!==n&&void 0!==n.getResponse}function OF(n){return void 0!==n&&void 0!==n.enterprise}class LF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const wU=function TU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bU=function FF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},VF=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gx=new ve.Yd("@firebase/auth");function zx(n,...e){Gx.logLevel<=ve.in.ERROR&&Gx.error(`Auth (${ee.SDK_VERSION}): ${n}`,...e)}function $a(n,...e){throw Y1(n,...e)}function nc(n,...e){return Y1(n,...e)}function BF(n,e,t){const r=Object.assign(Object.assign({},bU()),{[e]:t});return new J.LL("auth","Firebase",r).create(e,{appName:n.name})}function lw(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&$a(n,"argument-error"),BF(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y1(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VF.create(n,...e)}function un(n,e,...t){if(!n)throw Y1(e,...t)}function Of(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zx(e),new Error(e)}function sh(n,e){n||Of(e)}function SC(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Z1(){return"http:"===$F()||"https:"===$F()}function $F(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class xC{constructor(e,t){this.shortDelay=e,this.longDelay=t,sh(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function CU(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Z1()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q1(n,e){sh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class UF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Of("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Of("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Of("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xU=new xC(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wo(n,e,t,r){return(nL=nL||(0,L.Z)(function*(c,h,g,y,T={}){return jF(c,T,(0,L.Z)(function*(){let S={},U={};y&&("GET"===h?U=y:S={body:JSON.stringify(y)});const Y=(0,J.xO)(Object.assign({key:c.config.apiKey},U)).slice(1),ce=yield c._getAdditionalHeaders();return ce["Content-Type"]="application/json",c.languageCode&&(ce["X-Firebase-Locale"]=c.languageCode),UF.fetch()(GF(c,c.config.apiHost,g,Y),Object.assign({method:h,headers:ce,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function jF(n,e,t){return(rL=rL||(0,L.Z)(function*(r,c,h){r._canInitEmulator=!1;const g=Object.assign(Object.assign({},SU),c);try{const y=new RU(r),T=yield Promise.race([h(),y.promise]);y.clearNetworkTimeout();const S=yield T.json();if("needConfirmation"in S)throw RC(r,"account-exists-with-different-credential",S);if(T.ok&&!("errorMessage"in S))return S;{const U=T.ok?S.errorMessage:S.error.message,[Y,ce]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Y)throw RC(r,"credential-already-in-use",S);if("EMAIL_EXISTS"===Y)throw RC(r,"email-already-in-use",S);if("USER_DISABLED"===Y)throw RC(r,"user-disabled",S);const Ie=g[Y]||Y.toLowerCase().replace(/[_\s]+/g,"-");if(ce)throw BF(r,Ie,ce);$a(r,Ie)}}catch(y){if(y instanceof J.ZR)throw y;$a(r,"network-request-failed",{message:String(y)})}})).apply(this,arguments)}function Lg(n,e,t,r){return(iL=iL||(0,L.Z)(function*(c,h,g,y,T={}){const S=yield wo(c,h,g,y,T);return"mfaPendingCredential"in S&&$a(c,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function GF(n,e,t,r){const c=`${e}${t}?${r}`;return n.config.emulator?Q1(n.config,c):`${n.config.apiScheme}://${c}`}class RU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(nc(this.auth,"network-request-failed")),xU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function RC(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const c=nc(n,e,r);return c.customData._tokenResponse=t,c}function PC(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function X1(n){return 1e3*Number(n)}function Hx(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return zx("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,J.tV)(t);return c?JSON.parse(c):(zx("Failed to decode base64 JWT payload"),null)}catch(c){return zx("Caught error parsing JWT payload as JSON",null==c?void 0:c.toString()),null}}function Fg(n,e){return(dL=dL||(0,L.Z)(function*(t,r,c=!1){if(c)return r;try{return yield r}catch(h){throw h instanceof J.ZR&&function FU({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(h)&&t.auth.currentUser===t&&(yield t.auth.signOut()),h}})).apply(this,arguments)}class VU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,L.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,L.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class HF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=PC(this.lastLoginAt),this.creationTime=PC(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function MC(n){return(hL=hL||(0,L.Z)(function*(e){var t;const r=e.auth,c=yield e.getIdToken(),h=yield Fg(e,function NU(n,e){return(lL=lL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:c}));un(null==h?void 0:h.users.length,r,"internal-error");const g=h.users[0];e._notifyReloadListener(g);const y=null!==(t=g.providerUserInfo)&&void 0!==t&&t.length?function UU(n){return n.map(e=>{var{providerId:t}=e,r=(0,Na._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(g.providerUserInfo):[],T=function $U(n,e){return[...n.filter(r=>!e.some(c=>c.providerId===r.providerId)),...e]}(e.providerData,y),Y=!!e.isAnonymous&&!(e.email&&g.passwordHash||null!=T&&T.length),ce={uid:g.localId,displayName:g.displayName||null,photoURL:g.photoUrl||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,tenantId:g.tenantId||null,providerData:T,metadata:new HF(g.createdAt,g.lastLoginAt),isAnonymous:Y};Object.assign(e,ce)})).apply(this,arguments)}class kC{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){un(e.idToken,"internal-error"),un(typeof e.idToken<"u","internal-error"),un(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function LU(n){const e=Hx(n);return un(e,"internal-error"),un(typeof e.exp<"u","internal-error"),un(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,L.Z)(function*(){return un(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,L.Z)(function*(){const{accessToken:c,refreshToken:h,expiresIn:g}=yield function jU(n,e){return(pL=pL||(0,L.Z)(function*(t,r){const c=yield jF(t,{},(0,L.Z)(function*(){const h=(0,J.xO)({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:g,apiKey:y}=t.config,T=GF(t,g,"/v1/token",`key=${y}`),S=yield t._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",UF.fetch()(T,{method:"POST",headers:S,body:h})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}(e,t);r.updateTokensAndExpiration(c,h,Number(g))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:c,expirationTime:h}=t,g=new kC;return r&&(un("string"==typeof r,"internal-error",{appName:e}),g.refreshToken=r),c&&(un("string"==typeof c,"internal-error",{appName:e}),g.accessToken=c),h&&(un("number"==typeof h,"internal-error",{appName:e}),g.expirationTime=h),g}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kC,this.toJSON())}_performRefresh(){return Of("not implemented")}}function ty(n,e){un("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class KI{constructor(e){var{uid:t,auth:r,stsTokenManager:c}=e,h=(0,Na._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new HF(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,L.Z)(function*(){const r=yield Fg(t,t.stsTokenManager.getToken(t.auth,e));return un(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function OU(n){return(uL=uL||(0,L.Z)(function*(e,t=!1){const r=(0,J.m9)(e),c=yield r.getIdToken(t),h=Hx(c);un(h&&h.exp&&h.auth_time&&h.iat,r.auth,"internal-error");const g="object"==typeof h.firebase?h.firebase:void 0,y=null==g?void 0:g.sign_in_provider;return{claims:h,token:c,authTime:PC(X1(h.auth_time)),issuedAtTime:PC(X1(h.iat)),expirationTime:PC(X1(h.exp)),signInProvider:y||null,signInSecondFactor:(null==g?void 0:g.sign_in_second_factor)||null}})).apply(this,arguments)}(this,e)}reload(){return function BU(n){return(fL=fL||(0,L.Z)(function*(e){const t=(0,J.m9)(e);yield MC(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(un(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new KI(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,L.Z)(function*(){let c=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield MC(r)),yield r.auth._persistUserIfCurrent(r),c&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,L.Z)(function*(){const t=yield e.getIdToken();return yield Fg(e,function MU(n,e){return(aL=aL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,c,h,g,y,T,S,U;const Y=null!==(r=t.displayName)&&void 0!==r?r:void 0,ce=null!==(c=t.email)&&void 0!==c?c:void 0,Ie=null!==(h=t.phoneNumber)&&void 0!==h?h:void 0,rt=null!==(g=t.photoURL)&&void 0!==g?g:void 0,Ct=null!==(y=t.tenantId)&&void 0!==y?y:void 0,Ot=null!==(T=t._redirectEventId)&&void 0!==T?T:void 0,Kt=null!==(S=t.createdAt)&&void 0!==S?S:void 0,nr=null!==(U=t.lastLoginAt)&&void 0!==U?U:void 0,{uid:kn,emailVerified:pr,isAnonymous:ui,providerData:xi,stsTokenManager:Go}=t;un(kn&&Go,e,"internal-error");const Qc=kC.fromJSON(this.name,Go);un("string"==typeof kn,e,"internal-error"),ty(Y,e.name),ty(ce,e.name),un("boolean"==typeof pr,e,"internal-error"),un("boolean"==typeof ui,e,"internal-error"),ty(Ie,e.name),ty(rt,e.name),ty(Ct,e.name),ty(Ot,e.name),ty(Kt,e.name),ty(nr,e.name);const rc=new KI({uid:kn,auth:e,email:ce,emailVerified:pr,displayName:Y,isAnonymous:ui,photoURL:rt,phoneNumber:Ie,tenantId:Ct,stsTokenManager:Qc,createdAt:Kt,lastLoginAt:nr});return xi&&Array.isArray(xi)&&(rc.providerData=xi.map(KC=>Object.assign({},KC))),Ot&&(rc._redirectEventId=Ot),rc}static _fromIdTokenResponse(e,t,r=!1){return(0,L.Z)(function*(){const c=new kC;c.updateFromServerResponse(t);const h=new KI({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:r});return yield MC(h),h})()}}const qF=new Map;function ou(n){sh(n instanceof Function,"Expected a class definition");let e=qF.get(n);return e?(sh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qF.set(n,e),e)}const uw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,L.Z)(function*(){return!0})()}_set(t,r){var c=this;return(0,L.Z)(function*(){c.storage[t]=r})()}_get(t){var r=this;return(0,L.Z)(function*(){const c=r.storage[t];return void 0===c?null:c})()}_remove(t){var r=this;return(0,L.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function YI(n,e,t){return`firebase:${n}:${e}:${t}`}class dw{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:c,name:h}=this.auth;this.fullUserKey=YI(this.userKey,c.apiKey,h),this.fullPersistenceKey=YI("persistence",c.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,L.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?KI._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,L.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,L.Z)(function*(){var c,h;if(!t.length)return new dw(ou(uw),e,r);const g=(yield Promise.all(t.map(function(Y){return(c=c||(0,L.Z)(function*(ce){if(yield ce._isAvailable())return ce})).apply(this,arguments)}))).filter(Y=>Y);let y=g[0]||ou(uw);const T=YI(r,e.config.apiKey,e.name);let S=null;for(const Y of t)try{const ce=yield Y._get(T);if(ce){const Ie=KI._fromJSON(e,ce);Y!==y&&(S=Ie),y=Y;break}}catch{}const U=g.filter(Y=>Y._shouldAllowMigration);return y._shouldAllowMigration&&U.length?(y=U[0],S&&(yield y._set(T,S.toJSON())),yield Promise.all(t.map(function(Y){return(h=h||(0,L.Z)(function*(ce){if(ce!==y)try{yield ce._remove(T)}catch{}})).apply(this,arguments)})),new dw(y,e,r)):new dw(y,e,r)})()}}function WF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QF(e))return"Blackberry";if(XF(e))return"Webos";if(J1(e))return"Safari";if((e.includes("chrome/")||YF(e))&&!e.includes("edge/"))return"Chrome";if(NC(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function KF(n=(0,J.z$)()){return/firefox\//i.test(n)}function J1(n=(0,J.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YF(n=(0,J.z$)()){return/crios\//i.test(n)}function ZF(n=(0,J.z$)()){return/iemobile/i.test(n)}function NC(n=(0,J.z$)()){return/android/i.test(n)}function QF(n=(0,J.z$)()){return/blackberry/i.test(n)}function XF(n=(0,J.z$)()){return/webos/i.test(n)}function hw(n=(0,J.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JF(n=(0,J.z$)()){return hw(n)||NC(n)||XF(n)||QF(n)||/windows phone/i.test(n)||ZF(n)}function e2(n,e=[]){let t;switch(n){case"Browser":t=WF((0,J.z$)());break;case"Worker":t=`${WF((0,J.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ee.SDK_VERSION}/${r}`}class WU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=h=>new Promise((g,y)=>{try{g(e(h))}catch(T){y(T)}});r.onAbort=t,this.queue.push(r);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,L.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const c of t.queue)yield c(e),c.onAbort&&r.push(c.onAbort)}catch(c){r.reverse();for(const h of r)try{h()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==c?void 0:c.message})}})()}}class ZU{constructor(e){var t,r,c,h;const g=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=g.minPasswordLength)&&void 0!==t?t:6,g.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=g.maxPasswordLength),void 0!==g.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=g.containsLowercaseCharacter),void 0!==g.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=g.containsUppercaseCharacter),void 0!==g.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=g.containsNumericCharacter),void 0!==g.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=g.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(c=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==c?c:"",this.forceUpgradeOnSignin=null!==(h=e.forceUpgradeOnSignin)&&void 0!==h&&h,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,c,h,g,y;const T={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,T),this.validatePasswordCharacterOptions(e,T),T.isValid&&(T.isValid=null===(t=T.meetsMinPasswordLength)||void 0===t||t),T.isValid&&(T.isValid=null===(r=T.meetsMaxPasswordLength)||void 0===r||r),T.isValid&&(T.isValid=null===(c=T.containsLowercaseLetter)||void 0===c||c),T.isValid&&(T.isValid=null===(h=T.containsUppercaseLetter)||void 0===h||h),T.isValid&&(T.isValid=null===(g=T.containsNumericCharacter)||void 0===g||g),T.isValid&&(T.isValid=null===(y=T.containsNonAlphanumericCharacter)||void 0===y||y),T}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),c&&(t.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let c=0;c<e.length;c++)r=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,c,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class QU{constructor(e,t,r,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t2(this),this.idTokenSubscription=new t2(this),this.beforeStateQueue=new WU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ou(t)),this._initializationPromise=this.queue((0,L.Z)(function*(){var c,h;if(!r._deleted&&(r.persistenceManager=yield dw.create(r,e),!r._deleted)){if(null!==(c=r._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(h=r.currentUser)||void 0===h?void 0:h.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,L.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,L.Z)(function*(){var r;const c=yield t.assertedPersistence.getCurrentUser();let h=c,g=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const y=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,T=null==h?void 0:h._redirectEventId,S=yield t.tryRedirectSignIn(e);(!y||y===T)&&null!=S&&S.user&&(h=S.user,g=!0)}if(!h)return t.directlySetCurrentUser(null);if(!h._redirectEventId){if(g)try{yield t.beforeStateQueue.runMiddleware(h)}catch(y){h=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(y))}return h?t.reloadAndSetCurrentUserOrClear(h):t.directlySetCurrentUser(null)}return un(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===h._redirectEventId?t.directlySetCurrentUser(h):t.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(e){var t=this;return(0,L.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,L.Z)(function*(){try{yield MC(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function AU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,L.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,L.Z)(function*(){const r=e?(0,J.m9)(e):null;return r&&un(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,L.Z)(function*(){if(!r._deleted)return e&&un(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,L.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,L.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,L.Z)(function*(){yield t.assertedPersistence.setPersistence(ou(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,L.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,L.Z)(function*(){const t=yield function KU(n){return(gL=gL||(0,L.Z)(function*(e,t={}){return wo(e,"GET","/v2/passwordPolicy",oo(e,t))})).apply(this,arguments)}(e),r=new ZU(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new J.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,L.Z)(function*(){const c=yield r.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,L.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&ou(e)||t._popupRedirectResolver;un(r,t,"argument-error"),t.redirectPersistenceManager=yield dw.create(t,[ou(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,L.Z)(function*(){var r,c;return t._isInitialized&&(yield t.queue((0,L.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,L.Z)(function*(){if(e===t.currentUser)return t.queue((0,L.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,c){if(this._deleted)return()=>{};const h="function"==typeof t?t:t.next.bind(t);let g=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(un(y,this,"internal-error"),y.then(()=>{g||h(this.currentUser)}),"function"==typeof t){const T=e.addObserver(t,r,c);return()=>{g=!0,T()}}{const T=e.addObserver(t);return()=>{g=!0,T()}}}directlySetCurrentUser(e){var t=this;return(0,L.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return un(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,L.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(r["X-Firebase-Client"]=c);const h=yield e._getAppCheckToken();return h&&(r["X-Firebase-AppCheck"]=h),r})()}_getAppCheckToken(){var e=this;return(0,L.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return null!=r&&r.error&&function DU(n,...e){Gx.logLevel<=ve.in.WARN&&Gx.warn(`Auth (${ee.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function ao(n){return(0,J.m9)(n)}class t2{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,J.ne)(t=>this.observer=t)}get next(){return un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eM(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=c=>{const h=nc("internal-error");h.customData=c,t(h)},r.type="text/javascript",r.charset="UTF-8",function XU(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function n2(n){return`__${n}${Math.floor(1e6*Math.random())}`}class r2{constructor(e){this.type="recaptcha-enterprise",this.auth=ao(e)}verify(e="verify",t=!1){var r=this;return(0,L.Z)(function*(){var c;function g(y,T,S){const U=window.grecaptcha;OF(U)?U.enterprise.ready(()=>{U.enterprise.execute(y,{action:e}).then(Y=>{T(Y)}).catch(()=>{T("NO_RECAPTCHA")})}):S(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((y,T)=>{(function h(y){return(c=c||(0,L.Z)(function*(T){var S;if(!t){if(null==T.tenantId&&null!=T._agentRecaptchaConfig)return T._agentRecaptchaConfig.siteKey;if(null!=T.tenantId&&void 0!==T._tenantRecaptchaConfigs[T.tenantId])return T._tenantRecaptchaConfigs[T.tenantId].siteKey}return new Promise(function(U,Y){return(S=S||(0,L.Z)(function*(ce,Ie){(function zF(n,e){return(oL=oL||(0,L.Z)(function*(t,r){return wo(t,"GET","/v2/recaptchaConfig",oo(t,r))})).apply(this,arguments)})(T,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const Ct=new LF(rt);return null==T.tenantId?T._agentRecaptchaConfig=Ct:T._tenantRecaptchaConfigs[T.tenantId]=Ct,ce(Ct.siteKey)}Ie(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{Ie(rt)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(S=>{if(!t&&OF(window.grecaptcha))g(S,y,T);else{if(typeof window>"u")return void T(new Error("RecaptchaVerifier is only supported in browser"));eM("https://www.google.com/recaptcha/enterprise.js?render="+S).then(()=>{g(S,y,T)}).catch(U=>{T(U)})}}).catch(S=>{T(S)})})})()}}function ny(n,e,t){return(mL=mL||(0,L.Z)(function*(r,c,h,g=!1){const y=new r2(r);let T;try{T=yield y.verify(h)}catch{T=yield y.verify(h,!0)}const S=Object.assign({},c);return Object.assign(S,g?{captchaResp:T}:{captchaResponse:T}),Object.assign(S,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(S,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),S})).apply(this,arguments)}function s2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class fw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Of("not implemented")}_getIdTokenResponse(e){return Of("not implemented")}_linkToIdToken(e,t){return Of("not implemented")}_getReauthenticationResolver(e){return Of("not implemented")}}function a2(n,e){return(yL=yL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:resetPassword",oo(t,r))})).apply(this,arguments)}function c2(n,e){return(vL=vL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:update",r)})).apply(this,arguments)}function tM(n,e){return(EL=EL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithPassword",oo(t,r))})).apply(this,arguments)}function qx(n,e){return(TL=TL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:sendOobCode",oo(t,r))})).apply(this,arguments)}function nM(n,e){return(bL=bL||(0,L.Z)(function*(t,r){return qx(t,r)})).apply(this,arguments)}function rM(n,e){return(DL=DL||(0,L.Z)(function*(t,r){return qx(t,r)})).apply(this,arguments)}class OC extends fw{constructor(e,t,r,c=null){super("password",r),this._email=e,this._password=t,this._tenantId=c}static _fromEmailAndPassword(e,t){return new OC(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new OC(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(null!=t&&t.email&&null!=t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,L.Z)(function*(){var r;switch(t.signInMethod){case"password":const h={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const g=yield ny(e,h,"signInWithPassword");return tM(e,g)}var c;return tM(e,h).catch(function(g){return(c=c||(0,L.Z)(function*(y){if("auth/missing-recaptcha-token"===y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const T=yield ny(e,h,"signInWithPassword");return tM(e,T)}return Promise.reject(y)})).apply(this,arguments)});case"emailLink":return function u9(n,e){return(AL=AL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,r))})).apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:$a(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,L.Z)(function*(){switch(r.signInMethod){case"password":return c2(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function d9(n,e){return(SL=SL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,r))})).apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:$a(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Vg(n,e){return(xL=xL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithIdp",oo(t,r))})).apply(this,arguments)}class Lf extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$a("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:c}=t,h=(0,Na._T)(t,["providerId","signInMethod"]);if(!r||!c)return null;const g=new Lf(r,c);return g.idToken=h.idToken||void 0,g.accessToken=h.accessToken||void 0,g.secret=h.secret,g.nonce=h.nonce,g.pendingToken=h.pendingToken||null,g}_getIdTokenResponse(e){return Vg(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vg(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,J.xO)(t)}return e}}const m9={USER_NOT_FOUND:"user-not-found"};class ZI extends fw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ZI({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ZI({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function p9(n,e){return(PL=PL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithPhoneNumber",oo(t,r))})).apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function g9(n,e){return(ML=ML||(0,L.Z)(function*(t,r){const c=yield Lg(t,"POST","/v1/accounts:signInWithPhoneNumber",oo(t,r));if(c.temporaryProof)throw RC(t,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function _9(n,e){return(kL=kL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithPhoneNumber",oo(t,Object.assign(Object.assign({},r),{operation:"REAUTH"})),m9)})).apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:c}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:c}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:c,temporaryProof:h}=e;return r||t||c||h?new ZI({verificationId:t,verificationCode:r,phoneNumber:c,temporaryProof:h}):null}}class LC{constructor(e){var t,r,c,h,g,y;const T=(0,J.zd)((0,J.pd)(e)),S=null!==(t=T.apiKey)&&void 0!==t?t:null,U=null!==(r=T.oobCode)&&void 0!==r?r:null,Y=function y9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(c=T.mode)&&void 0!==c?c:null);un(S&&U&&Y,"argument-error"),this.apiKey=S,this.operation=Y,this.code=U,this.continueUrl=null!==(h=T.continueUrl)&&void 0!==h?h:null,this.languageCode=null!==(g=T.languageCode)&&void 0!==g?g:null,this.tenantId=null!==(y=T.tenantId)&&void 0!==y?y:null}static parseLink(e){const t=function v9(n){const e=(0,J.zd)((0,J.pd)(n)).link,t=e?(0,J.zd)((0,J.pd)(e)).deep_link_id:null,r=(0,J.zd)((0,J.pd)(n)).deep_link_id;return(r?(0,J.zd)((0,J.pd)(r)).link:null)||r||t||e||n}(e);try{return new LC(t)}catch{return null}}}let iM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return OC._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const c=LC.parseLink(r);return un(c,"argument-error"),OC._fromEmailAndCode(t,c.code,c.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pw extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gw extends pw{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return un("providerId"in t&&"signInMethod"in t,"argument-error"),Lf._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return un(e.idToken||e.accessToken,"argument-error"),Lf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return gw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return gw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:c,pendingToken:h,nonce:g,providerId:y}=e;if(!r&&!c&&!t&&!h||!y)return null;try{return new gw(y)._credential({idToken:t,accessToken:r,nonce:g,pendingToken:h})}catch{return null}}}let l2=(()=>{class n extends pw{constructor(){super("facebook.com")}static credential(t){return Lf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),u2=(()=>{class n extends pw{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Lf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:c}=t;if(!r&&!c)return null;try{return n.credential(r,c)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),d2=(()=>{class n extends pw{constructor(){super("github.com")}static credential(t){return Lf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class mw extends fw{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Vg(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vg(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vg(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:c,pendingToken:h}=t;return r&&c&&h&&r===c?new mw(r,h):null}static _create(e,t){return new mw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wx extends Bg{constructor(e){un(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Wx.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Wx.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mw.fromJSON(e);return un(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return mw._create(r,t)}catch{return null}}}let h2=(()=>{class n extends pw{constructor(){super("twitter.com")}static credential(t,r){return Lf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:c}=t;if(!r||!c)return null;try{return n.credential(r,c)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Kx(n,e){return(NL=NL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signUp",oo(t,r))})).apply(this,arguments)}class td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,c=!1){return(0,L.Z)(function*(){const h=yield KI._fromIdTokenResponse(e,r,c),g=f2(r);return new td({user:h,providerId:g,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,L.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const c=f2(r);return new td({user:e,providerId:c,_tokenResponse:r,operationType:t})})()}}function f2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Yx extends J.ZR{constructor(e,t,r,c){var h;super(t.code,t.message),this.operationType=r,this.user=c,Object.setPrototypeOf(this,Yx.prototype),this.customData={appName:e.name,tenantId:null!==(h=e.tenantId)&&void 0!==h?h:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,c){return new Yx(e,t,r,c)}}function p2(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?Yx._fromErrorAndOperation(n,h,e,r):h})}function g2(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function sM(n,e){return(FL=FL||(0,L.Z)(function*(t,r,c=!1){const h=yield Fg(t,r._linkToIdToken(t.auth,yield t.getIdToken()),c);return td._forOperation(t,"link",h)})).apply(this,arguments)}function Zx(n,e,t){return(VL=VL||(0,L.Z)(function*(r,c,h){yield MC(c);const y=!1===r?"provider-already-linked":"no-such-provider";un(g2(c.providerData).has(h)===r,c.auth,y)})).apply(this,arguments)}function m2(n,e){return(BL=BL||(0,L.Z)(function*(t,r,c=!1){const{auth:h}=t,g="reauthenticate";try{const y=yield Fg(t,p2(h,g,r,t),c);un(y.idToken,h,"internal-error");const T=Hx(y.idToken);un(T,h,"internal-error");const{sub:S}=T;return un(t.uid===S,h,"user-mismatch"),td._forOperation(t,g,y)}catch(y){throw"auth/user-not-found"===(null==y?void 0:y.code)&&$a(h,"user-mismatch"),y}})).apply(this,arguments)}function _2(n,e){return($L=$L||(0,L.Z)(function*(t,r,c=!1){const h="signIn",g=yield p2(t,h,r),y=yield td._fromIdTokenResponse(t,h,g);return c||(yield t._updateCurrentUser(y.user)),y})).apply(this,arguments)}function Qx(n,e){return(UL=UL||(0,L.Z)(function*(t,r){return _2(ao(t),r)})).apply(this,arguments)}function y2(n,e){return(jL=jL||(0,L.Z)(function*(t,r){const c=(0,J.m9)(t);return yield Zx(!1,c,r.providerId),sM(c,r)})).apply(this,arguments)}function v2(n,e){return(GL=GL||(0,L.Z)(function*(t,r){return m2((0,J.m9)(t),r)})).apply(this,arguments)}class FC{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?oM._fromServerResponse(e,t):"totpInfo"in t?aM._fromServerResponse(e,t):$a(e,"internal-error")}}class oM extends FC{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new oM(t)}}class aM extends FC{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new aM(t)}}function _w(n,e,t){var r;un((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),un(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(un(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(un(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function cM(n){return(qL=qL||(0,L.Z)(function*(e){const t=ao(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function I2(n,e){return(ZL=ZL||(0,L.Z)(function*(t,r){const c=(0,J.m9)(t),h=yield a2(c,{oobCode:r}),g=h.requestType;switch(un(g,c,"internal-error"),g){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":un(h.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":un(h.mfaInfo,c,"internal-error");default:un(h.email,c,"internal-error")}let y=null;return h.mfaInfo&&(y=FC._fromServerResponse(ao(c),h.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===h.requestType?h.newEmail:h.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===h.requestType?h.email:h.newEmail)||null,multiFactorInfo:y},operation:g}})).apply(this,arguments)}function E2(n,e,t){return(aF=aF||(0,L.Z)(function*(r,c,h){const{auth:g}=r,T={idToken:yield r.getIdToken(),returnSecureToken:!0};c&&(T.email=c),h&&(T.password=h);const S=yield Fg(r,c2(g,T));yield r._updateTokensIfNecessary(S,!0)})).apply(this,arguments)}class yw{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class T2 extends yw{constructor(e,t,r,c){super(e,t,r),this.username=c}}class z9 extends yw{constructor(e,t){super(e,"facebook.com",t)}}class H9 extends T2{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class q9 extends yw{constructor(e,t){super(e,"google.com",t)}}class W9 extends T2{constructor(e,t,r){super(e,"twitter.com",t,r)}}function K9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function G9(n){var e,t;if(!n)return null;const{providerId:r}=n,c=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},h=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&null!=n&&n.idToken){const g=null===(t=null===(e=Hx(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(g)return new yw(h,"anonymous"!==g&&"custom"!==g?g:null)}if(!r)return null;switch(r){case"facebook.com":return new z9(h,c);case"github.com":return new H9(h,c);case"google.com":return new q9(h,c);case"twitter.com":return new W9(h,c,n.screenName||null);case"custom":case"anonymous":return new yw(h,null);default:return new yw(h,r,c)}}(t)}class QI{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new QI("enroll",e,t)}static _fromMfaPendingCredential(e){return new QI("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null!=e&&e.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return QI._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return QI._fromIdtoken(e.multiFactorSession.idToken)}return null}}class lM{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){var r;const c=ao(e),h=t.customData._serverResponse,g=(h.mfaInfo||[]).map(T=>FC._fromServerResponse(c,T));un(h.mfaPendingCredential,c,"internal-error");const y=QI._fromMfaPendingCredential(h.mfaPendingCredential);return new lM(y,g,function(T){return(r=r||(0,L.Z)(function*(S){const U=yield S._process(c,y);delete h.mfaInfo,delete h.mfaPendingCredential;const Y=Object.assign(Object.assign({},h),{idToken:U.idToken,refreshToken:U.refreshToken});switch(t.operationType){case"signIn":const ce=yield td._fromIdTokenResponse(c,t.operationType,Y);return yield c._updateCurrentUser(ce.user),ce;case"reauthenticate":return un(t.user,c,"internal-error"),td._forOperation(t.user,t.operationType,Y);default:$a(c,"internal-error")}})).apply(this,arguments)})}resolveSignIn(e){var t=this;return(0,L.Z)(function*(){return t.signInResolver(e)})()}}class uM{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>FC._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new uM(e)}getSession(){var e=this;return(0,L.Z)(function*(){return QI._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var r=this;return(0,L.Z)(function*(){const c=e,h=yield r.getSession(),g=yield Fg(r.user,c._process(r.user.auth,h,t));return yield r.user._updateTokensIfNecessary(g),r.user.reload()})()}unenroll(e){var t=this;return(0,L.Z)(function*(){const r="string"==typeof e?e:e.uid,c=yield t.user.getIdToken();try{const h=yield Fg(t.user,function t6(n,e){return wo(n,"POST","/v2/accounts/mfaEnrollment:withdraw",oo(n,e))}(t.user.auth,{idToken:c,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:g})=>g!==r),yield t.user._updateTokensIfNecessary(h),yield t.user.reload()}catch(h){throw h}})()}}const dM=new WeakMap,Xx="__sak";class w2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xx,"1"),this.storage.removeItem(Xx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jx=(()=>{class n extends w2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function r6(){const n=(0,J.z$)();return J1(n)||hw(n)}()&&function qU(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=JF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const c=this.storage.getItem(r),h=this.localCache[r];c!==h&&t(r,h,c)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((y,T,S)=>{this.notifyListeners(y,S)});const c=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const y=this.storage.getItem(c);if(t.newValue!==y)null!==t.newValue?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!r)return}const h=()=>{const y=this.storage.getItem(c);!r&&this.localCache[c]===y||this.notifyListeners(c,y)},g=this.storage.getItem(c);!function HU(){return(0,J.w1)()&&10===document.documentMode}()||g===t.newValue||t.newValue===t.oldValue?h():setTimeout(h,10)}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:c}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var c=()=>super._set,h=this;return(0,L.Z)(function*(){yield c().call(h,t,r),h.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,c=this;return(0,L.Z)(function*(){const h=yield r().call(c,t);return c.localCache[t]=JSON.stringify(h),h})()}_remove(t){var r=()=>super._remove,c=this;return(0,L.Z)(function*(){yield r().call(c,t),delete c.localCache[t]})()}}return n.type="LOCAL",n})(),ry=(()=>{class n extends w2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let a6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(h=>h.isListeningto(t));if(r)return r;const c=new n(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,L.Z)(function*(){var c;const h=t,{eventId:g,eventType:y,data:T}=h.data,S=r.handlersMap[y];if(null==S||!S.size)return;h.ports[0].postMessage({status:"ack",eventId:g,eventType:y});const U=Array.from(S).map(function(ce){return(c=c||(0,L.Z)(function*(Ie){return Ie(h.origin,T)})).apply(this,arguments)}),Y=yield function o6(n){var e;return Promise.all(n.map(function(t){return(e=e||(0,L.Z)(function*(r){try{return{fulfilled:!0,value:yield r}}catch(c){return{fulfilled:!1,reason:c}}})).apply(this,arguments)}))}(U);h.ports[0].postMessage({status:"done",eventId:g,eventType:y,response:Y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function VC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class c6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var c=this;return(0,L.Z)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let g,y;return new Promise((T,S)=>{const U=VC("",20);h.port1.start();const Y=setTimeout(()=>{S(new Error("unsupported_event"))},r);y={messageChannel:h,onMessage(ce){const Ie=ce;if(Ie.data.eventId===U)switch(Ie.data.status){case"ack":clearTimeout(Y),g=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),T(Ie.data.response);break;default:clearTimeout(Y),clearTimeout(g),S(new Error("invalid_response"))}}},c.handlers.add(y),h.port1.addEventListener("message",y.onMessage),c.target.postMessage({eventType:e,eventId:U,data:t},[h.port2])}).finally(()=>{y&&c.removeMessageHandler(y)})})()}}function aa(){return window}function hM(){return typeof aa().WorkerGlobalScope<"u"&&"function"==typeof aa().importScripts}const b2="firebaseLocalStorageDb",eR="firebaseLocalStorage",D2="fbase_key";class BC{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tR(n,e){return n.transaction([eR],e?"readwrite":"readonly").objectStore(eR)}function fM(){const n=indexedDB.open(b2,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(eR,{keyPath:D2})}catch(c){t(c)}}),n.addEventListener("success",(0,L.Z)(function*(){const r=n.result;r.objectStoreNames.contains(eR)?e(r):(r.close(),yield function p6(){const n=indexedDB.deleteDatabase(b2);return new BC(n).toPromise()}(),e(yield fM()))}))})}function C2(n,e,t){return(dF=dF||(0,L.Z)(function*(r,c,h){const g=tR(r,!0).put({[D2]:c,value:h});return new BC(g).toPromise()})).apply(this,arguments)}function A2(n,e){const t=tR(n,!0).delete(e);return new BC(t).toPromise()}const vw=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,L.Z)(function*(){return t.db||(t.db=yield fM()),t.db})()}_withRetries(t){var r=this;return(0,L.Z)(function*(){let c=0;for(;;)try{const h=yield r._openDb();return yield t(h)}catch(h){if(c++>3)throw h;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,L.Z)(function*(){return hM()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,L.Z)(function*(){var r,c;t.receiver=a6._getInstance(function h6(){return hM()?self:null}()),t.receiver._subscribe("keyChanged",function(h,g){return(r=r||(0,L.Z)(function*(y,T){return{keyProcessed:(yield t._poll()).includes(T.key)}})).apply(this,arguments)}),t.receiver._subscribe("ping",function(h,g){return(c=c||(0,L.Z)(function*(y,T){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var t=this;return(0,L.Z)(function*(){var r,c;if(t.activeServiceWorker=yield function u6(){return(uF=uF||(0,L.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new c6(t.activeServiceWorker);const h=yield t.sender._send("ping",{},800);h&&null!==(r=h[0])&&void 0!==r&&r.fulfilled&&null!==(c=h[0])&&void 0!==c&&c.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,L.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function d6(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,L.Z)(function*(){try{if(!indexedDB)return!1;const t=yield fM();return yield C2(t,Xx,"1"),yield A2(t,Xx),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,L.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var c=this;return(0,L.Z)(function*(){return c._withPendingWrite((0,L.Z)(function*(){return yield c._withRetries(h=>C2(h,t,r)),c.localCache[t]=r,c.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,L.Z)(function*(){const c=yield r._withRetries(h=>function g6(n,e){return(hF=hF||(0,L.Z)(function*(t,r){const c=tR(t,!1).get(r),h=yield new BC(c).toPromise();return void 0===h?null:h.value})).apply(this,arguments)}(h,t));return r.localCache[t]=c,c})()}_remove(t){var r=this;return(0,L.Z)(function*(){return r._withPendingWrite((0,L.Z)(function*(){return yield r._withRetries(c=>A2(c,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,L.Z)(function*(){const r=yield t._withRetries(g=>{const y=tR(g,!1).getAll();return new BC(y).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const c=[],h=new Set;for(const{fbase_key:g,value:y}of r)h.add(g),JSON.stringify(t.localCache[g])!==JSON.stringify(y)&&(t.notifyListeners(g,y),c.push(g));for(const g of Object.keys(t.localCache))t.localCache[g]&&!h.has(g)&&(t.notifyListeners(g,null),c.push(g));return c})()}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,L.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),nR=1e12;class w6{constructor(e){this.auth=e,this.counter=nR,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new b6(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||nR;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||nR))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,L.Z)(function*(){var r;return null===(r=t._widgets.get(e||nR))||void 0===r||r.execute(),""})()}}class b6{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const c="string"==typeof e?document.getElementById(e):e;un(c,"argument-error",{appName:t}),this.container=c,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function D6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pM=n2("rcb"),C6=new xC(3e4,6e4);class S6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=aa().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return un(function x6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&NF(aa().grecaptcha)?Promise.resolve(aa().grecaptcha):new Promise((r,c)=>{const h=aa().setTimeout(()=>{c(nc(e,"network-request-failed"))},C6.get());aa()[pM]=()=>{aa().clearTimeout(h),delete aa()[pM];const y=aa().grecaptcha;if(!y||!NF(y))return void c(nc(e,"internal-error"));const T=y.render;y.render=(S,U)=>{const Y=T(S,U);return this.counter++,Y},this.hostLanguage=t,r(y)},eM(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:pM,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(h),c(nc(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=aa().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class R6{load(e){return(0,L.Z)(function*(){return new w6(e)})()}clearedOneInstance(){}}const S2="recaptcha",P6={theme:"light",type:"image"};class M6{constructor(e,t,r=Object.assign({},P6)){this.parameters=r,this.type=S2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ao(e),this.isInvisible="invisible"===this.parameters.size,un(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const c="string"==typeof t?document.getElementById(t):t;un(c,this.auth,"argument-error"),this.container=c,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R6:new S6,this.validateStartingState()}verify(){var e=this;return(0,L.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(h=>{const g=y=>{y&&(e.tokenChangeListeners.delete(g),h(y))};e.tokenChangeListeners.add(g),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){un(!this.parameters.sitekey,this.auth,"argument-error"),un(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),un(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=aa()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){un(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,L.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,L.Z)(function*(){un(Z1()&&!hM(),e.auth,"internal-error"),yield function k6(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function PU(n){return(sL=sL||(0,L.Z)(function*(e){return(yield wo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(e.auth);un(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return un(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gM{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ZI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function rR(n,e,t){return(mF=mF||(0,L.Z)(function*(r,c,h){var g;const y=yield h.verify();try{let T;if(un("string"==typeof y,r,"argument-error"),un(h.type===S2,r,"argument-error"),T="string"==typeof c?{phoneNumber:c}:c,"session"in T){const S=T.session;if("phoneNumber"in T)return un("enroll"===S.type,r,"internal-error"),(yield function X9(n,e){return wo(n,"POST","/v2/accounts/mfaEnrollment:start",oo(n,e))}(r,{idToken:S.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:y}})).phoneSessionInfo.sessionInfo;{un("signin"===S.type,r,"internal-error");const U=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return un(U,r,"missing-multi-factor-info"),(yield function y6(n,e){return wo(n,"POST","/v2/accounts/mfaSignIn:start",oo(n,e))}(r,{mfaPendingCredential:S.credential,mfaEnrollmentId:U,phoneSignInInfo:{recaptchaToken:y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:S}=yield function f9(n,e){return(RL=RL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:sendVerificationCode",oo(t,r))})).apply(this,arguments)}(r,{phoneNumber:T.phoneNumber,recaptchaToken:y});return S}}finally{h._reset()}})).apply(this,arguments)}let $C=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=ao(t)}verifyPhoneNumber(t,r){return rR(this.auth,t,(0,J.m9)(r))}static credential(t,r){return ZI._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:c}=t;return r&&c?ZI._fromTokenResponse(r,c):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function XI(n,e){return e?ou(e):(un(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class mM extends fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function V6(n){return _2(n.auth,new mM(n),n.bypassAuthState)}function B6(n){const{auth:e,user:t}=n;return un(t,e,"internal-error"),m2(t,new mM(n),n.bypassAuthState)}function $6(n){return(yF=yF||(0,L.Z)(function*(e){const{auth:t,user:r}=e;return un(r,t,"internal-error"),sM(r,new mM(e),e.bypassAuthState)})).apply(this,arguments)}class x2{constructor(e,t,r,c,h=!1){this.auth=e,this.resolver=r,this.user=c,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var t,e=this;return new Promise(function(r,c){return(t=t||(0,L.Z)(function*(h,g){e.pendingPromise={resolve:h,reject:g};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(y){e.reject(y)}})).apply(this,arguments)})}onAuthEvent(e){var t=this;return(0,L.Z)(function*(){const{urlResponse:r,sessionId:c,postBody:h,tenantId:g,error:y,type:T}=e;if(y)return void t.reject(y);const S={auth:t.auth,requestUri:r,sessionId:c,tenantId:g||void 0,postBody:h||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(T)(S))}catch(U){t.reject(U)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return $6;case"reauthViaPopup":case"reauthViaRedirect":return B6;default:$a(this.auth,"internal-error")}}resolve(e){sh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U6=new xC(2e3,1e4);let _M=(()=>{class n extends x2{constructor(t,r,c,h,g){super(t,r,h,g),this.provider=c,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,L.Z)(function*(){const r=yield t.execute();return un(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,L.Z)(function*(){sh(1===t.filter.length,"Popup operations only handle one event");const r=VC();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(c=>{t.reject(c)}),t.resolver._isIframeWebStorageSupported(t.auth,c=>{c||t.reject(nc(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(nc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,c;this.pollId=null!==(c=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==c&&c.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nc(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,U6.get())};t()}}return n.currentPopupAction=null,n})();const H6="pendingRedirect",UC=new Map;class q6 extends x2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,L.Z)(function*(){let r=UC.get(t.auth._key());if(!r){try{const h=(yield function W6(n,e){return(TF=TF||(0,L.Z)(function*(t,r){const c=P2(r),h=R2(t);if(!(yield h._isAvailable()))return!1;const g="true"===(yield h._get(c));return yield h._remove(c),g})).apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(h)}catch(c){r=()=>Promise.reject(c)}UC.set(t.auth._key(),r)}return t.bypassAuthState||UC.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,L.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const c=yield r.auth._redirectUserForId(e.eventId);if(c)return r.user=c,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,L.Z)(function*(){})()}cleanUp(){}}function yM(n,e){return(wF=wF||(0,L.Z)(function*(t,r){return R2(t)._set(P2(r),"true")})).apply(this,arguments)}function vM(n,e){UC.set(n._key(),e)}function R2(n){return ou(n._redirectPersistence)}function P2(n){return YI(H6,n.config.apiKey,n.name)}function iR(n,e){return(SF=SF||(0,L.Z)(function*(t,r,c=!1){const h=ao(t),g=XI(h,r),T=yield new q6(h,g,c).execute();return T&&!c&&(delete T.user._redirectEventId,yield h._persistUserIfCurrent(T.user),yield h._setRedirectUser(null,r)),T})).apply(this,arguments)}function M2(n){return(xF=xF||(0,L.Z)(function*(e){const t=VC(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function r3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O2(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!O2(e)){const c=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(nc(this.auth,c))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(N2(e))}saveEventToCache(e){this.cachedEventUids.add(N2(e)),this.lastProcessedEventTime=Date.now()}}function N2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O2({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function L2(n){return(RF=RF||(0,L.Z)(function*(e,t={}){return wo(e,"GET","/v1/projects",t)})).apply(this,arguments)}const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s3=/^https?/;function a3(n){const e=SC(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const g=new URL(n);return""===g.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&g.hostname===r}if(!s3.test(t))return!1;if(i3.test(n))return r===n;const c=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(r)}const c3=new xC(3e4,6e4);function F2(){const n=aa().___jsl;if(null!=n&&n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let sR=null;const d3=new xC(5e3,15e3),p3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m3(n){const e=n.config;un(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Q1(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ee.SDK_VERSION},c=g3.get(n.config.apiHost);c&&(r.eid=c);const h=n._getFrameworks();return h.length&&(r.fw=h.join(",")),`${t}?${(0,J.xO)(r).slice(1)}`}const y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class V2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const D3="__/auth/handler",C3="emulator/auth/handler",A3=encodeURIComponent("fac");function IM(n,e,t,r,c,h){return(kF=kF||(0,L.Z)(function*(g,y,T,S,U,Y){un(g.config.authDomain,g,"auth-domain-config-required"),un(g.config.apiKey,g,"invalid-api-key");const ce={apiKey:g.config.apiKey,appName:g.name,authType:T,redirectUrl:S,v:ee.SDK_VERSION,eventId:U};if(y instanceof Bg){y.setDefaultLanguage(g.languageCode),ce.providerId=y.providerId||"",(0,J.xb)(y.getCustomParameters())||(ce.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ot,Kt]of Object.entries(Y||{}))ce[Ot]=Kt}if(y instanceof pw){const Ot=y.getScopes().filter(Kt=>""!==Kt);Ot.length>0&&(ce.scopes=Ot.join(","))}g.tenantId&&(ce.tid=g.tenantId);const Ie=ce;for(const Ot of Object.keys(Ie))void 0===Ie[Ot]&&delete Ie[Ot];const rt=yield g._getAppCheckToken(),Ct=rt?`#${A3}=${encodeURIComponent(rt)}`:"";return`${function S3({config:n}){return n.emulator?Q1(n,C3):`https://${n.authDomain}/${D3}`}(g)}?${(0,J.xO)(Ie).slice(1)}${Ct}`})).apply(this,arguments)}const EM="webStorageSupport",B2=class x3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ry,this._completeRedirectFn=iR,this._overrideRedirectResult=vM}_openPopup(e,t,r,c){var h=this;return(0,L.Z)(function*(){var g;sh(null===(g=h.eventManagers[e._key()])||void 0===g?void 0:g.manager,"_initialize() not called before _openPopup()");const y=yield IM(e,t,r,SC(),c);return function w3(n,e,t,r=500,c=600){const h=Math.max((window.screen.availHeight-c)/2,0).toString(),g=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const T=Object.assign(Object.assign({},y3),{width:r.toString(),height:c.toString(),top:h,left:g}),S=(0,J.z$)().toLowerCase();t&&(y=YF(S)?"_blank":t),KF(S)&&(e=e||"http://localhost",T.scrollbars="yes");const U=Object.entries(T).reduce((ce,[Ie,rt])=>`${ce}${Ie}=${rt},`,"");if(function zU(n=(0,J.z$)()){var e;return hw(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(S)&&"_self"!==y)return function b3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",y),new V2(null);const Y=window.open(e||"",y,U);un(Y,n,"popup-blocked");try{Y.focus()}catch{}return new V2(Y)}(e,y,VC())})()}_openRedirect(e,t,r,c){var h=this;return(0,L.Z)(function*(){return yield h._originValidation(e),function l6(n){aa().location.href=n}(yield IM(e,t,r,SC(),c)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:h}=this.eventManagers[t];return c?Promise.resolve(c):(sh(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,L.Z)(function*(){const r=yield function _3(n){return(MF=MF||(0,L.Z)(function*(e){const t=yield function u3(n){return sR=sR||function l3(n){return new Promise((e,t)=>{var r,c,h;function g(){F2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F2(),t(nc(n,"network-request-failed"))},timeout:c3.get()})}if(null!==(c=null===(r=aa().gapi)||void 0===r?void 0:r.iframes)&&void 0!==c&&c.Iframe)e(gapi.iframes.getContext());else{if(null===(h=aa().gapi)||void 0===h||!h.load){const y=n2("iframefcb");return aa()[y]=()=>{gapi.load?g():t(nc(n,"network-request-failed"))},eM(`https://apis.google.com/js/api.js?onload=${y}`).catch(T=>t(T))}g()}}).catch(e=>{throw sR=null,e})}(n),sR}(e),r=aa().gapi;return un(r,e,"internal-error"),t.open({where:document.body,url:m3(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p3,dontclear:!0},c=>{var h;return new Promise(function(g,y){return(h=h||(0,L.Z)(function*(T,S){yield c.restyle({setHideOnLeave:!1});const U=nc(e,"network-request-failed"),Y=aa().setTimeout(()=>{S(U)},d3.get());function ce(){aa().clearTimeout(Y),T(c)}c.ping(ce).then(ce,()=>{S(U)})})).apply(this,arguments)})})})).apply(this,arguments)}(e),c=new k2(e);return r.register("authEvent",h=>(un(null==h?void 0:h.authEvent,e,"invalid-auth-event"),{status:c.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:c},t.iframes[e._key()]=r,c})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(EM,{type:EM},c=>{var h;const g=null===(h=null==c?void 0:c[0])||void 0===h?void 0:h[EM];void 0!==g&&t(!!g),$a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function o3(n){return(PF=PF||(0,L.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield L2(e);for(const r of t)try{if(a3(r))return}catch{}$a(e,"unauthorized-domain")})).apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JF()||J1()||hw()}};class R3{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Of("unexpected MultiFactorSessionType")}}}class TM extends R3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new TM(e)}_finalizeEnroll(e,t,r){return function J9(n,e){return wo(n,"POST","/v2/accounts/mfaEnrollment:finalize",oo(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function v6(n,e){return wo(n,"POST","/v2/accounts/mfaSignIn:finalize",oo(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let P3=(()=>{class n{constructor(){}static assertion(t){return TM._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var z2,H2,q2,W2,K2,U2="@firebase/auth";class M3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,L.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function JI(){return window}(0,J.Pz)("authIdTokenMaxAge"),function N3(n){(0,ee._registerComponent)(new de.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:g,authDomain:y}=r.options;un(g&&!g.includes(":"),"invalid-api-key",{appName:r.name});const T={apiKey:g,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e2(n)},S=new QU(r,c,h,T);return function i9(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ou);null!=e&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(S,t),S},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new de.wA("auth-internal",e=>{const t=ao(e.getProvider("auth").getImmediate());return new M3(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(U2,"1.3.0",function k3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,ee.registerVersion)(U2,"1.3.0","esm2017")}("Browser");class W3 extends k2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,L.Z)(function*(){yield e.initPromise})()}}function Y2(n){return(K2=K2||(0,L.Z)(function*(e){const t=yield bM()._get(DM(e));return t&&(yield bM()._remove(DM(e))),t})).apply(this,arguments)}function Q3(){const n=[];for(let t=0;t<20;t++){const r=Math.floor(62*Math.random());n.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r))}return n.join("")}function bM(){return ou(Jx)}function DM(n){return YI("authEvent",n.config.apiKey,n.name)}function aR(n){if(null==n||!n.includes("?"))return{};const[e,...t]=n.split("?");return(0,J.zd)(t.join("?"))}const n4=class t4{constructor(){this._redirectPersistence=ry,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=iR,this._overrideRedirectResult=vM}_initialize(e){var t=this;return(0,L.Z)(function*(){const r=e._key();let c=t.eventManagers.get(r);return c||(c=new W3(e),t.eventManagers.set(r,c),t.attachCallbackListeners(e,c)),c})()}_openPopup(e){$a(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,c){var h=this;return(0,L.Z)(function*(){!function G3(n){var e,t,r,c,h,g,y,T,S,U;const Y=JI();un("function"==typeof(null===(e=null==Y?void 0:Y.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),un(typeof(null===(t=null==Y?void 0:Y.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),un("function"==typeof(null===(h=null===(c=null===(r=null==Y?void 0:Y.cordova)||void 0===r?void 0:r.plugins)||void 0===c?void 0:c.browsertab)||void 0===h?void 0:h.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),un("function"==typeof(null===(T=null===(y=null===(g=null==Y?void 0:Y.cordova)||void 0===g?void 0:g.plugins)||void 0===y?void 0:y.browsertab)||void 0===T?void 0:T.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),un("function"==typeof(null===(U=null===(S=null==Y?void 0:Y.cordova)||void 0===S?void 0:S.InAppBrowser)||void 0===U?void 0:U.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const g=yield h._initialize(e);yield g.initialized(),g.resetRedirect(),function K6(){UC.clear()}(),yield h._originValidation(e);const y=function K3(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Q3(),postBody:null,tenantId:n.tenantId,error:nc(n,"no-auth-event")}}(e,r,c);yield function Y3(n,e){return bM()._set(DM(n),e)}(e,y);const T=yield function B3(n,e,t){return(z2=z2||(0,L.Z)(function*(r,c,h){var g;const{BuildInfo:y}=JI();sh(c.sessionId,"AuthEvent did not contain a session ID");const T=yield function z3(n){return(W2=W2||(0,L.Z)(function*(e){const t=function H3(n){if(sh(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(e),r=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(h=>h.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(c.sessionId),S={};return hw()?S.ibi=y.packageName:NC()?S.apn=y.packageName:$a(r,"operation-not-supported-in-this-environment"),y.displayName&&(S.appDisplayName=y.displayName),S.sessionId=T,IM(r,h,c.type,void 0,null!==(g=c.eventId)&&void 0!==g?g:void 0,S)})).apply(this,arguments)}(e,y,t),S=yield function U3(n){const{cordova:e}=JI();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let c=null;r?e.plugins.browsertab.openUrl(n):c=e.InAppBrowser.open(n,function GU(n=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(c)})})}(T);return function j3(n,e,t){return(q2=q2||(0,L.Z)(function*(r,c,h){const{cordova:g}=JI();let y=()=>{};try{yield new Promise((T,S)=>{let U=null;function Y(){var rt;T();const Ct=null===(rt=g.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Ct&&Ct(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function ce(){U||(U=window.setTimeout(()=>{S(nc(r,"redirect-cancelled-by-user"))},2e3))}function Ie(){"visible"===(null==document?void 0:document.visibilityState)&&ce()}c.addPassiveListener(Y),document.addEventListener("resume",ce,!1),NC()&&document.addEventListener("visibilitychange",Ie,!1),y=()=>{c.removePassiveListener(Y),document.removeEventListener("resume",ce,!1),document.removeEventListener("visibilitychange",Ie,!1),U&&window.clearTimeout(U)}})}finally{y()}})).apply(this,arguments)}(e,g,S)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function $3(n){return(H2=H2||(0,L.Z)(function*(e){const{BuildInfo:t}=JI(),r={};hw()?r.iosBundleId=t.packageName:NC()?r.androidPackageName=t.packageName:$a(e,"operation-not-supported-in-this-environment"),yield L2(e,r)})).apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){var r,c;const{universalLinks:h,handleOpenURL:g,BuildInfo:y}=JI(),T=setTimeout((0,L.Z)(function*(){yield Y2(e),t.onEvent(Z2())}),500),S=function(Ie){return(r=r||(0,L.Z)(function*(rt){clearTimeout(T);const Ct=yield Y2(e);let Ot=null;Ct&&null!=rt&&rt.url&&(Ot=function Z3(n,e){var t,r;const c=function J3(n){const e=aR(n),t=e.link?decodeURIComponent(e.link):void 0,r=aR(t).link,c=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return aR(c).link||c||r||t||n}(e);if(c.includes("/__/auth/callback")){const h=aR(c),g=h.firebaseError?function X3(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(h.firebaseError)):null,y=null===(r=null===(t=null==g?void 0:g.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],T=y?nc(y):null;return T?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:T,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:c,postBody:null}}return null}(Ct,rt.url)),t.onEvent(Ot||Z2())})).apply(this,arguments)};typeof h<"u"&&"function"==typeof h.subscribe&&h.subscribe(null,S);const U=g,Y=`${y.packageName.toLowerCase()}://`;JI().handleOpenURL=function(ce){return(c=c||(0,L.Z)(function*(Ie){if(Ie.toLowerCase().startsWith(Y)&&S({url:Ie}),"function"==typeof U)try{U(Ie)}catch(rt){console.error(rt)}})).apply(this,arguments)}}};function Z2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nc("no-auth-event")}}var Q2,X2,J2;function jC(){var n;return(null===(n=null==self?void 0:self.location)||void 0===n?void 0:n.protocol)||null}function eV(n=(0,J.z$)()){return!("file:"!==jC()&&"ionic:"!==jC()&&"capacitor:"!==jC()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function tV(){try{const n=self.localStorage,e=VC();if(n)return n.setItem(e,"1"),n.removeItem(e),!function d4(n=(0,J.z$)()){return function l4(){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)}()||function u4(n=(0,J.z$)()){return/Edge\/\d+/.test(n)}(n)}()||(0,J.hl)()}catch{return CM()&&(0,J.hl)()}return!1}function CM(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function AM(){return(function a4(){return"http:"===jC()||"https:"===jC()}()||(0,J.ru)()||eV())&&!function c4(){return(0,J.b$)()||(0,J.UG)()}()&&tV()&&!CM()}function nV(){return eV()&&typeof document<"u"}const au={LOCAL:"local",NONE:"none",SESSION:"session"},GC=un,rV="persistence";function SM(n){return(X2=X2||(0,L.Z)(function*(e){yield e._initializationPromise;const t=iV(),r=YI(rV,e.config.apiKey,e.name);t&&t.setItem(r,e._getPersistence())})).apply(this,arguments)}function iV(){var n;try{return(null===(n=function f4(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const m4=un;class iy{constructor(){this.browserResolver=ou(B2),this.cordovaResolver=ou(n4),this.underlyingResolver=null,this._redirectPersistence=ry,this._completeRedirectFn=iR,this._overrideRedirectResult=vM}_initialize(e){var t=this;return(0,L.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,c){var h=this;return(0,L.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._openPopup(e,t,r,c)})()}_openRedirect(e,t,r,c){var h=this;return(0,L.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._openRedirect(e,t,r,c)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nV()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return m4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,L.Z)(function*(){if(e.underlyingResolver)return;const t=yield function h4(){return(Q2=Q2||(0,L.Z)(function*(){return!!nV()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function sV(n){return n.unwrap()}function y4(n){return oV(n)}function oV(n){const{_tokenResponse:e}=n instanceof J.ZR?n.customData:n;if(!e)return null;if(!(n instanceof J.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return $C.credentialFromResult(n);const t=e.providerId;if(!t||t===AC.PASSWORD)return null;let r;switch(t){case AC.GOOGLE:r=u2;break;case AC.FACEBOOK:r=l2;break;case AC.GITHUB:r=d2;break;case AC.TWITTER:r=h2;break;default:const{oauthIdToken:c,oauthAccessToken:h,oauthTokenSecret:g,pendingToken:y,nonce:T}=e;return h||g||c||y?y?t.startsWith("saml.")?mw._create(t,y):Lf._fromParams({providerId:t,signInMethod:t,pendingToken:y,idToken:c,accessToken:h}):new gw(t).credential({idToken:c,accessToken:h,rawNonce:T}):null}return n instanceof J.ZR?r.credentialFromError(n):r.credentialFromResult(n)}function Al(n,e){return e.catch(t=>{throw t instanceof J.ZR&&function v4(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===(null==e?void 0:e.code))e.resolver=new I4(n,function Q9(n,e){var t;const r=(0,J.m9)(n),c=e;return un(e.customData.operationType,r,"argument-error"),un(null===(t=c.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),lM._fromError(r,c)}(n,e));else if(r){const c=oV(e),h=e;c&&(h.credential=c,h.tenantId=r.tenantId||void 0,h.email=r.email||void 0,h.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const c=t.user;return{operationType:t.operationType,credential:y4(t),additionalUserInfo:K9(t),user:$g.getOrCreate(c)}})}function xM(n,e){return(J2=J2||(0,L.Z)(function*(t,r){const c=yield r;return{verificationId:c.verificationId,confirm:h=>Al(t,c.confirm(h))}})).apply(this,arguments)}class I4{constructor(e,t){this.resolver=t,this.auth=function _4(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Al(sV(this.auth),this.resolver.resolveSignIn(e))}}class $g{constructor(e){this._delegate=e,this.multiFactor=function n6(n){const e=(0,J.m9)(n);return dM.has(e)||dM.set(e,uM._fromUser(e)),dM.get(e)}(e)}static getOrCreate(e){return $g.USER_MAP.has(e)||$g.USER_MAP.set(e,new $g(e)),$g.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,L.Z)(function*(){return Al(t.auth,y2(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,L.Z)(function*(){return xM(r.auth,function O6(n,e,t){return(pF=pF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r);yield Zx(!1,g,"phone");const y=yield rR(g.auth,c,(0,J.m9)(h));return new gM(y,T=>y2(g,T))})).apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,L.Z)(function*(){return Al(t.auth,function z6(n,e,t){return(EF=EF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r);lw(g.auth,c,Bg);const y=XI(g.auth,h);return new _M(g.auth,"linkViaPopup",c,y,g).executeNotNull()})).apply(this,arguments)}(t._delegate,e,iy))})()}linkWithRedirect(e){var t=this;return(0,L.Z)(function*(){return yield SM(ao(t.auth)),function J6(n,e,t){return function e3(n,e,t){return(CF=CF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r);lw(g.auth,c,Bg),yield g.auth._initializationPromise;const y=XI(g.auth,h);yield Zx(!1,g,c.providerId),yield yM(y,g.auth);const T=yield M2(g);return y._openRedirect(g.auth,c,"linkViaRedirect",T)})).apply(this,arguments)}(n,e,t)}(t._delegate,e,iy)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,L.Z)(function*(){return Al(t.auth,v2(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return xM(this.auth,function L6(n,e,t){return(gF=gF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r),y=yield rR(g.auth,c,(0,J.m9)(h));return new gM(y,T=>v2(g,T))})).apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Al(this.auth,function G6(n,e,t){return(IF=IF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r);lw(g.auth,c,Bg);const y=XI(g.auth,h);return new _M(g.auth,"reauthViaPopup",c,y,g).executeNotNull()})).apply(this,arguments)}(this._delegate,e,iy))}reauthenticateWithRedirect(e){var t=this;return(0,L.Z)(function*(){return yield SM(ao(t.auth)),function Q6(n,e,t){return function X6(n,e,t){return(DF=DF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r);lw(g.auth,c,Bg),yield g.auth._initializationPromise;const y=XI(g.auth,h);yield yM(y,g.auth);const T=yield M2(g);return y._openRedirect(g.auth,c,"reauthViaRedirect",T)})).apply(this,arguments)}(n,e,t)}(t._delegate,e,iy)})()}sendEmailVerification(e){return function F9(n,e){return(rF=rF||(0,L.Z)(function*(t,r){const c=(0,J.m9)(t),g={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};r&&_w(c.auth,g,r);const{email:y}=yield function c9(n,e){return(wL=wL||(0,L.Z)(function*(t,r){return qx(t,r)})).apply(this,arguments)}(c.auth,g);y!==t.email&&(yield t.reload())})).apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,L.Z)(function*(){return yield function w9(n,e){return(LL=LL||(0,L.Z)(function*(t,r){const c=(0,J.m9)(t);yield Zx(!0,c,r);const{providerUserInfo:h}=yield function kU(n,e){return(cL=cL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:update",r)})).apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[r]}),g=g2(h||[]);return c.providerData=c.providerData.filter(y=>g.has(y.providerId)),g.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c})).apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function U9(n,e){return E2((0,J.m9)(n),e,null)}(this._delegate,e)}updatePassword(e){return function j9(n,e){return E2((0,J.m9)(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function F6(n,e){return(_F=_F||(0,L.Z)(function*(t,r){yield sM((0,J.m9)(t),r)})).apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function $9(n,e){return(oF=oF||(0,L.Z)(function*(t,{displayName:r,photoURL:c}){if(void 0===r&&void 0===c)return;const h=(0,J.m9)(t),y={idToken:yield h.getIdToken(),displayName:r,photoUrl:c,returnSecureToken:!0},T=yield Fg(h,function B9(n,e){return(sF=sF||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:update",r)})).apply(this,arguments)}(h.auth,y));h.displayName=T.displayName||null,h.photoURL=T.photoUrl||null;const S=h.providerData.find(({providerId:U})=>"password"===U);S&&(S.displayName=h.displayName,S.photoURL=h.photoURL),yield h._updateTokensIfNecessary(T)})).apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function V9(n,e,t){return(iF=iF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield r.getIdToken(),newEmail:c};h&&_w(g.auth,T,h);const{email:S}=yield function l9(n,e){return(CL=CL||(0,L.Z)(function*(t,r){return qx(t,r)})).apply(this,arguments)}(g.auth,T);S!==r.email&&(yield r.reload())})).apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$g.USER_MAP=new WeakMap;const zC=un;let aV=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:c}=t.options;zC(c,"invalid-api-key",{appName:t.name}),zC(c,"invalid-api-key",{appName:t.name});const h=typeof window<"u"?iy:void 0;this._delegate=r.initialize({options:{persistence:E4(c,t.name),popupRedirectResolver:h}}),this._delegate._updateErrorMap(wU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$g.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function i2(n,e,t){const r=ao(n);un(r._canInitEmulator,r,"emulator-config-failed"),un(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const c=!(null==t||!t.disableWarnings),h=s2(e),{host:g,port:y}=function s9(n){const e=s2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(r);if(c){const h=c[1];return{host:h,port:o2(r.substr(h.length+1))}}{const[h,g]=r.split(":");return{host:h,port:o2(g)}}}(e);r.config.emulator={url:`${h}//${g}${null===y?"":`:${y}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:g,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:c})}),c||function o9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function S9(n,e){return(YL=YL||(0,L.Z)(function*(t,r){yield function a9(n,e){return(IL=IL||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:update",oo(t,r))})).apply(this,arguments)}((0,J.m9)(t),{oobCode:r})})).apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return I2(this._delegate,t)}confirmPasswordReset(t,r){return function A9(n,e,t){return(KL=KL||(0,L.Z)(function*(r,c,h){var g;yield a2((0,J.m9)(r),{oobCode:c,newPassword:h}).catch(function(y){return(g=g||(0,L.Z)(function*(T){throw"auth/password-does-not-meet-requirements"===T.code&&cM(r),T})).apply(this,arguments)})})).apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var c=this;return(0,L.Z)(function*(){return Al(c._delegate,function R9(n,e,t){return(XL=XL||(0,L.Z)(function*(r,c,h){var g;const y=ao(r),T={returnSecureToken:!0,email:c,password:h,clientType:"CLIENT_TYPE_WEB"};let S;if(null!==(g=y._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const Ie=yield ny(y,T,"signUpPassword");S=Kx(y,Ie)}else{var U;S=Kx(y,T).catch(function(Ie){return(U=U||(0,L.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ct=yield ny(y,T,"signUpPassword");return Kx(y,Ct)}throw rt})).apply(this,arguments)})}const Y=yield S.catch(Ie=>{throw"auth/password-does-not-meet-requirements"===Ie.code&&cM(r),Ie}),ce=yield td._fromIdTokenResponse(y,"signIn",Y);return yield y._updateCurrentUser(ce.user),ce})).apply(this,arguments)}(c._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function L9(n,e){return(nF=nF||(0,L.Z)(function*(t,r){const h={identifier:r,continueUri:Z1()?SC():"http://localhost"},{signinMethods:g}=yield function O9(n,e){return(tF=tF||(0,L.Z)(function*(t,r){return wo(t,"POST","/v1/accounts:createAuthUri",oo(t,r))})).apply(this,arguments)}((0,J.m9)(t),h);return g||[]})).apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function k9(n,e){const t=LC.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}(0,t)}getRedirectResult(){var t=this;return(0,L.Z)(function*(){zC(AM(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function t3(n,e){return(AF=AF||(0,L.Z)(function*(t,r){return yield ao(t)._initializationPromise,iR(t,r,!1)})).apply(this,arguments)}(t._delegate,iy);return r?Al(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function r4(n,e){ao(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,c){const{next:h,error:g,complete:y}=cV(t,r,c);return this._delegate.onAuthStateChanged(h,g,y)}onIdTokenChanged(t,r,c){const{next:h,error:g,complete:y}=cV(t,r,c);return this._delegate.onIdTokenChanged(h,g,y)}sendSignInLinkToEmail(t,r){return function M9(n,e,t){return(JL=JL||(0,L.Z)(function*(r,c,h){var g;const y=ao(r),T={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function S(Y,ce){un(ce.handleCodeInApp,y,"argument-error"),ce&&_w(y,Y,ce)}if(null!==(g=y._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const Y=yield ny(y,T,"getOobCode",!0);S(Y,h),yield rM(y,Y)}else{var U;S(T,h),yield rM(y,T).catch(function(Y){return(U=U||(0,L.Z)(function*(ce){if("auth/missing-recaptcha-token"!==ce.code)return Promise.reject(ce);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ie=yield ny(y,T,"getOobCode",!0);S(Ie,h),yield rM(y,Ie)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function C9(n,e,t){return(WL=WL||(0,L.Z)(function*(r,c,h){var g;const y=ao(r),T={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(g=y._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const U=yield ny(y,T,"getOobCode",!0);h&&_w(y,U,h),yield nM(y,U)}else{var S;h&&_w(y,T,h),yield nM(y,T).catch(function(U){return(S=S||(0,L.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ce=yield ny(y,T,"getOobCode",!0);h&&_w(y,ce,h),yield nM(y,ce)}})).apply(this,arguments)})}})).apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,L.Z)(function*(){let c;switch(function p4(n,e){GC(Object.values(au).includes(e),n,"invalid-persistence-type"),(0,J.b$)()?GC(e!==au.SESSION,n,"unsupported-persistence-type"):(0,J.UG)()?GC(e===au.NONE,n,"unsupported-persistence-type"):CM()?GC(e===au.NONE||e===au.LOCAL&&(0,J.hl)(),n,"unsupported-persistence-type"):GC(e===au.NONE||tV(),n,"unsupported-persistence-type")}(r._delegate,t),t){case au.SESSION:c=ry;break;case au.LOCAL:c=(yield ou(vw)._isAvailable())?vw:Jx;break;case au.NONE:c=uw;break;default:return $a("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(c)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Al(this._delegate,function T9(n){return(OL=OL||(0,L.Z)(function*(e){var t;const r=ao(e);if(yield r._initializationPromise,null!==(t=r.currentUser)&&void 0!==t&&t.isAnonymous)return new td({user:r.currentUser,providerId:null,operationType:"signIn"});const c=yield Kx(r,{returnSecureToken:!0}),h=yield td._fromIdTokenResponse(r,"signIn",c,!0);return yield r._updateCurrentUser(h.user),h})).apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Al(this._delegate,Qx(this._delegate,t))}signInWithCustomToken(t){return Al(this._delegate,function D9(n,e){return(HL=HL||(0,L.Z)(function*(t,r){const c=ao(t),h=yield function b9(n,e){return(zL=zL||(0,L.Z)(function*(t,r){return Lg(t,"POST","/v1/accounts:signInWithCustomToken",oo(t,r))})).apply(this,arguments)}(c,{token:r,returnSecureToken:!0}),g=yield td._fromIdTokenResponse(c,"signIn",h);return yield c._updateCurrentUser(g.user),g})).apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return Al(this._delegate,function P9(n,e,t){var r;return Qx((0,J.m9)(n),iM.credential(e,t)).catch(function(c){return(r=r||(0,L.Z)(function*(h){throw"auth/password-does-not-meet-requirements"===h.code&&cM(n),h})).apply(this,arguments)})}(this._delegate,t,r))}signInWithEmailLink(t,r){return Al(this._delegate,function N9(n,e,t){return(eF=eF||(0,L.Z)(function*(r,c,h){const g=(0,J.m9)(r),y=iM.credentialWithLink(c,h||SC());return un(y._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Qx(g,y)})).apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return xM(this._delegate,function N6(n,e,t){return(fF=fF||(0,L.Z)(function*(r,c,h){const g=ao(r),y=yield rR(g,c,(0,J.m9)(h));return new gM(y,T=>Qx(g,T))})).apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,L.Z)(function*(){return zC(AM(),r._delegate,"operation-not-supported-in-this-environment"),Al(r._delegate,function j6(n,e,t){return(vF=vF||(0,L.Z)(function*(r,c,h){const g=ao(r);lw(r,c,Bg);const y=XI(g,h);return new _M(g,"signInViaPopup",c,y).executeNotNull()})).apply(this,arguments)}(r._delegate,t,iy))})()}signInWithRedirect(t){var r=this;return(0,L.Z)(function*(){return zC(AM(),r._delegate,"operation-not-supported-in-this-environment"),yield SM(r._delegate),function Y6(n,e,t){return function Z6(n,e,t){return(bF=bF||(0,L.Z)(function*(r,c,h){const g=ao(r);lw(r,c,Bg),yield g._initializationPromise;const y=XI(g,h);return yield yM(y,g),y._openRedirect(g,c,"signInViaRedirect")})).apply(this,arguments)}(n,e,t)}(r._delegate,t,iy)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function x9(n,e){return(QL=QL||(0,L.Z)(function*(t,r){const{data:c}=yield I2((0,J.m9)(t),r);return c.email})).apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=au,n})();function cV(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const c=r;return{next:g=>c(g&&$g.getOrCreate(g)),error:e,complete:t}}function E4(n,e){const t=function g4(n,e){const t=iV();if(!t)return[];const r=YI(rV,n,e);switch(t.getItem(r)){case au.NONE:return[uw];case au.LOCAL:return[vw,ry];case au.SESSION:return[ry];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(vw)&&t.push(vw),typeof window<"u")for(const r of[Jx,ry])t.includes(r)||t.push(r);return t.includes(uw)||t.push(uw),t}class RM{constructor(){this.providerId="phone",this._delegate=new $C(sV(jx.auth()))}static credential(e,t){return $C.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}RM.PHONE_SIGN_IN_METHOD=$C.PHONE_SIGN_IN_METHOD,RM.PROVIDER_ID=$C.PROVIDER_ID;const T4=un;class w4{constructor(e,t,r=jx.app()){var c;T4(null===(c=r.options)||void 0===c?void 0:c.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new M6(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D4(n){n.INTERNAL.registerComponent(new de.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new aV(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:iM,FacebookAuthProvider:l2,GithubAuthProvider:d2,GoogleAuthProvider:u2,OAuthProvider:gw,SAMLAuthProvider:Wx,PhoneAuthProvider:RM,PhoneMultiFactorGenerator:P3,RecaptchaVerifier:w4,TwitterAuthProvider:h2,Auth:aV,AuthCredential:fw,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.6")}(jx);var cn=Z(5776);function PM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new cn.WA("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function lV(){if(typeof Uint8Array>"u")throw new cn.WA("unimplemented","Uint8Arrays are not available in this environment.")}function uV(){if(!(0,cn.Me)())throw new cn.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class HC{constructor(e){this._delegate=e}static fromBase64String(e){return uV(),new HC(cn.Jj.fromBase64String(e))}static fromUint8Array(e){return lV(),new HC(cn.Jj.fromUint8Array(e))}toBase64(){return uV(),this._delegate.toBase64()}toUint8Array(){return lV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MM(n){return function S4(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class x4{enableIndexedDbPersistence(e,t){return(0,cn.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,cn.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,cn.Fc)(e._delegate)}}class dV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cn.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&(0,cn.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){(0,cn.at)(this._delegate,e,t,r)}enableNetwork(){return(0,cn.Ix)(this._delegate)}disableNetwork(){return(0,cn.TF)(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,(0,cn.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,cn.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,cn.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new cn.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iw(this,(0,cn.hJ)(this._delegate,e))}catch(t){throw Yc(t,"collection()","Firestore.collection()")}}doc(e){try{return new nd(this,(0,cn.JU)(this._delegate,e))}catch(t){throw Yc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zc(this,(0,cn.B$)(this._delegate,e))}catch(t){throw Yc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,cn.i3)(this._delegate,t=>e(new hV(this,t)))}batch(){return(0,cn.qY)(this._delegate),new fV(new cn.PU(this._delegate,e=>(0,cn.GL)(this._delegate,e)))}loadBundle(e){return(0,cn.Pb)(this._delegate,e)}namedQuery(e){return(0,cn.L$)(this._delegate,e).then(t=>t?new Zc(this,t):null)}}class cR extends cn.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new HC(new cn.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nd.forKey(t,this.firestore,null)}}class hV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cR(e)}get(e){const t=t0(e);return this._delegate.get(t).then(r=>new qC(this._firestore,new cn.xU(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const c=t0(e);return r?(PM("Transaction.set",r),this._delegate.set(c,t,r)):this._delegate.set(c,t),this}update(e,t,r,...c){const h=t0(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,r,...c),this}delete(e){const t=t0(e);return this._delegate.delete(t),this}}class fV{constructor(e){this._delegate=e}set(e,t,r){const c=t0(e);return r?(PM("WriteBatch.set",r),this._delegate.set(c,t,r)):this._delegate.set(c,t),this}update(e,t,r,...c){const h=t0(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,r,...c),this}delete(e){const t=t0(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class e0{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new cn.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new WC(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=e0.INSTANCES;let c=r.get(e);c||(c=new WeakMap,r.set(e,c));let h=c.get(t);return h||(h=new e0(e,new cR(e),t),c.set(t,h)),h}}e0.INSTANCES=new WeakMap;class nd{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cR(e)}static forPath(e,t,r){if(e.length%2!=0)throw new cn.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nd(t,new cn.my(t._delegate,r,new cn.Ky(e)))}static forKey(e,t,r){return new nd(t,new cn.my(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Iw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iw(this.firestore,(0,cn.hJ)(this._delegate,e))}catch(t){throw Yc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,J.m9)(e))instanceof cn.my&&(0,cn.Eo)(this._delegate,e)}set(e,t){t=PM("DocumentReference.set",t);try{return t?(0,cn.pl)(this._delegate,e,t):(0,cn.pl)(this._delegate,e)}catch(r){throw Yc(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?(0,cn.r7)(this._delegate,e):(0,cn.r7)(this._delegate,e,t,...r)}catch(c){throw Yc(c,"updateDoc()","DocumentReference.update()")}}delete(){return(0,cn.oe)(this._delegate)}onSnapshot(...e){const t=pV(e),r=gV(e,c=>new qC(this.firestore,new cn.xU(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return(0,cn.cf)(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?(0,cn.kl)(this._delegate):"server"===(null==e?void 0:e.source)?(0,cn.Xk)(this._delegate):(0,cn.QT)(this._delegate),t.then(r=>new qC(this.firestore,new cn.xU(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new nd(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}function Yc(n,e,t){return n.message=n.message.replace(e,t),n}function pV(n){for(const e of n)if("object"==typeof e&&!MM(e))return e;return{}}function gV(n,e){var t,r;let c;return c=MM(n[0])?n[0]:MM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:h=>{c.next&&c.next(e(h))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(r=c.complete)||void 0===r?void 0:r.bind(c)}}class qC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,cn.qK)(this._delegate,e._delegate)}}class WC extends qC{data(e){const t=this._delegate.data(e);return(0,cn.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class Zc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cR(e)}where(e,t,r){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.ar)(e,t,r)))}catch(c){throw Yc(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.Xo)(e,t)))}catch(r){throw Yc(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.b9)(e)))}catch(t){throw Yc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.vh)(e)))}catch(t){throw Yc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.e0)(...e)))}catch(t){throw Yc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.TQ)(...e)))}catch(t){throw Yc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.Lx)(...e)))}catch(t){throw Yc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zc(this.firestore,(0,cn.IO)(this._delegate,(0,cn.Wu)(...e)))}catch(t){throw Yc(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,cn.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?(0,cn.UQ)(this._delegate):"server"===(null==e?void 0:e.source)?(0,cn.zN)(this._delegate):(0,cn.PL)(this._delegate),t.then(r=>new kM(this.firestore,new cn.W(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=pV(e),r=gV(e,c=>new kM(this.firestore,new cn.W(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return(0,cn.cf)(this._delegate,t,r)}withConverter(e){return new Zc(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}class P4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new WC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new WC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P4(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new WC(this._firestore,r))})}isEqual(e){return(0,cn.qK)(this._delegate,e._delegate)}}class Iw extends Zc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nd(this.firestore,e):null}doc(e){try{return new nd(this.firestore,void 0===e?(0,cn.JU)(this._delegate):(0,cn.JU)(this._delegate,e))}catch(t){throw Yc(t,"doc()","CollectionReference.doc()")}}add(e){return(0,cn.ET)(this._delegate,e).then(t=>new nd(this.firestore,t))}isEqual(e){return(0,cn.Eo)(this._delegate,e._delegate)}withConverter(e){return new Iw(this.firestore,this._delegate.withConverter(e?e0.getInstance(this.firestore,e):null))}}function t0(n){return(0,cn.Cf)(n,cn.my)}class NM{constructor(...e){this._delegate=new cn.Lz(...e)}static documentId(){return new NM(cn.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,J.m9)(e))instanceof cn.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class n0{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,cn.Bt)();return e._methodName="FieldValue.serverTimestamp",new n0(e)}static delete(){const e=(0,cn.AK)();return e._methodName="FieldValue.delete",new n0(e)}static arrayUnion(...e){const t=(0,cn.vr)(...e);return t._methodName="FieldValue.arrayUnion",new n0(t)}static arrayRemove(...e){const t=(0,cn.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new n0(t)}static increment(e){const t=(0,cn.nP)(e);return t._methodName="FieldValue.increment",new n0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const M4={Firestore:dV,GeoPoint:cn.F8,Timestamp:cn.EK,Blob:HC,Transaction:hV,WriteBatch:fV,DocumentReference:nd,DocumentSnapshot:qC,Query:Zc,QueryDocumentSnapshot:WC,QuerySnapshot:kM,CollectionReference:Iw,FieldPath:NM,FieldValue:n0,setLogLevel:function R4(n){(0,cn.Ub)(n)},CACHE_SIZE_UNLIMITED:cn.IX};!function N4(n){(function k4(n,e){n.INTERNAL.registerComponent(new de.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(r,c)},"PUBLIC").setServiceProps(Object.assign({},M4)))})(n,(e,t)=>new dV(e,t,new x4)),n.registerVersion("@firebase/firestore-compat","0.3.17")}(jx);let O4=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=E.oAB({type:n,bootstrap:[ze]}),n.\u0275inj=E.cJS({providers:[{provide:Ye.wN,useClass:_e.r4}],imports:[b.b2,_e.Pc.forRoot(),Ve,sp(()=>kw(pe_firebase)),fU(()=>pU()),$E(()=>Yu())]}),e})();(0,ee.registerVersion)("firebase","10.3.1","app"),(0,E.G48)(),(0,ee.initializeApp)(pe_firebase),b.q6().bootstrapModule(O4).catch(n=>console.log(n))},5619:(vn,pt,Z)=>{"use strict";Z.d(pt,{X:()=>E});var b=Z(8645);class E extends b.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const ke=super._subscribe(_e);return!ke.closed&&_e.next(this._value),ke}getValue(){const{hasError:_e,thrownError:ke,_value:Ve}=this;if(_e)throw ke;return this._throwIfClosed(),Ve}next(_e){super.next(this._value=_e)}}},5592:(vn,pt,Z)=>{"use strict";Z.d(pt,{y:()=>De});var b=Z(305),E=Z(7394),Ye=Z(4850),_e=Z(8407),ke=Z(2653),Ve=Z(4674),L=Z(1441);let De=(()=>{class ve{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const je=new ve;return je.source=this,je.operator=Re,je}subscribe(Re,je,at){const We=function de(ve){return ve&&ve instanceof b.Lv||function pe(ve){return ve&&(0,Ve.m)(ve.next)&&(0,Ve.m)(ve.error)&&(0,Ve.m)(ve.complete)}(ve)&&(0,E.Nn)(ve)}(Re)?Re:new b.Hp(Re,je,at);return(0,L.x)(()=>{const{operator:Ee,source:ot}=this;We.add(Ee?Ee.call(We,ot):ot?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Re){try{return this._subscribe(Re)}catch(je){Re.error(je)}}forEach(Re,je){return new(je=ze(je))((at,We)=>{const Ee=new b.Hp({next:ot=>{try{Re(ot)}catch(ht){We(ht),Ee.unsubscribe()}},error:We,complete:at});this.subscribe(Ee)})}_subscribe(Re){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Re)}[Ye.L](){return this}pipe(...Re){return(0,_e.U)(Re)(this)}toPromise(Re){return new(Re=ze(Re))((je,at)=>{let We;this.subscribe(Ee=>We=Ee,Ee=>at(Ee),()=>je(We))})}}return ve.create=J=>new ve(J),ve})();function ze(ve){var J;return null!==(J=null!=ve?ve:ke.config.Promise)&&void 0!==J?J:Promise}},8645:(vn,pt,Z)=>{"use strict";Z.d(pt,{x:()=>L});var b=Z(5592),E=Z(7394);const _e=(0,Z(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=Z(9039),Ve=Z(1441);let L=(()=>{class ze extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const ve=new De(this,this);return ve.operator=de,ve}_throwIfClosed(){if(this.closed)throw new _e}next(de){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(de)}})}error(de){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:ve}=this;for(;ve.length;)ve.shift().error(de)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:ve,isStopped:J,observers:Re}=this;return ve||J?E.Lc:(this.currentObservers=null,Re.push(de),new E.w0(()=>{this.currentObservers=null,(0,ke.P)(Re,de)}))}_checkFinalizedStatuses(de){const{hasError:ve,thrownError:J,isStopped:Re}=this;ve?de.error(J):Re&&de.complete()}asObservable(){const de=new b.y;return de.source=this,de}}return ze.create=(pe,de)=>new De(pe,de),ze})();class De extends L{constructor(pe,de){super(),this.destination=pe,this.source=de}next(pe){var de,ve;null===(ve=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===ve||ve.call(de,pe)}error(pe){var de,ve;null===(ve=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===ve||ve.call(de,pe)}complete(){var pe,de;null===(de=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===de||de.call(pe)}_subscribe(pe){var de,ve;return null!==(ve=null===(de=this.source)||void 0===de?void 0:de.subscribe(pe))&&void 0!==ve?ve:E.Lc}}},305:(vn,pt,Z)=>{"use strict";Z.d(pt,{Hp:()=>at,Lv:()=>ve});var b=Z(4674),E=Z(7394),Ye=Z(2653),_e=Z(3894),ke=Z(2420);const Ve=ze("C",void 0,void 0);function ze(et,He,Ze){return{kind:et,value:He,error:Ze}}var pe=Z(7599),de=Z(1441);class ve extends E.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,E.Nn)(He)&&He.add(this)):this.destination=ht}static create(He,Ze,Le){return new at(He,Ze,Le)}next(He){this.isStopped?ot(function De(et){return ze("N",et,void 0)}(He),this):this._next(He)}error(He){this.isStopped?ot(function L(et){return ze("E",void 0,et)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?ot(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function Re(et,He){return J.call(et,He)}class je{constructor(He){this.partialObserver=He}next(He){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(He)}catch(Le){We(Le)}}error(He){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(He)}catch(Le){We(Le)}else We(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(Ze){We(Ze)}}}class at extends ve{constructor(He,Ze,Le){let Ne;if(super(),(0,b.m)(He)||!He)Ne={next:null!=He?He:void 0,error:null!=Ze?Ze:void 0,complete:null!=Le?Le:void 0};else{let we;this&&Ye.config.useDeprecatedNextContext?(we=Object.create(He),we.unsubscribe=()=>this.unsubscribe(),Ne={next:He.next&&Re(He.next,we),error:He.error&&Re(He.error,we),complete:He.complete&&Re(He.complete,we)}):Ne=He}this.destination=new je(Ne)}}function We(et){Ye.config.useDeprecatedSynchronousErrorHandling?(0,de.O)(et):(0,_e.h)(et)}function ot(et,He){const{onStoppedNotification:Ze}=Ye.config;Ze&&pe.z.setTimeout(()=>Ze(et,He))}const ht={closed:!0,next:ke.Z,error:function Ee(et){throw et},complete:ke.Z}},7394:(vn,pt,Z)=>{"use strict";Z.d(pt,{Lc:()=>Ve,w0:()=>ke,Nn:()=>L});var b=Z(4674);const Ye=(0,Z(2306).d)(ze=>function(de){ze(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((ve,J)=>`${J+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var _e=Z(9039);class ke{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Re of de)Re.remove(this);else de.remove(this);const{initialTeardown:ve}=this;if((0,b.m)(ve))try{ve()}catch(Re){pe=Re instanceof Ye?Re.errors:[Re]}const{_finalizers:J}=this;if(J){this._finalizers=null;for(const Re of J)try{De(Re)}catch(je){pe=null!=pe?pe:[],je instanceof Ye?pe=[...pe,...je.errors]:pe.push(je)}}if(pe)throw new Ye(pe)}}add(pe){var de;if(pe&&pe!==this)if(this.closed)De(pe);else{if(pe instanceof ke){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(pe)}}_hasParent(pe){const{_parentage:de}=this;return de===pe||Array.isArray(de)&&de.includes(pe)}_addParent(pe){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(pe),de):de?[de,pe]:pe}_removeParent(pe){const{_parentage:de}=this;de===pe?this._parentage=null:Array.isArray(de)&&(0,_e.P)(de,pe)}remove(pe){const{_finalizers:de}=this;de&&(0,_e.P)(de,pe),pe instanceof ke&&pe._removeParent(this)}}ke.EMPTY=(()=>{const ze=new ke;return ze.closed=!0,ze})();const Ve=ke.EMPTY;function L(ze){return ze instanceof ke||ze&&"closed"in ze&&(0,b.m)(ze.remove)&&(0,b.m)(ze.add)&&(0,b.m)(ze.unsubscribe)}function De(ze){(0,b.m)(ze)?ze():ze.unsubscribe()}},2653:(vn,pt,Z)=>{"use strict";Z.d(pt,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(vn,pt,Z)=>{"use strict";Z.d(pt,{a:()=>pe});var b=Z(5592),E=Z(7453),Ye=Z(2459),_e=Z(2737),ke=Z(7400),Ve=Z(4564),L=Z(2714),De=Z(8251),ze=Z(7103);function pe(...J){const Re=(0,Ve.yG)(J),je=(0,Ve.jO)(J),{args:at,keys:We}=(0,E.D)(J);if(0===at.length)return(0,Ye.D)([],Re);const Ee=new b.y(function de(J,Re,je=_e.y){return at=>{ve(Re,()=>{const{length:We}=J,Ee=new Array(We);let ot=We,ht=We;for(let et=0;et<We;et++)ve(Re,()=>{const He=(0,Ye.D)(J[et],Re);let Ze=!1;He.subscribe((0,De.x)(at,Le=>{Ee[et]=Le,Ze||(Ze=!0,ht--),ht||at.next(je(Ee.slice()))},()=>{--ot||at.complete()}))},at)},at)}}(at,Re,We?ot=>(0,L.n)(We,ot):_e.y));return je?Ee.pipe((0,ke.Z)(je)):Ee}function ve(J,Re,je){J?(0,ze.f)(je,J,Re):Re()}},6232:(vn,pt,Z)=>{"use strict";Z.d(pt,{E:()=>E});const E=new(Z(5592).y)(ke=>ke.complete())},2459:(vn,pt,Z)=>{"use strict";Z.d(pt,{D:()=>He});var b=Z(4829),E=Z(3093),Ye=Z(5137),Ve=Z(5592),De=Z(4971),ze=Z(4674),pe=Z(7103);function ve(Ze,Le){if(!Ze)throw new Error("Iterable cannot be null");return new Ve.y(Ne=>{(0,pe.f)(Ne,Le,()=>{const we=Ze[Symbol.asyncIterator]();(0,pe.f)(Ne,Le,()=>{we.next().then(Ge=>{Ge.done?Ne.complete():Ne.next(Ge.value)})},0,!0)})})}var J=Z(8382),Re=Z(4026),je=Z(4266),at=Z(3664),We=Z(5726),Ee=Z(9853),ot=Z(541);function He(Ze,Le){return Le?function et(Ze,Le){if(null!=Ze){if((0,J.c)(Ze))return function _e(Ze,Le){return(0,b.Xf)(Ze).pipe((0,Ye.R)(Le),(0,E.Q)(Le))}(Ze,Le);if((0,je.z)(Ze))return function L(Ze,Le){return new Ve.y(Ne=>{let we=0;return Le.schedule(function(){we===Ze.length?Ne.complete():(Ne.next(Ze[we++]),Ne.closed||this.schedule())})})}(Ze,Le);if((0,Re.t)(Ze))return function ke(Ze,Le){return(0,b.Xf)(Ze).pipe((0,Ye.R)(Le),(0,E.Q)(Le))}(Ze,Le);if((0,We.D)(Ze))return ve(Ze,Le);if((0,at.T)(Ze))return function de(Ze,Le){return new Ve.y(Ne=>{let we;return(0,pe.f)(Ne,Le,()=>{we=Ze[De.h](),(0,pe.f)(Ne,Le,()=>{let Ge,qe;try{({value:Ge,done:qe}=we.next())}catch(ct){return void Ne.error(ct)}qe?Ne.complete():Ne.next(Ge)},0,!0)}),()=>(0,ze.m)(null==we?void 0:we.return)&&we.return()})}(Ze,Le);if((0,ot.L)(Ze))return function ht(Ze,Le){return ve((0,ot.Q)(Ze),Le)}(Ze,Le)}throw(0,Ee.z)(Ze)}(Ze,Le):(0,b.Xf)(Ze)}},4829:(vn,pt,Z)=>{"use strict";Z.d(pt,{Xf:()=>J});var b=Z(7582),E=Z(4266),Ye=Z(4026),_e=Z(5592),ke=Z(8382),Ve=Z(5726),L=Z(9853),De=Z(3664),ze=Z(541),pe=Z(4674),de=Z(3894),ve=Z(4850);function J(et){if(et instanceof _e.y)return et;if(null!=et){if((0,ke.c)(et))return function Re(et){return new _e.y(He=>{const Ze=et[ve.L]();if((0,pe.m)(Ze.subscribe))return Ze.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,E.z)(et))return function je(et){return new _e.y(He=>{for(let Ze=0;Ze<et.length&&!He.closed;Ze++)He.next(et[Ze]);He.complete()})}(et);if((0,Ye.t)(et))return function at(et){return new _e.y(He=>{et.then(Ze=>{He.closed||(He.next(Ze),He.complete())},Ze=>He.error(Ze)).then(null,de.h)})}(et);if((0,Ve.D)(et))return Ee(et);if((0,De.T)(et))return function We(et){return new _e.y(He=>{for(const Ze of et)if(He.next(Ze),He.closed)return;He.complete()})}(et);if((0,ze.L)(et))return function ot(et){return Ee((0,ze.Q)(et))}(et)}throw(0,L.z)(et)}function Ee(et){return new _e.y(He=>{(function ht(et,He){var Ze,Le,Ne,we;return(0,b.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,b.KL)(et);!(Le=yield Ze.next()).done;)if(He.next(Le.value),He.closed)return}catch(Ge){Ne={error:Ge}}finally{try{Le&&!Le.done&&(we=Ze.return)&&(yield we.call(Ze))}finally{if(Ne)throw Ne.error}}He.complete()})})(et,He).catch(Ze=>He.error(Ze))})}},2096:(vn,pt,Z)=>{"use strict";Z.d(pt,{of:()=>Ye});var b=Z(4564),E=Z(2459);function Ye(..._e){const ke=(0,b.yG)(_e);return(0,E.D)(_e,ke)}},8251:(vn,pt,Z)=>{"use strict";Z.d(pt,{x:()=>E});var b=Z(305);function E(_e,ke,Ve,L,De){return new Ye(_e,ke,Ve,L,De)}class Ye extends b.Lv{constructor(ke,Ve,L,De,ze,pe){super(ke),this.onFinalize=ze,this.shouldUnsubscribe=pe,this._next=Ve?function(de){try{Ve(de)}catch(ve){ke.error(ve)}}:super._next,this._error=De?function(de){try{De(de)}catch(ve){ke.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(de){ke.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ke;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(ke=this.onFinalize)||void 0===ke||ke.call(this))}}}},3997:(vn,pt,Z)=>{"use strict";Z.d(pt,{x:()=>_e});var b=Z(2737),E=Z(9360),Ye=Z(8251);function _e(Ve,L=b.y){return Ve=null!=Ve?Ve:ke,(0,E.e)((De,ze)=>{let pe,de=!0;De.subscribe((0,Ye.x)(ze,ve=>{const J=L(ve);(de||!Ve(pe,J))&&(de=!1,pe=J,ze.next(ve))}))})}function ke(Ve,L){return Ve===L}},2181:(vn,pt,Z)=>{"use strict";Z.d(pt,{h:()=>Ye});var b=Z(9360),E=Z(8251);function Ye(_e,ke){return(0,b.e)((Ve,L)=>{let De=0;Ve.subscribe((0,E.x)(L,ze=>_e.call(ke,ze,De++)&&L.next(ze)))})}},7398:(vn,pt,Z)=>{"use strict";Z.d(pt,{U:()=>Ye});var b=Z(9360),E=Z(8251);function Ye(_e,ke){return(0,b.e)((Ve,L)=>{let De=0;Ve.subscribe((0,E.x)(L,ze=>{L.next(_e.call(ke,ze,De++))}))})}},7537:(vn,pt,Z)=>{"use strict";Z.d(pt,{J:()=>Ye});var b=Z(1631),E=Z(2737);function Ye(_e=1/0){return(0,b.z)(E.y,_e)}},1631:(vn,pt,Z)=>{"use strict";Z.d(pt,{z:()=>De});var b=Z(7398),E=Z(4829),Ye=Z(9360),_e=Z(7103),ke=Z(8251),L=Z(4674);function De(ze,pe,de=1/0){return(0,L.m)(pe)?De((ve,J)=>(0,b.U)((Re,je)=>pe(ve,Re,J,je))((0,E.Xf)(ze(ve,J))),de):("number"==typeof pe&&(de=pe),(0,Ye.e)((ve,J)=>function Ve(ze,pe,de,ve,J,Re,je,at){const We=[];let Ee=0,ot=0,ht=!1;const et=()=>{ht&&!We.length&&!Ee&&pe.complete()},He=Le=>Ee<ve?Ze(Le):We.push(Le),Ze=Le=>{Re&&pe.next(Le),Ee++;let Ne=!1;(0,E.Xf)(de(Le,ot++)).subscribe((0,ke.x)(pe,we=>{null==J||J(we),Re?He(we):pe.next(we)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ee--;We.length&&Ee<ve;){const we=We.shift();je?(0,_e.f)(pe,je,()=>Ze(we)):Ze(we)}et()}catch(we){pe.error(we)}}))};return ze.subscribe((0,ke.x)(pe,He,()=>{ht=!0,et()})),()=>{null==at||at()}}(ve,J,ze,de)))}},3093:(vn,pt,Z)=>{"use strict";Z.d(pt,{Q:()=>_e});var b=Z(7103),E=Z(9360),Ye=Z(8251);function _e(ke,Ve=0){return(0,E.e)((L,De)=>{L.subscribe((0,Ye.x)(De,ze=>(0,b.f)(De,ke,()=>De.next(ze),Ve),()=>(0,b.f)(De,ke,()=>De.complete(),Ve),ze=>(0,b.f)(De,ke,()=>De.error(ze),Ve)))})}},5137:(vn,pt,Z)=>{"use strict";Z.d(pt,{R:()=>E});var b=Z(9360);function E(Ye,_e=0){return(0,b.e)((ke,Ve)=>{Ve.add(Ye.schedule(()=>ke.subscribe(Ve),_e))})}},4664:(vn,pt,Z)=>{"use strict";Z.d(pt,{w:()=>_e});var b=Z(4829),E=Z(9360),Ye=Z(8251);function _e(ke,Ve){return(0,E.e)((L,De)=>{let ze=null,pe=0,de=!1;const ve=()=>de&&!ze&&De.complete();L.subscribe((0,Ye.x)(De,J=>{null==ze||ze.unsubscribe();let Re=0;const je=pe++;(0,b.Xf)(ke(J,je)).subscribe(ze=(0,Ye.x)(De,at=>De.next(Ve?Ve(J,at,je,Re++):at),()=>{ze=null,ve()}))},()=>{de=!0,ve()}))})}},9397:(vn,pt,Z)=>{"use strict";Z.d(pt,{b:()=>ke});var b=Z(4674),E=Z(9360),Ye=Z(8251),_e=Z(2737);function ke(Ve,L,De){const ze=(0,b.m)(Ve)||L||De?{next:Ve,error:L,complete:De}:Ve;return ze?(0,E.e)((pe,de)=>{var ve;null===(ve=ze.subscribe)||void 0===ve||ve.call(ze);let J=!0;pe.subscribe((0,Ye.x)(de,Re=>{var je;null===(je=ze.next)||void 0===je||je.call(ze,Re),de.next(Re)},()=>{var Re;J=!1,null===(Re=ze.complete)||void 0===Re||Re.call(ze),de.complete()},Re=>{var je;J=!1,null===(je=ze.error)||void 0===je||je.call(ze,Re),de.error(Re)},()=>{var Re,je;J&&(null===(Re=ze.unsubscribe)||void 0===Re||Re.call(ze)),null===(je=ze.finalize)||void 0===je||je.call(ze)}))}):_e.y}},7599:(vn,pt,Z)=>{"use strict";Z.d(pt,{z:()=>b});const b={setTimeout(E,Ye,..._e){const{delegate:ke}=b;return null!=ke&&ke.setTimeout?ke.setTimeout(E,Ye,..._e):setTimeout(E,Ye,..._e)},clearTimeout(E){const{delegate:Ye}=b;return((null==Ye?void 0:Ye.clearTimeout)||clearTimeout)(E)},delegate:void 0}},4971:(vn,pt,Z)=>{"use strict";Z.d(pt,{h:()=>E});const E=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(vn,pt,Z)=>{"use strict";Z.d(pt,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(vn,pt,Z)=>{"use strict";Z.d(pt,{_6:()=>Ve,jO:()=>_e,yG:()=>ke});var b=Z(4674);function Ye(L){return L[L.length-1]}function _e(L){return(0,b.m)(Ye(L))?L.pop():void 0}function ke(L){return function E(L){return L&&(0,b.m)(L.schedule)}(Ye(L))?L.pop():void 0}function Ve(L,De){return"number"==typeof Ye(L)?L.pop():De}},7453:(vn,pt,Z)=>{"use strict";Z.d(pt,{D:()=>ke});const{isArray:b}=Array,{getPrototypeOf:E,prototype:Ye,keys:_e}=Object;function ke(L){if(1===L.length){const De=L[0];if(b(De))return{args:De,keys:null};if(function Ve(L){return L&&"object"==typeof L&&E(L)===Ye}(De)){const ze=_e(De);return{args:ze.map(pe=>De[pe]),keys:ze}}}return{args:L,keys:null}}},9039:(vn,pt,Z)=>{"use strict";function b(E,Ye){if(E){const _e=E.indexOf(Ye);0<=_e&&E.splice(_e,1)}}Z.d(pt,{P:()=>b})},2306:(vn,pt,Z)=>{"use strict";function b(E){const _e=E(ke=>{Error.call(ke),ke.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}Z.d(pt,{d:()=>b})},2714:(vn,pt,Z)=>{"use strict";function b(E,Ye){return E.reduce((_e,ke,Ve)=>(_e[ke]=Ye[Ve],_e),{})}Z.d(pt,{n:()=>b})},1441:(vn,pt,Z)=>{"use strict";Z.d(pt,{O:()=>_e,x:()=>Ye});var b=Z(2653);let E=null;function Ye(ke){if(b.config.useDeprecatedSynchronousErrorHandling){const Ve=!E;if(Ve&&(E={errorThrown:!1,error:null}),ke(),Ve){const{errorThrown:L,error:De}=E;if(E=null,L)throw De}}else ke()}function _e(ke){b.config.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=ke)}},7103:(vn,pt,Z)=>{"use strict";function b(E,Ye,_e,ke=0,Ve=!1){const L=Ye.schedule(function(){_e(),Ve?E.add(this.schedule(null,ke)):this.unsubscribe()},ke);if(E.add(L),!Ve)return L}Z.d(pt,{f:()=>b})},2737:(vn,pt,Z)=>{"use strict";function b(E){return E}Z.d(pt,{y:()=>b})},4266:(vn,pt,Z)=>{"use strict";Z.d(pt,{z:()=>b});const b=E=>E&&"number"==typeof E.length&&"function"!=typeof E},5726:(vn,pt,Z)=>{"use strict";Z.d(pt,{D:()=>E});var b=Z(4674);function E(Ye){return Symbol.asyncIterator&&(0,b.m)(null==Ye?void 0:Ye[Symbol.asyncIterator])}},4674:(vn,pt,Z)=>{"use strict";function b(E){return"function"==typeof E}Z.d(pt,{m:()=>b})},8382:(vn,pt,Z)=>{"use strict";Z.d(pt,{c:()=>Ye});var b=Z(4850),E=Z(4674);function Ye(_e){return(0,E.m)(_e[b.L])}},3664:(vn,pt,Z)=>{"use strict";Z.d(pt,{T:()=>Ye});var b=Z(4971),E=Z(4674);function Ye(_e){return(0,E.m)(null==_e?void 0:_e[b.h])}},4026:(vn,pt,Z)=>{"use strict";Z.d(pt,{t:()=>E});var b=Z(4674);function E(Ye){return(0,b.m)(null==Ye?void 0:Ye.then)}},541:(vn,pt,Z)=>{"use strict";Z.d(pt,{L:()=>_e,Q:()=>Ye});var b=Z(7582),E=Z(4674);function Ye(ke){return(0,b.FC)(this,arguments,function*(){const L=ke.getReader();try{for(;;){const{value:De,done:ze}=yield(0,b.qq)(L.read());if(ze)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(De)}}finally{L.releaseLock()}})}function _e(ke){return(0,E.m)(null==ke?void 0:ke.getReader)}},9360:(vn,pt,Z)=>{"use strict";Z.d(pt,{A:()=>E,e:()=>Ye});var b=Z(4674);function E(_e){return(0,b.m)(null==_e?void 0:_e.lift)}function Ye(_e){return ke=>{if(E(ke))return ke.lift(function(Ve){try{return _e(Ve,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(vn,pt,Z)=>{"use strict";Z.d(pt,{Z:()=>_e});var b=Z(7398);const{isArray:E}=Array;function _e(ke){return(0,b.U)(Ve=>function Ye(ke,Ve){return E(Ve)?ke(...Ve):ke(Ve)}(ke,Ve))}},2420:(vn,pt,Z)=>{"use strict";function b(){}Z.d(pt,{Z:()=>b})},8407:(vn,pt,Z)=>{"use strict";Z.d(pt,{U:()=>Ye,z:()=>E});var b=Z(2737);function E(..._e){return Ye(_e)}function Ye(_e){return 0===_e.length?b.y:1===_e.length?_e[0]:function(Ve){return _e.reduce((L,De)=>De(L),Ve)}}},3894:(vn,pt,Z)=>{"use strict";Z.d(pt,{h:()=>Ye});var b=Z(2653),E=Z(7599);function Ye(_e){E.z.setTimeout(()=>{const{onUnhandledError:ke}=b.config;if(!ke)throw _e;ke(_e)})}},9853:(vn,pt,Z)=>{"use strict";function b(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(pt,{z:()=>b})},863:(vn,pt,Z)=>{var b={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7350,433],"./ion-datetime_3.entry.js":[7059,7350,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[435,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function E(Ye){if(!Z.o(b,Ye))return Promise.resolve().then(()=>{var Ve=new Error("Cannot find module '"+Ye+"'");throw Ve.code="MODULE_NOT_FOUND",Ve});var _e=b[Ye],ke=_e[0];return Promise.all(_e.slice(1).map(Z.e)).then(()=>Z(ke))}E.keys=()=>Object.keys(b),E.id=863,vn.exports=E},6814:(vn,pt,Z)=>{"use strict";Z.d(pt,{Do:()=>at,EM:()=>Ao,HT:()=>_e,JF:()=>$s,K0:()=>Ve,Mx:()=>Fi,O5:()=>rs,PM:()=>Bi,S$:()=>J,V_:()=>De,Ye:()=>We,b0:()=>je,bD:()=>rn,ez:()=>Zr,gd:()=>ai,q:()=>Ye,sg:()=>di,tP:()=>Oe,w_:()=>ke});var b=Z(6689);let E=null;function Ye(){return E}function _e(P){E||(E=P)}class ke{}const Ve=new b.OlP("DocumentToken");let L=(()=>{var P;class q{historyGo($){throw new Error("Not implemented")}}return(P=q).\u0275fac=function($){return new($||P)},P.\u0275prov=b.Yz7({token:P,factory:function(){return(0,b.f3M)(ze)},providedIn:"platform"}),q})();const De=new b.OlP("Location Initialized");let ze=(()=>{var P;class q extends L{constructor(){super(),this._doc=(0,b.f3M)(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ye().getBaseHref(this._doc)}onPopState($){const ue=Ye().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",$,!1),()=>ue.removeEventListener("popstate",$)}onHashChange($){const ue=Ye().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",$,!1),()=>ue.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,ue,xe){this._history.pushState($,ue,xe)}replaceState($,ue,xe){this._history.replaceState($,ue,xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(P=q).\u0275fac=function($){return new($||P)},P.\u0275prov=b.Yz7({token:P,factory:function(){return new P},providedIn:"platform"}),q})();function pe(P,q){if(0==P.length)return q;if(0==q.length)return P;let ye=0;return P.endsWith("/")&&ye++,q.startsWith("/")&&ye++,2==ye?P+q.substring(1):1==ye?P+q:P+"/"+q}function de(P){const q=P.match(/#|\?|$/),ye=q&&q.index||P.length;return P.slice(0,ye-("/"===P[ye-1]?1:0))+P.slice(ye)}function ve(P){return P&&"?"!==P[0]?"?"+P:P}let J=(()=>{var P;class q{historyGo($){throw new Error("Not implemented")}}return(P=q).\u0275fac=function($){return new($||P)},P.\u0275prov=b.Yz7({token:P,factory:function(){return(0,b.f3M)(je)},providedIn:"root"}),q})();const Re=new b.OlP("appBaseHref");let je=(()=>{var P;class q extends J{constructor($,ue){var xe,wt,qt;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(xe=null!==(wt=null!=ue?ue:this._platformLocation.getBaseHrefFromDOM())&&void 0!==wt?wt:null===(qt=(0,b.f3M)(Ve).location)||void 0===qt?void 0:qt.origin)&&void 0!==xe?xe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return pe(this._baseHref,$)}path($=!1){const ue=this._platformLocation.pathname+ve(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&$?`${ue}${xe}`:ue}pushState($,ue,xe,wt){const qt=this.prepareExternalUrl(xe+ve(wt));this._platformLocation.pushState($,ue,qt)}replaceState($,ue,xe,wt){const qt=this.prepareExternalUrl(xe+ve(wt));this._platformLocation.replaceState($,ue,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ue,xe;null===(ue=(xe=this._platformLocation).historyGo)||void 0===ue||ue.call(xe,$)}}return(P=q).\u0275fac=function($){return new($||P)(b.LFG(L),b.LFG(Re,8))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),q})(),at=(()=>{var P;class q extends J{constructor($,ue){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl($){const ue=pe(this._baseHref,$);return ue.length>0?"#"+ue:ue}pushState($,ue,xe,wt){let qt=this.prepareExternalUrl(xe+ve(wt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.pushState($,ue,qt)}replaceState($,ue,xe,wt){let qt=this.prepareExternalUrl(xe+ve(wt));0==qt.length&&(qt=this._platformLocation.pathname),this._platformLocation.replaceState($,ue,qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ue,xe;null===(ue=(xe=this._platformLocation).historyGo)||void 0===ue||ue.call(xe,$)}}return(P=q).\u0275fac=function($){return new($||P)(b.LFG(L),b.LFG(Re,8))},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac}),q})(),We=(()=>{var P;class q{constructor($){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const ue=this._locationStrategy.getBaseHref();this._basePath=function et(P){if(new RegExp("^(https?:)?//").test(P)){const[,ye]=P.split(/\/\/[^\/]+/);return ye}return P}(de(ht(ue))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,ue=""){return this.path()==this.normalize($+ve(ue))}normalize($){return q.stripTrailingSlash(function ot(P,q){if(!P||!q.startsWith(P))return q;const ye=q.substring(P.length);return""===ye||["/",";","?","#"].includes(ye[0])?ye:q}(this._basePath,ht($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,ue="",xe=null){this._locationStrategy.pushState(xe,"",$,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ve(ue)),xe)}replaceState($,ue="",xe=null){this._locationStrategy.replaceState(xe,"",$,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ve(ue)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var ue,xe;null===(ue=(xe=this._locationStrategy).historyGo)||void 0===ue||ue.call(xe,$)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)})),()=>{const ue=this._urlChangeListeners.indexOf($);var xe;this._urlChangeListeners.splice(ue,1),0===this._urlChangeListeners.length&&(null===(xe=this._urlChangeSubscription)||void 0===xe||xe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",ue){this._urlChangeListeners.forEach(xe=>xe($,ue))}subscribe($,ue,xe){return this._subject.subscribe({next:$,error:ue,complete:xe})}}return(P=q).normalizeQueryParams=ve,P.joinWithSlash=pe,P.stripTrailingSlash=de,P.\u0275fac=function($){return new($||P)(b.LFG(J))},P.\u0275prov=b.Yz7({token:P,factory:function(){return function Ee(){return new We((0,b.LFG)(J))}()},providedIn:"root"}),q})();function ht(P){return P.replace(/\/index.html$/,"")}function Fi(P,q){q=encodeURIComponent(q);for(const ye of P.split(";")){const $=ye.indexOf("="),[ue,xe]=-1==$?[ye,""]:[ye.slice(0,$),ye.slice($+1)];if(ue.trim()===q)return decodeURIComponent(xe)}return null}class bo{constructor(q,ye,$,ue){this.$implicit=q,this.ngForOf=ye,this.index=$,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{var P;class q{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,ue,xe){this._viewContainer=$,this._template=ue,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ue=this._viewContainer;$.forEachOperation((xe,wt,qt)=>{if(null==xe.previousIndex)ue.createEmbeddedView(this._template,new bo(xe.item,this._ngForOf,-1,-1),null===qt?void 0:qt);else if(null==qt)ue.remove(null===wt?void 0:wt);else if(null!==wt){const vr=ue.get(wt);ue.move(vr,qt),Xs(vr,xe)}});for(let xe=0,wt=ue.length;xe<wt;xe++){const vr=ue.get(xe).context;vr.index=xe,vr.count=wt,vr.ngForOf=this._ngForOf}$.forEachIdentityChange(xe=>{Xs(ue.get(xe.currentIndex),xe)})}static ngTemplateContextGuard($,ue){return!0}}return(P=q).\u0275fac=function($){return new($||P)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Xs(P,q){P.context.$implicit=q.item}let rs=(()=>{var P;class q{constructor($,ue){this._viewContainer=$,this._context=new Ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){co("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){co("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ue){return!0}}return(P=q).\u0275fac=function($){return new($||P)(b.Y36(b.s_b),b.Y36(b.Rgc))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class Ds{constructor(){this.$implicit=null,this.ngIf=null}}function co(P,q){if(q&&!q.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,b.AaK)(q)}'.`)}let Oe=(()=>{var P;class q{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const ue=this._viewContainerRef;if(this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:xe,ngTemplateOutletContext:wt,ngTemplateOutletInjector:qt}=this;this._viewRef=ue.createEmbeddedView(xe,wt,qt?{injector:qt}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(P=q).\u0275fac=function($){return new($||P)(b.Y36(b.s_b))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]}),q})();let ai=(()=>{var P;class q{transform($){if(null==$)return null;if("string"!=typeof $)throw function dt(P,q){return new b.vHH(2100,!1)}();return $.toUpperCase()}}return(P=q).\u0275fac=function($){return new($||P)},P.\u0275pipe=b.Yjl({name:"uppercase",type:P,pure:!0,standalone:!0}),q})(),Zr=(()=>{var P;class q{}return(P=q).\u0275fac=function($){return new($||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({}),q})();const rn="browser",ir="server";function Bi(P){return P===ir}let Ao=(()=>{var P;class q{}return(P=q).\u0275prov=(0,b.Yz7)({token:P,providedIn:"root",factory:()=>new Yn((0,b.LFG)(Ve),window)}),q})();class Yn{constructor(q,ye){this.document=q,this.window=ye,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const ye=function uo(P,q){const ye=P.getElementById(q)||P.getElementsByName(q)[0];if(ye)return ye;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const $=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let ue=$.currentNode;for(;ue;){const xe=ue.shadowRoot;if(xe){const wt=xe.getElementById(q)||xe.querySelector(`[name="${q}"]`);if(wt)return wt}ue=$.nextNode()}}return null}(this.document,q);ye&&(this.scrollToElement(ye),ye.focus())}setHistoryScrollRestoration(q){this.supportsScrolling()&&(this.window.history.scrollRestoration=q)}scrollToElement(q){const ye=q.getBoundingClientRect(),$=ye.left+this.window.pageXOffset,ue=ye.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo($-xe[0],ue-xe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $s{}},6689:(vn,pt,Z)=>{"use strict";Z.d(pt,{tb:()=>ed,AFp:()=>nv,ip1:()=>io,hGG:()=>NI,z2F:()=>q_,Ojb:()=>Rp,sBO:()=>AP,Sil:()=>dP,EJc:()=>mk,Xts:()=>zl,SBq:()=>Yh,lqb:()=>Lo,qLn:()=>Fd,vpe:()=>ga,XFs:()=>bt,OlP:()=>Qr,zs3:()=>Fo,ZZ4:()=>Pf,aQg:()=>nh,soG:()=>Zn,YKP:()=>sD,h0i:()=>Tg,PXZ:()=>IP,R0b:()=>yo,FiY:()=>ud,Lbi:()=>zh,g9A:()=>rv,Qsj:()=>cv,FYo:()=>Zh,JOm:()=>rm,tp0:()=>Ih,Rgc:()=>V_,dDg:()=>vk,eoX:()=>eh,q4F:()=>Y0,GfV:()=>qw,s_b:()=>vI,ifc:()=>Fi,VuI:()=>FP,LMc:()=>LT,MMx:()=>oD,Lck:()=>QA,eFA:()=>zD,G48:()=>CP,Gpc:()=>Ze,f3M:()=>Tr,$WT:()=>Ss,_c5:()=>MT,qFp:()=>FT,rg0:()=>ii,c2e:()=>TT,zSh:()=>Ap,HDt:()=>ko,wAp:()=>Ig,vHH:()=>ct,lri:()=>AT,rWj:()=>UD,cg1:()=>$b,kL8:()=>vg,dqk:()=>wr,Z0I:()=>zn,eJc:()=>yS,QGY:()=>FE,F4k:()=>Uv,RDi:()=>Fw,AaK:()=>ht,qOj:()=>d_,Xq5:()=>zu,TTD:()=>js,_Bn:()=>ZA,jDz:()=>lI,xp6:()=>iE,uIk:()=>ag,ekj:()=>yA,Suo:()=>TD,Xpm:()=>ai,lG2:()=>zo,Yz7:()=>on,cJS:()=>$n,oAB:()=>bi,Yjl:()=>As,Y36:()=>sf,_UZ:()=>NE,GkF:()=>$v,qZA:()=>__,TgZ:()=>m_,n5z:()=>yy,LFG:()=>Xr,$8M:()=>Iy,$Z:()=>sE,NdJ:()=>jv,CRH:()=>Ju,kcU:()=>qf,O4$:()=>ly,oxw:()=>zv,ALo:()=>O_,lcZ:()=>fD,Hsn:()=>mg,F$t:()=>v_,Q6J:()=>ME,DdM:()=>nS,VKq:()=>lD,iGM:()=>bg,P3R:()=>xm,Udp:()=>_A,YNc:()=>Tb,_uU:()=>ER,Oqu:()=>IA,hij:()=>Ob,Gf:()=>fT});var b=Z(8645),E=Z(7394),Ye=Z(5592),_e=Z(7537),ke=Z(4829),Ve=Z(6232),L=Z(4564),De=Z(2459),pe=Z(5619),de=Z(2096),ve=Z(305),J=Z(9360);function Re(s={}){const{connector:a=(()=>new b.x),resetOnError:u=!0,resetOnComplete:f=!0,resetOnRefCountZero:m=!0}=s;return v=>{let w,x,N,G=0,Q=!1,oe=!1;const Ae=()=>{null==x||x.unsubscribe(),x=void 0},Ue=()=>{Ae(),w=N=void 0,Q=oe=!1},Dt=()=>{const Bt=w;Ue(),null==Bt||Bt.unsubscribe()};return(0,J.e)((Bt,hn)=>{G++,!oe&&!Q&&Ae();const Pn=N=null!=N?N:a();hn.add(()=>{G--,0===G&&!oe&&!Q&&(x=je(Dt,m))}),Pn.subscribe(hn),!w&&G>0&&(w=new ve.Hp({next:Nt=>Pn.next(Nt),error:Nt=>{oe=!0,Ae(),x=je(Ue,u,Nt),Pn.error(Nt)},complete:()=>{Q=!0,Ae(),x=je(Ue,f),Pn.complete()}}),(0,ke.Xf)(Bt).subscribe(w))})(v)}}function je(s,a,...u){if(!0===a)return void s();if(!1===a)return;const f=new ve.Hp({next:()=>{f.unsubscribe(),s()}});return(0,ke.Xf)(a(...u)).subscribe(f)}var at=Z(4664),We=Z(3997);function Ee(s){for(let a in s)if(s[a]===Ee)return a;throw Error("Could not find renamed property on target object.")}function ot(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function ht(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ht).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function et(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const He=Ee({__forward_ref__:Ee});function Ze(s){return s.__forward_ref__=Ze,s.toString=function(){return ht(this())},s}function Le(s){return Ne(s)?s():s}function Ne(s){return"function"==typeof s&&s.hasOwnProperty(He)&&s.__forward_ref__===Ze}function we(s){return s&&!!s.\u0275providers}const qe="https://g.co/ng/security#xss";class ct extends Error{constructor(a,u){super(function Ht(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,u)),this.code=a}}function Tt(s){return"string"==typeof s?s:null==s?"":String(s)}function me(s,a){throw new ct(-201,!1)}function Ke(s,a){null==s&&function $e(s,a,u,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${u} ${f} ${a} <=Actual]`))}(a,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function $n(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xn(s){return xn(s,Ur)||xn(s,Ln)}function zn(s){return null!==Xn(s)}function xn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Or(s){return s&&(s.hasOwnProperty(qr)||s.hasOwnProperty(fr))?s[qr]:null}const Ur=Ee({\u0275prov:Ee}),qr=Ee({\u0275inj:Ee}),Ln=Ee({ngInjectableDef:Ee}),fr=Ee({ngInjectorDef:Ee});var bt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(bt||{});let gr;function sn(s){const a=gr;return gr=s,a}function Ei(s,a,u){const f=Xn(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&bt.Optional?null:void 0!==a?a:void me(ht(s))}const wr=globalThis,ee={},Fe="__NG_DI_FLAG__",_t="ngTempTokenPath",Dn=/\n/gm,Er="__source";let Un;function Mr(s){const a=Un;return Un=s,a}function ts(s,a=bt.Default){if(void 0===Un)throw new ct(-203,!1);return null===Un?Ei(s,void 0,a):Un.get(s,a&bt.Optional?null:void 0,a)}function Xr(s,a=bt.Default){return(function Ji(){return gr}()||ts)(Le(s),a)}function Tr(s,a=bt.Default){return Xr(s,Ti(a))}function Ti(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ms(s){const a=[];for(let u=0;u<s.length;u++){const f=Le(s[u]);if(Array.isArray(f)){if(0===f.length)throw new ct(900,!1);let m,v=bt.Default;for(let w=0;w<f.length;w++){const x=f[w],N=Ri(x);"number"==typeof N?-1===N?m=x.token:v|=N:m=x}a.push(Xr(m,v))}else a.push(Xr(f))}return a}function Ci(s,a){return s[Fe]=a,s.prototype[Fe]=a,s}function Ri(s){return s[Fe]}function ri(s){return{toString:s}.toString()}var wi=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(wi||{}),Fi=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Fi||{});const _i={},jn=[],ns=Ee({\u0275cmp:Ee}),kr=Ee({\u0275dir:Ee}),yr=Ee({\u0275pipe:Ee}),bo=Ee({\u0275mod:Ee}),di=Ee({\u0275fac:Ee}),Xs=Ee({__NG_ELEMENT_ID__:Ee}),Do=Ee({__NG_ENV_ID__:Ee});function rs(s,a,u){let f=s.length;for(;;){const m=s.indexOf(a,u);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const v=a.length;if(m+v===f||s.charCodeAt(m+v)<=32)return m}u=m+1}}function Ds(s,a,u){let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const v=u[f++],w=u[f++],x=u[f++];s.setAttribute(a,w,x,v)}else{const v=m,w=u[++f];Hi(v)?s.setProperty(a,v,w):s.setAttribute(a,v,w),f++}}return f}function co(s){return 3===s||4===s||6===s}function Hi(s){return 64===s.charCodeAt(0)}function zr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let f=0;f<a.length;f++){const m=a[f];"number"==typeof m?u=m:0===u||Pi(s,u,m,null,-1===u||2===u?a[++f]:null)}}return s}function Pi(s,a,u,f,m){let v=0,w=s.length;if(-1===a)w=-1;else for(;v<s.length;){const x=s[v++];if("number"==typeof x){if(x===a){w=-1;break}if(x>a){w=v-1;break}}}for(;v<s.length;){const x=s[v];if("number"==typeof x)break;if(x===u){if(null===f)return void(null!==m&&(s[v+1]=m));if(f===s[v+1])return void(s[v+2]=m)}v++,null!==f&&v++,null!==m&&v++}-1!==w&&(s.splice(w,0,a),v=w+1),s.splice(v++,0,u),null!==f&&s.splice(v++,0,f),null!==m&&s.splice(v++,0,m)}const ut="ng-template";function Yt(s,a,u){let f=0,m=!0;for(;f<s.length;){let v=s[f++];if("string"==typeof v&&m){const w=s[f++];if(u&&"class"===v&&-1!==rs(w.toLowerCase(),a,0))return!0}else{if(1===v){for(;f<s.length&&"string"==typeof(v=s[f++]);)if(v.toLowerCase()===a)return!0;return!1}"number"==typeof v&&(m=!1)}}return!1}function X(s){return 4===s.type&&s.value!==ut}function ge(s,a,u){return a===(4!==s.type||u?s.value:ut)}function Be(s,a,u){let f=4;const m=s.attrs||[],v=function Mt(s){for(let a=0;a<s.length;a++)if(co(s[a]))return a;return s.length}(m);let w=!1;for(let x=0;x<a.length;x++){const N=a[x];if("number"!=typeof N){if(!w)if(4&f){if(f=2|1&f,""!==N&&!ge(s,N,u)||""===N&&1===a.length){if(Oe(f))return!1;w=!0}}else{const G=8&f?N:a[++x];if(8&f&&null!==s.attrs){if(!Yt(s.attrs,G,u)){if(Oe(f))return!1;w=!0}continue}const oe=ft(8&f?"class":N,m,X(s),u);if(-1===oe){if(Oe(f))return!1;w=!0;continue}if(""!==G){let Ae;Ae=oe>v?"":m[oe+1].toLowerCase();const Ue=8&f?Ae:null;if(Ue&&-1!==rs(Ue,G,0)||2&f&&G!==Ae){if(Oe(f))return!1;w=!0}}}}else{if(!w&&!Oe(f)&&!Oe(N))return!1;if(w&&Oe(N))continue;w=!1,f=N|1&f}}return Oe(f)||w}function Oe(s){return 0==(1&s)}function ft(s,a,u,f){if(null===a)return-1;let m=0;if(f||!u){let v=!1;for(;m<a.length;){const w=a[m];if(w===s)return m;if(3===w||6===w)v=!0;else{if(1===w||2===w){let x=a[++m];for(;"string"==typeof x;)x=a[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=v?1:2}return-1}return function St(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const f=s[u];if("number"==typeof f)return-1;if(f===a)return u;u++}return-1}(a,s)}function dt(s,a,u=!1){for(let f=0;f<a.length;f++)if(Be(s,a[f],u))return!0;return!1}function $t(s,a){e:for(let u=0;u<a.length;u++){const f=a[u];if(s.length===f.length){for(let m=0;m<s.length;m++)if(s[m]!==f[m])continue e;return!0}}return!1}function an(s,a){return s?":not("+a.trim()+")":a}function Sn(s){let a=s[0],u=1,f=2,m="",v=!1;for(;u<s.length;){let w=s[u];if("string"==typeof w)if(2&f){const x=s[++u];m+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&f?m+="."+w:4&f&&(m+=" "+w);else""!==m&&!Oe(w)&&(a+=an(v,m),m=""),f=w,v=v||!Oe(f);u++}return""!==m&&(a+=an(v,m)),a}function ai(s){return ri(()=>{var a;const u=Ua(s),f={...u,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:null!==(a=s.signals)&&void 0!==a&&a,data:s.data||{},encapsulation:s.encapsulation||Fi.Emulated,styles:s.styles||jn,_:null,schemas:s.schemas||null,tView:null,id:""};ca(f);const m=s.dependencies;return f.directiveDefs=_s(m,!1),f.pipeDefs=_s(m,!0),f.id=function ic(s){let a=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const m of u)a=Math.imul(31,a)+m.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(f),f})}function Co(s){return Cn(s)||yi(s)}function Vs(s){return null!==s}function bi(s){return ri(()=>({type:s.type,bootstrap:s.bootstrap||jn,declarations:s.declarations||jn,imports:s.imports||jn,exports:s.exports||jn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function is(s,a){if(null==s)return _i;const u={};for(const f in s)if(s.hasOwnProperty(f)){let m=s[f],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),u[m]=f,a&&(a[m]=v)}return u}function zo(s){return ri(()=>{const a=Ua(s);return ca(a),a})}function As(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Cn(s){return s[ns]||null}function yi(s){return s[kr]||null}function Yr(s){return s[yr]||null}function Ss(s){const a=Cn(s)||yi(s)||Yr(s);return null!==a&&a.standalone}function ci(s,a){const u=s[bo]||null;if(!u&&!0===a)throw new Error(`Type ${ht(s)} does not have '\u0275mod' property.`);return u}function Ua(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||_i,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||jn,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:is(s.inputs,a),outputs:is(s.outputs)}}function ca(s){var a;null===(a=s.features)||void 0===a||a.forEach(u=>u(s))}function _s(s,a){if(!s)return null;const u=a?Yr:Co;return()=>("function"==typeof s?s():s).map(f=>u(f)).filter(Vs)}const Zr=0,rn=1,ir=2,Wr=3,Vi=4,ys=5,Bi=6,Ta=7,Jr=8,Bs=9,Ao=10,Yn=11,uo=12,Ho=13,$s=14,Fr=15,qo=16,Wo=17,Us=18,wa=19,ba=20,vs=21,xs=22,la=23,Da=24,cr=25,Rs=1,fi=2,qi=7,Aa=9,Mi=11;function Is(s){return Array.isArray(s)&&"object"==typeof s[Rs]}function Wi(s){return Array.isArray(s)&&!0===s[Rs]}function Sa(s){return 0!=(4&s.flags)}function $i(s){return s.componentOffset>-1}function ja(s){return 1==(1&s.flags)}function So(s){return!!s.template}function ac(s){return 0!=(512&s[ir])}function Ui(s,a){return s.hasOwnProperty(di)?s[di]:null}let os=null,Ac=!1;function xa(s){const a=os;return os=s,a}const Yo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Kr(s){if(!ho(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Sc(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function ua(s){var a;s.dirty=!0,function oh(s){if(void 0===s.liveConsumerNode)return;const a=Ac;Ac=!0;try{for(const u of s.liveConsumerNode)u.dirty||ua(u)}finally{Ac=a}}(s),null===(a=s.consumerMarkedDirty)||void 0===a||a.call(s,s)}function uu(s){return s&&(s.nextProducerIndex=0),xa(s)}function Jc(s,a){if(xa(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(ho(s))for(let u=s.nextProducerIndex;u<s.producerNode.length;u++)da(s.producerNode[u],s.producerIndexOfThis[u]);for(let u=s.nextProducerIndex;u<s.producerNode.length;u++)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Sc(s){Ki(s);for(let a=0;a<s.producerNode.length;a++){const u=s.producerNode[a],f=s.producerLastReadVersion[a];if(f!==u.version||(Kr(u),f!==u.version))return!0}return!1}function el(s){if(Ki(s),ho(s))for(let a=0;a<s.producerNode.length;a++)da(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function da(s,a){if(function xc(s){var a,u;null!==(a=s.liveConsumerNode)&&void 0!==a||(s.liveConsumerNode=[]),null!==(u=s.liveConsumerIndexOfThis)&&void 0!==u||(s.liveConsumerIndexOfThis=[])}(s),Ki(s),1===s.liveConsumerNode.length)for(let f=0;f<s.producerNode.length;f++)da(s.producerNode[f],s.producerIndexOfThis[f]);const u=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[u],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[u],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const f=s.liveConsumerIndexOfThis[a],m=s.liveConsumerNode[a];Ki(m),m.producerIndexOfThis[f]=a}}function ho(s){var a,u;return s.consumerIsAlwaysLive||(null!==(a=null==s||null===(u=s.liveConsumerNode)||void 0===u?void 0:u.length)&&void 0!==a?a:0)>0}function Ki(s){var a,u,f;null!==(a=s.producerNode)&&void 0!==a||(s.producerNode=[]),null!==(u=s.producerIndexOfThis)&&void 0!==u||(s.producerIndexOfThis=[]),null!==(f=s.producerLastReadVersion)&&void 0!==f||(s.producerLastReadVersion=[])}let P=null;function ii(s){const a=xa(null);try{return s()}finally{xa(a)}}const as=()=>{},Zo={...Yo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:as};class Pc{constructor(a,u,f){this.previousValue=a,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function js(){return Gs}function Gs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Qo),Pa}function Pa(){const s=Ff(this),a=null==s?void 0:s.current;if(a){const u=s.previous;if(u===_i)s.previous=a;else for(let f in a)u[f]=a[f];s.current=null,this.ngOnChanges(a)}}function Qo(s,a,u,f){const m=this.declaredInputs[u],v=Ff(s)||function Ug(s,a){return s[hu]=a}(s,{previous:_i,current:null}),w=v.current||(v.current={}),x=v.previous,N=x[m];w[m]=new Pc(N&&N.currentValue,a,x===_i),s[f]=a}js.ngInherit=!0;const hu="__ngSimpleChanges__";function Ff(s){return s[hu]||null}const ji=function(s,a,u){},ch="svg";function si(s){for(;Array.isArray(s);)s=s[Zr];return s}function pu(s,a){return si(a[s])}function fo(s,a){return si(a[s.index])}function $f(s,a){return s.data[a]}function po(s,a){const u=a[s];return Is(u)?u:u[Zr]}function eo(s,a){return null==a?null:s[a]}function dh(s){s[Wo]=0}function Gg(s){1024&s[ir]||(s[ir]|=1024,jf(s,1))}function Uf(s){1024&s[ir]&&(s[ir]&=-1025,jf(s,-1))}function jf(s,a){let u=s[Wr];if(null===u)return;u[ys]+=a;let f=u;for(u=u[Wr];null!==u&&(1===a&&1===f[ys]||-1===a&&0===f[ys]);)u[ys]+=a,f=u,u=u[Wr]}const ar={lFrame:Xt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hg(){return ar.bindingsEnabled}function cs(){return null!==ar.skipHydrationRootTNode}function At(){return ar.lFrame.lView}function _r(){return ar.lFrame.tView}function En(){let s=qg();for(;null!==s&&64===s.type;)s=s.parent;return s}function qg(){return ar.lFrame.currentTNode}function lt(s,a){const u=ar.lFrame;u.currentTNode=s,u.isParent=a}function Vt(){return ar.lFrame.isParent}function ls(){ar.lFrame.isParent=!1}function Ro(){const s=ar.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function M(){return ar.lFrame.bindingIndex++}function re(s,a){const u=ar.lFrame;u.bindingIndex=u.bindingRootIndex=s,Qe(a)}function Qe(s){ar.lFrame.currentDirectiveIndex=s}function Xe(){return ar.lFrame.currentQueryIndex}function yt(s){ar.lFrame.currentQueryIndex=s}function qn(s){const a=s[rn];return 2===a.type?a.declTNode:1===a.type?s[Bi]:null}function Wn(s,a,u){if(u&bt.SkipSelf){let m=a,v=s;for(;!(m=m.parent,null!==m||u&bt.Host||(m=qn(v),null===m||(v=v[$s],10&m.type))););if(null===m)return!1;a=m,s=v}const f=ar.lFrame=sr();return f.currentTNode=a,f.lView=s,!0}function to(s){const a=sr(),u=s[rn];ar.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function sr(){const s=ar.lFrame,a=null===s?null:s.child;return null===a?Xt(s):a}function Xt(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Xo(){const s=ar.lFrame;return ar.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sl=Xo;function ha(){const s=Xo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ps(){return ar.lFrame.selectedIndex}function dc(s){ar.lFrame.selectedIndex=s}function Yi(){const s=ar.lFrame;return $f(s.tView,s.selectedIndex)}function ly(){ar.lFrame.currentNamespace=ch}function qf(){!function r0(){ar.lFrame.currentNamespace=null}()}let Pl=!0;function st(){return Pl}function hc(s){Pl=s}function Kg(s,a){for(let G=a.directiveStart,Q=a.directiveEnd;G<Q;G++){const Ae=s.data[G].type.prototype,{ngAfterContentInit:Ue,ngAfterContentChecked:Dt,ngAfterViewInit:Bt,ngAfterViewChecked:hn,ngOnDestroy:Pn}=Ae;var u,f,m,v,w,x,N;Ue&&(null!==(u=s.contentHooks)&&void 0!==u?u:s.contentHooks=[]).push(-G,Ue),Dt&&((null!==(f=s.contentHooks)&&void 0!==f?f:s.contentHooks=[]).push(G,Dt),(null!==(m=s.contentCheckHooks)&&void 0!==m?m:s.contentCheckHooks=[]).push(G,Dt)),Bt&&(null!==(v=s.viewHooks)&&void 0!==v?v:s.viewHooks=[]).push(-G,Bt),hn&&((null!==(w=s.viewHooks)&&void 0!==w?w:s.viewHooks=[]).push(G,hn),(null!==(x=s.viewCheckHooks)&&void 0!==x?x:s.viewCheckHooks=[]).push(G,hn)),null!=Pn&&(null!==(N=s.destroyHooks)&&void 0!==N?N:s.destroyHooks=[]).push(G,Pn)}}function mu(s,a,u){_u(s,a,3,u)}function fc(s,a,u,f){(3&s[ir])===u&&_u(s,a,u,f)}function dy(s,a){let u=s[ir];(3&u)===a&&(u&=8191,u+=1,s[ir]=u)}function _u(s,a,u,f){const v=null!=f?f:-1,w=a.length-1;let x=0;for(let N=void 0!==f?65535&s[Wo]:0;N<w;N++)if("number"==typeof a[N+1]){if(x=a[N],null!=f&&x>=f)break}else a[N]<0&&(s[Wo]+=65536),(x<v||-1==v)&&(o0(s,u,a,N),s[Wo]=(4294901760&s[Wo])+N+2),N++}function s0(s,a){ji(4,s,a);const u=xa(null);try{a.call(s)}finally{xa(u),ji(5,s,a)}}function o0(s,a,u,f){const m=u[f]<0,v=u[f+1],x=s[m?-u[f]:u[f]];m?s[ir]>>13<s[Wo]>>16&&(3&s[ir])===a&&(s[ir]+=8192,s0(x,v)):s0(x,v)}const Wf=-1;class Yg{constructor(a,u,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function Yf(s){return s!==Wf}function Ml(s){return 32767&s}function ph(s,a){let u=function hy(s){return s>>16}(s),f=a;for(;u>0;)f=f[$s],u--;return f}let Zg=!0;function Zf(s){const a=Zg;return Zg=s,a}const Qf=255,u0=5;let Tw=0;const al={};function gh(s,a){const u=d0(s,a);if(-1!==u)return u;const f=a[rn];f.firstCreatePass&&(s.injectorIndex=a.length,no(f.data,s),no(a,null),no(f.blueprint,null));const m=Po(s,a),v=s.injectorIndex;if(Yf(m)){const w=Ml(m),x=ph(m,a),N=x[rn].data;for(let G=0;G<8;G++)a[v+G]=x[w+G]|N[w+G]}return a[v+8]=m,v}function no(s,a){s.push(0,0,0,0,0,0,0,0,a)}function d0(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Po(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,f=null,m=a;for(;null!==m;){if(f=vy(m),null===f)return Wf;if(u++,m=m[$s],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return Wf}function fy(s,a,u){!function ww(s,a,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Xs)&&(f=u[Xs]),null==f&&(f=u[Xs]=Tw++);const m=f&Qf;a.data[s+(m>>u0)]|=1<<m}(s,a,u)}function py(s,a,u){if(u&bt.Optional||void 0!==s)return s;me()}function f0(s,a,u,f){if(u&bt.Optional&&void 0===f&&(f=null),!(u&(bt.Self|bt.Host))){const m=s[Bs],v=sn(void 0);try{return m?m.get(a,f,u&bt.Optional):Ei(a,f,u&bt.Optional)}finally{sn(v)}}return py(f,0,u)}function gy(s,a,u,f=bt.Default,m){if(null!==s){if(2048&a[ir]&&!(f&bt.Self)){const w=function ka(s,a,u,f,m){let v=s,w=a;for(;null!==v&&null!==w&&2048&w[ir]&&!(512&w[ir]);){const x=my(v,w,u,f|bt.Self,al);if(x!==al)return x;let N=v.parent;if(!N){const G=w[ba];if(G){const Q=G.get(u,al,f);if(Q!==al)return Q}N=vy(w),w=w[$s]}v=N}return m}(s,a,u,f,al);if(w!==al)return w}const v=my(s,a,u,f,al);if(v!==al)return v}return f0(a,u,f,m)}function my(s,a,u,f,m){const v=function p0(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Xs)?s[Xs]:void 0;return"number"==typeof a?a>=0?a&Qf:Gi:a}(u);if("function"==typeof v){if(!Wn(a,s,f))return f&bt.Host?py(m,0,f):f0(a,u,f,m);try{let w;if(w=v(f),null!=w||f&bt.Optional)return w;me()}finally{sl()}}else if("number"==typeof v){let w=null,x=d0(s,a),N=Wf,G=f&bt.Host?a[Fr][Bi]:null;for((-1===x||f&bt.SkipSelf)&&(N=-1===x?Po(s,a):a[x+8],N!==Wf&&_y(f,!1)?(w=a[rn],x=Ml(N),a=ph(N,a)):x=-1);-1!==x;){const Q=a[rn];if(kl(v,x,Q.data)){const oe=bw(x,a,u,w,f,G);if(oe!==al)return oe}N=a[x+8],N!==Wf&&_y(f,a[rn].data[x+8]===G)&&kl(v,x,a)?(w=Q,x=Ml(N),a=ph(N,a)):x=-1}}return m}function bw(s,a,u,f,m,v){const w=a[rn],x=w.data[s+8],Q=mh(x,w,u,null==f?$i(x)&&Zg:f!=w&&0!=(3&x.type),m&bt.Host&&v===x);return null!==Q?us(a,w,Q,x):al}function mh(s,a,u,f,m){const v=s.providerIndexes,w=a.data,x=1048575&v,N=s.directiveStart,Q=v>>20,Ae=m?x+Q:s.directiveEnd;for(let Ue=f?x:x+Q;Ue<Ae;Ue++){const Dt=w[Ue];if(Ue<N&&u===Dt||Ue>=N&&Dt.type===u)return Ue}if(m){const Ue=w[N];if(Ue&&So(Ue)&&Ue.type===u)return N}return null}function us(s,a,u,f){let m=s[u];const v=a.data;if(function Ma(s){return s instanceof Yg}(m)){const w=m;w.resolving&&function Tn(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ct(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Rt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Tt(s)}(v[u]));const x=Zf(w.canSeeViewProviders);w.resolving=!0;const G=w.injectImpl?sn(w.injectImpl):null;Wn(s,f,bt.Default);try{m=s[u]=w.factory(void 0,v,s,f),a.firstCreatePass&&u>=f.directiveStart&&function kc(s,a,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:v}=a.type.prototype;if(f){var w,x;const oe=Gs(a);(null!==(w=u.preOrderHooks)&&void 0!==w?w:u.preOrderHooks=[]).push(s,oe),(null!==(x=u.preOrderCheckHooks)&&void 0!==x?x:u.preOrderCheckHooks=[]).push(s,oe)}var N,G,Q;m&&(null!==(N=u.preOrderHooks)&&void 0!==N?N:u.preOrderHooks=[]).push(0-s,m),v&&((null!==(G=u.preOrderHooks)&&void 0!==G?G:u.preOrderHooks=[]).push(s,v),(null!==(Q=u.preOrderCheckHooks)&&void 0!==Q?Q:u.preOrderCheckHooks=[]).push(s,v))}(u,v[u],a)}finally{null!==G&&sn(G),Zf(x),w.resolving=!1,sl()}}return m}function kl(s,a,u){return!!(u[a+(s>>u0)]&1<<s)}function _y(s,a){return!(s&bt.Self||s&bt.Host&&a)}class pi{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,f){return gy(this._tNode,this._lView,a,Ti(f),u)}}function Gi(){return new pi(En(),At())}function yy(s){return ri(()=>{const a=s.prototype.constructor,u=a[di]||Nl(a),f=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==f;){const v=m[di]||Nl(m);if(v&&v!==u)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function Nl(s){return Ne(s)?()=>{const a=Nl(Le(s));return a&&a()}:Ui(s)}function vy(s){const a=s[rn],u=a.type;return 2===u?a.declTNode:1===u?s[Bi]:null}function Iy(s){return function h0(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const v=u[m];if(co(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(v===a)return u[m+1];m+=2}}}return null}(En(),s)}const _h="__parameters__";function Ol(s,a,u){return ri(()=>{const f=function Nc(s){return function(...u){if(s){const f=s(...u);for(const m in f)this[m]=f[m]}}}(a);function m(...v){if(this instanceof m)return f.apply(this,v),this;const w=new m(...v);return x.annotation=w,x;function x(N,G,Q){const oe=N.hasOwnProperty(_h)?N[_h]:Object.defineProperty(N,_h,{value:[]})[_h];for(;oe.length<=Q;)oe.push(null);return(oe[Q]=oe[Q]||[]).push(w),N}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}function cl(s,a){s.forEach(u=>Array.isArray(u)?cl(u,a):a(u))}function wy(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function Xg(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Iu(s,a){const u=[];for(let f=0;f<s;f++)u.push(a);return u}function Wa(s,a,u){let f=zs(s,a);return f>=0?s[1|f]=u:(f=~f,function ZC(s,a,u,f){let m=s.length;if(m==a)s.push(u,f);else if(1===m)s.push(f,s[0]),s[0]=u;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=u,s[a+1]=f}}(s,f,a,u)),f}function by(s,a){const u=zs(s,a);if(u>=0)return s[1|u]}function zs(s,a){return function Qi(s,a,u){let f=0,m=s.length>>u;for(;m!==f;){const v=f+(m-f>>1),w=s[v<<u];if(a===w)return v<<u;w>a?m=v:f=v+1}return~(m<<u)}(s,a,1)}const ud=Ci(Ol("Optional"),8),Ih=Ci(Ol("SkipSelf"),4);function sp(s){return 128==(128&s.flags)}var rm=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(rm||{});const im=/^>|^->|<!--|-->|--!>|<!-$/g,kw=/(<|>)/g,QC="\u200b$1\u200b";const T0=new Map;let sm=0;const ul="__ngContext__";function mo(s,a){Is(a)?(s[ul]=a[wa],function Ly(s){T0.set(s[wa],s)}(a)):s[ul]=a}let cm;function Vy(s,a){return cm(s,a)}function Hs(s){const a=s[Wr];return Wi(a)?a[Wr]:a}function vc(s){return Sh(s[uo])}function Ah(s){return Sh(s[Vi])}function Sh(s){for(;null!==s&&!Wi(s);)s=s[Vi];return s}function md(s,a,u,f,m){if(null!=f){let v,w=!1;Wi(f)?v=f:Is(f)&&(w=!0,f=f[Zr]);const x=si(f);0===s&&null!==u?null==m?Du(a,u,x):Fc(a,u,x,m||null,!0):1===s&&null!==u?Fc(a,u,x,m||null,!0):2===s?function mm(s,a,u){const f=gp(s,a);f&&function S0(s,a,u,f){s.removeChild(a,u,f)}(s,f,a,u)}(a,x,w):3===s&&a.destroyNode(x),null!=v&&function Uy(s,a,u,f,m){const v=u[qi];v!==si(u)&&md(a,s,f,v,m);for(let x=Mi;x<u.length;x++){const N=u[x];Ph(N[rn],N,s,a,f,v)}}(a,s,v,u,m)}}function hp(s,a){return s.createComment(function Rr(s){return s.replace(im,a=>a.replace(kw,QC))}(a))}function xh(s,a,u){return s.createElement(a,u)}function By(s,a){const u=s[Aa],f=u.indexOf(a);Uf(a),u.splice(f,1)}function yd(s,a){if(s.length<=Mi)return;const u=Mi+a,f=s[u];if(f){const m=f[qo];null!==m&&m!==s&&By(m,f),a>0&&(s[u-1][Vi]=f[Vi]);const v=Xg(s,Mi+a);!function _d(s,a){Ph(s,a,a[Yn],2,null,null),a[Zr]=null,a[Bi]=null}(f[rn],f);const w=v[Us];null!==w&&w.detachView(v[rn]),f[Wr]=null,f[Vi]=null,f[ir]&=-129}return f}function fp(s,a){if(!(256&a[ir])){const u=a[Yn];a[la]&&el(a[la]),a[Da]&&el(a[Da]),u.destroyNode&&Ph(s,a,u,3,null,null),function qs(s){let a=s[uo];if(!a)return um(s[rn],s);for(;a;){let u=null;if(Is(a))u=a[uo];else{const f=a[Mi];f&&(u=f)}if(!u){for(;a&&!a[Vi]&&a!==s;)Is(a)&&um(a[rn],a),a=a[Wr];null===a&&(a=s),Is(a)&&um(a[rn],a),u=a&&a[Vi]}a=u}}(a)}}function um(s,a){if(!(256&a[ir])){a[ir]&=-129,a[ir]|=256,function Rh(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let f=0;f<u.length;f+=2){const m=a[u[f]];if(!(m instanceof Yg)){const v=u[f+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const x=m[v[w]],N=v[w+1];ji(4,x,N);try{N.call(x)}finally{ji(5,x,N)}}else{ji(4,m,v);try{v.call(m)}finally{ji(5,m,v)}}}}}(s,a),function $y(s,a){const u=s.cleanup,f=a[Ta];if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const w=u[v+3];w>=0?f[w]():f[-w].unsubscribe(),v+=2}else u[v].call(f[u[v+1]]);null!==f&&(a[Ta]=null);const m=a[vs];if(null!==m){a[vs]=null;for(let v=0;v<m.length;v++)(0,m[v])()}}(s,a),1===a[rn].type&&a[Yn].destroy();const u=a[qo];if(null!==u&&Wi(a[Wr])){u!==a[Wr]&&By(u,a);const f=a[Us];null!==f&&f.detachView(s)}!function op(s){T0.delete(s[wa])}(a)}}function pp(s,a,u){return function bu(s,a,u){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return u[Zr];{const{componentOffset:m}=f;if(m>-1){const{encapsulation:v}=s.data[f.directiveStart+m];if(v===Fi.None||v===Fi.Emulated)return null}return fo(f,u)}}(s,a.parent,u)}function Fc(s,a,u,f,m){s.insertBefore(a,u,f,m)}function Du(s,a,u){s.appendChild(a,u)}function vd(s,a,u,f,m){null!==f?Fc(s,a,u,f,m):Du(s,a,u)}function gp(s,a){return s.parentNode(a)}function hm(s,a,u){return fm(s,a,u)}let pm,Nh,Im,fm=function mp(s,a,u){return 40&s.type?fo(s,u):null};function _p(s,a,u,f){const m=pp(s,f,a),v=a[Yn],x=hm(f.parent||a[Bi],f,a);if(null!=m)if(Array.isArray(u))for(let N=0;N<u.length;N++)vd(v,m,u[N],x,!1);else vd(v,m,u,x,!1);void 0!==pm&&pm(v,f,a,u,m)}function Ic(s,a){if(null!==a){const u=a.type;if(3&u)return fo(a,s);if(4&u)return gm(-1,s[a.index]);if(8&u){const f=a.child;if(null!==f)return Ic(s,f);{const m=s[a.index];return Wi(m)?gm(-1,m):si(m)}}if(32&u)return Vy(a,s)()||si(s[a.index]);{const f=Cu(s,a);return null!==f?Array.isArray(f)?f[0]:Ic(Hs(s[Fr]),f):Ic(s,a.next)}}return null}function Cu(s,a){return null!==a?s[Fr][Bi].projection[a.projection]:null}function gm(s,a){const u=Mi+s+1;if(u<a.length){const f=a[u],m=f[rn].firstChild;if(null!==m)return Ic(f,m)}return a[qi]}function yp(s,a,u,f,m,v,w){for(;null!=u;){const x=f[u.index],N=u.type;if(w&&0===a&&(x&&mo(si(x),f),u.flags|=2),32!=(32&u.flags))if(8&N)yp(s,a,u.child,f,m,v,!1),md(a,s,m,x,v);else if(32&N){const G=Vy(u,f);let Q;for(;Q=G();)md(a,s,m,Q,v);md(a,s,m,x,v)}else 16&N?Vc(s,a,f,u,m,v):md(a,s,m,x,v);u=w?u.projectionNext:u.next}}function Ph(s,a,u,f,m,v){yp(u,f,s.firstChild,a,m,v,!1)}function Vc(s,a,u,f,m,v){const w=u[Fr],N=w[Bi].projection[f.projection];if(Array.isArray(N))for(let G=0;G<N.length;G++)md(a,s,m,N[G],v);else{let G=N;const Q=w[Wr];sp(f)&&(G.flags|=128),yp(s,a,G,Q,m,v,!0)}}function _m(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function ym(s,a,u){const{mergedAttrs:f,classes:m,styles:v}=u;null!==f&&Ds(s,a,f),null!==m&&_m(s,a,m),null!==v&&function Au(s,a,u){s.setAttribute(a,"style",u)}(s,a,v)}function Fw(s){Nh=s}function Ul(s){var a;return(null===(a=function P0(){if(void 0===Im&&(Im=null,wr.trustedTypes))try{Im=wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Im}())||void 0===a?void 0:a.createScriptURL(s))||s}class Su{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function dl(s){return s instanceof Su?s.changingThisBreaksApplicationSecurity:s}function Ep(s,a){const u=function Tm(s){return s instanceof Su&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${qe})`)}return u===a}const JC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var hl=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(hl||{});function $h(s){const a=bd();return a?a.sanitize(hl.URL,s)||"":Ep(s,"URL")?dl(s):function Hy(s){return(s=String(s)).match(JC)?s:"unsafe:"+s}(Tt(s))}function Zy(s){const a=bd();if(a)return Ul(a.sanitize(hl.RESOURCE_URL,s)||"");if(Ep(s,"ResourceURL"))return Ul(dl(s));throw new ct(904,!1)}function xm(s,a,u){return function wd(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Zy:$h}(a,u)(s)}function bd(){const s=At();return s&&s[Ao].sanitizer}class Qr{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zl=new Qr("ENVIRONMENT_INITIALIZER"),Rm=new Qr("INJECTOR",-1),fl=new Qr("INJECTOR_DEF_TYPES");class Hl{get(a,u=ee){if(u===ee){const f=new Error(`NullInjectorError: No provider for ${ht(a)}!`);throw f.name="NullInjectorError",f}return u}}function Pu(...s){return{\u0275providers:Xy(0,s),\u0275fromNgModule:!0}}function Xy(s,...a){const u=[],f=new Set;let m;const v=w=>{u.push(w)};return cl(a,w=>{const x=w;jh(x,v,[],f)&&(m||(m=[]),m.push(x))}),void 0!==m&&Mu(m,v),u}function Mu(s,a){for(let u=0;u<s.length;u++){const{ngModule:f,providers:m}=s[u];bp(m,v=>{a(v,f)})}}function jh(s,a,u,f){if(!(s=Le(s)))return!1;let m=null,v=Or(s);const w=!v&&Cn(s);if(v||w){if(w&&!w.standalone)return!1;m=s}else{const N=s.ngModule;if(v=Or(N),!v)return!1;m=N}const x=f.has(m);if(w){if(x)return!1;if(f.add(m),w.dependencies){const N="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const G of N)jh(G,a,u,f)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let G;f.add(m);try{cl(v.imports,Q=>{jh(Q,a,u,f)&&(G||(G=[]),G.push(Q))})}finally{}void 0!==G&&Mu(G,a)}if(!x){const G=Ui(m)||(()=>new m);a({provide:m,useFactory:G,deps:jn},m),a({provide:fl,useValue:m,multi:!0},m),a({provide:zl,useValue:()=>Xr(m),multi:!0},m)}const N=v.providers;if(null!=N&&!x){const G=s;bp(N,Q=>{a(Q,G)})}}}return m!==s&&void 0!==s.providers}function bp(s,a){for(let u of s)we(u)&&(u=u.\u0275providers),Array.isArray(u)?bp(u,a):a(u)}const B0=Ee({provide:String,useValue:Ee});function Dp(s){return null!==s&&"object"==typeof s&&B0 in s}function Nu(s){return"function"==typeof s}const Ap=new Qr("Set Injector scope."),Sp={},ev={};let km;function Gh(){return void 0===km&&(km=new Hl),km}class Lo{}class ql extends Lo{get destroyed(){return this._destroyed}constructor(a,u,f,m){super(),this.parent=u,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lm(a,w=>this.processProvider(w)),this.records.set(Rm,Dd(void 0,this)),m.has("environment")&&this.records.set(Lo,Dd(void 0,this));const v=this.records.get(Ap);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(fl.multi,jn,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const u=Mr(this),f=sn(void 0);try{return a()}finally{Mr(u),sn(f)}}get(a,u=ee,f=bt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Do))return a[Do](this);f=Ti(f);const v=Mr(this),w=sn(void 0);try{if(!(f&bt.SkipSelf)){let N=this.records.get(a);if(void 0===N){const G=function _o(s){return"function"==typeof s||"object"==typeof s&&s instanceof Qr}(a)&&Xn(a);N=G&&this.injectableDefInScope(G)?Dd(xp(a),Sp):null,this.records.set(a,N)}if(null!=N)return this.hydrate(a,N)}return(f&bt.Self?Gh():this.parent).get(a,u=f&bt.Optional&&u===ee?null:u)}catch(x){if("NullInjectorError"===x.name){if((x[_t]=x[_t]||[]).unshift(ht(a)),v)throw x;return function mi(s,a,u,f){const m=s[_t];throw a[Er]&&m.unshift(a[Er]),s.message=function Fs(s,a,u,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=ht(a);if(Array.isArray(a))m=a.map(ht).join(" -> ");else if("object"==typeof a){let v=[];for(let w in a)if(a.hasOwnProperty(w)){let x=a[w];v.push(w+":"+("string"==typeof x?JSON.stringify(x):ht(x)))}m=`{${v.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${s.replace(Dn,"\n  ")}`}("\n"+s.message,m,u,f),s.ngTokenPath=m,s[_t]=null,s}(x,a,"R3InjectorError",this.source)}throw x}finally{sn(w),Mr(v)}}resolveInjectorInitializers(){const a=Mr(this),u=sn(void 0);try{const m=this.get(zl.multi,jn,bt.Self);for(const v of m)v()}finally{Mr(a),sn(u)}}toString(){const a=[],u=this.records;for(const f of u.keys())a.push(ht(f));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(a){let u=Nu(a=Le(a))?a:Le(a&&a.provide);const f=function $0(s){return Dp(s)?Dd(void 0,s.useValue):Dd(Nm(s),Sp)}(a);if(Nu(a)||!0!==a.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=Dd(void 0,Sp,!0),m.factory=()=>ms(m.multi),this.records.set(u,m)),u=a,m.multi.push(a)}this.records.set(u,f)}hydrate(a,u){return u.value===Sp&&(u.value=ev,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Om(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Le(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(a){const u=this._onDestroyHooks.indexOf(a);-1!==u&&this._onDestroyHooks.splice(u,1)}}function xp(s){const a=Xn(s),u=null!==a?a.factory:Ui(s);if(null!==u)return u;if(s instanceof Qr)throw new ct(204,!1);if(s instanceof Function)return function tv(s){const a=s.length;if(a>0)throw Iu(a,"?"),new ct(204,!1);const u=function In(s){return s&&(s[Ur]||s[Ln])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ct(204,!1)}function Nm(s,a,u){let f;if(Nu(s)){const m=Le(s);return Ui(m)||xp(m)}if(Dp(s))f=()=>Le(s.useValue);else if(function Mm(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...ms(s.deps||[]));else if(function Jy(s){return!(!s||!s.useExisting)}(s))f=()=>Xr(Le(s.useExisting));else{const m=Le(s&&(s.useClass||s.provide));if(!function U0(s){return!!s.deps}(s))return Ui(m)||xp(m);f=()=>new m(...ms(s.deps))}return f}function Dd(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Lm(s,a){for(const u of s)Array.isArray(u)?Lm(u,a):u&&we(u)?Lm(u.\u0275providers,a):a(u)}const nv=new Qr("AppId",{providedIn:"root",factory:()=>j0}),j0="ng",rv=new Qr("Platform Initializer"),zh=new Qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rp=new Qr("CSP nonce",{providedIn:"root",factory:()=>{var s;return(null===(s=function Oh(){if(void 0!==Nh)return Nh;if(typeof document<"u")return document;throw new ct(210,!1)}().body)||void 0===s||null===(s=s.querySelector("[ngCspNonce]"))||void 0===s?void 0:s.getAttribute("ngCspNonce"))||null}});let Ou=(s,a,u)=>null;function Np(s,a,u=!1){return Ou(s,a,u)}class jm{}class av{}class ks{resolveComponentFactory(a){throw function W0(s){const a=Error(`No component factory found for ${ht(s)}.`);return a.ngComponent=s,a}(a)}}let Vp=(()=>{class a{}return a.NULL=new ks,a})();function hs(){return Rd(En(),At())}function Rd(s,a){return new Yh(fo(s,a))}let Yh=(()=>{class a{constructor(f){this.nativeElement=f}}return a.__NG_ELEMENT_ID__=hs,a})();function Lu(s){return s instanceof Yh?s.nativeElement:s}class Zh{}let cv=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function K0(){const s=At(),u=po(En().index,s);return(Is(u)?u:s)[Yn]}(),a})(),Bp=(()=>{var s;class a{}return(s=a).\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),a})();class qw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Y0=new qw("16.2.4"),$p={};function Nd(s,a=null,u=null,f){const m=Kl(s,a,u,f);return m.resolveInjectorInitializers(),m}function Kl(s,a=null,u=null,f,m=new Set){const v=[u||jn,Pu(s)];return f=f||("object"==typeof s?void 0:ht(s)),new ql(v,a||Gh(),f||null,m)}let Fo=(()=>{var s;class a{static create(f,m){if(Array.isArray(f))return Nd({name:""},m,f,"");{var v;const w=null!==(v=f.name)&&void 0!==v?v:"";return Nd({name:w},f.parent,f.providers,w)}}}return(s=a).THROW_IF_NOT_FOUND=ee,s.NULL=new Hl,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Xr(Rm)}),s.__NG_ELEMENT_ID__=-1,a})();function Xh(s){return a=>{setTimeout(s,void 0,a)}}const ga=class Od extends b.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,f){let m=a,v=u||(()=>null),w=f;if(a&&"object"==typeof a){var x,N,G;const oe=a;m=null===(x=oe.next)||void 0===x?void 0:x.bind(oe),v=null===(N=oe.error)||void 0===N?void 0:N.bind(oe),w=null===(G=oe.complete)||void 0===G?void 0:G.bind(oe)}this.__isAsync&&(v=Xh(v),m&&(m=Xh(m)),w&&(w=Xh(w)));const Q=super.subscribe({next:m,error:v,complete:w});return a instanceof E.w0&&a.add(Q),Q}};function Hm(...s){}class yo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ga(!1),this.onMicrotaskEmpty=new ga(!1),this.onStable=new ga(!1),this.onError=new ga(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function pv(){const s="function"==typeof wr.requestAnimationFrame;let a=wr[s?"requestAnimationFrame":"setTimeout"],u=wr[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&u){const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f);const m=u[Zone.__symbol__("OriginalDelegate")];m&&(u=m)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function Wm(s){const a=()=>{!function gv(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(wr,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,jc(s),s.isCheckStableRunning=!0,qm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),jc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,v,w,x)=>{if(function Ld(s){var a;return!(!Array.isArray(s)||1!==s.length)&&!0===(null===(a=s[0].data)||void 0===a?void 0:a.__ignore_ng_zone__)}(x))return u.invokeTask(m,v,w,x);try{return Fu(s),u.invokeTask(m,v,w,x)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||s.shouldCoalesceRunChangeDetection)&&a(),Km(s)}},onInvoke:(u,f,m,v,w,x,N)=>{try{return Fu(s),u.invoke(m,v,w,x,N)}finally{s.shouldCoalesceRunChangeDetection&&a(),Km(s)}},onHasTask:(u,f,m,v)=>{u.hasTask(m,v),f===m&&("microTask"==v.change?(s._hasPendingMicrotasks=v.microTask,jc(s),qm(s)):"macroTask"==v.change&&(s.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,f,m,v)=>(u.handleError(m,v),s.runOutsideAngular(()=>s.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yo.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new ct(909,!1)}run(a,u,f){return this._inner.run(a,u,f)}runTask(a,u,f,m){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+m,a,Q0,Hm,Hm);try{return v.runTask(w,u,f)}finally{v.cancelTask(w)}}runGuarded(a,u,f){return this._inner.runGuarded(a,u,f)}runOutsideAngular(a){return this._outer.run(a)}}const Q0={};function qm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function jc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Fu(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Km(s){s._nesting--,qm(s)}class Jh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ga,this.onMicrotaskEmpty=new ga,this.onStable=new ga,this.onError=new ga}run(a,u,f){return a.apply(u,f)}runGuarded(a,u,f){return a.apply(u,f)}runOutsideAngular(a){return a()}runTask(a,u,f,m){return a.apply(u,f)}}const Vu=new Qr("",{providedIn:"root",factory:mv});function mv(){const s=Tr(yo);let a=!0;return function ze(...s){const a=(0,L.yG)(s),u=(0,L._6)(s,1/0),f=s;return f.length?1===f.length?(0,ke.Xf)(f[0]):(0,_e.J)(u)((0,De.D)(f,a)):Ve.E}(new Ye.y(m=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{m.next(a),m.complete()})}),new Ye.y(m=>{let v;s.runOutsideAngular(()=>{v=s.onStable.subscribe(()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,m.next(!0))})})});const w=s.onUnstable.subscribe(()=>{yo.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{m.next(!1)}))});return()=>{v.unsubscribe(),w.unsubscribe()}}).pipe(Re()))}function _l(s){return s instanceof Function?s():s}let Zm=(()=>{var s;class a{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ct(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const f of this.callbacks)f.invoke()}finally{this.runningCallbacks=!1;for(const f of this.deferredCallbacks)this.callbacks.add(f);this.deferredCallbacks.clear()}}register(f){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(f)}unregister(f){this.callbacks.delete(f),this.deferredCallbacks.delete(f)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=a).\u0275prov=on({token:s,providedIn:"root",factory:()=>new s}),a})();function Gp(s){for(;s;){s[ir]|=64;const a=Hs(s);if(ac(s)&&!a)return s;s=a}return null}function Xm(s){return s.ngOriginalError}class Fd{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Xm(a);for(;u&&Xm(u);)u=Xm(u);return u||null}}const eE=new Qr("",{providedIn:"root",factory:()=>!1});let yl=null;function nf(s,a){var u;return null!==(u=s[a])&&void 0!==u?u:e_()}function rE(s,a){var u;const f=e_();null!==(u=f.producerNode)&&void 0!==u&&u.length&&(s[a]=yl,f.lView=s,yl=vl())}const Iv={...Yo,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Gp(s.lView)},lView:null};function vl(){return Object.create(Iv)}function e_(){var s;return null!==(s=yl)&&void 0!==s||(yl=vl()),yl}const dr={};function iE(s){rf(_r(),At(),Ps()+s,!1)}function rf(s,a,u,f){if(!f)if(3==(3&a[ir])){const v=s.preOrderCheckHooks;null!==v&&mu(a,v,u)}else{const v=s.preOrderHooks;null!==v&&fc(a,v,0,u)}dc(u)}function sf(s,a=bt.Default){const u=At();return null===u?Xr(s,a):gy(En(),u,Le(s),a)}function sE(){throw new Error("invalid")}function Hp(s,a,u,f,m,v,w,x,N,G,Q){const oe=a.blueprint.slice();return oe[Zr]=m,oe[ir]=140|f,(null!==G||s&&2048&s[ir])&&(oe[ir]|=2048),dh(oe),oe[Wr]=oe[$s]=s,oe[Jr]=u,oe[Ao]=w||s&&s[Ao],oe[Yn]=x||s&&s[Yn],oe[Bs]=N||s&&s[Bs]||null,oe[Bi]=v,oe[wa]=function Oy(){return sm++}(),oe[xs]=Q,oe[ba]=G,oe[Fr]=2==a.type?s[Fr]:oe,oe}function af(s,a,u,f,m){let v=s.data[a];if(null===v)v=function Vd(s,a,u,f,m){const v=qg(),w=Vt(),N=s.data[a]=function Ev(s,a,u,f,m,v){let w=a?a.injectorIndex:-1,x=0;return cs()&&(x|=128),{type:u,index:f,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,u,a,f,m);return null===s.firstChild&&(s.firstChild=N),null!==v&&(w?null==v.child&&null!==N.parent&&(v.child=N):null===v.next&&(v.next=N,N.prev=v)),N}(s,a,u,f,m),function R(){return ar.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=u,v.value=f,v.attrs=m;const w=function dn(){const s=ar.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return lt(v,!0),v}function qp(s,a,u,f){if(0===u)return-1;const m=a.length;for(let v=0;v<u;v++)a.push(f),s.blueprint.push(f),s.data.push(null);return m}function t_(s,a,u,f,m){const v=nf(a,la),w=Ps(),x=2&f;try{dc(-1),x&&a.length>cr&&rf(s,a,cr,!1),ji(x?2:0,m);const G=x?v:null,Q=uu(G);try{null!==G&&(G.dirty=!1),u(f,m)}finally{Jc(G,Q)}}finally{x&&null===a[la]&&rE(a,la),dc(w),ji(x?3:1,m)}}function $u(s,a,u){if(Sa(a)){const f=xa(null);try{const v=a.directiveEnd;for(let w=a.directiveStart;w<v;w++){const x=s.data[w];x.contentQueries&&x.contentQueries(1,u[w],w)}}finally{xa(f)}}}function aE(s,a,u){Hg()&&(function uE(s,a,u,f){const m=u.directiveStart,v=u.directiveEnd;$i(u)&&function cf(s,a,u){const f=fo(a,s),m=Zl(u);let w=16;u.signals?w=4096:u.onPush&&(w=64);const x=lf(s,Hp(s,m,null,w,f,a,null,s[Ao].rendererFactory.createRenderer(f,u),null,null,null));s[a.index]=x}(a,u,s.data[m+u.componentOffset]),s.firstCreatePass||gh(u,a),mo(f,a);const w=u.initialInputs;for(let x=m;x<v;x++){const N=s.data[x],G=us(a,s,x,u);mo(G,a),null!==w&&ib(0,x-m,G,N,0,w),So(N)&&(po(u.index,a)[Jr]=us(a,s,x,u))}}(s,a,u,fo(u,a)),64==(64&u.flags)&&o_(s,a,u))}function Uu(s,a,u=fo){const f=a.localNames;if(null!==f){let m=a.index+1;for(let v=0;v<f.length;v+=2){const w=f[v+1],x=-1===w?u(a,s):s[w];s[m++]=x}}}function Zl(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Wp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Wp(s,a,u,f,m,v,w,x,N,G,Q){const oe=cr+f,Ae=oe+m,Ue=function Kp(s,a){const u=[];for(let f=0;f<a;f++)u.push(f<s?null:dr);return u}(oe,Ae),Dt="function"==typeof G?G():G;return Ue[rn]={type:s,blueprint:Ue,template:u,queries:null,viewQuery:x,declTNode:a,data:Ue.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:N,consts:Dt,incompleteFirstPass:!1,ssrId:Q}}let n_=s=>null;function r_(s,a,u,f){for(let m in s)if(s.hasOwnProperty(m)){u=null===u?{}:u;const v=s[m];null===f?Bd(u,a,m,v):f.hasOwnProperty(m)&&Bd(u,a,f[m],v)}return u}function Bd(s,a,u,f){s.hasOwnProperty(u)?s[u].push(a,f):s[u]=[a,f]}function s_(s,a,u,f){if(Hg()){const m=null===f?null:{"":-1},v=function rb(s,a){const u=s.directiveRegistry;let f=null,m=null;if(u)for(let w=0;w<u.length;w++){const x=u[w];if(dt(a,x.selectors,!1))if(f||(f=[]),So(x))if(null!==x.findHostDirectiveDefs){const N=[];m=m||new Map,x.findHostDirectiveDefs(x,N,m),f.unshift(...N,x),a_(s,a,N.length)}else f.unshift(x),a_(s,a,0);else{var v;m=m||new Map,null===(v=x.findHostDirectiveDefs)||void 0===v||v.call(x,x,f,m),f.push(x)}}return null===f?null:[f,m]}(s,u);let w,x;null===v?w=x=null:[w,x]=v,null!==w&&Xp(s,a,u,w,m,x),m&&function tA(s,a,u){if(a){const f=s.localNames=[];for(let m=0;m<a.length;m+=2){const v=u[a[m+1]];if(null==v)throw new ct(-301,!1);f.push(a[m],v)}}}(u,f,m)}u.mergedAttrs=zr(u.mergedAttrs,u.attrs)}function Xp(s,a,u,f,m,v){for(let oe=0;oe<f.length;oe++)fy(gh(u,a),s,f[oe].type);!function wv(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,f.length);for(let oe=0;oe<f.length;oe++){const Ae=f[oe];Ae.providersResolver&&Ae.providersResolver(Ae)}let w=!1,x=!1,N=qp(s,a,f.length,null);for(let oe=0;oe<f.length;oe++){const Ae=f[oe];u.mergedAttrs=zr(u.mergedAttrs,Ae.hostAttrs),bv(s,u,a,N,Ae),Tv(N,Ae,m),null!==Ae.contentQueries&&(u.flags|=4),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(u.flags|=64);const Ue=Ae.type.prototype;var G,Q;!w&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((null!==(G=s.preOrderHooks)&&void 0!==G?G:s.preOrderHooks=[]).push(u.index),w=!0),x||!Ue.ngOnChanges&&!Ue.ngDoCheck||((null!==(Q=s.preOrderCheckHooks)&&void 0!==Q?Q:s.preOrderCheckHooks=[]).push(u.index),x=!0),N++}!function Ya(s,a,u){const m=a.directiveEnd,v=s.data,w=a.attrs,x=[];let N=null,G=null;for(let Q=a.directiveStart;Q<m;Q++){const oe=v[Q],Ae=u?u.get(oe):null,Dt=Ae?Ae.outputs:null;N=r_(oe.inputs,Q,N,Ae?Ae.inputs:null),G=r_(oe.outputs,Q,G,Dt);const Bt=null===N||null===w||X(a)?null:sb(N,Q,w);x.push(Bt)}null!==N&&(N.hasOwnProperty("class")&&(a.flags|=8),N.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=x,a.inputs=N,a.outputs=G}(s,u,v)}function o_(s,a,u){const f=u.directiveStart,m=u.directiveEnd,v=u.index,w=function se(){return ar.lFrame.currentDirectiveIndex}();try{dc(v);for(let x=f;x<m;x++){const N=s.data[x],G=a[x];Qe(x),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&dE(N,G)}}finally{dc(-1),Qe(w)}}function dE(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function a_(s,a,u){var f;a.componentOffset=u,(null!==(f=s.components)&&void 0!==f?f:s.components=[]).push(a.index)}function Tv(s,a,u){if(u){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)u[a.exportAs[f]]=s;So(a)&&(u[""]=s)}}function bv(s,a,u,f,m){s.data[f]=m;const v=m.factory||(m.factory=Ui(m.type)),w=new Yg(v,So(m),sf);s.blueprint[f]=w,u[f]=w,function Ql(s,a,u,f,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const x=~a.index;(function lE(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=x&&w.push(x),w.push(u,f,v)}}(s,a,f,qp(s,u,m.hostVars,dr),m)}function Xl(s,a,u,f,m,v){const w=fo(s,a);!function Dv(s,a,u,f,m,v,w){if(null==v)s.removeAttribute(a,m,u);else{const x=null==w?Tt(v):w(v,f||"",m);s.setAttribute(a,m,x,u)}}(a[Yn],w,v,s.value,u,f,m)}function ib(s,a,u,f,m,v){const w=v[a];if(null!==w)for(let x=0;x<w.length;)c_(f,u,w[x++],w[x++],w[x++])}function c_(s,a,u,f,m){const v=xa(null);try{const w=s.inputTransforms;null!==w&&w.hasOwnProperty(f)&&(m=w[f].call(a,m)),null!==s.setInput?s.setInput(a,m,u,f):a[f]=m}finally{xa(v)}}function sb(s,a,u){let f=null,m=0;for(;m<u.length;){const v=u[m];if(0!==v)if(5!==v){if("number"==typeof v)break;if(s.hasOwnProperty(v)){null===f&&(f=[]);const w=s[v];for(let x=0;x<w.length;x+=2)if(w[x]===a){f.push(v,w[x+1],u[m+1]);break}}m+=2}else m+=2;else m+=4}return f}function hE(s,a,u,f){return[s,!0,!1,a,null,0,f,u,null,null,null]}function fE(s,a){const u=s.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const v=u[f+1];if(-1!==v){const w=s.data[v];yt(u[f]),w.contentQueries(2,a[v],v)}}}function lf(s,a){return s[uo]?s[Ho][Vi]=a:s[uo]=a,s[Ho]=a,a}function Br(s,a,u){yt(0);const f=xa(null);try{a(s,u)}finally{xa(f)}}function Cv(s){return s[Ta]||(s[Ta]=[])}function Jp(s){return s.cleanup||(s.cleanup=[])}function Vo(s,a){const u=s[Bs],f=u?u.get(Fd,null):null;f&&f.handleError(a)}function fs(s,a,u,f,m){for(let v=0;v<u.length;){const w=u[v++],x=u[v++];c_(s.data[w],a[w],f,x,m)}}function rA(s,a){const u=po(a,s),f=u[rn];!function iA(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])}(f,u);const m=u[Zr];null!==m&&null===u[xs]&&(u[xs]=Np(m,u[Bs])),eg(f,u,u[Jr])}function eg(s,a,u){to(a);try{const f=s.viewQuery;null!==f&&Br(1,f,u);const m=s.template;null!==m&&t_(s,a,m,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&fE(s,a),s.staticViewQueries&&Br(2,s.viewQuery,u);const v=s.components;null!==v&&function ob(s,a){for(let u=0;u<a.length;u++)rA(s,a[u])}(a,v)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[ir]&=-5,ha()}}let uf=(()=>{var s;class a{constructor(){this.all=new Set,this.queue=new Map}create(f,m,v){const w=typeof Zone>"u"?null:Zone.current,x=function ti(s,a,u){const f=Object.create(Zo);u&&(f.consumerAllowSignalWrites=!0),f.fn=s,f.schedule=a;const m=w=>{f.cleanupFn=w};return f.ref={notify:()=>ua(f),run:()=>{if(f.dirty=!1,f.hasRun&&!Sc(f))return;f.hasRun=!0;const w=uu(f);try{f.cleanupFn(),f.cleanupFn=as,f.fn(m)}finally{Jc(f,w)}},cleanup:()=>f.cleanupFn()},f.ref}(f,Q=>{this.all.has(Q)&&this.queue.set(Q,w)},v);let N;this.all.add(x),x.notify();const G=()=>{var Q;x.cleanup(),null===(Q=N)||void 0===Q||Q(),this.all.delete(x),this.queue.delete(x)};return N=null==m?void 0:m.onDestroy(G),{destroy:G}}flush(){if(0!==this.queue.size)for(const[f,m]of this.queue)this.queue.delete(f),m?m.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=a).\u0275prov=on({token:s,providedIn:"root",factory:()=>new s}),a})();function df(s,a,u){let f=u?s.styles:null,m=u?s.classes:null,v=0;if(null!==a)for(let w=0;w<a.length;w++){const x=a[w];"number"==typeof x?v=x:1==v?m=et(m,x):2==v&&(f=et(f,x+": "+a[++w]+";"))}u?s.styles=f:s.stylesWithoutHost=f,u?s.classes=m:s.classesWithoutHost=m}function tg(s,a,u,f,m=!1){for(;null!==u;){const v=a[u.index];null!==v&&f.push(si(v)),Wi(v)&&gE(v,f);const w=u.type;if(8&w)tg(s,a,u.child,f);else if(32&w){const x=Vy(u,a);let N;for(;N=x();)f.push(N)}else if(16&w){const x=Cu(a,u);if(Array.isArray(x))f.push(...x);else{const N=Hs(a[Fr]);tg(N[rn],N,x,f,!0)}}u=m?u.projectionNext:u.next}return f}function gE(s,a){for(let u=Mi;u<s.length;u++){const f=s[u],m=f[rn].firstChild;null!==m&&tg(f[rn],f,m,a)}s[qi]!==s[Zr]&&a.push(s[qi])}function Di(s,a,u,f=!0){const m=a[Ao],v=m.rendererFactory,w=m.afterRenderEventManager;var N;null===(N=v.begin)||void 0===N||N.call(v),null==w||w.begin();try{Ns(s,a,s.template,u)}catch(oe){throw f&&Vo(a,oe),oe}finally{var G,Q;null===(G=v.end)||void 0===G||G.call(v),null===(Q=m.effectManager)||void 0===Q||Q.flush(),null==w||w.end()}}function Ns(s,a,u,f){var m;const v=a[ir];if(256!=(256&v)){null===(m=a[Ao].effectManager)||void 0===m||m.flush(),to(a);try{dh(a),function A(s){return ar.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&t_(s,a,u,2,f);const x=3==(3&v);if(x){const Q=s.preOrderCheckHooks;null!==Q&&mu(a,Q,null)}else{const Q=s.preOrderHooks;null!==Q&&fc(a,Q,0,null),dy(a,0)}if(function ab(s){for(let a=vc(s);null!==a;a=Ah(a)){if(!a[fi])continue;const u=a[Aa];for(let f=0;f<u.length;f++){Gg(u[f])}}}(a),Av(a,2),null!==s.contentQueries&&fE(s,a),x){const Q=s.contentCheckHooks;null!==Q&&mu(a,Q)}else{const Q=s.contentHooks;null!==Q&&fc(a,Q,1),dy(a,1)}!function oE(s,a){const u=s.hostBindingOpCodes;if(null===u)return;const f=nf(a,Da);try{for(let m=0;m<u.length;m++){const v=u[m];if(v<0)dc(~v);else{const w=v,x=u[++m],N=u[++m];re(x,w),f.dirty=!1;const G=uu(f);try{N(2,a[w])}finally{Jc(f,G)}}}}finally{null===a[Da]&&rE(a,Da),dc(-1)}}(s,a);const N=s.components;null!==N&&cb(a,N,0);const G=s.viewQuery;if(null!==G&&Br(2,G,f),x){const Q=s.viewCheckHooks;null!==Q&&mu(a,Q)}else{const Q=s.viewHooks;null!==Q&&fc(a,Q,2),dy(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[ir]&=-73,Uf(a)}finally{ha()}}}function Av(s,a){for(let u=vc(s);null!==u;u=Ah(u))for(let f=Mi;f<u.length;f++)mE(u[f],a)}function aA(s,a,u){mE(po(a,s),u)}function mE(s,a){if(!function jg(s){return 128==(128&s[ir])}(s))return;const u=s[rn],f=s[ir];if(80&f&&0===a||1024&f||2===a)Ns(u,s,u.template,s[Jr]);else if(s[ys]>0){Av(s,1);const m=u.components;null!==m&&cb(s,m,1)}}function cb(s,a,u){for(let f=0;f<a.length;f++)aA(s,a[f],u)}class l_{get rootNodes(){const a=this._lView,u=a[rn];return tg(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jr]}set context(a){this._lView[Jr]=a}get destroyed(){return 256==(256&this._lView[ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Wr];if(Wi(a)){const u=a[8],f=u?u.indexOf(this):-1;f>-1&&(yd(a,f),Xg(u,f))}this._attachedToViewContainer=!1}fp(this._lView[rn],this._lView)}onDestroy(a){!function sd(s,a){if(256==(256&s[ir]))throw new ct(911,!1);null===s[vs]&&(s[vs]=[]),s[vs].push(a)}(this._lView,a)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ir]&=-129}reattach(){this._lView[ir]|=128}detectChanges(){Di(this._lView[rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lm(s,a){Ph(s,a,a[Yn],2,null,null)}(this._lView[rn],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=a}}class cA extends l_{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Di(a[rn],a,a[Jr],!1)}checkNoChanges(){}get context(){return null}}class ju extends Vp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Cn(a);return new hf(u,this.ngModule)}}function Sv(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class lb{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,f){f=Ti(f);const m=this.injector.get(a,$p,f);return m!==$p||u===$p?m:this.parentInjector.get(a,u,f)}}class hf extends av{get inputs(){const a=this.componentDef,u=a.inputTransforms,f=Sv(a.inputs);if(null!==u)for(const m of f)u.hasOwnProperty(m.propName)&&(m.transform=u[m.propName]);return f}get outputs(){return Sv(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function Fn(s){return s.map(Sn).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,f,m){var v;let w=(m=m||this.ngModule)instanceof Lo?m:null===(v=m)||void 0===v?void 0:v.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const x=w?new lb(a,w):a,N=x.get(Zh,null);if(null===N)throw new ct(407,!1);const Ae={rendererFactory:N,sanitizer:x.get(Bp,null),effectManager:x.get(uf,null),afterRenderEventManager:x.get(Zm,null)},Ue=N.createRenderer(null,this.componentDef),Dt=this.componentDef.selectors[0][0]||"div",Bt=f?function Yp(s,a,u,f){const v=f.get(eE,!1)||u===Fi.ShadowDom,w=s.selectRootElement(a,v);return function eb(s){n_(s)}(w),w}(Ue,f,this.componentDef.encapsulation,x):xh(Ue,Dt,function lA(s){const a=s.toLowerCase();return"svg"===a?ch:"math"===a?"math":null}(Dt)),Nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let or=null;null!==Bt&&(or=Np(Bt,x,!0));const Hr=Wp(0,null,null,1,0,null,null,null,null,null,null),Dr=Hp(null,Hr,null,Nt,null,null,Ae,Ue,x,null,or);let Kc,rh;to(Dr);try{const ih=this.componentDef;let tc,VT=null;ih.findHostDirectiveDefs?(tc=[],VT=new Map,ih.findHostDirectiveDefs(ih,tc,VT),tc.push(ih)):tc=[ih];const OI=function ub(s,a){const u=s[rn],f=cr;return s[f]=a,af(u,f,2,"#host",null)}(Dr,Bt),jP=function Gu(s,a,u,f,m,v,w){const x=m[rn];!function Il(s,a,u,f){for(const m of s)a.mergedAttrs=zr(a.mergedAttrs,m.hostAttrs);null!==a.mergedAttrs&&(df(a,a.mergedAttrs,!0),null!==u&&ym(f,u,a))}(f,s,a,w);let N=null;null!==a&&(N=Np(a,m[Bs]));const G=v.rendererFactory.createRenderer(a,u);let Q=16;u.signals?Q=4096:u.onPush&&(Q=64);const oe=Hp(m,Zl(u),null,Q,m[s.index],s,v,G,null,null,N);return x.firstCreatePass&&a_(x,s,f.length-1),lf(m,oe),m[s.index]=oe}(OI,Bt,ih,tc,Dr,Ae,Ue);rh=$f(Hr,cr),Bt&&function ff(s,a,u,f){if(f)Ds(s,u,["ng-version",Y0.full]);else{const{attrs:m,classes:v}=function Qn(s){const a=[],u=[];let f=1,m=2;for(;f<s.length;){let v=s[f];if("string"==typeof v)2===m?""!==v&&a.push(v,s[++f]):8===m&&u.push(v);else{if(!Oe(m))break;m=v}f++}return{attrs:a,classes:u}}(a.selectors[0]);m&&Ds(s,u,m),v&&v.length>0&&_m(s,u,v.join(" "))}}(Ue,ih,Bt,f),void 0!==u&&function Ud(s,a,u){const f=s.projection=[];for(let m=0;m<a.length;m++){const v=u[m];f.push(null!=v?Array.from(v):null)}}(rh,this.ngContentSelectors,u),Kc=function _E(s,a,u,f,m,v){const w=En(),x=m[rn],N=fo(w,m);Xp(x,m,w,u,null,f);for(let Q=0;Q<u.length;Q++)mo(us(m,x,w.directiveStart+Q,w),m);o_(x,m,w),N&&mo(N,m);const G=us(m,x,w.directiveStart+w.componentOffset,w);if(s[Jr]=m[Jr]=G,null!==v)for(const Q of v)Q(G,a);return $u(x,w,s),G}(jP,ih,tc,VT,Dr,[yE]),eg(Hr,Dr,null)}finally{ha()}return new u_(this.componentType,Kc,Rd(rh,Dr),Dr,rh)}}class u_ extends jm{constructor(a,u,f,m,v){super(),this.location=f,this._rootLView=m,this._tNode=v,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new cA(m),this.componentType=a}setInput(a,u){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[a])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),u))return;const w=this._rootLView;fs(w[rn],w,m,a,u),this.previousInputValues.set(a,u),Gp(po(this._tNode.index,w))}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function yE(){const s=En();Kg(At()[rn],s)}function d_(s){let a=function vE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const f=[s];for(;a;){let m;if(So(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ct(903,!1);m=a.\u0275dir}if(m){if(u){f.push(m);const w=s;w.inputs=pf(s.inputs),w.inputTransforms=pf(s.inputTransforms),w.declaredInputs=pf(s.declaredInputs),w.outputs=pf(s.outputs);const x=m.hostBindings;x&&ng(s,x);const N=m.viewQuery,G=m.contentQueries;if(N&&db(s,N),G&&gf(s,G),ot(s.inputs,m.inputs),ot(s.declaredInputs,m.declaredInputs),ot(s.outputs,m.outputs),null!==m.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),ot(w.inputTransforms,m.inputTransforms)),So(m)&&m.data.animation){const Q=s.data;Q.animation=(Q.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let w=0;w<v.length;w++){const x=v[w];x&&x.ngInherit&&x(s),x===d_&&(u=!1)}}a=Object.getPrototypeOf(a)}!function IE(s){let a=0,u=null;for(let f=s.length-1;f>=0;f--){const m=s[f];m.hostVars=a+=m.hostVars,m.hostAttrs=zr(m.hostAttrs,u=zr(u,m.hostAttrs))}}(f)}function pf(s){return s===_i?{}:s===jn?[]:s}function db(s,a){const u=s.viewQuery;s.viewQuery=u?(f,m)=>{a(f,m),u(f,m)}:a}function gf(s,a){const u=s.contentQueries;s.contentQueries=u?(f,m,v)=>{a(f,m,v),u(f,m,v)}:a}function ng(s,a){const u=s.hostBindings;s.hostBindings=u?(f,m)=>{a(f,m),u(f,m)}:a}function zu(s){const a=s.inputConfig,u={};for(const f in a)if(a.hasOwnProperty(f)){const m=a[f];Array.isArray(m)&&m[2]&&(u[f]=m[2])}s.inputTransforms=u}function og(s){return!!jd(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function jd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Za(s,a,u){return s[a]=u}function Ys(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function ag(s,a,u,f){const m=At();return Ys(m,M(),a)&&(_r(),Xl(Yi(),m,s,a,u,f)),ag}function Tb(s,a,u,f,m,v,w,x){const N=At(),G=_r(),Q=s+cr,oe=G.firstCreatePass?function fA(s,a,u,f,m,v,w,x,N){const G=a.consts,Q=af(a,s,4,w||null,eo(G,x));s_(a,u,Q,eo(G,N)),Kg(a,Q);const oe=Q.tView=Wp(2,Q,f,m,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,G,null);return null!==a.queries&&(a.queries.template(a,Q),oe.queries=a.queries.embeddedTView(Q)),Q}(Q,G,N,a,u,f,m,v,w):G.data[Q];lt(oe,!1);const Ae=Ov(G,N,oe,s);st()&&_p(G,N,Ae,oe),mo(Ae,N),lf(N,N[Q]=hE(Ae,N,Ae,oe)),ja(oe)&&aE(G,N,oe),null!=w&&Uu(N,oe,x)}let Ov=function Lv(s,a,u,f){return hc(!0),a[Yn].createComment("")};function ME(s,a,u){const f=At();return Ys(f,M(),a)&&function ma(s,a,u,f,m,v,w,x){const N=fo(a,u);let Q,G=a.inputs;!x&&null!=G&&(Q=G[f])?(fs(s,u,Q,f,m),$i(a)&&function Qp(s,a){const u=po(a,s);16&u[ir]||(u[ir]|=64)}(u,a.index)):3&a.type&&(f=function i_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),m=null!=w?w(m,a.value||"",f):m,v.setProperty(N,f,m))}(_r(),Yi(),f,s,a,f[Yn],u,!1),ME}function kE(s,a,u,f,m){const w=m?"class":"style";fs(s,u,a.inputs[w],w,f)}function m_(s,a,u,f){const m=At(),v=_r(),w=cr+s,x=m[Yn],N=v.firstCreatePass?function Ab(s,a,u,f,m,v){const w=a.consts,N=af(a,s,2,f,eo(w,m));return s_(a,u,N,eo(w,v)),null!==N.attrs&&df(N,N.attrs,!1),null!==N.mergedAttrs&&df(N,N.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,N),N}(w,v,m,a,u,f):v.data[w],G=OE(v,m,N,x,a,s);m[w]=G;const Q=ja(N);return lt(N,!0),ym(x,G,N),32!=(32&N.flags)&&st()&&_p(v,m,G,N),0===function zg(){return ar.lFrame.elementDepthCount}()&&mo(G,m),function zf(){ar.lFrame.elementDepthCount++}(),Q&&(aE(v,m,N),$u(v,N,m)),null!==f&&Uu(m,N),m_}function __(){let s=En();Vt()?ls():(s=s.parent,lt(s,!1));const a=s;(function od(s){return ar.skipHydrationRootTNode===s})(a)&&function zt(){ar.skipHydrationRootTNode=null}(),function Hf(){ar.lFrame.elementDepthCount--}();const u=_r();return u.firstCreatePass&&(Kg(u,s),Sa(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function No(s){return 0!=(8&s.flags)}(a)&&kE(u,a,At(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function c0(s){return 0!=(16&s.flags)}(a)&&kE(u,a,At(),a.stylesWithoutHost,!1),__}function NE(s,a,u,f){return m_(s,a,u,f),__(),NE}let OE=(s,a,u,f,m,v)=>(hc(!0),xh(f,m,function uy(){return ar.lFrame.currentNamespace}()));function Vv(s,a,u){const f=At(),m=_r(),v=s+cr,w=m.firstCreatePass?function y_(s,a,u,f,m){const v=a.consts,w=eo(v,f),x=af(a,s,8,"ng-container",w);return null!==w&&df(x,w,!0),s_(a,u,x,eo(v,m)),null!==a.queries&&a.queries.elementStart(a,x),x}(v,m,f,a,u):m.data[v];lt(w,!0);const x=LE(m,f,w,s);return f[v]=x,st()&&_p(m,f,x,w),mo(x,f),ja(w)&&(aE(m,f,w),$u(m,w,f)),null!=u&&Uu(f,w),Vv}function Bv(){let s=En();const a=_r();return Vt()?ls():(s=s.parent,lt(s,!1)),a.firstCreatePass&&(Kg(a,s),Sa(s)&&a.queries.elementEnd(s)),Bv}function $v(s,a,u){return Vv(s,a,u),Bv(),$v}let LE=(s,a,u,f)=>(hc(!0),hp(a[Yn],""));function FE(s){return!!s&&"function"==typeof s.then}function Uv(s){return!!s&&"function"==typeof s.subscribe}function jv(s,a,u,f){const m=At(),v=_r(),w=En();return function Pb(s,a,u,f,m,v,w){const x=ja(f),G=s.firstCreatePass&&Jp(s),Q=a[Jr],oe=Cv(a);let Ae=!0;if(3&f.type||w){const Bt=fo(f,a),hn=w?w(Bt):Bt,Pn=oe.length,Nt=w?Hr=>w(si(Hr[f.index])):f.index;let or=null;if(!w&&x&&(or=function gA(s,a,u,f){const m=s.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const w=m[v];if(w===u&&m[v+1]===f){const x=a[Ta],N=m[v+2];return x.length>N?x[N]:null}"string"==typeof w&&(v+=2)}return null}(s,a,m,f.index)),null!==or)(or.__ngLastListenerFn__||or).__ngNextListenerFn__=v,or.__ngLastListenerFn__=v,Ae=!1;else{v=Gv(f,a,Q,v,!1);const Hr=u.listen(hn,m,v);oe.push(v,Hr),G&&G.push(m,Nt,Pn,Pn+1)}}else v=Gv(f,a,Q,v,!1);const Ue=f.outputs;let Dt;if(Ae&&null!==Ue&&(Dt=Ue[m])){const Bt=Dt.length;if(Bt)for(let hn=0;hn<Bt;hn+=2){const Dr=a[Dt[hn]][Dt[hn+1]].subscribe(v),Kc=oe.length;oe.push(v,Dr),G&&G.push(m,f.index,Kc,-(Kc+1))}}}(v,m,m[Yn],w,s,a,f),jv}function VE(s,a,u,f){try{return ji(6,a,u),!1!==u(f)}catch(m){return Vo(s,m),!1}finally{ji(7,a,u)}}function Gv(s,a,u,f,m){return function v(w){if(w===Function)return f;Gp(s.componentOffset>-1?po(s.index,a):a);let N=VE(a,u,f,w),G=v.__ngNextListenerFn__;for(;G;)N=VE(a,u,G,w)&&N,G=G.__ngNextListenerFn__;return m&&!1===N&&w.preventDefault(),N}}function zv(s=1){return function gu(s){return(ar.lFrame.contextLView=function Mc(s,a){for(;s>0;)a=a[$s],s--;return a}(s,ar.lFrame.contextLView))[Jr]}(s)}function mA(s,a){let u=null;const f=function Pt(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let m=0;m<a.length;m++){const v=a[m];if("*"!==v){if(null===f?dt(s,v,!0):$t(f,v))return m}else u=m}return u}function v_(s){const a=At()[Fr][Bi];if(!a.projection){const f=a.projection=Iu(s?s.length:1,null),m=f.slice();let v=a.child;for(;null!==v;){const w=s?mA(v,s):0;null!==w&&(m[w]?m[w].projectionNext=v:f[w]=v,m[w]=v),v=v.next}}}function mg(s,a=0,u){const f=At(),m=_r(),v=af(m,cr+s,16,null,u||null);null===v.projection&&(v.projection=a),ls(),(!f[xs]||cs())&&32!=(32&v.flags)&&function vp(s,a,u){Vc(a[Yn],0,a,u,pp(s,u,a),hm(u.parent||a[Bi],u,a))}(m,f,v)}function ne(s,a){return s<<17|a<<2}function he(s){return s>>17&32767}function xt(s){return 2|s}function Gt(s){return(131068&s)>>2}function Jt(s,a){return-131069&s|a<<2}function hr(s){return 1|s}function Ts(s,a,u,f,m){const v=s[u+1],w=null===a;let x=f?he(v):Gt(v),N=!1;for(;0!==x&&(!1===N||w);){const Q=s[x+1];Tc(s[x],a)&&(N=!0,s[x+1]=f?hr(Q):xt(Q)),x=f?he(Q):Gt(Q)}N&&(s[u+1]=f?xt(v):hr(v))}function Tc(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&zs(s,a)>=0}function _A(s,a,u){return Zu(s,a,u,!1),_A}function yA(s,a){return Zu(s,a,null,!0),yA}function Zu(s,a,u,f){const m=At(),v=_r(),w=function O(s){const a=ar.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}(2);v.firstUpdatePass&&function mR(s,a,u,f){const m=s.data;if(null===m[u+1]){const v=m[Ps()],w=function gR(s,a){return a>=s.expandoStartIndex}(s,u);(function IR(s,a){return 0!=(s.flags&(a?8:16))})(v,f)&&null===a&&!w&&(a=!1),a=function UM(s,a,u,f){const m=function jt(s){const a=ar.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let v=f?a.residualClasses:a.residualStyles;if(null===m)0===(f?a.classBindings:a.styleBindings)&&(u=UE(u=vA(null,s,a,u,f),a.attrs,f),v=null);else{const w=a.directiveStylingLast;if(-1===w||s[w]!==m)if(u=vA(m,s,a,u,f),null===v){let N=function jM(s,a,u){const f=u?a.classBindings:a.styleBindings;if(0!==Gt(f))return s[he(f)]}(s,a,f);void 0!==N&&Array.isArray(N)&&(N=vA(null,s,a,N[1],f),N=UE(N,a.attrs,f),function GM(s,a,u,f){s[he(u?a.classBindings:a.styleBindings)]=f}(s,a,f,N))}else v=function zM(s,a,u){let f;const m=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<m;v++)f=UE(f,s[v].hostAttrs,u);return UE(f,a.attrs,u)}(s,a,f)}return void 0!==v&&(f?a.residualClasses=v:a.residualStyles=v),u}(m,v,a,f),function mr(s,a,u,f,m,v){let w=v?a.classBindings:a.styleBindings,x=he(w),N=Gt(w);s[f]=u;let Q,G=!1;if(Array.isArray(u)?(Q=u[1],(null===Q||zs(u,Q)>0)&&(G=!0)):Q=u,m)if(0!==N){const Ae=he(s[x+1]);s[f+1]=ne(Ae,x),0!==Ae&&(s[Ae+1]=Jt(s[Ae+1],f)),s[x+1]=function Je(s,a){return 131071&s|a<<17}(s[x+1],f)}else s[f+1]=ne(x,0),0!==x&&(s[x+1]=Jt(s[x+1],f)),x=f;else s[f+1]=ne(N,0),0===x?x=f:s[N+1]=Jt(s[N+1],f),N=f;G&&(s[f+1]=xt(s[f+1])),Ts(s,Q,f,!0),Ts(s,Q,f,!1),function br(s,a,u,f,m){const v=m?s.residualClasses:s.residualStyles;null!=v&&"string"==typeof a&&zs(v,a)>=0&&(u[f+1]=hr(u[f+1]))}(a,Q,s,f,v),w=ne(x,N),v?a.classBindings=w:a.styleBindings=w}(m,v,a,u,w,f)}}(v,s,w,f),a!==dr&&Ys(m,w,a)&&function yR(s,a,u,f,m,v,w,x){if(!(3&a.type))return;const N=s.data,G=N[x+1],Q=function On(s){return 1==(1&s)}(G)?vR(N,a,u,m,Gt(G),w):void 0;Nb(Q)||(Nb(v)||function Ce(s){return 2==(2&s)}(G)&&(v=vR(N,null,u,m,x,w)),function R0(s,a,u,f,m){if(a)m?s.addClass(u,f):s.removeClass(u,f);else{let v=-1===f.indexOf("-")?void 0:rm.DashCase;null==m?s.removeStyle(u,f,v):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),v|=rm.Important),s.setStyle(u,f,m,v))}}(f,w,pu(Ps(),u),m,v))}(v,v.data[Ps()],m,m[Yn],s,m[w+1]=function KM(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ht(dl(s)))),s}(a,u),f,w)}function vA(s,a,u,f,m){let v=null;const w=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<w&&(v=a[x],f=UE(f,v.hostAttrs,m),v!==s);)x++;return null!==s&&(u.directiveStylingLast=x),f}function UE(s,a,u){const f=u?1:2;let m=-1;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:m===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wa(s,w,!!u||a[++v]))}return void 0===s?null:s}function vR(s,a,u,f,m,v){const w=null===a;let x;for(;m>0;){const N=s[m],G=Array.isArray(N),Q=G?N[1]:N,oe=null===Q;let Ae=u[m+1];Ae===dr&&(Ae=oe?jn:void 0);let Ue=oe?by(Ae,f):Q===f?Ae:void 0;if(G&&!Nb(Ue)&&(Ue=by(N,f)),Nb(Ue)&&(x=Ue,w))return x;const Dt=s[m+1];m=w?he(Dt):Gt(Dt)}if(null!==a){let N=v?a.residualClasses:a.residualStyles;null!=N&&(x=by(N,f))}return x}function Nb(s){return void 0!==s}function ER(s,a=""){const u=At(),f=_r(),m=s+cr,v=f.firstCreatePass?af(f,m,1,a,null):f.data[m],w=TR(f,u,v,a,s);u[m]=w,st()&&_p(f,u,w,v),lt(v,!1)}let TR=(s,a,u,f,m)=>(hc(!0),function $l(s,a){return s.createText(a)}(a[Yn],f));function IA(s){return Ob("",s,""),IA}function Ob(s,a,u){const f=At(),m=function yf(s,a,u,f){return Ys(s,M(),u)?a+Tt(u)+f:dr}(f,s,a,u);return m!==dr&&function Bo(s,a,u){const f=pu(a,s);!function dp(s,a,u){s.setValue(a,u)}(s[Yn],f,u)}(f,Ps(),m),Ob}const yg=void 0;var zE=["en",[["a","p"],["AM","PM"],yg],[["AM","PM"],yg,yg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yg,"{1} 'at' {0}",yg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yv(s){const u=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Xa={};function $b(s){const a=function NR(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Ub(a);if(u)return u;const f=a.split("-")[0];if(u=Ub(f),u)return u;if("en"===f)return zE;throw new ct(701,!1)}function vg(s){return $b(s)[Ig.PluralCase]}function Ub(s){return s in Xa||(Xa[s]=wr.ng&&wr.ng.common&&wr.ng.common.locales&&wr.ng.common.locales[s]),Xa[s]}var Ig=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Ig||{});const wf="en-US";let T_=wf;function rT(s,a,u,f,m){if(s=Le(s),Array.isArray(s))for(let v=0;v<s.length;v++)rT(s[v],a,u,f,m);else{const v=_r(),w=At(),x=En();let N=Nu(s)?s:Le(s.provide);const G=Nm(s),Q=1048575&x.providerIndexes,oe=x.directiveStart,Ae=x.providerIndexes>>20;if(Nu(s)||!s.multi){const Ue=new Yg(G,m,sf),Dt=iT(N,a,m?Q:Q+Ae,oe);-1===Dt?(fy(gh(x,w),v,N),rD(v,s,a.length),a.push(N),x.directiveStart++,x.directiveEnd++,m&&(x.providerIndexes+=1048576),u.push(Ue),w.push(Ue)):(u[Dt]=Ue,w[Dt]=Ue)}else{const Ue=iT(N,a,Q+Ae,oe),Dt=iT(N,a,Q,Q+Ae),hn=Dt>=0&&u[Dt];if(m&&!hn||!m&&!(Ue>=0&&u[Ue])){fy(gh(x,w),v,N);const Pn=function iD(s,a,u,f,m){const v=new Yg(s,u,sf);return v.multi=[],v.index=a,v.componentProviders=0,P_(v,m,f&&!u),v}(m?aI:sT,u.length,m,f,G);!m&&hn&&(u[Dt].providerFactory=Pn),rD(v,s,a.length,0),a.push(N),x.directiveStart++,x.directiveEnd++,m&&(x.providerIndexes+=1048576),u.push(Pn),w.push(Pn)}else rD(v,s,Ue>-1?Ue:Dt,P_(u[m?Dt:Ue],G,!m&&f));!m&&f&&hn&&u[Dt].componentProviders++}}}function rD(s,a,u,f){const m=Nu(a),v=function Cp(s){return!!s.useClass}(a);if(m||v){const N=(v?Le(a.useClass):a).prototype.ngOnDestroy;if(N){const G=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const Q=G.indexOf(u);-1===Q?G.push(u,[f,N]):G[Q+1].push(f,N)}else G.push(u,N)}}}function P_(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function iT(s,a,u,f){for(let m=u;m<f;m++)if(a[m]===s)return m;return-1}function sT(s,a,u,f){return Zd(this.multi,[])}function aI(s,a,u,f){const m=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=us(u,u[rn],this.providerFactory.index,f);v=x.slice(0,w),Zd(m,v);for(let N=w;N<x.length;N++)v.push(x[N])}else v=[],Zd(m,v);return v}function Zd(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function ZA(s,a=[]){return u=>{u.providersResolver=(f,m)=>function YA(s,a,u){const f=_r();if(f.firstCreatePass){const m=So(s);rT(u,f.data,f.blueprint,m,!0),rT(a,f.data,f.blueprint,m,!1)}}(f,m?m(s):s,a)}}class Tg{}class sD{}function QA(s,a){return new Qd(s,null!=a?a:null,[])}class Qd extends Tg{constructor(a,u,f){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ju(this);const m=ci(a);this._bootstrapComponents=_l(m.bootstrap),this._r3Injector=Kl(a,u,[{provide:Tg,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver},...f],ht(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class nu extends sD{constructor(a){super(),this.moduleType=a}create(a){return new Qd(this.moduleType,a,[])}}class cI extends Tg{constructor(a){super(),this.componentFactoryResolver=new ju(this),this.instance=null;const u=new ql([...a.providers,{provide:Tg,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver}],a.parent||Gh(),a.debugName,new Set(["environment"]));this.injector=u,a.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function oD(s,a,u=null){return new cI({providers:s,parent:a,debugName:u,runEnvironmentInitializers:!0}).injector}let ws=(()=>{var s;class a{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const m=Xy(0,f.type),v=m.length>0?oD([m],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,v)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}}return(s=a).\u0275prov=on({token:s,providedIn:"environment",factory:()=>new s(Xr(Lo))}),a})();function lI(s){s.getStandaloneInjector=a=>a.get(ws).getOrCreateStandaloneInjector(s)}function nS(s,a,u){const f=Ro()+s,m=At();return m[f]===dr?Za(m,f,u?a.call(u):a()):function Hu(s,a){return s[a]}(m,f)}function lD(s,a,u,f){return hI(At(),Ro(),s,a,u,f)}function hI(s,a,u,f,m,v){const w=a+u;return Ys(s,w,m)?Za(s,w+1,v?f.call(v,m):f(m)):function dI(s,a){const u=s[a];return u===dr?void 0:u}(s,w+1)}function O_(s,a){const u=_r();let f;const m=s+cr;var v;u.firstCreatePass?(f=function pI(s,a){if(a)for(let u=a.length-1;u>=0;u--){const f=a[u];if(s===f.name)return f}}(a,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(null!==(v=u.destroyHooks)&&void 0!==v?v:u.destroyHooks=[]).push(m,f.onDestroy)):f=u.data[m];const w=f.factory||(f.factory=Ui(f.type)),N=sn(sf);try{const G=Zf(!1),Q=w();return Zf(G),function Db(s,a,u,f){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=f}(u,At(),m,Q),Q}finally{sn(N)}}function fD(s,a,u){const f=s+cr,m=At(),v=function tl(s,a){return s[a]}(m,f);return function L_(s,a){return s[rn].data[a].pure}(m,f)?hI(m,Ro(),a,v.transform,u,v):v.transform(u)}function aS(){return this._results[Symbol.iterator]()}class F_{get changes(){return this._changes||(this._changes=new ga)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=F_.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=aS)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const f=this;f.dirty=!1;const m=function qa(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Fl(s,a,u){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let m=s[f],v=a[f];if(u&&(m=u(m),v=u(v)),v!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function lS(s,a,u,f=!0){const m=a[rn];if(function ni(s,a,u,f){const m=Mi+f,v=u.length;f>0&&(u[m-1][Vi]=a),f<v-Mi?(a[Vi]=u[m],wy(u,Mi+f,a)):(u.push(a),a[Vi]=null),a[Wr]=u;const w=a[qo];null!==w&&u!==w&&function A0(s,a){const u=s[Aa];a[Fr]!==a[Wr][Wr][Fr]&&(s[fi]=!0),null===u?s[Aa]=[a]:u.push(a)}(w,a);const x=a[Us];null!==x&&x.insertView(s),a[ir]|=128}(m,a,s,u),f){const v=gm(u,s),w=a[Yn],x=gp(w,s[qi]);null!==x&&function C0(s,a,u,f,m,v){f[Zr]=m,f[Bi]=a,Ph(s,f,u,1,m,v)}(m,s[Bi],w,a,x,v)}}let V_=(()=>{class a{}return a.__NG_ELEMENT_ID__=uS,a})();const pD=V_,gI=class extends pD{constructor(a,u,f){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=f}get ssrId(){var a;return(null===(a=this._declarationTContainer.tView)||void 0===a?void 0:a.ssrId)||null}createEmbeddedView(a,u){return this.createEmbeddedViewImpl(a,u)}createEmbeddedViewImpl(a,u,f){const m=function cS(s,a,u,f){var m,v;const w=a.tView,G=Hp(s,w,u,4096&s[ir]?4096:16,null,a,null,null,null,null!==(m=null==f?void 0:f.injector)&&void 0!==m?m:null,null!==(v=null==f?void 0:f.hydrationInfo)&&void 0!==v?v:null);G[qo]=s[a.index];const oe=s[Us];return null!==oe&&(G[Us]=oe.createEmbeddedView(w)),eg(w,G,u),G}(this._declarationLView,this._declarationTContainer,a,{injector:u,hydrationInfo:f});return new l_(m)}};function uS(){return B_(En(),At())}function B_(s,a){return 4&s.type?new gI(a,s,Rd(s,a)):null}let vI=(()=>{class a{}return a.__NG_ELEMENT_ID__=uT,a})();function uT(){return yD(En(),At())}const pS=vI,_D=class extends pS{constructor(a,u,f){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=f}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const a=Po(this._hostTNode,this._hostLView);if(Yf(a)){const u=ph(a,this._hostLView),f=Ml(a);return new pi(u[rn].data[f+8],u)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=bf(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Mi}createEmbeddedView(a,u,f){let m,v;"number"==typeof f?m=f:null!=f&&(m=f.index,v=f.injector);const x=a.createEmbeddedViewImpl(u||{},v,null);return this.insertImpl(x,m,false),x}createComponent(a,u,f,m,v){var w,N;const G=a&&!function Oo(s){return"function"==typeof s}(a);let Q;if(G)Q=u;else{const Nt=u||{};Q=Nt.index,f=Nt.injector,m=Nt.projectableNodes,v=Nt.environmentInjector||Nt.ngModuleRef}const oe=G?a:new hf(Cn(a)),Ae=f||this.parentInjector;if(!v&&null==oe.ngModule){const or=(G?Ae:this.parentInjector).get(Lo,null);or&&(v=or)}const Ue=Cn(null!==(w=oe.componentType)&&void 0!==w?w:{}),Dt=(null==Ue?void 0:Ue.id,null),Bt=null!==(N=null==Dt?void 0:Dt.firstChild)&&void 0!==N?N:null,hn=oe.create(Ae,m,Bt,v),Pn=!!Dt&&!sp(this._hostTNode);return this.insertImpl(hn.hostView,Q,Pn),hn}insert(a,u){return this.insertImpl(a,u,!1)}insertImpl(a,u,f){const m=a._lView;if(function uh(s){return Wi(s[Wr])}(m)){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const G=m[Wr],Q=new _D(G,G[Bi],G[Wr]);Q.detach(Q.indexOf(a))}}const w=this._adjustIndex(u),x=this._lContainer;return lS(x,m,w,!f),a.attachToViewContainerRef(),wy(dT(x),w,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=bf(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),f=yd(this._lContainer,u);f&&(Xg(dT(this._lContainer),u),fp(f[rn],f))}detach(a){const u=this._adjustIndex(a,-1),f=yd(this._lContainer,u);return f&&null!=Xg(dT(this._lContainer),u)?new l_(f):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function bf(s){return s[8]}function dT(s){return s[8]||(s[8]=[])}function yD(s,a){let u;const f=a[s.index];return Wi(f)?u=f:(u=hE(f,a,null,s),a[s.index]=u,lf(a,u)),vD(u,a,s,f),new _D(u,s,a)}let vD=function II(s,a,u,f){if(s[qi])return;let m;m=8&u.type?si(f):function gS(s,a){const u=s[Yn],f=u.createComment(""),m=fo(a,s);return Fc(u,gp(u,m),f,function dm(s,a){return s.nextSibling(a)}(u,m),!1),f}(a,u),s[qi]=m};class hT{constructor(a){this.queryList=a,this.matches=null}clone(){return new hT(this.queryList)}setDirty(){this.queryList.setDirty()}}class Df{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const f=null!==a.contentQueries?a.contentQueries[0]:u.length,m=[];for(let v=0;v<f;v++){const w=u.getByIndex(v);m.push(this.queries[w.indexInDeclarationView].clone())}return new Df(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==$_(a,u).matches&&this.queries[u].setDirty()}}class _S{constructor(a,u,f=null){this.predicate=a,this.flags=u,this.read=f}}class qc{constructor(a=[]){this.queries=a}elementStart(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,v=this.getByIndex(f).embeddedTView(a,m);v&&(v.indexInDeclarationView=f,null!==u?u.push(v):u=[v])}return null!==u?new qc(u):null}template(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class EI{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new EI(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const v=f[m];this.matchTNodeWithReadOption(a,u,ki(u,v)),this.matchTNodeWithReadOption(a,u,mh(u,a,v,!1,!1))}else f===V_?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,mh(u,a,f,!1,!1))}matchTNodeWithReadOption(a,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Yh||m===vI||m===V_&&4&u.type)this.addMatch(u.index,-2);else{const v=mh(u,a,m,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,f)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function ki(s,a){const u=s.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===a)return u[f+1];return null}function ID(s,a,u,f){return-1===u?function tP(s,a){return 11&s.type?Rd(s,a):4&s.type?B_(s,a):null}(a,s):-2===u?function Xu(s,a,u){return u===Yh?Rd(a,s):u===V_?B_(a,s):u===vI?yD(a,s):void 0}(s,a,f):us(s,s[rn],u,a)}function ED(s,a,u,f){const m=a[Us].queries[f];if(null===m.matches){const v=s.data,w=u.matches,x=[];for(let N=0;N<w.length;N+=2){const G=w[N];x.push(G<0?null:ID(a,v[G],w[N+1],u.metadata.read))}m.matches=x}return m.matches}function TI(s,a,u,f){const m=s.queries.getByIndex(u),v=m.matches;if(null!==v){const w=ED(s,a,m,u);for(let x=0;x<v.length;x+=2){const N=v[x];if(N>0)f.push(w[x/2]);else{const G=v[x+1],Q=a[-N];for(let oe=Mi;oe<Q.length;oe++){const Ae=Q[oe];Ae[qo]===Ae[Wr]&&TI(Ae[rn],Ae,G,f)}if(null!==Q[Aa]){const oe=Q[Aa];for(let Ae=0;Ae<oe.length;Ae++){const Ue=oe[Ae];TI(Ue[rn],Ue,G,f)}}}}}return f}function bg(s){const a=At(),u=_r(),f=Xe();yt(f+1);const m=$_(u,f);if(s.dirty&&function lh(s){return 4==(4&s[ir])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const v=m.crossesNgTemplate?TI(u,a,f,[]):ED(u,a,m,f);s.reset(v,Lu),s.notifyOnChanges()}return!0}return!1}function fT(s,a,u){const f=_r();f.firstCreatePass&&(wI(f,new _S(s,a,u),-1),2==(2&a)&&(f.staticViewQueries=!0)),na(f,At(),a)}function TD(s,a,u,f){const m=_r();if(m.firstCreatePass){const v=En();wI(m,new _S(a,u,f),v.index),function pT(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(m,s),2==(2&u)&&(m.staticContentQueries=!0)}na(m,At(),u)}function Ju(){return function bl(s,a){return s[Us].queries[a].queryList}(At(),Xe())}function na(s,a,u){const f=new F_(4==(4&u));(function nb(s,a,u,f){const m=Cv(a);m.push(u),s.firstCreatePass&&Jp(s).push(f,m.length-1)})(s,a,f,f.destroy),null===a[Us]&&(a[Us]=new Df),a[Us].queries.push(new hT(f))}function wI(s,a,u){null===s.queries&&(s.queries=new qc),s.queries.track(new EI(a,u))}function $_(s,a){return s.queries.getByIndex(a)}function yS(s){return!!ci(s)}const io=new Qr("Application Initializer");let Dl=(()=>{var s;class a{constructor(){var f;this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,v)=>{this.resolve=m,this.reject=v}),this.appInits=null!==(f=Tr(io,{optional:!0}))&&void 0!==f?f:[]}runInitializers(){if(this.initialized)return;const f=[];for(const v of this.appInits){const w=v();if(FE(w))f.push(w);else if(Uv(w)){const x=new Promise((N,G)=>{w.subscribe({complete:N,error:G})});f.push(x)}}const m=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{m()}).catch(v=>{this.reject(v)}),0===f.length&&m(),this.initialized=!0}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),a})(),TT=(()=>{var s;class a{log(f){console.log(f)}warn(f){console.warn(f)}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();const Zn=new Qr("LocaleId",{providedIn:"root",factory:()=>Tr(Zn,bt.Optional|bt.SkipSelf)||function Vn(){return typeof $localize<"u"&&$localize.locale||wf}()}),mk=new Qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ko=(()=>{var s;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();class FS{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let dP=(()=>{var s;class a{compileModuleSync(f){return new nu(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const m=this.compileModuleSync(f),w=_l(ci(f).declarations).reduce((x,N)=>{const G=Cn(N);return G&&x.push(new hf(G)),x},[]);return new FS(m,w)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();const AT=new Qr(""),UD=new Qr("");let G_,vk=(()=>{var s;class a{constructor(f,m,v){this._ngZone=f,this.registry=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,G_||(function gt(s){G_=s}(v),v.addToWindow(m)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(f)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,m,v){let w=-1;m&&m>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==w),f(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:f,timeoutId:w,updateCb:v})}whenStable(f,m,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,m,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,m,v){return[]}}return(s=a).\u0275fac=function(f){return new(f||s)(Xr(yo),Xr(eh),Xr(UD))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),a})(),eh=(()=>{var s;class a{constructor(){this._applications=new Map}registerApplication(f,m){this._applications.set(f,m)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,m=!0){var v,w;return null!==(v=null===(w=G_)||void 0===w?void 0:w.findTestabilityInTree(this,f,m))&&void 0!==v?v:null}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})(),ra=null;const BS=new Qr("AllowMultipleToken"),Ag=new Qr("PlatformDestroyListeners"),ed=new Qr("appBootstrapListener");class IP{constructor(a,u){this.name=a,this.token=u}}function zD(s,a,u=[]){const f=`Platform: ${a}`,m=new Qr(f);return(v=[])=>{let w=Cl();if(!w||w.injector.get(BS,!1)){const x=[...u,...v,{provide:m,useValue:!0}];s?s(x):function EP(s){if(ra&&!ra.get(BS,!1))throw new ct(400,!1);(function jD(){!function ye(s){P=s}(()=>{throw new ct(600,!1)})})(),ra=s;const a=s.get(HD);(function H_(s){const a=s.get(rv,null);null==a||a.forEach(u=>u())})(s)}(function $S(s=[],a){return Fo.create({name:a,providers:[{provide:Ap,useValue:"platform"},{provide:Ag,useValue:new Set([()=>ra=null])},...s]})}(x,f))}return function Fa(s){const a=Cl();if(!a)throw new ct(401,!1);return a}()}}function Cl(){var s,a;return null!==(s=null===(a=ra)||void 0===a?void 0:a.get(HD))&&void 0!==s?s:null}let HD=(()=>{var s;class a{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,m){const v=function US(s="zone.js",a){return"noop"===s?new Jh:"zone.js"===s?new yo(a):s}(null==m?void 0:m.ngZone,function AI(s){var a,u;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(a=null==s?void 0:s.eventCoalescing)&&void 0!==a&&a,shouldCoalesceRunChangeDetection:null!==(u=null==s?void 0:s.runCoalescing)&&void 0!==u&&u}}({eventCoalescing:null==m?void 0:m.ngZoneEventCoalescing,runCoalescing:null==m?void 0:m.ngZoneRunCoalescing}));return v.run(()=>{const w=function oT(s,a,u){return new Qd(s,a,u)}(f.moduleType,this.injector,function qS(s){return[{provide:yo,useFactory:s},{provide:zl,multi:!0,useFactory:()=>{const a=Tr(bP,{optional:!0});return()=>a.initialize()}},{provide:HS,useFactory:wP},{provide:Vu,useFactory:mv}]}(()=>v)),x=w.injector.get(Fd,null);return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:G=>{x.handleError(G)}});w.onDestroy(()=>{xT(this._modules,w),N.unsubscribe()})}),function jS(s,a,u){try{const f=u();return FE(f)?f.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(x,v,()=>{const N=w.injector.get(Dl);return N.runInitializers(),N.donePromise.then(()=>(function AA(s){Ke(s,"Expected localeId to be defined"),"string"==typeof s&&(T_=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Zn,wf)||wf),this._moduleDoBootstrap(w),w))})})}bootstrapModule(f,m=[]){const v=GS({},m);return function vP(s,a,u){const f=new nu(u);return Promise.resolve(f)}(0,0,f).then(w=>this.bootstrapModuleFactory(w,v))}_moduleDoBootstrap(f){const m=f.injector.get(q_);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(v=>m.bootstrap(v));else{if(!f.instance.ngDoBootstrap)throw new ct(-403,!1);f.instance.ngDoBootstrap(m)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m());const f=this._injector.get(Ag,null);f&&(f.forEach(m=>m()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=a).\u0275fac=function(f){return new(f||s)(Xr(Fo))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();function GS(s,a){return Array.isArray(a)?a.reduce(GS,s):{...s,...a}}let q_=(()=>{var s;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tr(HS),this.zoneIsStable=Tr(Vu),this.componentTypes=[],this.components=[],this.isStable=Tr(ko).hasPendingTasks.pipe((0,at.w)(f=>f?(0,de.of)(!1):this.zoneIsStable),(0,We.x)(),Re()),this._injector=Tr(Lo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,m){const v=f instanceof av;if(!this._injector.get(Dl).done)throw!v&&Ss(f),new ct(405,!1);let x;x=v?f:this._injector.get(Vp).resolveComponentFactory(f),this.componentTypes.push(x.componentType);const N=function GD(s){return s.isBoundToModule}(x)?void 0:this._injector.get(Tg),Q=x.create(Fo.NULL,[],m||x.selector,N),oe=Q.location.nativeElement,Ae=Q.injector.get(AT,null);return null==Ae||Ae.registerApplication(oe),Q.onDestroy(()=>{this.detachView(Q.hostView),xT(this.components,Q),null==Ae||Ae.unregisterApplication(oe)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const m=f;this._views.push(m),m.attachToAppRef(this)}detachView(f){const m=f;xT(this._views,m),m.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const m=this._injector.get(ed,[]);m.push(...this._bootstrapListeners),m.forEach(v=>v(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>xT(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new ct(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function xT(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}const HS=new Qr("",{providedIn:"root",factory:()=>Tr(Fd).handleError.bind(void 0)});function wP(){const s=Tr(yo),a=Tr(Fd);return u=>s.runOutsideAngular(()=>a.handleError(u))}let bP=(()=>{var s;class a{constructor(){this.zone=Tr(yo),this.applicationRef=Tr(q_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var f;null===(f=this._onMicrotaskEmptySubscription)||void 0===f||f.unsubscribe()}}return(s=a).\u0275fac=function(f){return new(f||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function CP(){}let AP=(()=>{class a{}return a.__NG_ELEMENT_ID__=WS,a})();function WS(s){return function KS(s,a,u){if($i(s)&&!u){const f=po(s.index,a);return new l_(f,f)}return 47&s.type?new l_(a[Fr],a):null}(En(),At(),16==(16&s))}class SI{constructor(){}supports(a){return og(a)}create(a){return new xP(a)}}const xI=(s,a)=>a;class xP{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||xI}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,f=this._removalsHead,m=0,v=null;for(;u||f;){const w=!f||u&&u.currentIndex<th(f,m,v)?u:f,x=th(w,m,v),N=w.currentIndex;if(w===f)m--,f=f._nextRemoved;else if(u=u._next,null==w.previousIndex)m++;else{v||(v=[]);const G=x-m,Q=N-m;if(G!=Q){for(let Ae=0;Ae<G;Ae++){const Ue=Ae<v.length?v[Ae]:v[Ae]=0,Dt=Ue+Ae;Q<=Dt&&Dt<G&&(v[Ae]=Ue+1)}v[w.previousIndex]=Q-G}}x!==N&&a(w,x,N)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!og(a))throw new ct(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,v,w,u=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)v=a[x],w=this._trackByFn(x,v),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,v,w,x)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,w,x),f=!0),u=u._next}else m=0,function _f(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let f;for(;!(f=u.next()).done;)a(f.value)}}(a,x=>{w=this._trackByFn(m,x),null!==u&&Object.is(u.trackById,w)?(f&&(u=this._verifyReinsertion(u,x,w,m)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,w,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,f,m){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,v,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,v,m)):a=this._addAfter(new Rg(u,f),v,m),a}_verifyReinsertion(a,u,f,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?a=this._reinsertAfter(v,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,v=a._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(a,u,f),this._addToMoves(a,f),a}_moveAfter(a,u,f){return this._unlink(a),this._insertAfter(a,u,f),this._addToMoves(a,f),a}_addAfter(a,u,f){return this._insertAfter(a,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,f){const m=null===u?this._itHead:u._next;return a._next=m,a._prev=u,null===m?this._itTail=a:m._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new RI),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,f=a._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Rg{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xf{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const u=a._prevDup,f=a._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class RI{constructor(){this.map=new Map}put(a){const u=a.trackById;let f=this.map.get(u);f||(f=new xf,this.map.set(u,f)),f.add(a)}get(a,u){const m=this.map.get(a);return m?m.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function th(s,a,u){const f=s.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+a+m}class su{constructor(){}supports(a){return a instanceof Map||jd(a)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||jd(a)))throw new ct(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const f=a._prev;return u._next=a,u._prev=f,a._prev=u,f&&(f._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,u);const v=m._prev,w=m._next;return v&&(v._next=w),w&&(w._prev=v),m._next=null,m._prev=null,m}const f=new Rf(a);return this._records.set(a,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(f=>u(a[f],f))}}class Rf{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YD(){return new Pf([new SI])}let Pf=(()=>{var s;class a{constructor(f){this.factories=f}static create(f,m){if(null!=m){const v=m.factories.slice();f=f.concat(v)}return new a(f)}static extend(f){return{provide:a,useFactory:m=>a.create(f,m||YD()),deps:[[a,new Ih,new ud]]}}find(f){const m=this.factories.find(v=>v.supports(f));if(null!=m)return m;throw new ct(901,!1)}}return(s=a).\u0275prov=on({token:s,providedIn:"root",factory:YD}),a})();function MI(){return new nh([new su])}let nh=(()=>{var s;class a{constructor(f){this.factories=f}static create(f,m){if(m){const v=m.factories.slice();f=f.concat(v)}return new a(f)}static extend(f){return{provide:a,useFactory:m=>a.create(f,m||MI()),deps:[[a,new Ih,new ud]]}}find(f){const m=this.factories.find(v=>v.supports(f));if(m)return m;throw new ct(901,!1)}}return(s=a).\u0275prov=on({token:s,providedIn:"root",factory:MI}),a})();const MT=zD(null,"core",[]);let NI=(()=>{var s;class a{constructor(f){}}return(s=a).\u0275fac=function(f){return new(f||s)(Xr(q_))},s.\u0275mod=bi({type:s}),s.\u0275inj=$n({}),a})();function FP(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function LT(s,a){const u=Cn(s),f=a.elementInjector||Gh();return new hf(u).create(f,a.projectableNodes,a.hostElement,a.environmentInjector)}function FT(s){const a=Cn(s);if(!a)return null;const u=new hf(a);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},95:(vn,pt,Z)=>{"use strict";Z.d(pt,{Fj:()=>et,qu:()=>So,u:()=>rn,sg:()=>ci,u5:()=>cu,Fd:()=>Wo,qQ:()=>wa,Cf:()=>Le,JU:()=>je,a5:()=>Bn,JJ:()=>xn,JL:()=>In,F:()=>Pi,UX:()=>Sl,kI:()=>Ge,_Y:()=>Qn});var b=Z(6689),E=Z(6814),Ye=Z(2459),_e=Z(5592),ke=Z(7453),Ve=Z(4829),L=Z(4564),De=Z(8251),ze=Z(7400),pe=Z(2714),ve=Z(7398);let J=(()=>{var W;class V{constructor(H,fe){this._renderer=H,this._elementRef=fe,this.onChange=kt=>{},this.onTouched=()=>{}}setProperty(H,fe){this._renderer.setProperty(this._elementRef.nativeElement,H,fe)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(b.Qsj),b.Y36(b.SBq))},W.\u0275dir=b.lG2({type:W}),V})(),Re=(()=>{var W;class V extends J{}return(W=V).\u0275fac=function(){let le;return function(fe){return(le||(le=b.n5z(W)))(fe||W)}}(),W.\u0275dir=b.lG2({type:W,features:[b.qOj]}),V})();const je=new b.OlP("NgValueAccessor"),Ee={provide:je,useExisting:(0,b.Gpc)(()=>et),multi:!0},ht=new b.OlP("CompositionEventMode");let et=(()=>{var W;class V extends J{constructor(H,fe,kt){super(H,fe),this._compositionMode=kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ot(){const W=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(H){this.setProperty("value",null==H?"":H)}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ht,8))},W.\u0275dir=b.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,fe){1&H&&b.NdJ("input",function(D){return fe._handleInput(D.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(D){return fe._compositionEnd(D.target.value)})},features:[b._Bn([Ee]),b.qOj]}),V})();function He(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Ze(W){return null!=W&&"number"==typeof W.length}const Le=new b.OlP("NgValidators"),Ne=new b.OlP("NgAsyncValidators"),we=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(V){return qe(V)}static max(V){return ct(V)}static required(V){return function Ht(W){return He(W.value)?{required:!0}:null}(V)}static requiredTrue(V){return function Tt(W){return!0===W.value?null:{required:!0}}(V)}static email(V){return function Rt(W){return He(W.value)||we.test(W.value)?null:{email:!0}}(V)}static minLength(V){return function Tn(W){return V=>He(V.value)||!Ze(V.value)?null:V.value.length<W?{minlength:{requiredLength:W,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function _n(W){return V=>Ze(V.value)&&V.value.length>W?{maxlength:{requiredLength:W,actualLength:V.value.length}}:null}(V)}static pattern(V){return function It(W){if(!W)return me;let V,le;return"string"==typeof W?(le="","^"!==W.charAt(0)&&(le+="^"),le+=W,"$"!==W.charAt(W.length-1)&&(le+="$"),V=new RegExp(le)):(le=W.toString(),V=W),H=>{if(He(H.value))return null;const fe=H.value;return V.test(fe)?null:{pattern:{requiredPattern:le,actualValue:fe}}}}(V)}static nullValidator(V){return null}static compose(V){return ln(V)}static composeAsync(V){return it(V)}}function qe(W){return V=>{if(He(V.value)||He(W))return null;const le=parseFloat(V.value);return!isNaN(le)&&le<W?{min:{min:W,actual:V.value}}:null}}function ct(W){return V=>{if(He(V.value)||He(W))return null;const le=parseFloat(V.value);return!isNaN(le)&&le>W?{max:{max:W,actual:V.value}}:null}}function me(W){return null}function Te(W){return null!=W}function Pe(W){return(0,b.QGY)(W)?(0,Ye.D)(W):W}function Me(W){let V={};return W.forEach(le=>{V=null!=le?{...V,...le}:V}),0===Object.keys(V).length?null:V}function nt(W,V){return V.map(le=>le(W))}function Qt(W){return W.map(V=>function tt(W){return!W.validate}(V)?V:le=>V.validate(le))}function ln(W){if(!W)return null;const V=W.filter(Te);return 0==V.length?null:function(le){return Me(nt(le,V))}}function tn(W){return null!=W?ln(Qt(W)):null}function it(W){if(!W)return null;const V=W.filter(Te);return 0==V.length?null:function(le){return function de(...W){const V=(0,L.jO)(W),{args:le,keys:H}=(0,ke.D)(W),fe=new _e.y(kt=>{const{length:D}=le;if(!D)return void kt.complete();const z=new Array(D);let C=D,j=D;for(let ae=0;ae<D;ae++){let Et=!1;(0,Ve.Xf)(le[ae]).subscribe((0,De.x)(kt,Zt=>{Et||(Et=!0,j--),z[ae]=Zt},()=>C--,void 0,()=>{(!C||!Et)&&(j||kt.next(H?(0,pe.n)(H,z):z),kt.complete())}))}});return V?fe.pipe((0,ze.Z)(V)):fe}(nt(le,V).map(Pe)).pipe((0,ve.U)(Me))}}function Mn(W){return null!=W?it(Qt(W)):null}function Jn(W,V){return null===W?[V]:Array.isArray(W)?[...W,V]:[W,V]}function en(W){return W._rawValidators}function mt(W){return W._rawAsyncValidators}function Ke(W){return W?Array.isArray(W)?W:[W]:[]}function $e(W,V){return Array.isArray(W)?W.includes(V):W===V}function Ut(W,V){const le=Ke(V);return Ke(W).forEach(fe=>{$e(le,fe)||le.push(fe)}),le}function fn(W,V){return Ke(V).filter(le=>!$e(W,le))}class rr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=tn(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,le){return!!this.control&&this.control.hasError(V,le)}getError(V,le){return this.control?this.control.getError(V,le):null}}class on extends rr{get formDirective(){return null}get path(){return null}}class Bn extends rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $n{constructor(V){this._cd=V}get isTouched(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.touched)}get isUntouched(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.untouched)}get isPristine(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.pristine)}get isDirty(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.dirty)}get isValid(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.valid)}get isInvalid(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.invalid)}get isPending(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.pending)}get isSubmitted(){var V;return!(null===(V=this._cd)||void 0===V||!V.submitted)}}let xn=(()=>{var W;class V extends $n{constructor(H){super(H)}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(Bn,2))},W.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,fe){2&H&&b.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[b.qOj]}),V})(),In=(()=>{var W;class V extends $n{constructor(H){super(H)}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(on,10))},W.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,fe){2&H&&b.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[b.qOj]}),V})();const Nn="VALID",er="INVALID",Hn="PENDING",jr="DISABLED";function Se(W){return(ee(W)?W.validators:W)||null}function te(W,V){return(ee(V)?V.asyncValidators:W)||null}function ee(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function Fe(W,V,le){const H=W.controls;if(!(V?Object.keys(H):H).length)throw new b.vHH(1e3,"");if(!H[le])throw new b.vHH(1001,"")}function _t(W,V,le){W._forEachChild((H,fe)=>{if(void 0===le[fe])throw new b.vHH(1002,"")})}class Ft{constructor(V,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Nn}get invalid(){return this.status===er}get pending(){return this.status==Hn}get disabled(){return this.status===jr}get enabled(){return this.status!==jr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Ut(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Ut(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(fn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(fn(V,this._rawAsyncValidators))}hasValidator(V){return $e(this._rawValidators,V)}hasAsyncValidator(V){return $e(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(le=>{le.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(le=>{le.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=Hn,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const le=this._parentMarkedDirty(V.onlySelf);this.status=jr,this.errors=null,this._forEachChild(H=>{H.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:le}),this._onDisabledChange.forEach(H=>H(!0))}enable(V={}){const le=this._parentMarkedDirty(V.onlySelf);this.status=Nn,this._forEachChild(H=>{H.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:le}),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nn||this.status===Hn)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jr:Nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=Hn,this._hasOwnPendingAsyncValidator=!0;const le=Pe(this.asyncValidator(this));this._asyncValidationSubscription=le.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,le={}){this.errors=V,this._updateControlsErrors(!1!==le.emitEvent)}get(V){let le=V;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((H,fe)=>H&&H._find(fe),this)}getError(V,le){const H=le?this.get(le):this;return H&&H.errors?H.errors[V]:null}hasError(V,le){return!!this.getError(V,le)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?jr:this.errors?er:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hn)?Hn:this._anyControlsHaveStatus(er)?er:Nn}_anyControlsHaveStatus(V){return this._anyControls(le=>le.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){ee(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function ie(W){return Array.isArray(W)?tn(W):W||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function be(W){return Array.isArray(W)?Mn(W):W||null}(this._rawAsyncValidators)}}class Dn extends Ft{constructor(V,le,H){super(Se(le),te(H,le)),this.controls=V,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,le){return this.controls[V]?this.controls[V]:(this.controls[V]=le,le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange),le)}addControl(V,le,H={}){this.registerControl(V,le),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(V,le={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}setControl(V,le,H={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],le&&this.registerControl(V,le),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,le={}){_t(this,0,V),Object.keys(V).forEach(H=>{Fe(this,!0,H),this.controls[H].setValue(V[H],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(V,le={}){null!=V&&(Object.keys(V).forEach(H=>{const fe=this.controls[H];fe&&fe.patchValue(V[H],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(V={},le={}){this._forEachChild((H,fe)=>{H.reset(V[fe],{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le),this._updateTouched(le),this.updateValueAndValidity(le)}getRawValue(){return this._reduceChildren({},(V,le,H)=>(V[H]=le.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(le,H)=>!!H._syncPendingControls()||le);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(le=>{const H=this.controls[le];H&&V(H,le)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[le,H]of Object.entries(this.controls))if(this.contains(le)&&V(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(le,H,fe)=>((H.enabled||this.disabled)&&(le[fe]=H.value),le))}_reduceChildren(V,le){let H=V;return this._forEachChild((fe,kt)=>{H=le(H,fe,kt)}),H}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class Un extends Dn{}const Mr=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ts}),ts="always";function bs(W,V,le=ts){var H,fe;Ci(W,V),V.valueAccessor.writeValue(W.value),(W.disabled||"always"===le)&&(null===(H=(fe=V.valueAccessor).setDisabledState)||void 0===H||H.call(fe,W.disabled)),function mi(W,V){V.valueAccessor.registerOnChange(le=>{W._pendingValue=le,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&ri(W,V)})}(W,V),function wi(W,V){const le=(H,fe)=>{V.valueAccessor.writeValue(H),fe&&V.viewToModelUpdate(H)};W.registerOnChange(le),V._registerOnDestroy(()=>{W._unregisterOnChange(le)})}(W,V),function Fs(W,V){V.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&ri(W,V),"submit"!==W.updateOn&&W.markAsTouched()})}(W,V),function ms(W,V){if(V.valueAccessor.setDisabledState){const le=H=>{V.valueAccessor.setDisabledState(H)};W.registerOnDisabledChange(le),V._registerOnDestroy(()=>{W._unregisterOnDisabledChange(le)})}}(W,V)}function Tr(W,V,le=!0){const H=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(H),V.valueAccessor.registerOnTouched(H)),Ri(W,V),W&&(V._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Ti(W,V){W.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(V)})}function Ci(W,V){const le=en(W);null!==V.validator?W.setValidators(Jn(le,V.validator)):"function"==typeof le&&W.setValidators([le]);const H=mt(W);null!==V.asyncValidator?W.setAsyncValidators(Jn(H,V.asyncValidator)):"function"==typeof H&&W.setAsyncValidators([H]);const fe=()=>W.updateValueAndValidity();Ti(V._rawValidators,fe),Ti(V._rawAsyncValidators,fe)}function Ri(W,V){let le=!1;if(null!==W){if(null!==V.validator){const fe=en(W);if(Array.isArray(fe)&&fe.length>0){const kt=fe.filter(D=>D!==V.validator);kt.length!==fe.length&&(le=!0,W.setValidators(kt))}}if(null!==V.asyncValidator){const fe=mt(W);if(Array.isArray(fe)&&fe.length>0){const kt=fe.filter(D=>D!==V.asyncValidator);kt.length!==fe.length&&(le=!0,W.setAsyncValidators(kt))}}}const H=()=>{};return Ti(V._rawValidators,H),Ti(V._rawAsyncValidators,H),le}function ri(W,V){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function Fi(W,V){Ci(W,V)}function Do(W,V){W._syncPendingControls(),V.forEach(le=>{const H=le.control;"submit"===H.updateOn&&H._pendingChange&&(le.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}const Hi={provide:on,useExisting:(0,b.Gpc)(()=>Pi)},zr=(()=>Promise.resolve())();let Pi=(()=>{var W;class V extends on{constructor(H,fe,kt){super(),this.callSetDisabledState=kt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new b.vpe,this.form=new Dn({},tn(H),Mn(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){zr.then(()=>{const fe=this._findContainer(H.path);H.control=fe.registerControl(H.name,H.control),bs(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){zr.then(()=>{const fe=this._findContainer(H.path);fe&&fe.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){zr.then(()=>{const fe=this._findContainer(H.path),kt=new Dn({});Fi(kt,H),fe.registerControl(H.name,kt),kt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){zr.then(()=>{const fe=this._findContainer(H.path);fe&&fe.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,fe){zr.then(()=>{this.form.get(H.path).setValue(fe)})}setValue(H){this.control.setValue(H)}onSubmit(H){var fe;return this.submitted=!0,Do(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(fe=H.target)||void 0===fe?void 0:fe.method)}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(Le,10),b.Y36(Ne,10),b.Y36(Mr,8))},W.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,fe){1&H&&b.NdJ("submit",function(D){return fe.onSubmit(D)})("reset",function(){return fe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Hi]),b.qOj]}),V})();function ut(W,V){const le=W.indexOf(V);le>-1&&W.splice(le,1)}function Yt(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const X=class extends Ft{constructor(V=null,le,H){super(Se(le),te(H,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=Yt(V)?V.value:V)}setValue(V,le={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(V,le={}){this.setValue(V,le)}reset(V=this.defaultValue,le={}){this._applyFormState(V),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){ut(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){ut(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Yt(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let Qn=(()=>{var W;class V{}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})(),bi=(()=>{var W;class V{}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({}),V})();const Cn=new b.OlP("NgModelWithFormControlWarning"),Ss={provide:on,useExisting:(0,b.Gpc)(()=>ci)};let ci=(()=>{var W;class V extends on{constructor(H,fe,kt){super(),this.callSetDisabledState=kt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(H),this._setAsyncValidators(fe)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ri(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const fe=this.form.get(H.path);return bs(fe,H,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),fe}getControl(H){return this.form.get(H.path)}removeControl(H){Tr(H.control||null,H,!1),function Ds(W,V){const le=W.indexOf(V);le>-1&&W.splice(le,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,fe){this.form.get(H.path).setValue(fe)}onSubmit(H){var fe;return this.submitted=!0,Do(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(fe=H.target)||void 0===fe?void 0:fe.method)}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const fe=H.control,kt=this.form.get(H.path);fe!==kt&&(Tr(fe||null,H),(W=>W instanceof X)(kt)&&(bs(kt,H,this.callSetDisabledState),H.control=kt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const fe=this.form.get(H.path);Fi(fe,H),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const fe=this.form.get(H.path);fe&&function _i(W,V){return Ri(W,V)}(fe,H)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ci(this.form,this),this._oldForm&&Ri(this._oldForm,this)}_checkFormPresent(){}}return(W=V).\u0275fac=function(H){return new(H||W)(b.Y36(Le,10),b.Y36(Ne,10),b.Y36(Mr,8))},W.\u0275dir=b.lG2({type:W,selectors:[["","formGroup",""]],hostBindings:function(H,fe){1&H&&b.NdJ("submit",function(D){return fe.onSubmit(D)})("reset",function(){return fe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Ss]),b.qOj,b.TTD]}),V})();const Zr={provide:Bn,useExisting:(0,b.Gpc)(()=>rn)};let rn=(()=>{var W;class V extends Bn{set isDisabled(H){}constructor(H,fe,kt,D,z){super(),this._ngModelWarningConfig=z,this._added=!1,this.name=null,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(fe),this._setAsyncValidators(kt),this.valueAccessor=function rs(W,V){if(!V)return null;let le,H,fe;return Array.isArray(V),V.forEach(kt=>{kt.constructor===et?le=kt:function Xs(W){return Object.getPrototypeOf(W.constructor)===Re}(kt)?H=kt:fe=kt}),fe||H||le||null}(0,D)}ngOnChanges(H){this._added||this._setUpControl(),function di(W,V){if(!W.hasOwnProperty("model"))return!1;const le=W.model;return!!le.isFirstChange()||!Object.is(V,le.currentValue)}(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return function Xr(W,V){return[...V.path,W]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(W=V)._ngModelWarningSentOnce=!1,W.\u0275fac=function(H){return new(H||W)(b.Y36(on,13),b.Y36(Le,10),b.Y36(Ne,10),b.Y36(je,10),b.Y36(Cn,8))},W.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([Zr]),b.qOj,b.TTD]}),V})();function $s(W){return"number"==typeof W?W:parseFloat(W)}let Fr=(()=>{var W;class V{constructor(){this._validator=me}ngOnChanges(H){if(this.inputName in H){const fe=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):me,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275dir=b.lG2({type:W,features:[b.TTD]}),V})();const qo={provide:Le,useExisting:(0,b.Gpc)(()=>Wo),multi:!0};let Wo=(()=>{var W;class V extends Fr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=H=>$s(H),this.createValidator=H=>ct(H)}}return(W=V).\u0275fac=function(){let le;return function(fe){return(le||(le=b.n5z(W)))(fe||W)}}(),W.\u0275dir=b.lG2({type:W,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(H,fe){2&H&&b.uIk("max",fe._enabled?fe.max:null)},inputs:{max:"max"},features:[b._Bn([qo]),b.qOj]}),V})();const Us={provide:Le,useExisting:(0,b.Gpc)(()=>wa),multi:!0};let wa=(()=>{var W;class V extends Fr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=H=>$s(H),this.createValidator=H=>qe(H)}}return(W=V).\u0275fac=function(){let le;return function(fe){return(le||(le=b.n5z(W)))(fe||W)}}(),W.\u0275dir=b.lG2({type:W,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(H,fe){2&H&&b.uIk("min",fe._enabled?fe.min:null)},inputs:{min:"min"},features:[b._Bn([Us]),b.qOj]}),V})(),Is=(()=>{var W;class V{}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({imports:[bi]}),V})();class Wi extends Ft{constructor(V,le,H){super(Se(le),te(H,le)),this.controls=V,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,le={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}insert(V,le,H={}){this.controls.splice(V,0,le),this._registerControl(le),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(V,le={}){let H=this._adjustIndex(V);H<0&&(H=0),this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:le.emitEvent})}setControl(V,le,H={}){let fe=this._adjustIndex(V);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),le&&(this.controls.splice(fe,0,le),this._registerControl(le)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,le={}){_t(this,0,V),V.forEach((H,fe)=>{Fe(this,!1,fe),this.at(fe).setValue(H,{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(V,le={}){null!=V&&(V.forEach((H,fe)=>{this.at(fe)&&this.at(fe).patchValue(H,{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(V=[],le={}){this._forEachChild((H,fe)=>{H.reset(V[fe],{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le),this._updateTouched(le),this.updateValueAndValidity(le)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(le=>le._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((le,H)=>!!H._syncPendingControls()||le,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((le,H)=>{V(le,H)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(le=>le.enabled&&V(le))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){var le;return null!==(le=this.at(V))&&void 0!==le?le:null}}function ja(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let So=(()=>{var W;class V{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new V;return H.useNonNullable=!0,H}group(H,fe=null){const kt=this._reduceControls(H);let D={};return ja(fe)?D=fe:null!==fe&&(D.validators=fe.validator,D.asyncValidators=fe.asyncValidator),new Dn(kt,D)}record(H,fe=null){const kt=this._reduceControls(H);return new Un(kt,fe)}control(H,fe,kt){let D={};return this.useNonNullable?(ja(fe)?D=fe:(D.validators=fe,D.asyncValidators=kt),new X(H,{...D,nonNullable:!0})):new X(H,fe,kt)}array(H,fe,kt){const D=H.map(z=>this._createControl(z));return new Wi(D,fe,kt)}_reduceControls(H){const fe={};return Object.keys(H).forEach(kt=>{fe[kt]=this._createControl(H[kt])}),fe}_createControl(H){return H instanceof X||H instanceof Ft?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275prov=b.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),V})(),cu=(()=>{var W;class V{static withConfig(H){var fe;return{ngModule:V,providers:[{provide:Mr,useValue:null!==(fe=H.callSetDisabledState)&&void 0!==fe?fe:ts}]}}}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({imports:[Is]}),V})(),Sl=(()=>{var W;class V{static withConfig(H){var fe,kt;return{ngModule:V,providers:[{provide:Cn,useValue:null!==(fe=H.warnOnNgModelWithFormControl)&&void 0!==fe?fe:"always"},{provide:Mr,useValue:null!==(kt=H.callSetDisabledState)&&void 0!==kt?kt:ts}]}}}return(W=V).\u0275fac=function(H){return new(H||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({imports:[Is]}),V})()},6593:(vn,pt,Z)=>{"use strict";Z.d(pt,{Dx:()=>Bn,b2:()=>$e,q6:()=>Jn});var b=Z(6689),E=Z(6814);class Ye extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends Ye{static makeCurrent(){(0,E.HT)(new _e)}onAndCancel(te,be,ee){return te.addEventListener(be,ee),()=>{te.removeEventListener(be,ee)}}dispatchEvent(te,be){te.dispatchEvent(be)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,be){return(be=be||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,be){return"window"===be?window:"document"===be?te:"body"===be?te.body:null}getBaseHref(te){const be=function Ve(){return ke=ke||document.querySelector("base"),ke?ke.getAttribute("href"):null}();return null==be?null:function De(ie){L=L||document.createElement("a"),L.setAttribute("href",ie);const te=L.pathname;return"/"===te.charAt(0)?te:`/${te}`}(be)}resetBaseElement(){ke=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,E.Mx)(document.cookie,te)}}let L,ke=null,pe=(()=>{var ie;class te{build(){return new XMLHttpRequest}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();const de=new b.OlP("EventManagerPlugins");let ve=(()=>{var ie;class te{constructor(ee,Fe){this._zone=Fe,this._eventNameToPlugin=new Map,ee.forEach(_t=>{_t.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,Fe,_t){return this._findPluginFor(Fe).addEventListener(ee,Fe,_t)}getZone(){return this._zone}_findPluginFor(ee){let Fe=this._eventNameToPlugin.get(ee);if(Fe)return Fe;if(Fe=this._plugins.find(Ft=>Ft.supports(ee)),!Fe)throw new b.vHH(5101,!1);return this._eventNameToPlugin.set(ee,Fe),Fe}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(de),b.LFG(b.R0b))},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();class J{constructor(te){this._doc=te}}const Re="ng-app-id";let je=(()=>{var ie;class te{constructor(ee,Fe,_t,Ft={}){this.doc=ee,this.appId=Fe,this.nonce=_t,this.platformId=Ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,E.PM)(Ft),this.resetHostNodes()}addStyles(ee){for(const Fe of ee)1===this.changeUsageCount(Fe,1)&&this.onStyleAdded(Fe)}removeStyles(ee){for(const Fe of ee)this.changeUsageCount(Fe,-1)<=0&&this.onStyleRemoved(Fe)}ngOnDestroy(){const ee=this.styleNodesInDOM;ee&&(ee.forEach(Fe=>Fe.remove()),ee.clear());for(const Fe of this.getAllStyles())this.onStyleRemoved(Fe);this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const Fe of this.getAllStyles())this.addStyleToHost(ee,Fe)}removeHost(ee){this.hostNodes.delete(ee)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ee){for(const Fe of this.hostNodes)this.addStyleToHost(Fe,ee)}onStyleRemoved(ee){var Fe;const _t=this.styleRef;null===(Fe=_t.get(ee))||void 0===Fe||null===(Fe=Fe.elements)||void 0===Fe||Fe.forEach(Ft=>Ft.remove()),_t.delete(ee)}collectServerRenderedStyles(){var ee;const Fe=null===(ee=this.doc.head)||void 0===ee?void 0:ee.querySelectorAll(`style[${Re}="${this.appId}"]`);if(null!=Fe&&Fe.length){const _t=new Map;return Fe.forEach(Ft=>{null!=Ft.textContent&&_t.set(Ft.textContent,Ft)}),_t}return null}changeUsageCount(ee,Fe){const _t=this.styleRef;if(_t.has(ee)){const Ft=_t.get(ee);return Ft.usage+=Fe,Ft.usage}return _t.set(ee,{usage:Fe,elements:[]}),Fe}getStyleElement(ee,Fe){const _t=this.styleNodesInDOM,Ft=null==_t?void 0:_t.get(Fe);if((null==Ft?void 0:Ft.parentNode)===ee)return _t.delete(Fe),Ft.removeAttribute(Re),Ft;{const Dn=this.doc.createElement("style");return this.nonce&&Dn.setAttribute("nonce",this.nonce),Dn.textContent=Fe,this.platformIsServer&&Dn.setAttribute(Re,this.appId),Dn}}addStyleToHost(ee,Fe){var _t;const Ft=this.getStyleElement(ee,Fe);ee.appendChild(Ft);const Dn=this.styleRef,Kn=null===(_t=Dn.get(Fe))||void 0===_t?void 0:_t.elements;Kn?Kn.push(Ft):Dn.set(Fe,{elements:[Ft],usage:1})}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(E.K0),b.LFG(b.AFp),b.LFG(b.Ojb,8),b.LFG(b.Lbi))},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g,He=new b.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ne(ie,te){return te.map(be=>be.replace(We,ie))}let we=(()=>{var ie;class te{constructor(ee,Fe,_t,Ft,Dn,Kn,Er,Un=null){this.eventManager=ee,this.sharedStylesHost=Fe,this.appId=_t,this.removeStylesOnCompDestroy=Ft,this.doc=Dn,this.platformId=Kn,this.ngZone=Er,this.nonce=Un,this.rendererByCompId=new Map,this.platformIsServer=(0,E.PM)(Kn),this.defaultRenderer=new Ge(ee,Dn,Er,this.platformIsServer)}createRenderer(ee,Fe){if(!ee||!Fe)return this.defaultRenderer;this.platformIsServer&&Fe.encapsulation===b.ifc.ShadowDom&&(Fe={...Fe,encapsulation:b.ifc.Emulated});const _t=this.getOrCreateRenderer(ee,Fe);return _t instanceof Tn?_t.applyToHost(ee):_t instanceof Rt&&_t.applyStyles(),_t}getOrCreateRenderer(ee,Fe){const _t=this.rendererByCompId;let Ft=_t.get(Fe.id);if(!Ft){const Dn=this.doc,Kn=this.ngZone,Er=this.eventManager,Un=this.sharedStylesHost,Gr=this.removeStylesOnCompDestroy,Mr=this.platformIsServer;switch(Fe.encapsulation){case b.ifc.Emulated:Ft=new Tn(Er,Un,Fe,this.appId,Gr,Dn,Kn,Mr);break;case b.ifc.ShadowDom:return new Tt(Er,Un,ee,Fe,Dn,Kn,this.nonce,Mr);default:Ft=new Rt(Er,Un,Fe,Gr,Dn,Kn,Mr)}_t.set(Fe.id,Ft)}return Ft}ngOnDestroy(){this.rendererByCompId.clear()}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(ve),b.LFG(je),b.LFG(b.AFp),b.LFG(He),b.LFG(E.K0),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(b.Ojb))},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();class Ge{constructor(te,be,ee,Fe){this.eventManager=te,this.doc=be,this.ngZone=ee,this.platformIsServer=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,be){return be?this.doc.createElementNS(at[be]||be,te):this.doc.createElement(te)}createComment(te){return this.doc.createComment(te)}createText(te){return this.doc.createTextNode(te)}appendChild(te,be){(Ht(te)?te.content:te).appendChild(be)}insertBefore(te,be,ee){te&&(Ht(te)?te.content:te).insertBefore(be,ee)}removeChild(te,be){te&&te.removeChild(be)}selectRootElement(te,be){let ee="string"==typeof te?this.doc.querySelector(te):te;if(!ee)throw new b.vHH(-5104,!1);return be||(ee.textContent=""),ee}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,be,ee,Fe){if(Fe){be=Fe+":"+be;const _t=at[Fe];_t?te.setAttributeNS(_t,be,ee):te.setAttribute(be,ee)}else te.setAttribute(be,ee)}removeAttribute(te,be,ee){if(ee){const Fe=at[ee];Fe?te.removeAttributeNS(Fe,be):te.removeAttribute(`${ee}:${be}`)}else te.removeAttribute(be)}addClass(te,be){te.classList.add(be)}removeClass(te,be){te.classList.remove(be)}setStyle(te,be,ee,Fe){Fe&(b.JOm.DashCase|b.JOm.Important)?te.style.setProperty(be,ee,Fe&b.JOm.Important?"important":""):te.style[be]=ee}removeStyle(te,be,ee){ee&b.JOm.DashCase?te.style.removeProperty(be):te.style[be]=""}setProperty(te,be,ee){te[be]=ee}setValue(te,be){te.nodeValue=be}listen(te,be,ee){if("string"==typeof te&&!(te=(0,E.q)().getGlobalEventTarget(this.doc,te)))throw new Error(`Unsupported event target ${te} for event ${be}`);return this.eventManager.addEventListener(te,be,this.decoratePreventDefault(ee))}decoratePreventDefault(te){return be=>{if("__ngUnwrap__"===be)return te;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>te(be)):te(be))&&be.preventDefault()}}}function Ht(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class Tt extends Ge{constructor(te,be,ee,Fe,_t,Ft,Dn,Kn){super(te,_t,Ft,Kn),this.sharedStylesHost=be,this.hostEl=ee,this.shadowRoot=ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Er=Ne(Fe.id,Fe.styles);for(const Un of Er){const Gr=document.createElement("style");Dn&&Gr.setAttribute("nonce",Dn),Gr.textContent=Un,this.shadowRoot.appendChild(Gr)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}appendChild(te,be){return super.appendChild(this.nodeOrShadowRoot(te),be)}insertBefore(te,be,ee){return super.insertBefore(this.nodeOrShadowRoot(te),be,ee)}removeChild(te,be){return super.removeChild(this.nodeOrShadowRoot(te),be)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rt extends Ge{constructor(te,be,ee,Fe,_t,Ft,Dn,Kn){super(te,_t,Ft,Dn),this.sharedStylesHost=be,this.removeStylesOnCompDestroy=Fe,this.styles=Kn?Ne(Kn,ee.styles):ee.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tn extends Rt{constructor(te,be,ee,Fe,_t,Ft,Dn,Kn){const Er=Fe+"-"+ee.id;super(te,be,ee,_t,Ft,Dn,Kn,Er),this.contentAttr=function Ze(ie){return"_ngcontent-%COMP%".replace(We,ie)}(Er),this.hostAttr=function Le(ie){return"_nghost-%COMP%".replace(We,ie)}(Er)}applyToHost(te){this.applyStyles(),this.setAttribute(te,this.hostAttr,"")}createElement(te,be){const ee=super.createElement(te,be);return super.setAttribute(ee,this.contentAttr,""),ee}}let _n=(()=>{var ie;class te extends J{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,Fe,_t){return ee.addEventListener(Fe,_t,!1),()=>this.removeEventListener(ee,Fe,_t)}removeEventListener(ee,Fe,_t){return ee.removeEventListener(Fe,_t)}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(E.K0))},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();const It=["alt","control","meta","shift"],me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Te={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Pe=(()=>{var ie;class te extends J{constructor(ee){super(ee)}supports(ee){return null!=te.parseEventName(ee)}addEventListener(ee,Fe,_t){const Ft=te.parseEventName(Fe),Dn=te.eventCallback(Ft.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(ee,Ft.domEventName,Dn))}static parseEventName(ee){const Fe=ee.toLowerCase().split("."),_t=Fe.shift();if(0===Fe.length||"keydown"!==_t&&"keyup"!==_t)return null;const Ft=te._normalizeKey(Fe.pop());let Dn="",Kn=Fe.indexOf("code");if(Kn>-1&&(Fe.splice(Kn,1),Dn="code."),It.forEach(Un=>{const Gr=Fe.indexOf(Un);Gr>-1&&(Fe.splice(Gr,1),Dn+=Un+".")}),Dn+=Ft,0!=Fe.length||0===Ft.length)return null;const Er={};return Er.domEventName=_t,Er.fullKey=Dn,Er}static matchEventFullKeyCode(ee,Fe){let _t=me[ee.key]||ee.key,Ft="";return Fe.indexOf("code.")>-1&&(_t=ee.code,Ft="code."),!(null==_t||!_t)&&(_t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),It.forEach(Dn=>{Dn!==_t&&(0,Te[Dn])(ee)&&(Ft+=Dn+".")}),Ft+=_t,Ft===Fe)}static eventCallback(ee,Fe,_t){return Ft=>{te.matchEventFullKeyCode(Ft,ee)&&_t.runGuarded(()=>Fe(Ft))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(E.K0))},ie.\u0275prov=b.Yz7({token:ie,factory:ie.\u0275fac}),te})();const Jn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:E.bD},{provide:b.g9A,useValue:function ln(){_e.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function it(){return(0,b.RDi)(document),document},deps:[]}]),en=new b.OlP(""),mt=[{provide:b.rWj,useClass:class ze{addToWindow(te){b.dqk.getAngularTestability=(ee,Fe=!0)=>{const _t=te.findTestabilityInTree(ee,Fe);if(null==_t)throw new b.vHH(5103,!1);return _t},b.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(ee=>{const Fe=b.dqk.getAllAngularTestabilities();let _t=Fe.length,Ft=!1;const Dn=function(Kn){Ft=Ft||Kn,_t--,0==_t&&ee(Ft)};Fe.forEach(Kn=>{Kn.whenStable(Dn)})})}findTestabilityInTree(te,be,ee){if(null==be)return null;const Fe=te.getTestability(be);return null!=Fe?Fe:ee?(0,E.q)().isShadowRoot(be)?this.findTestabilityInTree(te,be.host,!0):this.findTestabilityInTree(te,be.parentElement,!0):null}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],Ke=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function tn(){return new b.qLn},deps:[]},{provide:de,useClass:_n,multi:!0,deps:[E.K0,b.R0b,b.Lbi]},{provide:de,useClass:Pe,multi:!0,deps:[E.K0]},we,je,ve,{provide:b.FYo,useExisting:we},{provide:E.JF,useClass:pe,deps:[]},[]];let $e=(()=>{var ie;class te{constructor(ee){}static withServerTransition(ee){return{ngModule:te,providers:[{provide:b.AFp,useValue:ee.appId}]}}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(en,12))},ie.\u0275mod=b.oAB({type:ie}),ie.\u0275inj=b.cJS({providers:[...Ke,...mt],imports:[E.ez,b.hGG]}),te})(),Bn=(()=>{var ie;class te{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}return(ie=te).\u0275fac=function(ee){return new(ee||ie)(b.LFG(E.K0))},ie.\u0275prov=b.Yz7({token:ie,factory:function(ee){let Fe=null;return Fe=ee?new ee:function on(){return new Bn((0,b.LFG)(E.K0))}(),Fe},providedIn:"root"}),te})();typeof window<"u"&&window},9599:(vn,pt,Z)=>{"use strict";Z.d(pt,{gz:()=>ci,y6:()=>bi,OD:()=>Pi,eC:()=>Ke,wm:()=>Bf,wN:()=>Zo,F0:()=>ji,rH:()=>si,Bz:()=>_r,Hx:()=>Sr});var b=Z(6689),E=Z(5592),Ye=Z(4674),ke=Z(2459),Ve=Z(2096),L=Z(5619),De=Z(2572);const pe=(0,Z(2306).d)(A=>function(){A(this),this.name="EmptyError",this.message="no elements in sequence"});var de=Z(7537),J=Z(4564);function Re(...A){return function ve(){return(0,de.J)(1)}()((0,ke.D)(A,(0,J.yG)(A)))}var je=Z(4829);function at(A){return new E.y(M=>{(0,je.Xf)(A()).subscribe(M)})}var We=Z(8407);function Ee(A,M){const O=(0,Ye.m)(A)?A:()=>A,R=B=>B.error(O());return new E.y(M?B=>M.schedule(R,0,B):R)}var ot=Z(6232),ht=Z(7394),et=Z(9360),He=Z(8251);function Ze(){return(0,et.e)((A,M)=>{let O=null;A._refCount++;const R=(0,He.x)(M,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(O=null);const B=A._connection,re=O;O=null,B&&(!re||B===re)&&B.unsubscribe(),M.unsubscribe()});A.subscribe(R),R.closed||(O=A.connect())})}class Le extends E.y{constructor(M,O){super(),this.source=M,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,et.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new ht.w0;const O=this.getSubject();M.add(this.source.subscribe((0,He.x)(O,void 0,()=>{this._teardown(),O.complete()},R=>{this._teardown(),O.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=ht.w0.EMPTY)}return M}refCount(){return Ze()(this)}}var Ne=Z(8645),we=Z(6814),Ge=Z(7398),qe=Z(4664);function ct(A){return A<=0?()=>ot.E:(0,et.e)((M,O)=>{let R=0;M.subscribe((0,He.x)(O,B=>{++R<=A&&(O.next(B),A<=R&&O.complete())}))})}var Tt=Z(2181),Rt=Z(1631);function Tn(A){return(0,et.e)((M,O)=>{let R=!1;M.subscribe((0,He.x)(O,B=>{R=!0,O.next(B)},()=>{R||O.next(A),O.complete()}))})}function _n(A=It){return(0,et.e)((M,O)=>{let R=!1;M.subscribe((0,He.x)(O,B=>{R=!0,O.next(B)},()=>R?O.complete():O.error(A())))})}function It(){return new pe}var me=Z(2737);function Te(A,M){const O=arguments.length>=2;return R=>R.pipe(A?(0,Tt.h)((B,re)=>A(B,re,R)):me.y,ct(1),O?Tn(M):_n(()=>new pe))}function Pe(A,M){return(0,Ye.m)(M)?(0,Rt.z)(A,M,1):(0,Rt.z)(A,1)}var Me=Z(9397);function nt(A){return(0,et.e)((M,O)=>{let re,R=null,B=!1;R=M.subscribe((0,He.x)(O,void 0,void 0,se=>{re=(0,je.Xf)(A(se,nt(A)(M))),R?(R.unsubscribe(),R=null,re.subscribe(O)):B=!0})),B&&(R.unsubscribe(),R=null,re.subscribe(O))})}function ln(A){return A<=0?()=>ot.E:(0,et.e)((M,O)=>{let R=[];M.subscribe((0,He.x)(O,B=>{R.push(B),A<R.length&&R.shift()},()=>{for(const B of R)O.next(B);O.complete()},void 0,()=>{R=null}))})}function Mn(A){return(0,et.e)((M,O)=>{try{M.subscribe(O)}finally{O.add(A)}})}var Jn=Z(2420),mt=Z(6593);const Ke="primary",$e=Symbol("RouteTitle");class Ut{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const O=this.params[M];return Array.isArray(O)?O[0]:O}return null}getAll(M){if(this.has(M)){const O=this.params[M];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function fn(A){return new Ut(A)}function rr(A,M,O){const R=O.path.split("/");if(R.length>A.length||"full"===O.pathMatch&&(M.hasChildren()||R.length<A.length))return null;const B={};for(let re=0;re<R.length;re++){const se=R[re],Qe=A[re];if(se.startsWith(":"))B[se.substring(1)]=Qe;else if(se!==Qe.path)return null}return{consumed:A.slice(0,R.length),posParams:B}}function Bn(A,M){const O=A?Object.keys(A):void 0,R=M?Object.keys(M):void 0;if(!O||!R||O.length!=R.length)return!1;let B;for(let re=0;re<O.length;re++)if(B=O[re],!$n(A[B],M[B]))return!1;return!0}function $n(A,M){if(Array.isArray(A)&&Array.isArray(M)){if(A.length!==M.length)return!1;const O=[...A].sort(),R=[...M].sort();return O.every((B,re)=>R[re]===B)}return A===M}function Xn(A){return A.length>0?A[A.length-1]:null}function zn(A){return function _e(A){return!!A&&(A instanceof E.y||(0,Ye.m)(A.lift)&&(0,Ye.m)(A.subscribe))}(A)?A:(0,b.QGY)(A)?(0,ke.D)(Promise.resolve(A)):(0,Ve.of)(A)}const xn={exact:function qr(A,M,O){if(!wr(A.segments,M.segments)||!gr(A.segments,M.segments,O)||A.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!A.children[R]||!qr(A.children[R],M.children[R],O))return!1;return!0},subset:fr},In={exact:function Ur(A,M){return Bn(A,M)},subset:function Ln(A,M){return Object.keys(M).length<=Object.keys(A).length&&Object.keys(M).every(O=>$n(A[O],M[O]))},ignored:()=>!0};function Or(A,M,O){return xn[O.paths](A.root,M.root,O.matrixParams)&&In[O.queryParams](A.queryParams,M.queryParams)&&!("exact"===O.fragment&&A.fragment!==M.fragment)}function fr(A,M,O){return bt(A,M,M.segments,O)}function bt(A,M,O,R){if(A.segments.length>O.length){const B=A.segments.slice(0,O.length);return!(!wr(B,O)||M.hasChildren()||!gr(B,O,R))}if(A.segments.length===O.length){if(!wr(A.segments,O)||!gr(A.segments,O,R))return!1;for(const B in M.children)if(!A.children[B]||!fr(A.children[B],M.children[B],R))return!1;return!0}{const B=O.slice(0,A.segments.length),re=O.slice(A.segments.length);return!!(wr(A.segments,B)&&gr(A.segments,B,R)&&A.children[Ke])&&bt(A.children[Ke],M,re,R)}}function gr(A,M,O){return M.every((R,B)=>In[O](A[B].parameters,R.parameters))}class Ji{constructor(M=new sn([],{}),O={},R=null){this.root=M,this.queryParams=O,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Lt.serialize(this)}}class sn{constructor(M,O){this.segments=M,this.children=O,this.parent=null,Object.values(O).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class Ei{constructor(M,O){this.path=M,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return be(this)}}function wr(A,M){return A.length===M.length&&A.every((O,R)=>O.path===M[R].path)}let Sr=(()=>{var A;class M{}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return new gn},providedIn:"root"}),M})();class gn{parse(M){const O=new ts(M);return new Ji(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(M){const O=`/${Nn(M.root,!0)}`,R=function Fe(A){const M=Object.keys(A).map(O=>{const R=A[O];return Array.isArray(R)?R.map(B=>`${Hn(O)}=${Hn(B)}`).join("&"):`${Hn(O)}=${Hn(R)}`}).filter(O=>!!O);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${O}${R}${"string"==typeof M.fragment?`#${function jr(A){return encodeURI(A)}(M.fragment)}`:""}`}}const Lt=new gn;function pn(A){return A.segments.map(M=>be(M)).join("/")}function Nn(A,M){if(!A.hasChildren())return pn(A);if(M){const O=A.children[Ke]?Nn(A.children[Ke],!1):"",R=[];return Object.entries(A.children).forEach(([B,re])=>{B!==Ke&&R.push(`${B}:${Nn(re,!1)}`)}),R.length>0?`${O}(${R.join("//")})`:O}{const O=function Lr(A,M){let O=[];return Object.entries(A.children).forEach(([R,B])=>{R===Ke&&(O=O.concat(M(B,R)))}),Object.entries(A.children).forEach(([R,B])=>{R!==Ke&&(O=O.concat(M(B,R)))}),O}(A,(R,B)=>B===Ke?[Nn(A.children[Ke],!1)]:[`${B}:${Nn(R,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Ke]?`${pn(A)}/${O[0]}`:`${pn(A)}/(${O.join("//")})`}}function er(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(A){return er(A).replace(/%3B/gi,";")}function Se(A){return er(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ie(A){return decodeURIComponent(A)}function te(A){return ie(A.replace(/\+/g,"%20"))}function be(A){return`${Se(A.path)}${function ee(A){return Object.keys(A).map(M=>`;${Se(M)}=${Se(A[M])}`).join("")}(A.parameters)}`}const _t=/^[^\/()?;#]+/;function Ft(A){const M=A.match(_t);return M?M[0]:""}const Dn=/^[^\/()?;=#]+/,Er=/^[^=?&#]+/,Gr=/^[^&#]+/;class ts{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(O).length>0)&&(R[Ke]=new sn(M,O)),R}parseSegment(){const M=Ft(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new b.vHH(4009,!1);return this.capture(M),new Ei(ie(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const O=function Kn(A){const M=A.match(Dn);return M?M[0]:""}(this.remaining);if(!O)return;this.capture(O);let R="";if(this.consumeOptional("=")){const B=Ft(this.remaining);B&&(R=B,this.capture(R))}M[ie(O)]=ie(R)}parseQueryParam(M){const O=function Un(A){const M=A.match(Er);return M?M[0]:""}(this.remaining);if(!O)return;this.capture(O);let R="";if(this.consumeOptional("=")){const se=function Mr(A){const M=A.match(Gr);return M?M[0]:""}(this.remaining);se&&(R=se,this.capture(R))}const B=te(O),re=te(R);if(M.hasOwnProperty(B)){let se=M[B];Array.isArray(se)||(se=[se],M[B]=se),se.push(re)}else M[B]=re}parseParens(M){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Ft(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new b.vHH(4010,!1);let re;R.indexOf(":")>-1?(re=R.slice(0,R.indexOf(":")),this.capture(re),this.capture(":")):M&&(re=Ke);const se=this.parseChildren();O[re]=1===Object.keys(se).length?se[Ke]:new sn([],se),this.consumeOptional("//")}return O}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new b.vHH(4011,!1)}}function Xr(A){return A.segments.length>0?new sn([],{[Ke]:A}):A}function bs(A){const M={};for(const R of Object.keys(A.children)){const re=bs(A.children[R]);if(R===Ke&&0===re.segments.length&&re.hasChildren())for(const[se,Qe]of Object.entries(re.children))M[se]=Qe;else(re.segments.length>0||re.hasChildren())&&(M[R]=re)}return function Tr(A){if(1===A.numberOfChildren&&A.children[Ke]){const M=A.children[Ke];return new sn(A.segments.concat(M.segments),M.children)}return A}(new sn(A.segments,M))}function Ti(A){return A instanceof Ji}function Ci(A){var M;let O;const re=Xr(function R(se){const Qe={};for(const Xe of se.children){const yt=R(Xe);Qe[Xe.outlet]=yt}const jt=new sn(se.url,Qe);return se===A&&(O=jt),jt}(A.root));return null!==(M=O)&&void 0!==M?M:re}function Ri(A,M,O,R){let B=A;for(;B.parent;)B=B.parent;if(0===M.length)return ri(B,B,B,O,R);const re=function _i(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Fi(!0,0,A);let M=0,O=!1;const R=A.reduce((B,re,se)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Qe={};return Object.entries(re.outlets).forEach(([jt,Xe])=>{Qe[jt]="string"==typeof Xe?Xe.split("/"):Xe}),[...B,{outlets:Qe}]}if(re.segmentPath)return[...B,re.segmentPath]}return"string"!=typeof re?[...B,re]:0===se?(re.split("/").forEach((Qe,jt)=>{0==jt&&"."===Qe||(0==jt&&""===Qe?O=!0:".."===Qe?M++:""!=Qe&&B.push(Qe))}),B):[...B,re]},[]);return new Fi(O,M,R)}(M);if(re.toRoot())return ri(B,B,new sn([],{}),O,R);const se=function ns(A,M,O){if(A.isAbsolute)return new jn(M,!0,0);if(!O)return new jn(M,!1,NaN);if(null===O.parent)return new jn(O,!0,0);const R=mi(A.commands[0])?0:1;return function kr(A,M,O){let R=A,B=M,re=O;for(;re>B;){if(re-=B,R=R.parent,!R)throw new b.vHH(4005,!1);B=R.segments.length}return new jn(R,!1,B-re)}(O,O.segments.length-1+R,A.numberOfDoubleDots)}(re,B,A),Qe=se.processChildren?di(se.segmentGroup,se.index,re.commands):bo(se.segmentGroup,se.index,re.commands);return ri(B,se.segmentGroup,Qe,O,R)}function mi(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Fs(A){return"object"==typeof A&&null!=A&&A.outlets}function ri(A,M,O,R,B){let se,re={};R&&Object.entries(R).forEach(([jt,Xe])=>{re[jt]=Array.isArray(Xe)?Xe.map(yt=>`${yt}`):`${Xe}`}),se=A===M?O:wi(A,M,O);const Qe=Xr(bs(se));return new Ji(Qe,re,B)}function wi(A,M,O){const R={};return Object.entries(A.children).forEach(([B,re])=>{R[B]=re===M?O:wi(re,M,O)}),new sn(A.segments,R)}class Fi{constructor(M,O,R){if(this.isAbsolute=M,this.numberOfDoubleDots=O,this.commands=R,M&&R.length>0&&mi(R[0]))throw new b.vHH(4003,!1);const B=R.find(Fs);if(B&&B!==Xn(R))throw new b.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jn{constructor(M,O,R){this.segmentGroup=M,this.processChildren=O,this.index=R}}function bo(A,M,O){if(A||(A=new sn([],{})),0===A.segments.length&&A.hasChildren())return di(A,M,O);const R=function Xs(A,M,O){let R=0,B=M;const re={match:!1,pathIndex:0,commandIndex:0};for(;B<A.segments.length;){if(R>=O.length)return re;const se=A.segments[B],Qe=O[R];if(Fs(Qe))break;const jt=`${Qe}`,Xe=R<O.length-1?O[R+1]:null;if(B>0&&void 0===jt)break;if(jt&&Xe&&"object"==typeof Xe&&void 0===Xe.outlets){if(!co(jt,Xe,se))return re;R+=2}else{if(!co(jt,{},se))return re;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(A,M,O),B=O.slice(R.commandIndex);if(R.match&&R.pathIndex<A.segments.length){const re=new sn(A.segments.slice(0,R.pathIndex),{});return re.children[Ke]=new sn(A.segments.slice(R.pathIndex),A.children),di(re,0,B)}return R.match&&0===B.length?new sn(A.segments,{}):R.match&&!A.hasChildren()?Do(A,M,O):R.match?di(A,0,B):Do(A,M,O)}function di(A,M,O){if(0===O.length)return new sn(A.segments,{});{const R=function yr(A){return Fs(A[0])?A[0].outlets:{[Ke]:A}}(O),B={};if(Object.keys(R).some(re=>re!==Ke)&&A.children[Ke]&&1===A.numberOfChildren&&0===A.children[Ke].segments.length){const re=di(A.children[Ke],M,O);return new sn(A.segments,re.children)}return Object.entries(R).forEach(([re,se])=>{"string"==typeof se&&(se=[se]),null!==se&&(B[re]=bo(A.children[re],M,se))}),Object.entries(A.children).forEach(([re,se])=>{void 0===R[re]&&(B[re]=se)}),new sn(A.segments,B)}}function Do(A,M,O){const R=A.segments.slice(0,M);let B=0;for(;B<O.length;){const re=O[B];if(Fs(re)){const jt=rs(re.outlets);return new sn(R,jt)}if(0===B&&mi(O[0])){R.push(new Ei(A.segments[M].path,Ds(O[0]))),B++;continue}const se=Fs(re)?re.outlets[Ke]:`${re}`,Qe=B<O.length-1?O[B+1]:null;se&&Qe&&mi(Qe)?(R.push(new Ei(se,Ds(Qe))),B+=2):(R.push(new Ei(se,{})),B++)}return new sn(R,{})}function rs(A){const M={};return Object.entries(A).forEach(([O,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[O]=Do(new sn([],{}),0,R))}),M}function Ds(A){const M={};return Object.entries(A).forEach(([O,R])=>M[O]=`${R}`),M}function co(A,M,O){return A==O.path&&Bn(M,O.parameters)}const Hi="imperative";class zr{constructor(M,O){this.id=M,this.url=O}}class Pi extends zr{constructor(M,O,R="imperative",B=null){super(M,O),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ut extends zr{constructor(M,O,R){super(M,O),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yt extends zr{constructor(M,O,R,B){super(M,O),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class X extends zr{constructor(M,O,R,B){super(M,O),this.reason=R,this.code=B,this.type=16}}class ge extends zr{constructor(M,O,R,B){super(M,O),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends zr{constructor(M,O,R,B){super(M,O),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends zr{constructor(M,O,R,B){super(M,O),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends zr{constructor(M,O,R,B,re){super(M,O),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dt extends zr{constructor(M,O,R,B){super(M,O),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends zr{constructor(M,O,R,B){super(M,O),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class St{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $t{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(M,O,R){this.routerEvent=M,this.position=O,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ai{}class hi{constructor(M){this.url=M}}class Vs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bi,this.attachRef=null}}let bi=(()=>{var A;class M{constructor(){this.contexts=new Map}onChildOutletCreated(R,B){const re=this.getOrCreateContext(R);re.outlet=B,this.contexts.set(R,re)}onChildOutletDestroyed(R){const B=this.getContext(R);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let B=this.getContext(R);return B||(B=new Vs,this.contexts.set(R,B)),B}getContext(R){return this.contexts.get(R)||null}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();class Cs{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const O=this.pathFromRoot(M);return O.length>1?O[O.length-2]:null}children(M){const O=is(M,this._root);return O?O.children.map(R=>R.value):[]}firstChild(M){const O=is(M,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(M){const O=zo(M,this._root);return O.length<2?[]:O[O.length-2].children.map(B=>B.value).filter(B=>B!==M)}pathFromRoot(M){return zo(M,this._root).map(O=>O.value)}}function is(A,M){if(A===M.value)return M;for(const O of M.children){const R=is(A,O);if(R)return R}return null}function zo(A,M){if(A===M.value)return[M];for(const O of M.children){const R=zo(A,O);if(R.length)return R.unshift(M),R}return[]}class As{constructor(M,O){this.value=M,this.children=O}toString(){return`TreeNode(${this.value})`}}function Cn(A){const M={};return A&&A.children.forEach(O=>M[O.value.outlet]=O),M}class yi extends Cs{constructor(M,O){super(M),this.snapshot=O,ic(this,M)}toString(){return this.snapshot.toString()}}function Yr(A,M){const O=function Ss(A,M){const se=new _s([],{},{},"",{},Ke,M,null,{});return new lo("",new As(se,[]))}(0,M),R=new L.X([new Ei("",{})]),B=new L.X({}),re=new L.X({}),se=new L.X({}),Qe=new L.X(""),jt=new ci(R,B,se,Qe,re,Ke,M,O.root);return jt.snapshot=O.root,new yi(new As(jt,[]),O)}class ci{constructor(M,O,R,B,re,se,Qe,jt){var Xe,yt;this.urlSubject=M,this.paramsSubject=O,this.queryParamsSubject=R,this.fragmentSubject=B,this.dataSubject=re,this.outlet=se,this.component=Qe,this._futureSnapshot=jt,this.title=null!==(Xe=null===(yt=this.dataSubject)||void 0===yt?void 0:yt.pipe((0,Ge.U)(qn=>qn[$e])))&&void 0!==Xe?Xe:(0,Ve.of)(void 0),this.url=M,this.params=O,this.queryParams=R,this.fragment=B,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(M=>fn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(M=>fn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ua(A,M="emptyOnly"){const O=A.pathFromRoot;let R=0;if("always"!==M)for(R=O.length-1;R>=1;){const B=O[R],re=O[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(re.component)break;R--}}return function ca(A){return A.reduce((M,O)=>{var R;return{params:{...M.params,...O.params},data:{...M.data,...O.data},resolve:{...O.data,...M.resolve,...null===(R=O.routeConfig)||void 0===R?void 0:R.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(R))}class _s{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[$e]}constructor(M,O,R,B,re,se,Qe,jt,Xe){this.url=M,this.params=O,this.queryParams=R,this.fragment=B,this.data=re,this.outlet=se,this.component=Qe,this.routeConfig=jt,this._resolve=Xe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lo extends Cs{constructor(M,O){super(O),this.url=M,ic(this,O)}toString(){return Zr(this._root)}}function ic(A,M){M.value._routerState=A,M.children.forEach(O=>ic(A,O))}function Zr(A){const M=A.children.length>0?` { ${A.children.map(Zr).join(", ")} } `:"";return`${A.value}${M}`}function rn(A){if(A.snapshot){const M=A.snapshot,O=A._futureSnapshot;A.snapshot=O,Bn(M.queryParams,O.queryParams)||A.queryParamsSubject.next(O.queryParams),M.fragment!==O.fragment&&A.fragmentSubject.next(O.fragment),Bn(M.params,O.params)||A.paramsSubject.next(O.params),function on(A,M){if(A.length!==M.length)return!1;for(let O=0;O<A.length;++O)if(!Bn(A[O],M[O]))return!1;return!0}(M.url,O.url)||A.urlSubject.next(O.url),Bn(M.data,O.data)||A.dataSubject.next(O.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function ir(A,M){const O=Bn(A.params,M.params)&&function es(A,M){return wr(A,M)&&A.every((O,R)=>Bn(O.parameters,M[R].parameters))}(A.url,M.url);return O&&!(!A.parent!=!M.parent)&&(!A.parent||ir(A.parent,M.parent))}let Wr=(()=>{var A;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(bi),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb),this.inputBinder=(0,b.f3M)(ys,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:B,previousValue:re}=R.name;if(B)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var B;return(null===(B=this.parentContexts.getContext(R))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,B){var re;this.activated=R,this._activatedRoute=B,this.location.insert(R.hostView),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,B){var re;if(this.isActivated)throw new b.vHH(4013,!1);this._activatedRoute=R;const se=this.location,jt=R.snapshot.component,Xe=this.parentContexts.getOrCreateContext(this.name).children,yt=new Vi(R,Xe,se.injector);this.activated=se.createComponent(jt,{index:se.length,injector:yt,environmentInjector:null!=B?B:this.environmentInjector}),this.changeDetector.markForCheck(),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275dir=b.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]}),M})();class Vi{constructor(M,O,R){this.route=M,this.childContexts=O,this.parent=R}get(M,O){return M===ci?this.route:M===bi?this.childContexts:this.parent.get(M,O)}}const ys=new b.OlP("");let Bi=(()=>{var A;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var B;null===(B=this.outletDataSubscriptions.get(R))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:B}=R,re=(0,De.a)([B.queryParams,B.params,B.data]).pipe((0,qe.w)(([se,Qe,jt],Xe)=>(jt={...se,...Qe,...jt},0===Xe?(0,Ve.of)(jt):Promise.resolve(jt)))).subscribe(se=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(R);const Qe=(0,b.qFp)(B.component);if(Qe)for(const{templateName:jt}of Qe.inputs)R.activatedComponentRef.setInput(jt,se[jt]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,re)}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),M})();function Jr(A,M,O){if(O&&A.shouldReuseRoute(M.value,O.value.snapshot)){const R=O.value;R._futureSnapshot=M.value;const B=function Bs(A,M,O){return M.children.map(R=>{for(const B of O.children)if(A.shouldReuseRoute(R.value,B.value.snapshot))return Jr(A,R,B);return Jr(A,R)})}(A,M,O);return new As(R,B)}{if(A.shouldAttach(M.value)){const re=A.retrieve(M.value);if(null!==re){const se=re.route;return se.value._futureSnapshot=M.value,se.children=M.children.map(Qe=>Jr(A,Qe)),se}}const R=function Ao(A){return new ci(new L.X(A.url),new L.X(A.params),new L.X(A.queryParams),new L.X(A.fragment),new L.X(A.data),A.outlet,A.component,A)}(M.value),B=M.children.map(re=>Jr(A,re));return new As(R,B)}}const Yn="ngNavigationCancelingError";function uo(A,M){const{redirectTo:O,navigationBehaviorOptions:R}=Ti(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,B=Ho(!1,0,M);return B.url=O,B.navigationBehaviorOptions=R,B}function Ho(A,M,O){const R=new Error("NavigationCancelingError: "+(A||""));return R[Yn]=!0,R.cancellationCode=M,O&&(R.url=O),R}function Fr(A){return A&&A[Yn]}let qo=(()=>{var A;class M{}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275cmp=b.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(R,B){1&R&&b._UZ(0,"router-outlet")},dependencies:[Wr],encapsulation:2}),M})();function Ca(A){const M=A.children&&A.children.map(Ca),O=M?{...A,children:M}:{...A};return!O.component&&!O.loadComponent&&(M||O.loadChildren)&&O.outlet&&O.outlet!==Ke&&(O.component=qo),O}function Rs(A){return A.outlet||Ke}function qi(A){var M;if(!A)return null;if(null!==(M=A.routeConfig)&&void 0!==M&&M._injector)return A.routeConfig._injector;for(let O=A.parent;O;O=O.parent){const R=O.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class oc{constructor(M,O,R,B,re){this.routeReuseStrategy=M,this.futureState=O,this.currState=R,this.forwardEvent=B,this.inputBindingEnabled=re}activate(M){const O=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,R,M),rn(this.futureState.root),this.activateChildRoutes(O,R,M)}deactivateChildRoutes(M,O,R){const B=Cn(O);M.children.forEach(re=>{const se=re.value.outlet;this.deactivateRoutes(re,B[se],R),delete B[se]}),Object.values(B).forEach(re=>{this.deactivateRouteAndItsChildren(re,R)})}deactivateRoutes(M,O,R){const B=M.value,re=O?O.value:null;if(B===re)if(B.component){const se=R.getContext(B.outlet);se&&this.deactivateChildRoutes(M,O,se.children)}else this.deactivateChildRoutes(M,O,R);else re&&this.deactivateRouteAndItsChildren(O,R)}deactivateRouteAndItsChildren(M,O){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,O):this.deactivateRouteAndOutlet(M,O)}detachAndStoreRouteSubtree(M,O){const R=O.getContext(M.value.outlet),B=R&&M.value.component?R.children:O,re=Cn(M);for(const se of Object.keys(re))this.deactivateRouteAndItsChildren(re[se],B);if(R&&R.outlet){const se=R.outlet.detach(),Qe=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:se,route:M,contexts:Qe})}}deactivateRouteAndOutlet(M,O){const R=O.getContext(M.value.outlet),B=R&&M.value.component?R.children:O,re=Cn(M);for(const se of Object.keys(re))this.deactivateRouteAndItsChildren(re[se],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,O,R){const B=Cn(O);M.children.forEach(re=>{this.activateRoutes(re,B[re.value.outlet],R),this.forwardEvent(new Fn(re.value.snapshot))}),M.children.length&&this.forwardEvent(new an(M.value.snapshot))}activateRoutes(M,O,R){const B=M.value,re=O?O.value:null;if(rn(B),B===re)if(B.component){const se=R.getOrCreateContext(B.outlet);this.activateChildRoutes(M,O,se.children)}else this.activateChildRoutes(M,O,R);else if(B.component){const se=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Qe=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),se.children.onOutletReAttached(Qe.contexts),se.attachRef=Qe.componentRef,se.route=Qe.route.value,se.outlet&&se.outlet.attach(Qe.componentRef,Qe.route.value),rn(Qe.route.value),this.activateChildRoutes(M,null,se.children)}else{const Qe=qi(B.snapshot);se.attachRef=null,se.route=B,se.injector=Qe,se.outlet&&se.outlet.activateWith(B,se.injector),this.activateChildRoutes(M,null,se.children)}}else this.activateChildRoutes(M,null,R)}}class Mi{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Xc{constructor(M,O){this.component=M,this.route=O}}function Is(A,M,O){const R=A._root;return $i(R,M?M._root:null,O,[R.value])}function Sa(A,M){const O=Symbol(),R=M.get(A,O);return R===O?"function"!=typeof A||(0,b.Z0I)(A)?M.get(A):A:R}function $i(A,M,O,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const re=Cn(M);return A.children.forEach(se=>{(function ja(A,M,O,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const re=A.value,se=M?M.value:null,Qe=O?O.getContext(A.value.outlet):null;if(se&&re.routeConfig===se.routeConfig){const jt=function So(A,M,O){if("function"==typeof O)return O(A,M);switch(O){case"pathParamsChange":return!wr(A.url,M.url);case"pathParamsOrQueryParamsChange":return!wr(A.url,M.url)||!Bn(A.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ir(A,M)||!Bn(A.queryParams,M.queryParams);default:return!ir(A,M)}}(se,re,re.routeConfig.runGuardsAndResolvers);jt?B.canActivateChecks.push(new Mi(R)):(re.data=se.data,re._resolvedData=se._resolvedData),$i(A,M,re.component?Qe?Qe.children:null:O,R,B),jt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&B.canDeactivateChecks.push(new Xc(Qe.outlet.component,se))}else se&&ac(M,Qe,B),B.canActivateChecks.push(new Mi(R)),$i(A,null,re.component?Qe?Qe.children:null:O,R,B)})(se,re[se.value.outlet],O,R.concat([se.value]),B),delete re[se.value.outlet]}),Object.entries(re).forEach(([se,Qe])=>ac(Qe,O.getContext(se),B)),B}function ac(A,M,O){const R=Cn(A),B=A.value;Object.entries(R).forEach(([re,se])=>{ac(se,B.component?M?M.children.getContext(re):null:M,O)}),O.canDeactivateChecks.push(new Xc(B.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,B))}function cc(A){return"function"==typeof A}function kt(A){return A instanceof pe||"EmptyError"===(null==A?void 0:A.name)}const D=Symbol("INITIAL_VALUE");function z(){return(0,qe.w)(A=>(0,De.a)(A.map(M=>M.pipe(ct(1),function Ht(...A){const M=(0,J.yG)(A);return(0,et.e)((O,R)=>{(M?Re(A,O,M):Re(A,O)).subscribe(R)})}(D)))).pipe((0,Ge.U)(M=>{for(const O of M)if(!0!==O){if(O===D)return D;if(!1===O||O instanceof Ji)return O}return!0}),(0,Tt.h)(M=>M!==D),ct(1)))}function Ko(A){return(0,We.z)((0,Me.b)(M=>{if(Ti(M))throw uo(0,M)}),(0,Ge.U)(M=>!0===M))}class ss{constructor(M){this.segmentGroup=M||null}}class Ai{constructor(M){this.urlTree=M}}function xo(A){return Ee(new ss(A))}function os(A){return Ee(new Ai(A))}class Yo{constructor(M,O){this.urlSerializer=M,this.urlTree=O}noMatchError(M){return new b.vHH(4002,!1)}lineralizeSegments(M,O){let R=[],B=O.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,Ve.of)(R);if(B.numberOfChildren>1||!B.children[Ke])return Ee(new b.vHH(4e3,!1));B=B.children[Ke]}}applyRedirectCommands(M,O,R){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),M,R)}applyRedirectCreateUrlTree(M,O,R,B){const re=this.createSegmentGroup(M,O.root,R,B);return new Ji(re,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(M,O){const R={};return Object.entries(M).forEach(([B,re])=>{if("string"==typeof re&&re.startsWith(":")){const Qe=re.substring(1);R[B]=O[Qe]}else R[B]=re}),R}createSegmentGroup(M,O,R,B){const re=this.createSegments(M,O.segments,R,B);let se={};return Object.entries(O.children).forEach(([Qe,jt])=>{se[Qe]=this.createSegmentGroup(M,jt,R,B)}),new sn(re,se)}createSegments(M,O,R,B){return O.map(re=>re.path.startsWith(":")?this.findPosParam(M,re,B):this.findOrReturn(re,R))}findPosParam(M,O,R){const B=R[O.path.substring(1)];if(!B)throw new b.vHH(4001,!1);return B}findOrReturn(M,O){let R=0;for(const B of O){if(B.path===M.path)return O.splice(R),B;R++}return M}}const lu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(A,M,O,R,B){const re=oh(A,M,O);return re.matched?(R=function Wo(A,M){var O;return A.providers&&!A._injector&&(A._injector=(0,b.MMx)(A.providers,M,`Route: ${A.path}`)),null!==(O=A._injector)&&void 0!==O?O:M}(M,R),function Ui(A,M,O,R){const B=M.canMatch;if(!B||0===B.length)return(0,Ve.of)(!0);const re=B.map(se=>{const Qe=Sa(se,A);return zn(function le(A){return A&&cc(A.canMatch)}(Qe)?Qe.canMatch(M,O):A.runInContext(()=>Qe(M,O)))});return(0,Ve.of)(re).pipe(z(),Ko())}(R,M,O).pipe((0,Ge.U)(se=>!0===se?re:{...lu}))):(0,Ve.of)(re)}function oh(A,M,O){var R,B;if(""===M.path)return"full"===M.pathMatch&&(A.hasChildren()||O.length>0)?{...lu}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const se=(M.matcher||rr)(O,A,M);if(!se)return{...lu};const Qe={};Object.entries(null!==(R=se.posParams)&&void 0!==R?R:{}).forEach(([Xe,yt])=>{Qe[Xe]=yt.path});const jt=se.consumed.length>0?{...Qe,...se.consumed[se.consumed.length-1].parameters}:Qe;return{matched:!0,consumedSegments:se.consumed,remainingSegments:O.slice(se.consumed.length),parameters:jt,positionalParamSegments:null!==(B=se.posParams)&&void 0!==B?B:{}}}function xl(A,M,O,R){return O.length>0&&function Jc(A,M,O){return O.some(R=>el(A,M,R)&&Rs(R)!==Ke)}(A,O,R)?{segmentGroup:new sn(M,uu(R,new sn(O,A.children))),slicedSegments:[]}:0===O.length&&function Sc(A,M,O){return O.some(R=>el(A,M,R))}(A,O,R)?{segmentGroup:new sn(A.segments,ua(A,0,O,R,A.children)),slicedSegments:O}:{segmentGroup:new sn(A.segments,A.children),slicedSegments:O}}function ua(A,M,O,R,B){const re={};for(const se of R)if(el(A,O,se)&&!B[Rs(se)]){const Qe=new sn([],{});re[Rs(se)]=Qe}return{...B,...re}}function uu(A,M){const O={};O[Ke]=M;for(const R of A)if(""===R.path&&Rs(R)!==Ke){const B=new sn([],{});O[Rs(R)]=B}return O}function el(A,M,O){return(!(A.hasChildren()||M.length>0)||"full"!==O.pathMatch)&&""===O.path}class Ki{constructor(M,O,R,B,re,se,Qe){this.injector=M,this.configLoader=O,this.rootComponentType=R,this.config=B,this.urlTree=re,this.paramsInheritanceStrategy=se,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new Yo(this.urlSerializer,this.urlTree)}noMatchError(M){return new b.vHH(4002,!1)}recognize(){const M=xl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,Ke).pipe(nt(O=>{if(O instanceof Ai)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof ss?this.noMatchError(O):O}),(0,Ge.U)(O=>{const R=new _s([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),B=new As(R,O),re=new lo("",B),se=function ms(A,M,O=null,R=null){return Ri(Ci(A),M,O,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return se.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(se),this.inheritParamsAndData(re._root),{state:re,tree:se}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,Ke).pipe(nt(R=>{throw R instanceof ss?this.noMatchError(R):R}))}inheritParamsAndData(M){const O=M.value,R=Ua(O,this.paramsInheritanceStrategy);O.params=Object.freeze(R.params),O.data=Object.freeze(R.data),M.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(M,O,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,O,R):this.processSegment(M,O,R,R.segments,B,!0)}processChildren(M,O,R){const B=[];for(const re of Object.keys(R.children))"primary"===re?B.unshift(re):B.push(re);return(0,ke.D)(B).pipe(Pe(re=>{const se=R.children[re],Qe=function fi(A,M){const O=A.filter(R=>Rs(R)===M);return O.push(...A.filter(R=>Rs(R)!==M)),O}(O,re);return this.processSegmentGroup(M,Qe,se,re)}),function Qt(A,M){return(0,et.e)(function tt(A,M,O,R,B){return(re,se)=>{let Qe=O,jt=M,Xe=0;re.subscribe((0,He.x)(se,yt=>{const qn=Xe++;jt=Qe?A(jt,yt,qn):(Qe=!0,yt),R&&se.next(jt)},B&&(()=>{Qe&&se.next(jt),se.complete()})))}}(A,M,arguments.length>=2,!0))}((re,se)=>(re.push(...se),re)),Tn(null),function tn(A,M){const O=arguments.length>=2;return R=>R.pipe(A?(0,Tt.h)((B,re)=>A(B,re,R)):me.y,ln(1),O?Tn(M):_n(()=>new pe))}(),(0,Rt.z)(re=>{if(null===re)return xo(R);const se=Rc(re);return function xc(A){A.sort((M,O)=>M.value.outlet===Ke?-1:O.value.outlet===Ke?1:M.value.outlet.localeCompare(O.value.outlet))}(se),(0,Ve.of)(se)}))}processSegment(M,O,R,B,re,se){return(0,ke.D)(O).pipe(Pe(Qe=>{var jt;return this.processSegmentAgainstRoute(null!==(jt=Qe._injector)&&void 0!==jt?jt:M,O,Qe,R,B,re,se).pipe(nt(Xe=>{if(Xe instanceof ss)return(0,Ve.of)(null);throw Xe}))}),Te(Qe=>!!Qe),nt(Qe=>{if(kt(Qe))return function da(A,M,O){return 0===M.length&&!A.children[O]}(R,B,re)?(0,Ve.of)([]):xo(R);throw Qe}))}processSegmentAgainstRoute(M,O,R,B,re,se,Qe){return function ah(A,M,O,R){return!!(Rs(A)===R||R!==Ke&&el(M,O,A))&&("**"===A.path||oh(M,A,O).matched)}(R,B,re,se)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,B,R,re,se,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,B,O,R,re,se):xo(B):xo(B)}expandSegmentAgainstRouteUsingRedirect(M,O,R,B,re,se){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,B,se):this.expandRegularSegmentAgainstRouteUsingRedirect(M,O,R,B,re,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,R,B){const re=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?os(re):this.applyRedirects.lineralizeSegments(R,re).pipe((0,Rt.z)(se=>{const Qe=new sn(se,{});return this.processSegment(M,O,Qe,se,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,O,R,B,re,se){const{matched:Qe,consumedSegments:jt,remainingSegments:Xe,positionalParamSegments:yt}=oh(O,B,re);if(!Qe)return xo(O);const qn=this.applyRedirects.applyRedirectCommands(jt,B.redirectTo,yt);return B.redirectTo.startsWith("/")?os(qn):this.applyRedirects.lineralizeSegments(B,qn).pipe((0,Rt.z)(Wn=>this.processSegment(M,R,O,Wn.concat(Xe),se,!1)))}matchSegmentAgainstRoute(M,O,R,B,re,se){let Qe;if("**"===R.path){var jt,Xe;const yt=B.length>0?Xn(B).parameters:{},qn=new _s(B,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rl(R),Rs(R),null!==(jt=null!==(Xe=R.component)&&void 0!==Xe?Xe:R._loadedComponent)&&void 0!==jt?jt:null,R,Ra(R));Qe=(0,Ve.of)({snapshot:qn,consumedSegments:[],remainingSegments:[]}),O.children={}}else Qe=Kr(O,R,B,M).pipe((0,Ge.U)(({matched:yt,consumedSegments:qn,remainingSegments:Wn,parameters:to})=>{var sr,Xt;return yt?{snapshot:new _s(qn,to,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rl(R),Rs(R),null!==(sr=null!==(Xt=R.component)&&void 0!==Xt?Xt:R._loadedComponent)&&void 0!==sr?sr:null,R,Ra(R)),consumedSegments:qn,remainingSegments:Wn}:null}));return Qe.pipe((0,qe.w)(yt=>{var qn;return null===yt?xo(O):(M=null!==(qn=R._injector)&&void 0!==qn?qn:M,this.getChildConfig(M,R,B).pipe((0,qe.w)(({routes:Wn})=>{var to;const sr=null!==(to=R._loadedInjector)&&void 0!==to?to:M,{snapshot:Xt,consumedSegments:Xo,remainingSegments:sl}=yt,{segmentGroup:ha,slicedSegments:gu}=xl(O,Xo,sl,Wn);if(0===gu.length&&ha.hasChildren())return this.processChildren(sr,Wn,ha).pipe((0,Ge.U)(Ps=>null===Ps?null:[new As(Xt,Ps)]));if(0===Wn.length&&0===gu.length)return(0,Ve.of)([new As(Xt,[])]);const Mc=Rs(R)===re;return this.processSegment(sr,Wn,ha,gu,Mc?Ke:re,!0).pipe((0,Ge.U)(Ps=>[new As(Xt,Ps)]))})))}))}getChildConfig(M,O,R){return O.children?(0,Ve.of)({routes:O.children,injector:M}):O.loadChildren?void 0!==O._loadedRoutes?(0,Ve.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Js(A,M,O,R){const B=M.canLoad;if(void 0===B||0===B.length)return(0,Ve.of)(!0);const re=B.map(se=>{const Qe=Sa(se,A);return zn(function cu(A){return A&&cc(A.canLoad)}(Qe)?Qe.canLoad(M,O):A.runInContext(()=>Qe(M,O)))});return(0,Ve.of)(re).pipe(z(),Ko())}(M,O,R).pipe((0,Rt.z)(B=>B?this.configLoader.loadChildren(M,O).pipe((0,Me.b)(re=>{O._loadedRoutes=re.routes,O._loadedInjector=re.injector})):function xa(A){return Ee(Ho(!1,3))}())):(0,Ve.of)({routes:[],injector:M})}}function lc(A){const M=A.value.routeConfig;return M&&""===M.path}function Rc(A){const M=[],O=new Set;for(const R of A){if(!lc(R)){M.push(R);continue}const B=M.find(re=>R.value.routeConfig===re.value.routeConfig);void 0!==B?(B.children.push(...R.children),O.add(B)):M.push(R)}for(const R of O){const B=Rc(R.children);M.push(new As(R.value,B))}return M.filter(R=>!O.has(R))}function Rl(A){return A.data||{}}function Ra(A){return A.resolve||{}}function xe(A){return"string"==typeof A.title||null===A.title}function wt(A){return(0,qe.w)(M=>{const O=A(M);return O?(0,ke.D)(O).pipe((0,Ge.U)(()=>M)):(0,Ve.of)(M)})}const qt=new b.OlP("ROUTES");let vr=(()=>{var A;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,Ve.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const B=zn(R.loadComponent()).pipe((0,Ge.U)(xr),(0,Me.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=se}),Mn(()=>{this.componentLoaders.delete(R)})),re=new Le(B,()=>new Ne.x).pipe(Ze());return this.componentLoaders.set(R,re),re}loadChildren(R,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,Ve.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const se=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,Ge.U)(jt=>{this.onLoadEndListener&&this.onLoadEndListener(B);let Xe,yt;return Array.isArray(jt)?yt=jt:(Xe=jt.create(R).injector,yt=Xe.get(qt,[],b.XFs.Self|b.XFs.Optional).flat()),{routes:yt.map(Ca),injector:Xe}}),Mn(()=>{this.childrenLoaders.delete(B)})),Qe=new Le(se,()=>new Ne.x).pipe(Ze());return this.childrenLoaders.set(B,Qe),Qe}loadModuleFactoryOrRoutes(R){return zn(R()).pipe((0,Ge.U)(xr),(0,Rt.z)(B=>B instanceof b.YKP||Array.isArray(B)?(0,Ve.of)(B):(0,ke.D)(this.compiler.compileModuleAsync(B))))}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();function xr(A){return function Ir(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let ur=(()=>{var A;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.transitionAbortSubject=new Ne.x,this.configLoader=(0,b.f3M)(vr),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Sr),this.rootContexts=(0,b.f3M)(bi),this.inputBindingEnabled=null!==(0,b.f3M)(ys,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ve.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new St(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new Mt(re))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var B;const re=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...R,id:re})}setupNavigations(R,B,re){return this.transitions=new L.X({id:0,currentUrlTree:B,currentRawUrl:B,currentBrowserUrl:B,extractedUrl:R.urlHandlingStrategy.extract(B),urlAfterRedirects:R.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:re.snapshot,targetSnapshot:null,currentRouterState:re,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Tt.h)(se=>0!==se.id),(0,Ge.U)(se=>({...se,extractedUrl:R.urlHandlingStrategy.extract(se.rawUrl)})),(0,qe.w)(se=>{this.currentTransition=se;let Qe=!1,jt=!1;return(0,Ve.of)(se).pipe((0,Me.b)(Xe=>{this.currentNavigation={id:Xe.id,initialUrl:Xe.rawUrl,extractedUrl:Xe.extractedUrl,trigger:Xe.source,extras:Xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qe.w)(Xe=>{var yt;const qn=Xe.currentBrowserUrl.toString(),Wn=!R.navigated||Xe.extractedUrl.toString()!==qn||qn!==Xe.currentUrlTree.toString(),to=null!==(yt=Xe.extras.onSameUrlNavigation)&&void 0!==yt?yt:R.onSameUrlNavigation;if(!Wn&&"reload"!==to){const sr="";return this.events.next(new X(Xe.id,this.urlSerializer.serialize(Xe.rawUrl),sr,0)),Xe.resolve(null),ot.E}if(R.urlHandlingStrategy.shouldProcessUrl(Xe.rawUrl))return(0,Ve.of)(Xe).pipe((0,qe.w)(sr=>{var Xt,Xo;const sl=null===(Xt=this.transitions)||void 0===Xt?void 0:Xt.getValue();return this.events.next(new Pi(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),sl!==(null===(Xo=this.transitions)||void 0===Xo?void 0:Xo.getValue())?ot.E:Promise.resolve(sr)}),function sy(A,M,O,R,B,re){return(0,Rt.z)(se=>function ho(A,M,O,R,B,re,se="emptyOnly"){return new Ki(A,M,O,R,B,se,re).recognize()}(A,M,O,R,se.extractedUrl,B,re).pipe((0,Ge.U)(({state:Qe,tree:jt})=>({...se,targetSnapshot:Qe,urlAfterRedirects:jt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,R.paramsInheritanceStrategy),(0,Me.b)(sr=>{se.targetSnapshot=sr.targetSnapshot,se.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const Xt=new Be(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(Xt)}));if(Wn&&R.urlHandlingStrategy.shouldProcessUrl(Xe.currentRawUrl)){const{id:sr,extractedUrl:Xt,source:Xo,restoredState:sl,extras:ha}=Xe,gu=new Pi(sr,this.urlSerializer.serialize(Xt),Xo,sl);this.events.next(gu);const Mc=Yr(0,this.rootComponentType).snapshot;return this.currentTransition=se={...Xe,targetSnapshot:Mc,urlAfterRedirects:Xt,extras:{...ha,skipLocationChange:!1,replaceUrl:!1}},(0,Ve.of)(se)}{const sr="";return this.events.next(new X(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),sr,1)),Xe.resolve(null),ot.E}}),(0,Me.b)(Xe=>{const yt=new Oe(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(yt)}),(0,Ge.U)(Xe=>(this.currentTransition=se={...Xe,guards:Is(Xe.targetSnapshot,Xe.currentSnapshot,this.rootContexts)},se)),function C(A,M){return(0,Rt.z)(O=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:re,canDeactivateChecks:se}}=O;return 0===se.length&&0===re.length?(0,Ve.of)({...O,guardsResult:!0}):function j(A,M,O,R){return(0,ke.D)(A).pipe((0,Rt.z)(B=>function Nr(A,M,O,R,B){const re=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,Ve.of)(!0);const se=re.map(Qe=>{var jt;const Xe=null!==(jt=qi(M))&&void 0!==jt?jt:B,yt=Sa(Qe,Xe);return zn(function V(A){return A&&cc(A.canDeactivate)}(yt)?yt.canDeactivate(A,M,O,R):Xe.runInContext(()=>yt(A,M,O,R))).pipe(Te())});return(0,Ve.of)(se).pipe(z())}(B.component,B.route,O,M,R)),Te(B=>!0!==B,!0))}(se,R,B,A).pipe((0,Rt.z)(Qe=>Qe&&function ei(A){return"boolean"==typeof A}(Qe)?function ae(A,M,O,R){return(0,ke.D)(M).pipe(Pe(B=>Re(function Zt(A,M){return null!==A&&M&&M(new $t(A)),(0,Ve.of)(!0)}(B.route.parent,R),function Et(A,M){return null!==A&&M&&M(new Sn(A)),(0,Ve.of)(!0)}(B.route,R),function lr(A,M,O){const R=M[M.length-1],re=M.slice(0,M.length-1).reverse().map(se=>function Wi(A){const M=A.routeConfig?A.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:A,guards:M}:null}(se)).filter(se=>null!==se).map(se=>at(()=>{const Qe=se.guards.map(jt=>{var Xe;const yt=null!==(Xe=qi(se.node))&&void 0!==Xe?Xe:O,qn=Sa(jt,yt);return zn(function W(A){return A&&cc(A.canActivateChild)}(qn)?qn.canActivateChild(R,A):yt.runInContext(()=>qn(R,A))).pipe(Te())});return(0,Ve.of)(Qe).pipe(z())}));return(0,Ve.of)(re).pipe(z())}(A,B.path,O),function yn(A,M,O){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Ve.of)(!0);const B=R.map(re=>at(()=>{var se;const Qe=null!==(se=qi(M))&&void 0!==se?se:O,jt=Sa(re,Qe);return zn(function Sl(A){return A&&cc(A.canActivate)}(jt)?jt.canActivate(M,A):Qe.runInContext(()=>jt(M,A))).pipe(Te())}));return(0,Ve.of)(B).pipe(z())}(A,B.route,O))),Te(B=>!0!==B,!0))}(R,re,A,M):(0,Ve.of)(Qe)),(0,Ge.U)(Qe=>({...O,guardsResult:Qe})))})}(this.environmentInjector,Xe=>this.events.next(Xe)),(0,Me.b)(Xe=>{if(se.guardsResult=Xe.guardsResult,Ti(Xe.guardsResult))throw uo(0,Xe.guardsResult);const yt=new ft(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot,!!Xe.guardsResult);this.events.next(yt)}),(0,Tt.h)(Xe=>!!Xe.guardsResult||(this.cancelNavigationTransition(Xe,"",3),!1)),wt(Xe=>{if(Xe.guards.canActivateChecks.length)return(0,Ve.of)(Xe).pipe((0,Me.b)(yt=>{const qn=new dt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(qn)}),(0,qe.w)(yt=>{let qn=!1;return(0,Ve.of)(yt).pipe(function P(A,M){return(0,Rt.z)(O=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=O;if(!B.length)return(0,Ve.of)(O);let re=0;return(0,ke.D)(B).pipe(Pe(se=>function q(A,M,O,R){const B=A.routeConfig,re=A._resolve;return void 0!==(null==B?void 0:B.title)&&!xe(B)&&(re[$e]=B.title),function ye(A,M,O,R){const B=function $(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===B.length)return(0,Ve.of)({});const re={};return(0,ke.D)(B).pipe((0,Rt.z)(se=>function ue(A,M,O,R){var B;const re=null!==(B=qi(M))&&void 0!==B?B:R,se=Sa(A,re);return zn(se.resolve?se.resolve(M,O):re.runInContext(()=>se(M,O)))}(A[se],M,O,R).pipe(Te(),(0,Me.b)(Qe=>{re[se]=Qe}))),ln(1),function it(A){return(0,Ge.U)(()=>A)}(re),nt(se=>kt(se)?ot.E:Ee(se)))}(re,A,M,R).pipe((0,Ge.U)(se=>(A._resolvedData=se,A.data=Ua(A,O).resolve,B&&xe(B)&&(A.data[$e]=B.title),null)))}(se.route,R,A,M)),(0,Me.b)(()=>re++),ln(1),(0,Rt.z)(se=>re===B.length?(0,Ve.of)(O):ot.E))})}(R.paramsInheritanceStrategy,this.environmentInjector),(0,Me.b)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(yt,"",2)}}))}),(0,Me.b)(yt=>{const qn=new Pt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(qn)}))}),wt(Xe=>{const yt=qn=>{var Wn;const to=[];null!==(Wn=qn.routeConfig)&&void 0!==Wn&&Wn.loadComponent&&!qn.routeConfig._loadedComponent&&to.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,Me.b)(sr=>{qn.component=sr}),(0,Ge.U)(()=>{})));for(const sr of qn.children)to.push(...yt(sr));return to};return(0,De.a)(yt(Xe.targetSnapshot.root)).pipe(Tn(),ct(1))}),wt(()=>this.afterPreactivation()),(0,Ge.U)(Xe=>{const yt=function Ta(A,M,O){const R=Jr(A,M._root,O?O._root:void 0);return new yi(R,M)}(R.routeReuseStrategy,Xe.targetSnapshot,Xe.currentRouterState);return this.currentTransition=se={...Xe,targetRouterState:yt},se}),(0,Me.b)(()=>{this.events.next(new ai)}),((A,M,O,R)=>(0,Ge.U)(B=>(new oc(M,B.targetRouterState,B.currentRouterState,O,R).activate(A),B)))(this.rootContexts,R.routeReuseStrategy,Xe=>this.events.next(Xe),this.inputBindingEnabled),ct(1),(0,Me.b)({next:Xe=>{var yt;Qe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ut(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects))),null===(yt=R.titleStrategy)||void 0===yt||yt.updateTitle(Xe.targetRouterState.snapshot),Xe.resolve(!0)},complete:()=>{Qe=!0}}),function en(A){return(0,et.e)((M,O)=>{(0,je.Xf)(A).subscribe((0,He.x)(O,()=>O.complete(),Jn.Z)),!O.closed&&M.subscribe(O)})}(this.transitionAbortSubject.pipe((0,Me.b)(Xe=>{throw Xe}))),Mn(()=>{var Xe;Qe||jt||this.cancelNavigationTransition(se,"",1),(null===(Xe=this.currentNavigation)||void 0===Xe?void 0:Xe.id)===se.id&&(this.currentNavigation=null)}),nt(Xe=>{if(jt=!0,Fr(Xe))this.events.next(new Yt(se.id,this.urlSerializer.serialize(se.extractedUrl),Xe.message,Xe.cancellationCode)),function $s(A){return Fr(A)&&Ti(A.url)}(Xe)?this.events.next(new hi(Xe.url)):se.resolve(!1);else{var yt;this.events.next(new ge(se.id,this.urlSerializer.serialize(se.extractedUrl),Xe,null!==(yt=se.targetSnapshot)&&void 0!==yt?yt:void 0));try{se.resolve(R.errorHandler(Xe))}catch(qn){se.reject(qn)}}return ot.E}))}))}cancelNavigationTransition(R,B,re){const se=new Yt(R.id,this.urlSerializer.serialize(R.extractedUrl),B,re);this.events.next(se),R.resolve(!1)}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();function ii(A){return A!==Hi}let ti=(()=>{var A;class M{buildTitle(R){let B,re=R.root;for(;void 0!==re;){var se;B=null!==(se=this.getResolvedTitleForRoute(re))&&void 0!==se?se:B,re=re.children.find(Qe=>Qe.outlet===Ke)}return B}getResolvedTitleForRoute(R){return R.data[$e]}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(as)},providedIn:"root"}),M})(),as=(()=>{var A;class M extends ti{constructor(R){super(),this.title=R}updateTitle(R){const B=this.buildTitle(R);void 0!==B&&this.title.setTitle(B)}}return(A=M).\u0275fac=function(R){return new(R||A)(b.LFG(mt.Dx))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})(),Zo=(()=>{var A;class M{}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(Pc)},providedIn:"root"}),M})();class Ga{shouldDetach(M){return!1}store(M,O){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,O){return M.routeConfig===O.routeConfig}}let Pc=(()=>{var A;class M extends Ga{}return(A=M).\u0275fac=function(){let O;return function(B){return(O||(O=b.n5z(A)))(B||A)}}(),A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();const js=new b.OlP("",{providedIn:"root",factory:()=>({})});let Gs=(()=>{var A;class M{}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(Pa)},providedIn:"root"}),M})(),Pa=(()=>{var A;class M{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,B){return R}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();var Qo=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(Qo||{});function hu(A,M){A.events.pipe((0,Tt.h)(O=>O instanceof ut||O instanceof Yt||O instanceof ge||O instanceof X),(0,Ge.U)(O=>O instanceof ut||O instanceof X?Qo.COMPLETE:O instanceof Yt&&(0===O.code||1===O.code)?Qo.REDIRECTING:Qo.FAILED),(0,Tt.h)(O=>O!==Qo.REDIRECTING),ct(1)).subscribe(()=>{M()})}function Ff(A){throw A}function Ug(A,M,O){return M.parse("/")}const fu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{var A;class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var R,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(R=null===(B=this.location.getState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==R?R:this.currentPageId}get events(){return this._events}constructor(){var R,B;this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this._events=new Ne.x,this.options=(0,b.f3M)(js,{optional:!0})||{},this.pendingTasks=(0,b.f3M)(b.HDt),this.errorHandler=this.options.errorHandler||Ff,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ug,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(Gs),this.routeReuseStrategy=(0,b.f3M)(Zo),this.titleStrategy=(0,b.f3M)(ti),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(R=null===(B=(0,b.f3M)(qt,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==R?R:[],this.navigationTransitions=(0,b.f3M)(ur),this.urlSerializer=(0,b.f3M)(Sr),this.location=(0,b.f3M)(we.Ye),this.componentInputBindingEnabled=!!(0,b.f3M)(ys,{optional:!0}),this.eventsSubscription=new ht.w0,this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ji,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(re=>{this.lastSuccessfulId=re.id,this.currentPageId=this.browserPageId},re=>{this.console.warn(`Unhandled Navigation Error: ${re}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(B=>{try{const{currentTransition:re}=this.navigationTransitions;if(null===re)return void(rd(B)&&this._events.next(B));if(B instanceof Pi)ii(re.source)&&(this.browserUrlTree=re.extractedUrl);else if(B instanceof X)this.rawUrlTree=re.rawUrl;else if(B instanceof Be){if("eager"===this.urlUpdateStrategy){if(!re.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl);this.setBrowserUrl(se,re)}this.browserUrlTree=re.urlAfterRedirects}}else if(B instanceof ai)this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects);else if(B instanceof Yt)0!==B.code&&1!==B.code&&(this.navigated=!0),(3===B.code||2===B.code)&&this.restoreHistory(re);else if(B instanceof hi){const se=this.urlHandlingStrategy.merge(B.url,re.currentRawUrl),Qe={skipLocationChange:re.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ii(re.source)};this.scheduleNavigation(se,Hi,null,Qe,{resolve:re.resolve,reject:re.reject,promise:re.promise})}B instanceof ge&&this.restoreHistory(re,!0),B instanceof ut&&(this.navigated=!0),rd(B)&&this._events.next(B)}catch(re){this.navigationTransitions.transitionAbortSubject.next(re)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const R=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,R)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(R=>{const B="popstate"===R.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(R.url,B,R.state)},0)}))}navigateToSyncWithBrowser(R,B,re){const se={replaceUrl:!0},Qe=null!=re&&re.navigationId?re:null;if(re){const Xe={...re};delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(se.state=Xe)}const jt=this.parseUrl(R);this.scheduleNavigation(jt,B,Qe,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ca),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,B={}){const{relativeTo:re,queryParams:se,fragment:Qe,queryParamsHandling:jt,preserveFragment:Xe}=B,yt=Xe?this.currentUrlTree.fragment:Qe;let Wn,qn=null;switch(jt){case"merge":qn={...this.currentUrlTree.queryParams,...se};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=se||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{Wn=Ci(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||!R[0].startsWith("/"))&&(R=[]),Wn=this.currentUrlTree.root}return Ri(Wn,R,qn,null!=yt?yt:null)}navigateByUrl(R,B={skipLocationChange:!1}){const re=Ti(R)?R:this.parseUrl(R),se=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(se,Hi,null,B)}navigate(R,B={skipLocationChange:!1}){return function ch(A){for(let M=0;M<A.length;M++)if(null==A[M])throw new b.vHH(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,B),B)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){let B;try{B=this.urlSerializer.parse(R)}catch(re){B=this.malformedUriErrorHandler(re,this.urlSerializer,R)}return B}isActive(R,B){let re;if(re=!0===B?{...fu}:!1===B?{...Vf}:B,Ti(R))return Or(this.currentUrlTree,R,re);const se=this.parseUrl(R);return Or(this.currentUrlTree,se,re)}removeEmptyProps(R){return Object.keys(R).reduce((B,re)=>{const se=R[re];return null!=se&&(B[re]=se),B},{})}scheduleNavigation(R,B,re,se,Qe){if(this.disposed)return Promise.resolve(!1);let jt,Xe,yt;Qe?(jt=Qe.resolve,Xe=Qe.reject,yt=Qe.promise):yt=new Promise((Wn,to)=>{jt=Wn,Xe=to});const qn=this.pendingTasks.add();return hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:R,extras:se,resolve:jt,reject:Xe,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(Wn=>Promise.reject(Wn))}setBrowserUrl(R,B){const re=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(re)||B.extras.replaceUrl){const Qe={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(re,"",Qe)}else{const se={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(re,"",se)}}restoreHistory(R,B=!1){if("computed"===this.canceledNavigationResolution){var re;const Qe=this.currentPageId-this.browserPageId;0!==Qe?this.location.historyGo(Qe):this.currentUrlTree===(null===(re=this.getCurrentNavigation())||void 0===re?void 0:re.finalUrl)&&0===Qe&&(this.resetState(R),this.browserUrlTree=R.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=R.currentRouterState,this.currentUrlTree=R.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,B){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:B}:{navigationId:R}}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();function rd(A){return!(A instanceof ai||A instanceof hi)}let si=(()=>{var A;class M{constructor(R,B,re,se,Qe,jt){var Xe;this.router=R,this.route=B,this.tabIndexAttribute=re,this.renderer=se,this.el=Qe,this.locationStrategy=jt,this.href=null,this.commands=null,this.onChanges=new Ne.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=null===(Xe=Qe.nativeElement.tagName)||void 0===Xe?void 0:Xe.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=R.events.subscribe(qn=>{qn instanceof ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(R,B,re,se,Qe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==R||B||re||se||Qe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;this.href=null!==this.urlTree&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const B=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",B)}applyAttributeValue(R,B){const re=this.renderer,se=this.el.nativeElement;null!==B?re.setAttribute(se,R,B):re.removeAttribute(se,R)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=M).\u0275fac=function(R){return new(R||A)(b.Y36(ji),b.Y36(ci),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(we.S$))},A.\u0275dir=b.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,B){1&R&&b.NdJ("click",function(se){return B.onClick(se.button,se.ctrlKey,se.shiftKey,se.altKey,se.metaKey)}),2&R&&b.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",b.VuI],replaceUrl:["replaceUrl","replaceUrl",b.VuI],routerLink:"routerLink"},standalone:!0,features:[b.Xq5,b.TTD]}),M})();class fo{}let Bf=(()=>{var A;class M{preload(R,B){return B().pipe(nt(()=>(0,Ve.of)(null)))}}return(A=M).\u0275fac=function(R){return new(R||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})(),tl=(()=>{var A;class M{constructor(R,B,re,se,Qe){this.router=R,this.injector=re,this.preloadingStrategy=se,this.loader=Qe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.h)(R=>R instanceof ut),Pe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,B){const re=[];for(const Xe of B){var se,Qe;Xe.providers&&!Xe._injector&&(Xe._injector=(0,b.MMx)(Xe.providers,R,`Route: ${Xe.path}`));const yt=null!==(se=Xe._injector)&&void 0!==se?se:R,qn=null!==(Qe=Xe._loadedInjector)&&void 0!==Qe?Qe:yt;var jt;(Xe.loadChildren&&!Xe._loadedRoutes&&void 0===Xe.canLoad||Xe.loadComponent&&!Xe._loadedComponent)&&re.push(this.preloadConfig(yt,Xe)),(Xe.children||Xe._loadedRoutes)&&re.push(this.processRoutes(qn,null!==(jt=Xe.children)&&void 0!==jt?jt:Xe._loadedRoutes))}return(0,ke.D)(re).pipe((0,de.J)())}preloadConfig(R,B){return this.preloadingStrategy.preload(B,()=>{let re;re=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(R,B):(0,Ve.of)(null);const se=re.pipe((0,Rt.z)(Qe=>{var jt;return null===Qe?(0,Ve.of)(void 0):(B._loadedRoutes=Qe.routes,B._loadedInjector=Qe.injector,this.processRoutes(null!==(jt=Qe.injector)&&void 0!==jt?jt:R,Qe.routes))}));if(B.loadComponent&&!B._loadedComponent){const Qe=this.loader.loadComponent(B);return(0,ke.D)([se,Qe]).pipe((0,de.J)())}return se})}}return(A=M).\u0275fac=function(R){return new(R||A)(b.LFG(ji),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(fo),b.LFG(vr))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();const po=new b.OlP("");let lh=(()=>{var A;class M{constructor(R,B,re,se,Qe={}){this.urlSerializer=R,this.transitions=B,this.viewportScroller=re,this.zone=se,this.options=Qe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Qe.scrollPositionRestoration=Qe.scrollPositionRestoration||"disabled",Qe.anchorScrolling=Qe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof ut?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof X&&0===R.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Qn&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qn(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var R,B;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(A=M).\u0275fac=function(R){b.$Z()},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),M})();function eo(A,M){return{\u0275kind:A,\u0275providers:M}}function sd(){const A=(0,b.f3M)(b.zs3);return M=>{var O,R;const B=A.get(b.z2F);if(M!==B.components[0])return;const re=A.get(ji),se=A.get(hh);1===A.get(ar)&&re.initialNavigation(),null===(O=A.get(zf,null,b.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(R=A.get(po,null,b.XFs.Optional))||void 0===R||R.init(),re.resetRootComponentType(B.componentTypes[0]),se.closed||(se.next(),se.complete(),se.unsubscribe())}}const hh=new b.OlP("",{factory:()=>new Ne.x}),ar=new b.OlP("",{providedIn:"root",factory:()=>1}),zf=new b.OlP("");function Hf(A){return eo(0,[{provide:zf,useExisting:tl},{provide:fo,useExisting:A}])}const uc=new b.OlP("ROUTER_FORROOT_GUARD"),zt=[we.Ye,{provide:Sr,useClass:gn},ji,bi,{provide:ci,useFactory:function uh(A){return A.routerState.root},deps:[ji]},vr,[]];function At(){return new b.PXZ("Router",ji)}let _r=(()=>{var A;class M{constructor(R){}static forRoot(R,B){return{ngModule:M,providers:[zt,[],{provide:qt,multi:!0,useValue:R},{provide:uc,useFactory:qg,deps:[[ji,new b.FiY,new b.tp0]]},{provide:js,useValue:B||{}},null!=B&&B.useHash?{provide:we.S$,useClass:we.Do}:{provide:we.S$,useClass:we.b0},{provide:po,useFactory:()=>{const A=(0,b.f3M)(we.EM),M=(0,b.f3M)(b.R0b),O=(0,b.f3M)(js),R=(0,b.f3M)(ur),B=(0,b.f3M)(Sr);return O.scrollOffset&&A.setOffset(O.scrollOffset),new lh(B,R,A,M,O)}},null!=B&&B.preloadingStrategy?Hf(B.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:At},null!=B&&B.initialNavigation?dn(B):[],null!=B&&B.bindToComponentInputs?eo(8,[Bi,{provide:ys,useExisting:Bi}]).\u0275providers:[],[{provide:lt,useFactory:sd},{provide:b.tb,multi:!0,useExisting:lt}]]}}static forChild(R){return{ngModule:M,providers:[{provide:qt,multi:!0,useValue:R}]}}}return(A=M).\u0275fac=function(R){return new(R||A)(b.LFG(uc,8))},A.\u0275mod=b.oAB({type:A}),A.\u0275inj=b.cJS({}),M})();function qg(A){return"guarded"}function dn(A){return["disabled"===A.initialNavigation?eo(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const M=(0,b.f3M)(ji);return()=>{M.setUpLocationChangeListener()}}},{provide:ar,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?eo(2,[{provide:ar,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:M=>{const O=M.get(we.V_,Promise.resolve());return()=>O.then(()=>new Promise(R=>{const B=M.get(ji),re=M.get(hh);hu(B,()=>{R(!0)}),M.get(ur).afterPreactivation=()=>(R(!0),re.closed?(0,Ve.of)(void 0):re),B.initialNavigation()}))}}]).\u0275providers:[]]}const lt=new b.OlP("")},4303:(vn,pt,Z)=>{"use strict";Z.r(pt),Z.d(pt,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>Ut,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>ln,_addOrOverwriteComponent:()=>tn,_apps:()=>tt,_clearComponents:()=>en,_components:()=>Qt,_getProvider:()=>Mn,_registerComponent:()=>it,_removeServiceInstance:()=>Jn,deleteApp:()=>Bn,getApp:()=>rr,getApps:()=>on,initializeApp:()=>fn,onLog:()=>Xn,registerVersion:()=>$n,setLogLevel:()=>zn});var Ve,L,De,b=Z(5861),E=Z(4537),Ye=Z(7879),_e=Z(9058),ke=Z(1878);class ze{constructor(Lt){this.container=Lt}getPlatformInfoString(){return this.container.getProviders().map(pn=>{if(function pe(gn){const Lt=gn.getComponent();return"VERSION"===(null==Lt?void 0:Lt.type)}(pn)){const Nn=pn.getImmediate();return`${Nn.library}/${Nn.version}`}return null}).filter(pn=>pn).join(" ")}}const de="@firebase/app",J=new Ye.Yd("@firebase/app"),Me="[DEFAULT]",nt={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Qt=new Map;function ln(gn,Lt){try{gn.container.addComponent(Lt)}catch(pn){J.debug(`Component ${Lt.name} failed to register with FirebaseApp ${gn.name}`,pn)}}function tn(gn,Lt){gn.container.addOrOverwriteComponent(Lt)}function it(gn){const Lt=gn.name;if(Qt.has(Lt))return J.debug(`There were multiple attempts to register component ${Lt}.`),!1;Qt.set(Lt,gn);for(const pn of tt.values())ln(pn,gn);return!0}function Mn(gn,Lt){const pn=gn.container.getProvider("heartbeat").getImmediate({optional:!0});return pn&&pn.triggerHeartbeat(),gn.container.getProvider(Lt)}function Jn(gn,Lt,pn=Me){Mn(gn,Lt).clearInstance(pn)}function en(){Qt.clear()}const Ke=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $e{constructor(Lt,pn,Nn){this._isDeleted=!1,this._options=Object.assign({},Lt),this._config=Object.assign({},pn),this._name=pn.name,this._automaticDataCollectionEnabled=pn.automaticDataCollectionEnabled,this._container=Nn,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Lt){this._isDeleted=Lt}checkDestroyed(){if(this.isDeleted)throw Ke.create("app-deleted",{appName:this._name})}}const Ut="10.3.1";function fn(gn,Lt={}){let pn=gn;"object"!=typeof Lt&&(Lt={name:Lt});const Nn=Object.assign({name:Me,automaticDataCollectionEnabled:!1},Lt),er=Nn.name;if("string"!=typeof er||!er)throw Ke.create("bad-app-name",{appName:String(er)});if(pn||(pn=(0,_e.aH)()),!pn)throw Ke.create("no-options");const Hn=tt.get(er);if(Hn){if((0,_e.vZ)(pn,Hn.options)&&(0,_e.vZ)(Nn,Hn.config))return Hn;throw Ke.create("duplicate-app",{appName:er})}const jr=new E.H0(er);for(const ie of Qt.values())jr.addComponent(ie);const Se=new $e(pn,Nn,jr);return tt.set(er,Se),Se}function rr(gn=Me){const Lt=tt.get(gn);if(!Lt&&gn===Me&&(0,_e.aH)())return fn();if(!Lt)throw Ke.create("no-app",{appName:gn});return Lt}function on(){return Array.from(tt.values())}function Bn(gn){return(Ve=Ve||(0,b.Z)(function*(Lt){const pn=Lt.name;tt.has(pn)&&(tt.delete(pn),yield Promise.all(Lt.container.getProviders().map(Nn=>Nn.delete())),Lt.isDeleted=!0)})).apply(this,arguments)}function $n(gn,Lt,pn){var Nn;let er=null!==(Nn=nt[gn])&&void 0!==Nn?Nn:gn;pn&&(er+=`-${pn}`);const Hn=er.match(/\s|\//),jr=Lt.match(/\s|\//);if(Hn||jr){const Se=[`Unable to register library "${er}" with version "${Lt}":`];return Hn&&Se.push(`library name "${er}" contains illegal characters (whitespace or "/")`),Hn&&jr&&Se.push("and"),jr&&Se.push(`version name "${Lt}" contains illegal characters (whitespace or "/")`),void J.warn(Se.join(" "))}it(new E.wA(`${er}-version`,()=>({library:er,version:Lt}),"VERSION"))}function Xn(gn,Lt){if(null!==gn&&"function"!=typeof gn)throw Ke.create("invalid-log-argument");(0,Ye.Am)(gn,Lt)}function zn(gn){(0,Ye.Ub)(gn)}const xn="firebase-heartbeat-database",In=1,Or="firebase-heartbeat-store";let Ur=null;function qr(){return Ur||(Ur=(0,ke.X3)(xn,In,{upgrade:(gn,Lt)=>{0===Lt&&gn.createObjectStore(Or)}}).catch(gn=>{throw Ke.create("idb-open",{originalErrorMessage:gn.message})})),Ur}function fr(gn,Lt){return(De=De||(0,b.Z)(function*(pn,Nn){try{const Hn=(yield qr()).transaction(Or,"readwrite");yield Hn.objectStore(Or).put(Nn,bt(pn)),yield Hn.done}catch(er){if(er instanceof _e.ZR)J.warn(er.message);else{const Hn=Ke.create("idb-set",{originalErrorMessage:null==er?void 0:er.message});J.warn(Hn.message)}}})).apply(this,arguments)}function bt(gn){return`${gn.name}!${gn.options.appId}`}class sn{constructor(Lt){this.container=Lt,this._heartbeatsCache=null;const pn=this.container.getProvider("app").getImmediate();this._storage=new wr(pn),this._heartbeatsCachePromise=this._storage.read().then(Nn=>(this._heartbeatsCache=Nn,Nn))}triggerHeartbeat(){var Lt=this;return(0,b.Z)(function*(){const Nn=Lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),er=Ei();if(null===Lt._heartbeatsCache&&(Lt._heartbeatsCache=yield Lt._heartbeatsCachePromise),Lt._heartbeatsCache.lastSentHeartbeatDate!==er&&!Lt._heartbeatsCache.heartbeats.some(Hn=>Hn.date===er))return Lt._heartbeatsCache.heartbeats.push({date:er,agent:Nn}),Lt._heartbeatsCache.heartbeats=Lt._heartbeatsCache.heartbeats.filter(Hn=>{const jr=new Date(Hn.date).valueOf();return Date.now()-jr<=2592e6}),Lt._storage.overwrite(Lt._heartbeatsCache)})()}getHeartbeatsHeader(){var Lt=this;return(0,b.Z)(function*(){if(null===Lt._heartbeatsCache&&(yield Lt._heartbeatsCachePromise),null===Lt._heartbeatsCache||0===Lt._heartbeatsCache.heartbeats.length)return"";const pn=Ei(),{heartbeatsToSend:Nn,unsentEntries:er}=function es(gn,Lt=1024){const pn=[];let Nn=gn.slice();for(const er of gn){const Hn=pn.find(jr=>jr.agent===er.agent);if(Hn){if(Hn.dates.push(er.date),Lr(pn)>Lt){Hn.dates.pop();break}}else if(pn.push({agent:er.agent,dates:[er.date]}),Lr(pn)>Lt){pn.pop();break}Nn=Nn.slice(1)}return{heartbeatsToSend:pn,unsentEntries:Nn}}(Lt._heartbeatsCache.heartbeats),Hn=(0,_e.L)(JSON.stringify({version:2,heartbeats:Nn}));return Lt._heartbeatsCache.lastSentHeartbeatDate=pn,er.length>0?(Lt._heartbeatsCache.heartbeats=er,yield Lt._storage.overwrite(Lt._heartbeatsCache)):(Lt._heartbeatsCache.heartbeats=[],Lt._storage.overwrite(Lt._heartbeatsCache)),Hn})()}}function Ei(){return(new Date).toISOString().substring(0,10)}class wr{constructor(Lt){this.app=Lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Lt=this;return(0,b.Z)(function*(){return(yield Lt._canUseIndexedDBPromise)&&(yield function Ln(gn){return(L=L||(0,b.Z)(function*(Lt){try{return yield(yield qr()).transaction(Or).objectStore(Or).get(bt(Lt))}catch(pn){if(pn instanceof _e.ZR)J.warn(pn.message);else{const Nn=Ke.create("idb-get",{originalErrorMessage:null==pn?void 0:pn.message});J.warn(Nn.message)}}})).apply(this,arguments)}(Lt.app))||{heartbeats:[]}})()}overwrite(Lt){var pn=this;return(0,b.Z)(function*(){var Nn;if(yield pn._canUseIndexedDBPromise){const Hn=yield pn.read();return fr(pn.app,{lastSentHeartbeatDate:null!==(Nn=Lt.lastSentHeartbeatDate)&&void 0!==Nn?Nn:Hn.lastSentHeartbeatDate,heartbeats:Lt.heartbeats})}})()}add(Lt){var pn=this;return(0,b.Z)(function*(){var Nn;if(yield pn._canUseIndexedDBPromise){const Hn=yield pn.read();return fr(pn.app,{lastSentHeartbeatDate:null!==(Nn=Lt.lastSentHeartbeatDate)&&void 0!==Nn?Nn:Hn.lastSentHeartbeatDate,heartbeats:[...Hn.heartbeats,...Lt.heartbeats]})}})()}}function Lr(gn){return(0,_e.L)(JSON.stringify({version:2,heartbeats:gn})).length}!function Sr(gn){it(new E.wA("platform-logger",Lt=>new ze(Lt),"PRIVATE")),it(new E.wA("heartbeat",Lt=>new sn(Lt),"PRIVATE")),$n(de,"0.9.18",gn),$n(de,"0.9.18","esm2017"),$n("fire-js","")}("")},4537:(vn,pt,Z)=>{"use strict";Z.d(pt,{H0:()=>De,wA:()=>Ye});var b=Z(5861),E=Z(9058);class Ye{constructor(pe,de,ve){this.name=pe,this.instanceFactory=de,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const _e="[DEFAULT]";class ke{constructor(pe,de){this.name=pe,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const de=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(de)){const ve=new E.BH;if(this.instancesDeferred.set(de,ve),this.isInitialized(de)||this.shouldAutoInitialize())try{const J=this.getOrInitializeService({instanceIdentifier:de});J&&ve.resolve(J)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(pe){var de;const ve=this.normalizeInstanceIdentifier(null==pe?void 0:pe.identifier),J=null!==(de=null==pe?void 0:pe.optional)&&void 0!==de&&de;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Re){if(J)return null;throw Re}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function L(ze){return"EAGER"===ze.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[de,ve]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(de);try{const Re=this.getOrInitializeService({instanceIdentifier:J});ve.resolve(Re)}catch{}}}}clearInstance(pe=_e){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,b.Z)(function*(){const de=Array.from(pe.instances.values());yield Promise.all([...de.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...de.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=_e){return this.instances.has(pe)}getOptions(pe=_e){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:de={}}=pe,ve=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:ve,options:de});for(const[Re,je]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Re)&&je.resolve(J);return J}onInit(pe,de){var ve;const J=this.normalizeInstanceIdentifier(de),Re=null!==(ve=this.onInitCallbacks.get(J))&&void 0!==ve?ve:new Set;Re.add(pe),this.onInitCallbacks.set(J,Re);const je=this.instances.get(J);return je&&pe(je,J),()=>{Re.delete(pe)}}invokeOnInitCallbacks(pe,de){const ve=this.onInitCallbacks.get(de);if(ve)for(const J of ve)try{J(pe,de)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:de={}}){let ve=this.instances.get(pe);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=pe,ze===_e?void 0:ze),options:de}),this.instances.set(pe,ve),this.instancesOptions.set(pe,de),this.invokeOnInitCallbacks(ve,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,ve)}catch{}var ze;return ve||null}normalizeInstanceIdentifier(pe=_e){return this.component?this.component.multipleInstances?pe:_e:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const de=this.getProvider(pe.name);if(de.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);de.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const de=new ke(pe,this);return this.providers.set(pe,de),de}getProviders(){return Array.from(this.providers.values())}}},7879:(vn,pt,Z)=>{"use strict";Z.d(pt,{Am:()=>ze,Ub:()=>De,Yd:()=>L,in:()=>E});const b=[];var E=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(E||{});const Ye={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},_e=E.INFO,ke={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Ve=(pe,de,...ve)=>{if(de<pe.logLevel)return;const J=(new Date).toISOString(),Re=ke[de];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Re](`[${J}]  ${pe.name}:`,...ve)};class L{constructor(de){this.name=de,this._logLevel=_e,this._logHandler=Ve,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in E))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?Ye[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...de),this._logHandler(this,E.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...de),this._logHandler(this,E.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,E.INFO,...de),this._logHandler(this,E.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,E.WARN,...de),this._logHandler(this,E.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...de),this._logHandler(this,E.ERROR,...de)}}function De(pe){b.forEach(de=>{de.setLogLevel(pe)})}function ze(pe,de){for(const ve of b){let J=null;de&&de.level&&(J=Ye[de.level]),ve.userLogHandler=null===pe?null:(Re,je,...at)=>{const We=at.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");je>=(null!=J?J:Re.logLevel)&&pe({level:E[je].toLowerCase(),message:We,args:at,type:Re.name})}}}},1509:(vn,pt,Z)=>{"use strict";Z.d(pt,{dr:()=>es,oU:()=>Lr,cs:()=>la,Sm:()=>er,PM:()=>Hn,FN:()=>jr,Zi:()=>Se,tO:()=>ie,W2:()=>_t,x4:()=>Ft,IJ:()=>Kn,W4:()=>Er,Gu:()=>ts,gu:()=>Xr,X7:()=>Ds,jP:()=>Us,Bs:()=>hi,wd:()=>Co,sr:()=>Cs,Pc:()=>fe,r4:()=>W,YI:()=>cr,Fo:()=>Ca,QI:()=>In});var b=Z(5861),E=Z(6689),Ye=Z(95),_e=Z(7582),ke=Z(4829),Ve=Z(5592),L=Z(1631),De=Z(4266),ze=Z(4674),pe=Z(7400);const de=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],J=["on","off"];function Re(D,z,C,j){if((0,ze.m)(C)&&(j=C,C=void 0),j)return Re(D,z,C).pipe((0,pe.Z)(j));const[ae,Et]=function Ee(D){return(0,ze.m)(D.addEventListener)&&(0,ze.m)(D.removeEventListener)}(D)?ve.map(Zt=>yn=>D[Zt](z,yn,C)):function at(D){return(0,ze.m)(D.addListener)&&(0,ze.m)(D.removeListener)}(D)?de.map(je(D,z)):function We(D){return(0,ze.m)(D.on)&&(0,ze.m)(D.off)}(D)?J.map(je(D,z)):[];if(!ae&&(0,De.z)(D))return(0,L.z)(Zt=>Re(Zt,z,C))((0,ke.Xf)(D));if(!ae)throw new TypeError("Invalid event target");return new Ve.y(Zt=>{const yn=(...lr)=>Zt.next(1<lr.length?lr:lr[0]);return ae(yn),()=>Et(yn)})}function je(D,z){return C=>j=>D[C](z,j)}var ot=Z(8645),ht=Z(5619),et=Z(2572),He=Z(2096),Ze=Z(9599),Ne=(Z(1774),Z(12)),ct=(Z(5812),Z(7202),Z(9203),Z(2560)),Ht=Z(839),Tt=Z(3365),Tn=(Z(3029),Z(4016)),It=(Z(6225),Z(8423));Z(619);var Pe=Z(2181),Me=Z(4664),nt=Z(3997),tt=Z(6814);const ln=ct.i,it=["*"],Ut=D=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(D):"function"==typeof requestAnimationFrame?requestAnimationFrame(D):setTimeout(D);let fn=(()=>{class D{constructor(C,j){this.injector=C,this.el=j,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(C){this.el.nativeElement.value=this.lastValue=C,rr(this.el)}handleValueChange(C,j){C===this.el.nativeElement&&(j!==this.lastValue&&(this.lastValue=j,this.onChange(j)),rr(this.el))}_handleBlurEvent(C){C===this.el.nativeElement&&(this.onTouched(),rr(this.el))}registerOnChange(C){this.onChange=C}registerOnTouched(C){this.onTouched=C}setDisabledState(C){this.el.nativeElement.disabled=C}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let C;try{C=this.injector.get(Ye.a5)}catch{}if(!C)return;C.statusChanges&&(this.statusChanges=C.statusChanges.subscribe(()=>rr(this.el)));const j=C.control;j&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Et=>{if(typeof j[Et]<"u"){const Zt=j[Et].bind(j);j[Et]=(...yn)=>{Zt(...yn),rr(this.el)}}})}}return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.zs3),E.Y36(E.SBq))},D.\u0275dir=E.lG2({type:D,hostBindings:function(C,j){1&C&&E.NdJ("ionBlur",function(Et){return j._handleBlurEvent(Et.target)})}}),D})();const rr=D=>{Ut(()=>{const z=D.nativeElement,C=null!=z.value&&z.value.toString().length>0,j=on(z);Bn(z,j);const ae=z.closest("ion-item");ae&&Bn(ae,C?[...j,"item-has-value"]:j)})},on=D=>{const z=D.classList,C=[];for(let j=0;j<z.length;j++){const ae=z.item(j);null!==ae&&$n(ae,"ng-")&&C.push(`ion-${ae.substring(3)}`)}return C},Bn=(D,z)=>{const C=D.classList;C.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),C.add(...z)},$n=(D,z)=>D.substring(0,z.length)===z;let In=(()=>{class D extends fn{constructor(C,j){super(C,j)}_handleChangeEvent(C){this.handleValueChange(C,C.value)}}return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.zs3),E.Y36(E.SBq))},D.\u0275dir=E.lG2({type:D,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(C,j){1&C&&E.NdJ("ionChange",function(Et){return j._handleChangeEvent(Et.target)})},features:[E._Bn([{provide:Ye.JU,useExisting:D,multi:!0}]),E.qOj]}),D})();const Ur=(D,z)=>{const C=D.prototype;z.forEach(j=>{Object.defineProperty(C,j,{get(){return this.el[j]},set(ae){this.z.runOutsideAngular(()=>this.el[j]=ae)}})})},qr=(D,z)=>{const C=D.prototype;z.forEach(j=>{C[j]=function(){const ae=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,ae))}})},Ln=(D,z,C)=>{C.forEach(j=>D[j]=Re(z,j))};function bt(D){return function(C){const{defineCustomElementFn:j,inputs:ae,methods:Et}=D;return void 0!==j&&j(),ae&&Ur(C,ae),Et&&qr(C,Et),C}}let es=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-app"]],ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({})],D),D})(),Lr=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],D),D})(),er=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["collapse"]})],D),D})(),Hn=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],D),D})(),jr=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["mode"]})],D),D})(),Se=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","mode","translucent"]})],D),D})(),ie=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","mode"]})],D),D})(),_t=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement,Ln(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],D),D})(),Ft=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement,Ln(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],D),D})(),Kn=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],D),D})(),Er=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement,Ln(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],D),D})(),ts=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["collapse","mode","translucent"]})],D),D})(),Xr=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],D),D})(),Ds=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["buffer","color","mode","reversed","type","value"]})],D),D})(),hi=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-thumbnail"]],ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({})],D),D})(),Co=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","size"]})],D),D})(),Cs=(()=>{let D=class{constructor(C,j,ae){this.z=ae,C.detach(),this.el=j.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.R0b))},D.\u0275cmp=E.Xpm({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:it,decls:1,vars:0,template:function(C,j){1&C&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,_e.gn)([bt({inputs:["color","mode"]})],D),D})(),is=(()=>{class D{get(C,j){const ae=As();return ae?ae.get(C,j):null}getBoolean(C,j){const ae=As();return!!ae&&ae.getBoolean(C,j)}getNumber(C,j){const ae=As();return ae?ae.getNumber(C,j):0}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const zo=new E.OlP("USERCONFIG"),As=()=>{if(typeof window<"u"){const D=window.Ionic;if(null!=D&&D.config)return D.config}return null};let Cn=(()=>{class D{constructor(C,j){this.doc=C,this.backButton=new ot.x,this.keyboardDidShow=new ot.x,this.keyboardDidHide=new ot.x,this.pause=new ot.x,this.resume=new ot.x,this.resize=new ot.x,j.run(()=>{var ae;let Et;this.win=C.defaultView,this.backButton.subscribeWithPriority=function(Zt,yn){return this.subscribe(lr=>lr.register(Zt,Nr=>j.run(()=>yn(Nr))))},Yr(this.pause,C,"pause"),Yr(this.resume,C,"resume"),Yr(this.backButton,C,"ionBackButton"),Yr(this.resize,this.win,"resize"),Yr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Yr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Zt=>{Et=Zt}),null!==(ae=this.win)&&void 0!==ae&&ae.cordova?C.addEventListener("deviceready",()=>{Et("cordova")},{once:!0}):Et("dom")})}is(C){return(0,ct.a)(this.win,C)}platforms(){return(0,ct.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(C){return yi(this.win.location.href,C)}isLandscape(){return!this.isPortrait()}isPortrait(){var C,j;return null===(C=(j=this.win).matchMedia)||void 0===C?void 0:C.call(j,"(orientation: portrait)").matches}testUserAgent(C){const j=this.win.navigator;return!!(null!=j&&j.userAgent&&j.userAgent.indexOf(C)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return D.\u0275fac=function(C){return new(C||D)(E.LFG(tt.K0),E.LFG(E.R0b))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const yi=(D,z)=>{z=z.replace(/[[\]\\]/g,"\\$&");const j=new RegExp("[\\?&]"+z+"=([^&#]*)").exec(D);return j?decodeURIComponent(j[1].replace(/\+/g," ")):null},Yr=(D,z,C)=>{z&&z.addEventListener(C,j=>{D.next(null!=j?j.detail:void 0)})};let Ss=(()=>{class D{constructor(C,j,ae,Et){this.location=j,this.serializer=ae,this.router=Et,this.direction=Ua,this.animated=ca,this.guessDirection="forward",this.lastNavId=-1,Et&&Et.events.subscribe(Zt=>{if(Zt instanceof Ze.OD){const yn=Zt.restoredState?Zt.restoredState.navigationId:Zt.id;this.guessDirection=yn<this.lastNavId?"back":"forward",this.guessAnimation=Zt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Zt.id:yn}}),C.backButton.subscribeWithPriority(0,Zt=>{this.pop(),Zt()})}navigateForward(C,j={}){return this.setDirection("forward",j.animated,j.animationDirection,j.animation),this.navigate(C,j)}navigateBack(C,j={}){return this.setDirection("back",j.animated,j.animationDirection,j.animation),this.navigate(C,j)}navigateRoot(C,j={}){return this.setDirection("root",j.animated,j.animationDirection,j.animation),this.navigate(C,j)}back(C={animated:!0,animationDirection:"back"}){return this.setDirection("back",C.animated,C.animationDirection,C.animation),this.location.back()}pop(){var C=this;return(0,b.Z)(function*(){let j=C.topOutlet;for(;j;){if(yield j.pop())return!0;j=j.parentOutlet}return!1})()}setDirection(C,j,ae,Et){this.direction=C,this.animated=ci(C,j,ae),this.animationBuilder=Et}setTopOutlet(C){this.topOutlet=C}consumeTransition(){let j,C="root";const ae=this.animationBuilder;return"auto"===this.direction?(C=this.guessDirection,j=this.guessAnimation):(j=this.animated,C=this.direction),this.direction=Ua,this.animated=ca,this.animationBuilder=void 0,{direction:C,animation:j,animationBuilder:ae}}navigate(C,j){if(Array.isArray(C))return this.router.navigate(C,j);{const ae=this.serializer.parse(C.toString());return void 0!==j.queryParams&&(ae.queryParams={...j.queryParams}),void 0!==j.fragment&&(ae.fragment=j.fragment),this.router.navigateByUrl(ae,j)}}}return D.\u0275fac=function(C){return new(C||D)(E.LFG(Cn),E.LFG(tt.Ye),E.LFG(Ze.Hx),E.LFG(Ze.F0,8))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const ci=(D,z,C)=>{if(!1!==z){if(void 0!==C)return C;if("forward"===D||"back"===D)return D;if("root"===D&&!0===z)return"forward"}},Ua="auto",ca=void 0;class _s{constructor(z={}){this.data=z}get(z){return this.data[z]}}let lo=(()=>{class D{constructor(){this.zone=(0,E.f3M)(E.R0b),this.applicationRef=(0,E.f3M)(E.z2F)}create(C,j,ae){return new ic(C,j,this.applicationRef,this.zone,ae)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();class ic{constructor(z,C,j,ae,Et){this.environmentInjector=z,this.injector=C,this.applicationRef=j,this.zone=ae,this.elementReferenceKey=Et,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(z,C,j,ae){return this.zone.run(()=>new Promise(Et=>{const Zt={...j};void 0!==this.elementReferenceKey&&(Zt[this.elementReferenceKey]=z),Et(Zr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,z,C,Zt,ae,this.elementReferenceKey))}))}removeViewFromDom(z,C){return this.zone.run(()=>new Promise(j=>{const ae=this.elRefMap.get(C);if(ae){ae.destroy(),this.elRefMap.delete(C);const Et=this.elEventsMap.get(C);Et&&(Et(),this.elEventsMap.delete(C))}j()}))}}const Zr=(D,z,C,j,ae,Et,Zt,yn,lr,Nr,Js)=>{const Ko=E.zs3.create({providers:Vi(lr),parent:C}),Ui=(0,E.LMc)(yn,{environmentInjector:z,elementInjector:Ko}),ss=Ui.instance,Ai=Ui.location.nativeElement;if(lr&&(Js&&void 0!==ss[Js]&&console.error(`[Ionic Error]: ${Js} is a reserved property when using ${Zt.tagName.toLowerCase()}. Rename or remove the "${Js}" property from ${yn.name}.`),Object.assign(ss,lr)),Nr)for(const os of Nr)Ai.classList.add(os);const xo=ir(D,ss,Ai);return Zt.appendChild(Ai),j.attachView(Ui.hostView),ae.set(Ai,Ui),Et.set(Ai,xo),Ai},rn=[Ne.L,Ne.a,Ne.b,Ne.c,Ne.d],ir=(D,z,C)=>D.run(()=>{const j=rn.filter(ae=>"function"==typeof z[ae]).map(ae=>{const Et=Zt=>z[ae](Zt.detail);return C.addEventListener(ae,Et),()=>C.removeEventListener(ae,Et)});return()=>j.forEach(ae=>ae())}),Wr=new E.OlP("NavParamsToken"),Vi=D=>[{provide:Wr,useValue:D},{provide:_s,useFactory:ys,deps:[Wr]}],ys=D=>new _s(D),Ta=(D,z)=>((D=D.filter(C=>C.stackId!==z.stackId)).push(z),D),Ao=(D,z)=>{const C=D.createUrlTree(["."],{relativeTo:z});return D.serializeUrl(C)},Yn=(D,z)=>!z||D.stackId!==z.stackId,uo=(D,z)=>{if(!D)return;const C=Ho(z);for(let j=0;j<C.length;j++){if(j>=D.length)return C[j];if(C[j]!==D[j])return}},Ho=D=>D.split("/").map(z=>z.trim()).filter(z=>""!==z),$s=D=>{D&&(D.ref.destroy(),D.unlistenEvents())};class Fr{constructor(z,C,j,ae,Et,Zt){this.containerEl=C,this.router=j,this.navCtrl=ae,this.zone=Et,this.location=Zt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==z?Ho(z):void 0}createView(z,C){var j;const ae=Ao(this.router,C),Et=null==z||null===(j=z.location)||void 0===j?void 0:j.nativeElement,Zt=ir(this.zone,z.instance,Et);return{id:this.nextId++,stackId:uo(this.tabsPrefix,ae),unlistenEvents:Zt,element:Et,ref:z,url:ae}}getExistingView(z){const C=Ao(this.router,z),j=this.views.find(ae=>ae.url===C);return j&&j.ref.changeDetectorRef.reattach(),j}setActive(z){var C,j;const ae=this.navCtrl.consumeTransition();let{direction:Et,animation:Zt,animationBuilder:yn}=ae;const lr=this.activeView,Nr=Yn(z,lr);Nr&&(Et="back",Zt=void 0);const Js=this.views.slice();let Ko;const Ui=this.router;Ui.getCurrentNavigation?Ko=Ui.getCurrentNavigation():null!==(C=Ui.navigations)&&void 0!==C&&C.value&&(Ko=Ui.navigations.value),null!==(j=Ko)&&void 0!==j&&null!==(j=j.extras)&&void 0!==j&&j.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ss=this.views.includes(z),Ai=this.insertView(z,Et);ss||z.ref.changeDetectorRef.detectChanges();const xo=z.animationBuilder;return void 0===yn&&"back"===Et&&!Nr&&void 0!==xo&&(yn=xo),lr&&(lr.animationBuilder=yn),this.zone.runOutsideAngular(()=>this.wait(()=>(lr&&lr.ref.changeDetectorRef.detach(),z.ref.changeDetectorRef.reattach(),this.transition(z,lr,Zt,this.canGoBack(1),!1,yn).then(()=>qo(z,Ai,Js,this.location,this.zone)).then(()=>({enteringView:z,direction:Et,animation:Zt,tabSwitch:Nr})))))}canGoBack(z,C=this.getActiveStackId()){return this.getStack(C).length>z}pop(z,C=this.getActiveStackId()){return this.zone.run(()=>{const j=this.getStack(C);if(j.length<=z)return Promise.resolve(!1);const ae=j[j.length-z-1];let Et=ae.url;const Zt=ae.savedData;if(Zt){var yn;const Nr=Zt.get("primary");null!=Nr&&null!==(yn=Nr.route)&&void 0!==yn&&null!==(yn=yn._routerState)&&void 0!==yn&&yn.snapshot.url&&(Et=Nr.route._routerState.snapshot.url)}const{animationBuilder:lr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Et,{...ae.savedExtras,animation:lr}).then(()=>!0)})}startBackTransition(){const z=this.activeView;if(z){const C=this.getStack(z.stackId),j=C[C.length-2],ae=j.animationBuilder;return this.wait(()=>this.transition(j,z,"back",this.canGoBack(2),!0,ae))}return Promise.resolve()}endBackTransition(z){z?(this.skipTransition=!0,this.pop(1)):this.activeView&&Wo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(z){const C=this.getStack(z);return C.length>0?C[C.length-1]:void 0}getRootUrl(z){const C=this.getStack(z);return C.length>0?C[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($s),this.activeView=void 0,this.views=[]}getStack(z){return this.views.filter(C=>C.stackId===z)}insertView(z,C){return this.activeView=z,this.views=((D,z,C)=>"root"===C?Ta(D,z):"forward"===C?((D,z)=>(D.indexOf(z)>=0?D=D.filter(j=>j.stackId!==z.stackId||j.id<=z.id):D.push(z),D))(D,z):((D,z)=>D.indexOf(z)>=0?D.filter(j=>j.stackId!==z.stackId||j.id<=z.id):Ta(D,z))(D,z))(this.views,z,C),this.views.slice()}transition(z,C,j,ae,Et,Zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(C===z)return Promise.resolve(!1);const yn=z?z.element:void 0,lr=C?C.element:void 0,Nr=this.containerEl;return yn&&yn!==lr&&(yn.classList.add("ion-page"),yn.classList.add("ion-page-invisible"),yn.parentElement!==Nr&&Nr.appendChild(yn),Nr.commit)?Nr.commit(yn,lr,{duration:void 0===j?0:void 0,direction:j,showGoBack:ae,progressAnimation:Et,animationBuilder:Zt}):Promise.resolve(!1)}wait(z){var C=this;return(0,b.Z)(function*(){void 0!==C.runningTask&&(yield C.runningTask,C.runningTask=void 0);const j=C.runningTask=z();return j.finally(()=>C.runningTask=void 0),j})()}}const qo=(D,z,C,j,ae)=>"function"==typeof requestAnimationFrame?new Promise(Et=>{requestAnimationFrame(()=>{Wo(D,z,C,j,ae),Et()})}):Promise.resolve(),Wo=(D,z,C,j,ae)=>{ae.run(()=>C.filter(Et=>!z.includes(Et)).forEach($s)),z.forEach(Et=>{const yn=j.path().split("?")[0].split("#")[0];if(Et!==D&&Et.url!==yn){const lr=Et.element;lr.setAttribute("aria-hidden","true"),lr.classList.add("ion-page-hidden"),Et.ref.changeDetectorRef.detach()}})};let Us=(()=>{class D{constructor(C,j,ae,Et,Zt,yn,lr,Nr){this.parentOutlet=Nr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ht.X(null),this.activated=null,this._activatedRoute=null,this.name=Ze.eC,this.stackWillChange=new E.vpe,this.stackDidChange=new E.vpe,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.parentContexts=(0,E.f3M)(Ze.y6),this.location=(0,E.f3M)(E.s_b),this.environmentInjector=(0,E.f3M)(E.lqb),this.inputBinder=(0,E.f3M)(ba,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,E.f3M)(is),this.navCtrl=(0,E.f3M)(Ss),this.nativeEl=Et.nativeElement,this.name=C||Ze.eC,this.tabsPrefix="true"===j?Ao(Zt,lr):void 0,this.stackCtrl=new Fr(this.tabsPrefix,this.nativeEl,Zt,this.navCtrl,yn,ae),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(C){this.nativeEl.animation=C}set animated(C){this.nativeEl.animated=C}set swipeGesture(C){this._swipeGesture=C,this.nativeEl.swipeHandler=C?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:j=>this.stackCtrl.endBackTransition(j)}:void 0}ngOnDestroy(){var C;this.stackCtrl.destroy(),null===(C=this.inputBinder)||void 0===C||C.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const C=this.getContext();null!=C&&C.route&&this.activateWith(C.route,C.injector)}new Promise(C=>(0,Ht.c)(this.nativeEl,C)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(C,j){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const j=this.getContext();this.activatedView.savedData=new Map(j.children.contexts);const ae=this.activatedView.savedData.get("primary");if(ae&&j.route&&(ae.route={...j.route}),this.activatedView.savedExtras={},j.route){const Et=j.route.snapshot;this.activatedView.savedExtras.queryParams=Et.queryParams,this.activatedView.savedExtras.fragment=Et.fragment}}const C=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,j){var ae;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;let Et,Zt=this.stackCtrl.getExistingView(C);if(Zt){Et=this.activated=Zt.ref;const Nr=Zt.savedData;Nr&&(this.getContext().children.contexts=Nr),this.updateActivatedRouteProxy(Et.instance,C)}else{var yn;const Nr=C._futureSnapshot,Js=this.parentContexts.getOrCreateContext(this.name).children,Ko=new ht.X(null),Ui=this.createActivatedRouteProxy(Ko,C),ss=new wa(Ui,Js,this.location.injector),Ai=null!==(yn=Nr.routeConfig.component)&&void 0!==yn?yn:Nr.component;Et=this.activated=this.location.createComponent(Ai,{index:this.location.length,injector:ss,environmentInjector:null!=j?j:this.environmentInjector}),Ko.next(Et.instance),Zt=this.stackCtrl.createView(this.activated,C),this.proxyMap.set(Et.instance,Ui),this.currentActivatedRoute$.next({component:Et.instance,activatedRoute:C})}null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activatedView=Zt,this.navCtrl.setTopOutlet(this);const lr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Zt,tabSwitch:Yn(Zt,lr)}),this.stackCtrl.setActive(Zt).then(Nr=>{this.activateEvents.emit(Et.instance),this.stackDidChange.emit(Nr)})}canGoBack(C=1,j){return this.stackCtrl.canGoBack(C,j)}pop(C=1,j){return this.stackCtrl.pop(C,j)}getLastUrl(C){const j=this.stackCtrl.getLastUrl(C);return j?j.url:void 0}getLastRouteView(C){return this.stackCtrl.getLastUrl(C)}getRootView(C){return this.stackCtrl.getRootUrl(C)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(C,j){const ae=new Ze.gz;return ae._futureSnapshot=j._futureSnapshot,ae._routerState=j._routerState,ae.snapshot=j.snapshot,ae.outlet=j.outlet,ae.component=j.component,ae._paramMap=this.proxyObservable(C,"paramMap"),ae._queryParamMap=this.proxyObservable(C,"queryParamMap"),ae.url=this.proxyObservable(C,"url"),ae.params=this.proxyObservable(C,"params"),ae.queryParams=this.proxyObservable(C,"queryParams"),ae.fragment=this.proxyObservable(C,"fragment"),ae.data=this.proxyObservable(C,"data"),ae}proxyObservable(C,j){return C.pipe((0,Pe.h)(ae=>!!ae),(0,Me.w)(ae=>this.currentActivatedRoute$.pipe((0,Pe.h)(Et=>null!==Et&&Et.component===ae),(0,Me.w)(Et=>Et&&Et.activatedRoute[j]),(0,nt.x)())))}updateActivatedRouteProxy(C,j){const ae=this.proxyMap.get(C);if(!ae)throw new Error("Could not find activated route proxy for view");ae._futureSnapshot=j._futureSnapshot,ae._routerState=j._routerState,ae.snapshot=j.snapshot,ae.outlet=j.outlet,ae.component=j.component,this.currentActivatedRoute$.next({component:C,activatedRoute:j})}}return D.\u0275fac=function(C){return new(C||D)(E.$8M("name"),E.$8M("tabs"),E.Y36(tt.Ye),E.Y36(E.SBq),E.Y36(Ze.F0),E.Y36(E.R0b),E.Y36(Ze.gz),E.Y36(D,12))},D.\u0275dir=E.lG2({type:D,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class wa{constructor(z,C,j){this.route=z,this.childContexts=C,this.parent=j}get(z,C){return z===Ze.gz?this.route:z===Ze.y6?this.childContexts:this.parent.get(z,C)}}const ba=new E.OlP("");let vs=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){var j;null===(j=this.outletDataSubscriptions.get(C))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:j}=C,ae=(0,et.a)([j.queryParams,j.params,j.data]).pipe((0,Me.w)(([Et,Zt,yn],lr)=>(yn={...Et,...Zt,...yn},0===lr?(0,He.of)(yn):Promise.resolve(yn)))).subscribe(Et=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(C);const Zt=(0,E.qFp)(j.component);if(Zt)for(const{templateName:yn}of Zt.inputs)C.activatedComponentRef.setInput(yn,Et[yn]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,ae)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})(),la=(()=>{class D{constructor(C,j,ae){this.routerOutlet=C,this.navCtrl=j,this.config=ae}onClick(C){var j;const ae=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(j=this.routerOutlet)&&void 0!==j&&j.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),C.preventDefault()):null!=ae&&(this.navCtrl.navigateBack(ae,{animation:this.routerAnimation}),C.preventDefault())}}return D.\u0275fac=function(C){return new(C||D)(E.Y36(Us,8),E.Y36(Ss),E.Y36(is))},D.\u0275dir=E.lG2({type:D,selectors:[["ion-back-button"]],hostBindings:function(C,j){1&C&&E.NdJ("click",function(Et){return j.onClick(Et)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),D})(),cr=(()=>{class D{constructor(C,j,ae,Et,Zt){this.locationStrategy=C,this.navCtrl=j,this.elementRef=ae,this.router=Et,this.routerLink=Zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var C;if(null!==(C=this.routerLink)&&void 0!==C&&C.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(C){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),C.preventDefault()}}return D.\u0275fac=function(C){return new(C||D)(E.Y36(tt.S$),E.Y36(Ss),E.Y36(E.SBq),E.Y36(Ze.F0),E.Y36(Ze.rH,8))},D.\u0275dir=E.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,j){1&C&&E.NdJ("click",function(Et){return j.onClick(Et)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[E.TTD]}),D})(),Ca=(()=>{class D{constructor(C,j,ae,Et,Zt){this.locationStrategy=C,this.navCtrl=j,this.elementRef=ae,this.router=Et,this.routerLink=Zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var C;if(null!==(C=this.routerLink)&&void 0!==C&&C.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return D.\u0275fac=function(C){return new(C||D)(E.Y36(tt.S$),E.Y36(Ss),E.Y36(E.SBq),E.Y36(Ze.F0),E.Y36(Ze.rH,8))},D.\u0275dir=E.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(C,j){1&C&&E.NdJ("click",function(){return j.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[E.TTD]}),D})();const qi={provide:Ye.Cf,useExisting:(0,E.Gpc)(()=>sc),multi:!0};let sc=(()=>{class D extends Ye.Fd{}return D.\u0275fac=function(){let z;return function(j){return(z||(z=E.n5z(D)))(j||D)}}(),D.\u0275dir=E.lG2({type:D,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(C,j){2&C&&E.uIk("max",j._enabled?j.max:null)},features:[E._Bn([qi]),E.qOj]}),D})();const Aa={provide:Ye.Cf,useExisting:(0,E.Gpc)(()=>oc),multi:!0};let oc=(()=>{class D extends Ye.qQ{}return D.\u0275fac=function(){let z;return function(j){return(z||(z=E.n5z(D)))(j||D)}}(),D.\u0275dir=E.lG2({type:D,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(C,j){2&C&&E.uIk("min",j._enabled?j.min:null)},features:[E._Bn([Aa]),E.qOj]}),D})();class Mi{constructor(z){this.ctrl=z}create(z){return this.ctrl.create(z||{})}dismiss(z,C,j){return this.ctrl.dismiss(z,C,j)}getTop(){return this.ctrl.getTop()}}let ja=(()=>{class D extends Mi{constructor(){super(Tn.m),this.angularDelegate=(0,E.f3M)(lo),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(C){return super.create({...C,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})(),So=(()=>{class D extends Mi{constructor(){super(Tn.c),this.angularDelegate=(0,E.f3M)(lo),this.injector=(0,E.f3M)(E.zs3),this.environmentInjector=(0,E.f3M)(E.lqb)}create(C){return super.create({...C,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();class W{shouldDetach(z){return!1}shouldAttach(z){return!1}store(z,C){}retrieve(z){return null}shouldReuseRoute(z,C){if(z.routeConfig!==C.routeConfig)return!1;const j=z.params,ae=C.params,Et=Object.keys(j),Zt=Object.keys(ae);if(Et.length!==Zt.length)return!1;for(const yn of Et)if(ae[yn]!==j[yn])return!1;return!0}}const V=(D,z,C)=>()=>{if(z.defaultView&&typeof window<"u"){(0,Tt.s)({...D,_zoneGate:Et=>C.run(Et)});const ae="__zone_symbol__addEventListener"in z.body?"__zone_symbol__addEventListener":"addEventListener";return function Qt(){var D=[];if(typeof window<"u"){var z=window;(!z.customElements||z.Element&&(!z.Element.prototype.closest||!z.Element.prototype.matches||!z.Element.prototype.remove||!z.Element.prototype.getRootNode))&&D.push(Z.e(6748).then(Z.t.bind(Z,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||z.NodeList&&!z.NodeList.prototype.forEach||!z.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&D.push(Z.e(2214).then(Z.t.bind(Z,2668,23)))}return Promise.all(D)}().then(()=>((D,z)=>{if(!(typeof window>"u"))return ln(),(0,It.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),z)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ut,jmp:Et=>C.runOutsideAngular(Et),ael(Et,Zt,yn,lr){Et[ae](Zt,yn,lr)},rel(Et,Zt,yn,lr){Et.removeEventListener(Zt,yn,lr)}}))}};let fe=(()=>{class D{static forRoot(C){return{ngModule:D,providers:[{provide:zo,useValue:C},{provide:E.ip1,useFactory:V,multi:!0,deps:[zo,tt.K0,E.R0b]},{provide:ba,useFactory:kt,deps:[Ze.F0]}]}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275mod=E.oAB({type:D}),D.\u0275inj=E.cJS({providers:[lo,ja,So],imports:[tt.ez]}),D})();function kt(D){return null!=D&&D.componentInputBindingEnabled?new vs:null}},1043:(vn,pt,Z)=>{"use strict";Z.d(pt,{IO:()=>b.IO,JU:()=>b.JU,PL:()=>b.PL,QT:()=>b.QT,ad:()=>b.ad,ar:()=>b.ar,hJ:()=>b.hJ,oe:()=>b.oe,pl:()=>b.pl,r7:()=>b.r7});var b=Z(5776)},1878:(vn,pt,Z)=>{"use strict";Z.d(pt,{X3:()=>ht});var b=Z(5861);const E=(we,Ge)=>Ge.some(qe=>we instanceof qe);let Ye,_e;const L=new WeakMap,De=new WeakMap,ze=new WeakMap,pe=new WeakMap,de=new WeakMap;let Re={get(we,Ge,qe){if(we instanceof IDBTransaction){if("done"===Ge)return De.get(we);if("objectStoreNames"===Ge)return we.objectStoreNames||ze.get(we);if("store"===Ge)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Ee(we[Ge])},set:(we,Ge,qe)=>(we[Ge]=qe,!0),has:(we,Ge)=>we instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in we};function We(we){return"function"==typeof we?function at(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Ge){return we.apply(ot(this),Ge),Ee(L.get(this))}:function(...Ge){return Ee(we.apply(ot(this),Ge))}:function(Ge,...qe){const ct=we.call(ot(this),Ge,...qe);return ze.set(ct,Ge.sort?Ge.sort():[Ge]),Ee(ct)}}(we):(we instanceof IDBTransaction&&function J(we){if(De.has(we))return;const Ge=new Promise((qe,ct)=>{const Ht=()=>{we.removeEventListener("complete",Tt),we.removeEventListener("error",Rt),we.removeEventListener("abort",Rt)},Tt=()=>{qe(),Ht()},Rt=()=>{ct(we.error||new DOMException("AbortError","AbortError")),Ht()};we.addEventListener("complete",Tt),we.addEventListener("error",Rt),we.addEventListener("abort",Rt)});De.set(we,Ge)}(we),E(we,function ke(){return Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Re):we)}function Ee(we){if(we instanceof IDBRequest)return function ve(we){const Ge=new Promise((qe,ct)=>{const Ht=()=>{we.removeEventListener("success",Tt),we.removeEventListener("error",Rt)},Tt=()=>{qe(Ee(we.result)),Ht()},Rt=()=>{ct(we.error),Ht()};we.addEventListener("success",Tt),we.addEventListener("error",Rt)});return Ge.then(qe=>{qe instanceof IDBCursor&&L.set(qe,we)}).catch(()=>{}),de.set(Ge,we),Ge}(we);if(pe.has(we))return pe.get(we);const Ge=We(we);return Ge!==we&&(pe.set(we,Ge),de.set(Ge,we)),Ge}const ot=we=>de.get(we);function ht(we,Ge,{blocked:qe,upgrade:ct,blocking:Ht,terminated:Tt}={}){const Rt=indexedDB.open(we,Ge),Tn=Ee(Rt);return ct&&Rt.addEventListener("upgradeneeded",_n=>{ct(Ee(Rt.result),_n.oldVersion,_n.newVersion,Ee(Rt.transaction),_n)}),qe&&Rt.addEventListener("blocked",_n=>qe(_n.oldVersion,_n.newVersion,_n)),Tn.then(_n=>{Tt&&_n.addEventListener("close",()=>Tt()),Ht&&_n.addEventListener("versionchange",It=>Ht(It.oldVersion,It.newVersion,It))}).catch(()=>{}),Tn}const He=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Le=new Map;function Ne(we,Ge){var qe;if(!(we instanceof IDBDatabase)||Ge in we||"string"!=typeof Ge)return;if(Le.get(Ge))return Le.get(Ge);const ct=Ge.replace(/FromIndex$/,""),Ht=Ge!==ct,Tt=Ze.includes(ct);if(!(ct in(Ht?IDBIndex:IDBObjectStore).prototype)||!Tt&&!He.includes(ct))return;const Rt=function(_n){return(qe=qe||(0,b.Z)(function*(It,...me){const Te=this.transaction(It,Tt?"readwrite":"readonly");let Pe=Te.store;return Ht&&(Pe=Pe.index(me.shift())),(yield Promise.all([Pe[ct](...me),Tt&&Te.done]))[0]})).apply(this,arguments)};return Le.set(Ge,Rt),Rt}!function je(we){Re=we(Re)}(we=>({...we,get:(Ge,qe,ct)=>Ne(Ge,qe)||we.get(Ge,qe,ct),has:(Ge,qe)=>!!Ne(Ge,qe)||we.has(Ge,qe)}))},5861:(vn,pt,Z)=>{"use strict";function b(Ye,_e,ke,Ve,L,De,ze){try{var pe=Ye[De](ze),de=pe.value}catch(ve){return void ke(ve)}pe.done?_e(de):Promise.resolve(de).then(Ve,L)}function E(Ye){return function(){var _e=this,ke=arguments;return new Promise(function(Ve,L){var De=Ye.apply(_e,ke);function ze(de){b(De,Ve,L,ze,pe,"next",de)}function pe(de){b(De,Ve,L,ze,pe,"throw",de)}ze(void 0)})}}Z.d(pt,{Z:()=>E})},7582:(vn,pt,Z)=>{"use strict";function _e(me,Te){var Pe={};for(var Me in me)Object.prototype.hasOwnProperty.call(me,Me)&&Te.indexOf(Me)<0&&(Pe[Me]=me[Me]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Me=Object.getOwnPropertySymbols(me);nt<Me.length;nt++)Te.indexOf(Me[nt])<0&&Object.prototype.propertyIsEnumerable.call(me,Me[nt])&&(Pe[Me[nt]]=me[Me[nt]])}return Pe}function ke(me,Te,Pe,Me){var Qt,nt=arguments.length,tt=nt<3?Te:null===Me?Me=Object.getOwnPropertyDescriptor(Te,Pe):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(me,Te,Pe,Me);else for(var ln=me.length-1;ln>=0;ln--)(Qt=me[ln])&&(tt=(nt<3?Qt(tt):nt>3?Qt(Te,Pe,tt):Qt(Te,Pe))||tt);return nt>3&&tt&&Object.defineProperty(Te,Pe,tt),tt}function ve(me,Te,Pe,Me){return new(Pe||(Pe=Promise))(function(tt,Qt){function ln(Mn){try{it(Me.next(Mn))}catch(Jn){Qt(Jn)}}function tn(Mn){try{it(Me.throw(Mn))}catch(Jn){Qt(Jn)}}function it(Mn){Mn.done?tt(Mn.value):function nt(tt){return tt instanceof Pe?tt:new Pe(function(Qt){Qt(tt)})}(Mn.value).then(ln,tn)}it((Me=Me.apply(me,Te||[])).next())})}function et(me){return this instanceof et?(this.v=me,this):new et(me)}function He(me,Te,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Me=Pe.apply(me,Te||[]),tt=[];return nt={},Qt("next"),Qt("throw"),Qt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function Qt(en){Me[en]&&(nt[en]=function(mt){return new Promise(function(Ke,$e){tt.push([en,mt,Ke,$e])>1||ln(en,mt)})})}function ln(en,mt){try{!function tn(en){en.value instanceof et?Promise.resolve(en.value.v).then(it,Mn):Jn(tt[0][2],en)}(Me[en](mt))}catch(Ke){Jn(tt[0][3],Ke)}}function it(en){ln("next",en)}function Mn(en){ln("throw",en)}function Jn(en,mt){en(mt),tt.shift(),tt.length&&ln(tt[0][0],tt[0][1])}}function Le(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Te=me[Symbol.asyncIterator];return Te?Te.call(me):(me=function at(me){var Te="function"==typeof Symbol&&Symbol.iterator,Pe=Te&&me[Te],Me=0;if(Pe)return Pe.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Me>=me.length&&(me=void 0),{value:me&&me[Me++],done:!me}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Pe={},Me("next"),Me("throw"),Me("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Me(tt){Pe[tt]=me[tt]&&function(Qt){return new Promise(function(ln,tn){!function nt(tt,Qt,ln,tn){Promise.resolve(tn).then(function(it){tt({value:it,done:ln})},Qt)}(ln,tn,(Qt=me[tt](Qt)).done,Qt.value)})}}}Z.d(pt,{FC:()=>He,KL:()=>Le,_T:()=>_e,gn:()=>ke,mG:()=>ve,qq:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},vn=>{vn(vn.s=2705)}]);