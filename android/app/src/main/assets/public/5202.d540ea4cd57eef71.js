"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5202],{5202:(b,p,a)=>{a.r(p),a.d(p,{ConnexionPageModule:()=>M});var d=a(6814),r=a(95),l=a(1509),g=a(9599),n=a(6689),m=a(5861),u=a(1043),h=a(5592);let x=(()=>{var o;class i{constructor(){}checkIfUserIsRegistered(e,s){return(0,m.Z)(function*(){try{const t=(0,u.ad)();console.log(e);const Z=(0,u.JU)(t,"inscriptions",e),f=(yield(0,u.QT)(Z)).exists();return console.log(`L'utilisateur avec l'e-mail ${e} est enregistr\xe9 : ${f}`),f}catch(t){return console.error("Erreur lors de la v\xe9rification de l'utilisateur :",t),!1}})()}connection(e,s){return new h.y(t=>{"utilisateur@test.com"===e&&"motdepasse"===s?(t.next({idToken:"jeton_d_authentification"}),t.complete()):t.error("Erreur d'authentification")})}}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),i})();function v(o,i){if(1&o&&(n.TgZ(0,"div",16),n._uU(1),n.qZA()),2&o){const c=n.oxw();n.xp6(1),n.Oqu(c.errorMessage)}}const C=[{path:"",component:(()=>{var o;class i{constructor(e,s,t){this.fb=e,this.connectionService=s,this.router=t,this.errorMessage=null,this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],mdp:["",r.kI.required]})}onLogin(){if(this.loginForm.valid){const e=this.loginForm.value;this.connectionService.checkIfUserIsRegistered(e.email,e.password).then(s=>{s?this.connectionService.connection(e.email,e.mdp).subscribe(t=>{t.idToken?(this.router.navigate(["/accueil"]),console.log(s)):this.errorMessage="Erreur d'authentification. V\xe9rifiez vos informations de connexion."},t=>{this.errorMessage="Erreur de requ\xeate."}):this.errorMessage="Vous n'\xeates pas inscrit. Veuillez vous inscrire d'abord."})}}ngOnInit(){}}return(o=i).\u0275fac=function(e){return new(e||o)(n.Y36(r.qu),n.Y36(x),n.Y36(g.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-connexion"]],decls:31,vars:4,consts:[[1,"container"],[1,"logo"],["src","../assets/icon/logos.png","alt",""],[1,"formcontainer"],[3,"formGroup","ngSubmit"],["type","email","placeholder","Entrer votre email","name","email","formControlName","email",1,"ipt"],["type","password","placeholder","Entrer votre mot de passe","name","mdp","formControlName","mdp",1,"ipt"],["routerLink","../new"],["class","error-message",4,"ngIf"],[1,"foot"],[1,"icon"],[1,"carrer"],["src","../../assets/icon/facebook-f-logo-white-background-21.jpg","alt","",1,"logo2"],["src","../../assets/icon/13948549-logo-google-sur-fond-blanc-transparent-gratuit-vectoriel.jpg","alt","",1,"logo2"],["name","logo-apple"],["routerLink","../inscrire"],[1,"error-message"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"img",2),n.qZA(),n.TgZ(3,"h1"),n._uU(4,"Heureux de vous revoir!"),n.qZA(),n.TgZ(5,"div",3)(6,"form",4),n.NdJ("ngSubmit",function(){return s.onLogin()}),n._UZ(7,"input",5)(8,"input",6)(9,"br"),n.TgZ(10,"a",7)(11,"p"),n._uU(12,"Mot de passe oubli\xe9?"),n.qZA()(),n.TgZ(13,"button"),n._uU(14,"Se connecter"),n.qZA()(),n.YNc(15,v,2,1,"div",8),n.qZA(),n.TgZ(16,"footer",9)(17,"h3"),n._uU(18,"Se connecter avec"),n.qZA(),n.TgZ(19,"div",10)(20,"div",11),n._UZ(21,"img",12),n.qZA(),n.TgZ(22,"div",11),n._UZ(23,"img",13),n.qZA(),n.TgZ(24,"div",11),n._UZ(25,"ion-icon",14),n.qZA()(),n.TgZ(26,"h4"),n._uU(27,"Vous n'avez pas de compte ? "),n.TgZ(28,"a",15)(29,"span"),n._uU(30,"Inscrivez-vous"),n.qZA()()()()()),2&e&&(n.xp6(6),n.Q6J("formGroup",s.loginForm),n.xp6(9),n.Q6J("ngIf",s.errorMessage),n.xp6(10),n.Udp("font-size",30))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,l.gu,l.Fo,g.rH,r.sg,r.u],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}h1[_ngcontent-%COMP%]{color:#2c6632;text-align:center;font-family:Times New Roman;font-size:35px;font-style:normal;font-weight:400;line-height:normal;margin-top:35px}.logo2[_ngcontent-%COMP%]{width:40px;height:30px}.formcontainer[_ngcontent-%COMP%]{margin-top:60px;width:400px;height:380px;flex-shrink:0;background:rgba(253,255,253,.33)}h2[_ngcontent-%COMP%]{color:#48a251;font-size:40px;font-weight:700}.ipt[_ngcontent-%COMP%]{width:80%;height:50px;margin-bottom:20px;border-radius:20PX;margin-top:20px;background-color:#7f747410}p[_ngcontent-%COMP%]{margin-left:50%}button[_ngcontent-%COMP%]{margin-top:20px;width:50%;height:50px;border-radius:10px;font-weight:700;color:#fff;background-color:#2c6632}h3[_ngcontent-%COMP%]{font-weight:700;color:#000;position:absolute;LEFT:50%;width:59%;margin:auto;background:#fff;transform:translate(-50%,-50%)}h4[_ngcontent-%COMP%]{font-weight:700}span[_ngcontent-%COMP%]{color:#48a251}.icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px;margin-bottom:10px}.logo[_ngcontent-%COMP%]{width:120px;margin-left:35%;margin-top:30px}.foot[_ngcontent-%COMP%]{border-top:1px solid;padding:0}.carrer[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:105px;height:56px;padding:15px 0;justify-content:center;align-items:center;flex-shrink:0;border-radius:8px;border:1px solid #DADADA}p[_ngcontent-%COMP%]{margin-left:9%}"]}),i})()}];let P=(()=>{var o;class i{}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.Bz.forChild(C),g.Bz]}),i})(),M=(()=>{var o;class i{}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[d.ez,r.u5,l.Pc,P,r.UX]}),i})()}}]);